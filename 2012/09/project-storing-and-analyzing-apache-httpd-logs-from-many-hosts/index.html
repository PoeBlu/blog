<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml">
<head>
    <title>Project - Storing and Analyzing Apache httpd Logs from Many Hosts</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Open Graph tags -->

    <!-- Bootstrap -->
        <link rel="stylesheet" href="http://blog.jasonantman.com/theme/css/bootstrap.flatly.min.css" type="text/css"/>
    <link href="http://blog.jasonantman.com/theme/css/font-awesome.min.css" rel="stylesheet">
    <link href="http://blog.jasonantman.com/theme/css/pygments.css" rel="stylesheet">
        <link href="http://blog.jasonantman.com/theme/css/typogrify.css" rel="stylesheet">
    <link rel="stylesheet" href="http://blog.jasonantman.com/theme/css/style.css" type="text/css"/>
    <!-- JavaScript plugins (requires jQuery) -->
    <script src="http://code.jquery.com/jquery.js"></script>

    <link rel="stylesheet" href="http://blog.jasonantman.com/theme/css/forkongithub.min.css" type="text/css" />

        <link href="http://blog.jasonantman.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Jason Antman's Blog ATOM Feed"/>
        <link href="http://blog.jasonantman.com/feeds/all.rss.xml" type="application/atom+xml" rel="alternate"
              title="Jason Antman's Blog RSS Feed"/>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2718127-2', 'jasonantman.com');
  ga('send', 'pageview');

</script>
</head>
<body>
<span id="forkongithub"><a href="https://github.com/jantman/blog">Fork me on GitHub</a></span><nav class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://blog.jasonantman.com" class="navbar-brand">Jason Antman's Blog</a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="http://blog.jasonantman.com/pages/about.html">
                             About
                          </a></li>
                        <li >
                            <a href="http://blog.jasonantman.com/categories/ideas-and-rants/index.html">Ideas and rants</a>
                        </li>
                        <li >
                            <a href="http://blog.jasonantman.com/categories/miscellaneous/index.html">Miscellaneous</a>
                        </li>
                        <li >
                            <a href="http://blog.jasonantman.com/categories/monitoring/index.html">Monitoring</a>
                        </li>
                        <li >
                            <a href="http://blog.jasonantman.com/categories/ops/index.html">Ops</a>
                        </li>
                        <li class="active">
                            <a href="http://blog.jasonantman.com/categories/projects/index.html">Projects</a>
                        </li>
                        <li >
                            <a href="http://blog.jasonantman.com/categories/puppet/index.html">Puppet</a>
                        </li>
                        <li >
                            <a href="http://blog.jasonantman.com/categories/tech-howtos/index.html">Tech howtos</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="http://blog.jasonantman.com/archives.html"><i class="icon-th-list"></i>Archives</a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</nav>
<!-- /.navbar -->
<div class="container">
    <div class="row">
        <div class="col-lg-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="http://blog.jasonantman.com/2012/09/project-storing-and-analyzing-apache-httpd-logs-from-many-hosts/"
                       rel="bookmark"
                       title="Permalink to Project - Storing and Analyzing Apache httpd Logs from Many Hosts">
                        Project - Storing and Analyzing Apache httpd Logs from Many&nbsp;Hosts
                    </a>
                </h1>
<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="j_antman">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="icon-calendar"></i>Thu 06 September 2012
    </span>



</footer><!-- /.post-info -->                    </div>
                </div>
                <p>I&#8217;ve recently started casual work on a side-project to collect, store,
and analyze apache logs from a bunch of servers - for the initial
implementation, I&#8217;m looking to handle about 15M access_log lines per
day (that works out to 173 lines/second assuming an even distribution,
which there certainly isn&#8217;t). Here is a selection of links that I&#8217;ve
been using for ideas and inspiration, both for the technical side (data
collection, transport, storage and analysis) and&nbsp;visualization:</p>
<ul>
<li><a href="http://oss.oetiker.ch/rrdtool/gallery/index.en.html">RRDtool - RRDtool
    Gallery</a> - I&#8217;m
    starting a graphing/log analysis project, and looked here for some
    inspiration for my proof-of-concept&nbsp;code</li>
<li><a href="http://aplawrence.com/Girish/gv-rrdtool.html">Creating pretty graphs with
    <span class="caps">RRDTOOL</span></a> from <a href="">Girish
    Venkatachalam</a>.</li>
<li>There&#8217;s some good information on RRDtool&#8217;s &#8220;Abberant Behavior
    Detection&#8221; (Holt-Winters prediction, deviation and failure
    detection) on the
    <a href="http://oss.oetiker.ch/rrdtool/doc/rrdtool.en.html">rrdtool</a>,
    <a href="http://oss.oetiker.ch/rrdtool/doc/rrdgraph_examples.en.html">rrdgraph_examples</a>
    and <a href="http://oss.oetiker.ch/rrdtool/doc/rrdcreate.en.html">rrdcreate</a>
    documentation pages, but unfortunately no anchors to link directly&nbsp;to.</li>
<li><a href="http://square.github.com/cube/">Cube</a> - &#8220;Cube is a system for
    collecting timestamped events and deriving metrics. By collecting
    events rather than metrics, Cube lets you compute aggregate
    statistics post hoc. It also enables richer analysis, such as
    quantiles and histograms of arbitrary event sets. Cube is built on
    MongoDB and available under the Apache License on&nbsp;GitHub.&#8221;</li>
<li><a href="http://square.github.com/cubism/">Cubism.js</a> - &#8220;Cubism.js is a D3
    plugin for visualizing time series. Use Cubism to construct better
    realtime dashboards, pulling data from Graphite, Cube and other
    sources. Cubism is available under the Apache License on GitHub.&#8221;
    The demo on that page looks pretty&nbsp;cool.</li>
<li><a href="http://www.highcharts.com/demo/">Highcharts Demo Gallery</a> - <span class="caps">JS</span>
    chart/graph library. It requires a paid license for commercial use
    (though it&#8217;s a bit unclear to me whether an internal ops dashboard
    would fall under this license provision) so I probably wouldn&#8217;t go
    with this one. They have some cool charts, including a <a href="http://www.highcharts.com/demo/dynamic-update/gray">dynamic line
    chart updating every
    second</a>, a
    <a href="http://www.highcharts.com/demo/scatter/gray">scatter plot</a> and a
    nice <a href="http://www.highcharts.com/demo/line-time-series/gray">zoomable time-series
    graph</a>, though
    <span class="caps">IMHO</span> it&#8217;s not as nice as the Google Chart Tools (formerly Google
    Visualization) <a href="https://developers.google.com/chart/interactive/docs/gallery/annotatedtimeline">annotated
    timeline</a>.</li>
<li><a href="http://forums.cacti.net/viewtopic.php?t=29963">[ <span class="caps">HOWTO</span> ] Graphing Holt-Winters Predictive
    Analysis</a> - Cacti&nbsp;forums</li>
<li><a href="http://dygraphs.com/">dygraphs</a> - an impressive permissive-license
    <span class="caps">JS</span> chart library dedicated to visualizing dense time-series data.
    Developed by Google and now used by them (Google Correlate, Google
    Latitude) as well as <span class="caps">NASA</span>, 10gen and others. There are some very
    cool demos on that main page, and also on the <a href="http://dygraphs.com/tests/">tests
    page</a>.</li>
<li><a href="http://www.planetdevops.net/?p=12289">Graphite, JMXTrans, Ganglia, Logster, Collectd, say what ? « Planet&nbsp;DevOps</a></li>
<li><a href="http://auxesis.github.com/visage/">Visage</a></li>
<li><a href="https://github.com/kgorman/mongo_graph">kgorman/mongo_graph</a> - a
    tool to pull data from MongoDB and put it in <span class="caps">RRD</span>&nbsp;files</li>
<li><a href="http://web.taranis.org/drraw/">drraw</a> - a perl-based graphing
    frontend (web <span class="caps">UI</span>) for&nbsp;RRDtool</li>
<li><a href="https://github.com/etsy/logster">etsy/logster · GitHub</a> - Etsy&#8217;s
    Python tool to maintain a pointer on a log file, and parse at a
    regular rate feeding the data into a tool like Graphite or&nbsp;Ganglia.</li>
<li><a href="https://github.com/cebailey59/charcoal">cebailey59/charcoal</a> - a
    Sinatra app that allows creation of dashboards from Graphite,
    collectd, or any other service that creates images from <span class="caps">URL</span>&nbsp;calls.</li>
<li><a href="https://github.com/etsy/dashboard">etsy/dashboard</a> - some examples
    of how Etsy builds monitoring&nbsp;dashboards.</li>
<li><a href="http://www.devco.net/archives/2011/10/08/gdash-graphite-dashboard.php">GDash – Graphite Dashboard |
    <span class="caps">R.I.</span>Pienaar</a><ul>
<li>a Sinatra dashboard app for Graphite, using Twitter bootstrap for&nbsp;visualization.</li>
</ul>
</li>
<li><a href="https://github.com/paperlesspost/graphiti">paperlesspost/graphiti</a><ul>
<li>a Ruby and JavaScript front-end for&nbsp;Graphite.</li>
</ul>
</li>
<li><a href="http://graphite.wikidot.com/screen-shots">Graphite Screenshots</a> -
    just two, but they get the idea across pretty&nbsp;well.</li>
<li><a href="http://graylog2.org/">Graylog2</a> - a centralized log management
    application with a powerful web interface. Stores logs in
    <a href="http://www.elasticsearch.org/">ElasticSearch</a> (which is built on
    Lucene, a Java-based index and search server) and statistics/graphs
    in MongoDB. It does analytics, alerting, monitoring/graphing and
    searching all through a web interface, and accepts log data via
    syslog, <span class="caps">AMQP</span> and <span class="caps">GELF</span> (its own log format). Java server and Ruby on
    Rails web&nbsp;<span class="caps">UI</span>.</li>
<li><a href="http://logstash.net/">Logstash</a> - another centralized log project
    that stores and indexes logs, with search via a web <span class="caps">UI</span>. &#8220;Ship any
    event to anywhere over any protocol.&#8221; Takes many inputs including
    files, syslog, <span class="caps">AMQP</span>, Flume, <span class="caps">STOMP</span>, <span class="caps">HTTP</span> and even twitter, performs a
    number of filters including timestamp checks, parsing, dropping,
    joins, etc, and then sends logs back on an output including <span class="caps">AMQP</span>,
    Graylog2 <span class="caps">GELF</span>, <span class="caps">STOMP</span>, MongoDB, ElasticSearch, syslog, WebSockets and
    to Nagios. One particularly cool feature is its &#8220;file&#8221; input, which
    continuously tails a file and claims to be log rotation safe. Just&nbsp;cool.</li>
<li><a href="https://docs.google.com/present/view?id=dcmwwd94_16dfdxgpw8">jordansissel&#8217;s Logstash intro
    slides</a>.</li>
<li><a href="http://rashidkpc.github.com/Kibana/">Kibana</a> - an alternative
    interface for Logstash and
    <a href="http://www.elasticsearch.org/">ElasticSearch</a> that allows
    searching, graphing and analysis of log data stored in&nbsp;Logstash.</li>
<li><a href="http://pivotallabs.com/talks/139-metrics-metrics-everywhere">Pivotal Labs: Talks - Metrics Metrics
    Everywhere</a>
    (Coda&nbsp;Hale)</li>
<li><a href="http://aq.iriscouch.com/swinger/_design/swinger/index.html#/preso/aq-mdd/display/1">PaperlessPost - @quirkey&#8217;s talk on
    metrics</a><ul>
<li>very good high level stuff, but slides&nbsp;only</li>
</ul>
</li>
<li><a href="https://github.com/paperlesspost/graphiti">paperlesspost/graphiti</a><ul>
<li>graphiti, a <span class="caps">JS</span>/Ruby frontend for Graphite that does graphs,
dashboards, and point-in-time snapshots of graphs. Lots of&nbsp;functionality.</li>
</ul>
</li>
<li><a href="http://redis.io/">Redis</a> - a distributed key/value store that&#8217;s
    really popular with the cool kids. <a href="http://nosql.mypopescu.com/post/8652869828/another-redis-use-case-centralized-logging">Another Redis Use Case:
    Centralized Logging •&nbsp;myNoSQL</a></li>
<li><a href="https://github.com/cebailey59/charcoal">Charcoal</a> - a
    <a href="http://www.sinatrarb.com/">Sinatra</a> (Ruby) dashboard app (ready for
    use on <a href="http://www.heroku.com/">Heroku</a> but usable anywhere).
    Graphite-oriented but will work with any tool that generates images
    from&nbsp;URLs.</li>
<li><a href="https://github.com/etsy/logster">etsy/logster</a> - etsy&#8217;s Logster
    tool, which keeps a tail on log files, parses them, and ships
    metrics to Graphite or&nbsp;Ganglia.</li>
</ul>
            </div>
            <!-- /.entry-content -->
    <hr />
    <section class="comments" id="comments">
        <h2>Comments</h2>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'jantman'; // required: replace example with your forum shortname
            var disqus_identifier = 'project-storing-and-analyzing-apache-httpd-logs-from-many-hosts';
            var disqus_url = 'http://blog.jasonantman.com/2012/09/project-storing-and-analyzing-apache-httpd-logs-from-many-hosts/';

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-lg-3 well well-sm" id="sidebar">

<aside>
    <section>
        <ul class="list-group list-group-flush">

                <li class="list-group-item"><h4><i class="icon-home icon-large"></i>Recent Posts</h4></li>
                        <li class="list-group-item">
                            <a href="http://blog.jasonantman.com/2017/03/vyos-on-alix-2c1-single-board-computer/">
                                VyOS on Alix 2C1 Single Board&nbsp;Computer
                            </a>
                        </li>
                        <li class="list-group-item">
                            <a href="http://blog.jasonantman.com/2016/10/yesterdays-widespread-internet-outage-for-non-geeks/">
                                Yesterday&#8217;s Widespread Internet Outage, for&nbsp;non-geeks
                            </a>
                        </li>
                        <li class="list-group-item">
                            <a href="http://blog.jasonantman.com/2016/08/openssh-changing-hostnames-based-on-location/">
                                OpenSSH changing hostnames based on&nbsp;location
                            </a>
                        </li>
                        <li class="list-group-item">
                            <a href="http://blog.jasonantman.com/2016/08/the-psychological-side-of-remote-work/">
                                The Psychological Side of Remote&nbsp;Work
                            </a>
                        </li>
                        <li class="list-group-item">
                            <a href="http://blog.jasonantman.com/2016/08/tooling-for-aws-webhooks-to-sqs-via-api-gateway-and-lambda/">
                                Tooling for <span class="caps">AWS</span> - webhooks to <span class="caps">SQS</span> via <span class="caps">API</span> Gateway and&nbsp;Lambda
                            </a>
                        </li>


                <li class="list-group-item"><a href="http://blog.jasonantman.com/tags.html"><h4><i class="icon-tags icon-large"></i>Tags</h4></a></li>
                <li class="list-group-item">
                        <span class="tag-0">
                            <a href="http://blog.jasonantman.com/tags/linux/index.html">
                                linux
                            </a>
                        </span>
                        <span class="tag-1">
                            <a href="http://blog.jasonantman.com/tags/blog/index.html">
                                blog
                            </a>
                        </span>
                        <span class="tag-1">
                            <a href="http://blog.jasonantman.com/tags/google/index.html">
                                google
                            </a>
                        </span>
                        <span class="tag-1">
                            <a href="http://blog.jasonantman.com/tags/nagios/index.html">
                                Nagios
                            </a>
                        </span>
                        <span class="tag-1">
                            <a href="http://blog.jasonantman.com/tags/sysadmin/index.html">
                                sysadmin
                            </a>
                        </span>
                        <span class="tag-1">
                            <a href="http://blog.jasonantman.com/tags/monitoring/index.html">
                                monitoring
                            </a>
                        </span>
                        <span class="tag-1">
                            <a href="http://blog.jasonantman.com/tags/puppet/index.html">
                                puppet
                            </a>
                        </span>
                        <span class="tag-1">
                            <a href="http://blog.jasonantman.com/tags/security/index.html">
                                security
                            </a>
                        </span>
                        <span class="tag-1">
                            <a href="http://blog.jasonantman.com/tags/python/index.html">
                                python
                            </a>
                        </span>
                        <span class="tag-1">
                            <a href="http://blog.jasonantman.com/tags/android/index.html">
                                android
                            </a>
                        </span>
                        <span class="tag-1">
                            <a href="http://blog.jasonantman.com/tags/php/index.html">
                                PHP
                            </a>
                        </span>
                        <span class="tag-1">
                            <a href="http://blog.jasonantman.com/tags/sun/index.html">
                                sun
                            </a>
                        </span>
                        <span class="tag-1">
                            <a href="http://blog.jasonantman.com/tags/wordpress/index.html">
                                wordpress
                            </a>
                        </span>
                        <span class="tag-1">
                            <a href="http://blog.jasonantman.com/tags/microsoft/index.html">
                                microsoft
                            </a>
                        </span>
                        <span class="tag-2">
                            <a href="http://blog.jasonantman.com/tags/rpm/index.html">
                                rpm
                            </a>
                        </span>
                        <span class="tag-2">
                            <a href="http://blog.jasonantman.com/tags/apache/index.html">
                                apache
                            </a>
                        </span>
                        <span class="tag-2">
                            <a href="http://blog.jasonantman.com/tags/firefox/index.html">
                                firefox
                            </a>
                        </span>
                        <span class="tag-2">
                            <a href="http://blog.jasonantman.com/tags/dns/index.html">
                                DNS
                            </a>
                        </span>
                        <span class="tag-2">
                            <a href="http://blog.jasonantman.com/tags/syslog/index.html">
                                syslog
                            </a>
                        </span>
                        <span class="tag-2">
                            <a href="http://blog.jasonantman.com/tags/droid/index.html">
                                droid
                            </a>
                        </span>
                </li>
        </ul>
    </section>
    <section>
    <ul class="list-group list-group-flush">
    <li class="list-group-item" style="padding: 10px 15px 0px 15px;"><h4><i class="icon-twitter
    icon-large"></i>Twitter <a href="https://twitter.com/j_antman"
    class="twitter-follow-button" data-show-count="false"
    data-dnt="true">Follow @j_antman</a></h4>
<script>!function(d,s,id){var
  js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document,
  'script', 'twitter-wjs');</script></li>
    </ul>
    <a class="twitter-timeline" data-dnt="true"
    href="https://twitter.com/j_antman"
    data-chrome="transparent noheader" data-widget-id="429640274453594113">Tweets by @j_antman</a>
    <script>!function(d,s,id){var
    js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
    </section>
    <section>
    <ul class="list-group list-group-flush">
    <li class="list-group-item"><h4><i class="icon-github icon-large"></i>GitHub Repos</h4></li>
        <div id="gh_repos">
            <p class="list-group-item">Status updating...</p>
        </div>
            <a href="https://github.com/jantman">@jantman</a> on GitHub
    </ul>
        <script type="text/javascript">
            $(document).ready(function () {
                if (!window.jXHR) {
                    var jxhr = document.createElement('script');
                    jxhr.type = 'text/javascript';
                    jxhr.src = 'http://blog.jasonantman.com/theme/js/jXHR.js';
                    var s = document.getElementsByTagName('script')[0];
                    s.parentNode.insertBefore(jxhr, s);
                }

                github.showRepos({
                    user: 'jantman',
                    count: 5,
                    skip_forks: false,
                    target: '#gh_repos'
                });
            });
        </script>
        <script src="http://blog.jasonantman.com/theme/js/github.js" type="text/javascript"></script>
    </section>
</aside>        </div>
    </div>
</div>
<footer>
    <div class="container">
        <hr>
        <p class="pull-right"><i class="icon-arrow-up"></i> <a href="#">Back to top</a></p>


        <p>&copy; 2017 Jason Antman &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a></p>
    </div>
</footer>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://blog.jasonantman.com/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://blog.jasonantman.com/theme/js/respond.min.js"></script>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'jantman'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>


</body>
</html>