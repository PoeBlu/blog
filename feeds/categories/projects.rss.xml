<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Jason Antman's Blog</title><link>http://blog.jasonantman.com/</link><description></description><atom:link href="http://blog.jasonantman.com/feeds/categories/projects.rss.xml" rel="self"></atom:link><lastBuildDate>Sat, 25 Jul 2015 08:35:00 -0400</lastBuildDate><item><title>AwsLimitChecker - Check Your AWS Usage Against Service Limits</title><link>http://blog.jasonantman.com/2015/07/awslimitchecker-check-your-aws-usage-against-service-limits/</link><description>&lt;p&gt;Over the past year or so, at my day job, we&amp;#8217;ve been leveraging &lt;span class="caps"&gt;AWS&lt;/span&gt; more and more, specifically
&lt;a href="https://aws.amazon.com/cloudformation/"&gt;CloudFormation&lt;/a&gt; to manage complete application stacks. One
side-effect of this is that we went through a few periods where we were constantly hitting various
&lt;span class="caps"&gt;AWS&lt;/span&gt; Service Limits - subnet groups, ElastiCache clusters, security groups, and a whole slew of others.
In pretty much all these cases, we weren&amp;#8217;t &lt;em&gt;really&lt;/em&gt; aware of the limits; we (the Tooling and
Automation team) had succeeded in our goal of handing our internal customers the tools to spin up
complete application environments, per-developer, on-demand. And it was wonderful until we hit some
magic number of CloudFormation stacks, at which point almost every day for a week or two we had to
open a new &lt;span class="caps"&gt;AWS&lt;/span&gt; Support ticket to have a different limit increased, and deal with completely broken
deploys until that was done (or send out a frantic &amp;#8220;someone please delete a dev stack&amp;#8221;&amp;nbsp;email).&lt;/p&gt;
&lt;p&gt;Early last month we decided that we had to do something about this. As much as I tried, I couldn&amp;#8217;t
find an existing solution that would monitor our limits and alert us when we approached them; there
were some open source scripts that would do so for a handful of limits (generally just &lt;span class="caps"&gt;EC2&lt;/span&gt; usage),
and the proprietary solutions that I was able to find didn&amp;#8217;t seem much better; none of them stated
that they handle &lt;span class="caps"&gt;VPC&lt;/span&gt; or ElastiCache limits, which had been problematic for us. &lt;span class="caps"&gt;AWS&lt;/span&gt;&amp;#8217;s own
&lt;a href="https://aws.amazon.com/premiumsupport/trustedadvisor/"&gt;Trusted Advisor&lt;/a&gt; has a Service Limits
check available to Business- and Enterprise-level support accounts, but it only monitors 17 of the
94 Service Limits that we identified as relevant to us, and it sends out &lt;em&gt;weekly&lt;/em&gt; alerts. So,
I decided to write something to solve the problem. My co-workers and I have been trying to get
corporate legal approval to release our work publicly under an &lt;span class="caps"&gt;OSI&lt;/span&gt;-approved license for years,
to no avail. I asked my team if they&amp;#8217;d support waiting a while for this work, so I could do it
entirely in my own time, publicly, under an open source license. Happily, they&amp;nbsp;agreed.&lt;/p&gt;
&lt;p&gt;Today I&amp;#8217;m making the first release of &lt;a href="https://github.com/jantman/awslimitchecker"&gt;awslimitchecker&lt;/a&gt;,
an &lt;span class="caps"&gt;AGPL&lt;/span&gt; 3.0-licensed Python tool to calculate your &lt;span class="caps"&gt;AWS&lt;/span&gt; resource usage for various services bound by
&lt;a href="http://awslimitchecker.readthedocs.org/en/latest/limits.html#current-checks"&gt;service limits&lt;/a&gt;, and tell you which ones exceed a given threshold (actually, warning and critical
thresholds). Effective limits are hard-coded to the &lt;a href="http://docs.aws.amazon.com/general/latest/gr/aws_service_limits.html"&gt;published defaults&lt;/a&gt;,
but can be overridden in cases where you&amp;#8217;ve received limit increases, and will be automatically updated
from Trusted Advisor data for all limits that it monitors (if your account includes the full &lt;span class="caps"&gt;TA&lt;/span&gt; checks).
awslimitchecker provides warning and critical thresholds that can be set globally as a percentage of the
limit (defaults are 80% and 99%, respectively) or overridden on a per-limit basis, as either a percentage
or a fixed integer usage&amp;nbsp;value.&lt;/p&gt;
&lt;p&gt;awslimitchecker is available &lt;a href="https://pypi.python.org/pypi/awslimitchecker/0.1.0"&gt;from pypi&lt;/a&gt;.
It is compatible and tested with Python versions 2.6 through 3.4, though the library it uses to communicate
with &lt;span class="caps"&gt;AWS&lt;/span&gt;, &lt;a href="http://boto.readthedocs.org/en/latest/"&gt;boto&lt;/a&gt;, still has a few &lt;span class="caps"&gt;AWS&lt;/span&gt; services which are not python3-compatible.
awslimitchecker includes both a Python module with a &lt;a href="http://awslimitchecker.readthedocs.org/en/latest/awslimitchecker.checker.html"&gt;documented &lt;span class="caps"&gt;API&lt;/span&gt;&lt;/a&gt; for those who
don&amp;#8217;t mind working with Python, and a command line script for those who&amp;nbsp;do.&lt;/p&gt;
&lt;p&gt;The project is still very young, and only being used by one organization, but it&amp;#8217;s proven
stable for us, and I&amp;#8217;m more than happy to accept questions, comments, criticisms,
&lt;a href="https://github.com/jantman/awslimitchecker/issues"&gt;issues/feature requests&lt;/a&gt; and Pull&amp;nbsp;Requests.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Jason Antman</dc:creator><pubDate>Sat, 25 Jul 2015 08:35:00 -0400</pubDate><guid>tag:blog.jasonantman.com,2015-07-25:2015/07/awslimitchecker-check-your-aws-usage-against-service-limits/</guid><category>aws</category><category>ec2</category><category>limits</category><category>python</category><category>awslimitchecker</category><category>cloud</category></item><item><title>Some Additional Serverspec Types</title><link>http://blog.jasonantman.com/2015/03/some-additional-serverspec-types/</link><description>&lt;p&gt;&lt;a href="http://serverspec.org/"&gt;Serverspec&lt;/a&gt; is an rspec-based framework for testing live machines,
and making assertions about things like the output of commands, installed packages, running
services, file content, etc. However, it has a relatively limited and basic set of
&lt;a href="http://serverspec.org/resource_types.html"&gt;Resource Types&lt;/a&gt; that it can test&amp;nbsp;for.&lt;/p&gt;
&lt;p&gt;Before Serverspec completely disabled their GitHub issue tracker (they now seem to have no
issue tracker at all), I&amp;#8217;d suggested some improvements for more advanced resource types,
such as one that can perform an &lt;span class="caps"&gt;HTTP&lt;/span&gt; &lt;span class="caps"&gt;GET&lt;/span&gt; against an application and check the status code
and/or output. I was told in no uncertain terms that this is a task for application integration
testing, and that it&amp;#8217;s &amp;#8220;not what Serverspec is&amp;nbsp;for.&amp;#8221;&lt;/p&gt;
&lt;p&gt;I humbly disagree. I&amp;#8217;ve begun migrating my &lt;a href="https://www.linode.com/"&gt;Linode&lt;/a&gt; to an &lt;span class="caps"&gt;EC2&lt;/span&gt; machine,
using some technology that I&amp;#8217;ve been using at my day job; specifically, Puppet to configure the
machine and &lt;a href="https://packer.io/"&gt;Packer&lt;/a&gt; to build an &lt;span class="caps"&gt;AMI&lt;/span&gt;. Instead of using &lt;a href="http://aws.amazon.com/cloudformation/"&gt;Cloudformation&lt;/a&gt;
to spin up an entire stack, I just use a Rakefile to spin up a new &lt;span class="caps"&gt;EC2&lt;/span&gt; instance, test it, and
swap an &lt;a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html"&gt;Elastic &lt;span class="caps"&gt;IP&lt;/span&gt;&lt;/a&gt;
if all the tests pass. Of course, this requires that I have relatively complete automated testing
of the &lt;span class="caps"&gt;EC2&lt;/span&gt; instance. Stock Serverspec can handle 95% of what I want to test, but there are a few
other, more complex, things that it can&amp;#8217;t. So, I wrote some code to fix&amp;nbsp;that.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ll admit right off the bat that this code doesn&amp;#8217;t really work the way Serverspec is intended to,
but it works and it&amp;#8217;s relatively simple. This largely breaks the abstraction of serverspec using
&lt;a href="https://github.com/serverspec/specinfra"&gt;specinfra&lt;/a&gt; under the hood, but I&amp;#8217;m not sure if that&amp;#8217;s even
a concern (since specinfra seems to be all about testing a running machine via some local command
execution mechanism, and two of the types that I wrote use network &lt;span class="caps"&gt;IO&lt;/span&gt;&amp;nbsp;instead).&lt;/p&gt;
&lt;p&gt;For the time being, I&amp;#8217;ve written three additional &lt;a href="http://www.rubydoc.info/gems/serverspec-extended-types/#Types"&gt;types&lt;/a&gt;
that solve some specific use cases for&amp;nbsp;me:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A &lt;a href="http://www.rubydoc.info/gems/serverspec-extended-types/#bitlbee"&gt;bitlbee&lt;/a&gt;
type that connects to a &lt;a href="http://www.bitlbee.org/"&gt;Bitlbee&lt;/a&gt; &lt;span class="caps"&gt;IRC&lt;/span&gt; gateway, authenticates,
and checks the running bitlbee version. It has matchers to check whether or not the connection and
authentication was successful, whether or not it timed out, and the bitlbee version. Parameters for
the type include login nick and password, bitlbee port, and whether or not to connect with&amp;nbsp;&lt;span class="caps"&gt;SSL&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;A &lt;a href="http://www.rubydoc.info/gems/serverspec-extended-types/#http_get"&gt;http_get&lt;/a&gt;
type which connects to the system under test (with a specified port) and issues a
&lt;span class="caps"&gt;HTTP&lt;/span&gt; &lt;span class="caps"&gt;GET&lt;/span&gt; request for a specified path, with a specified &lt;code&gt;Host&lt;/code&gt; header and a timeout (default
10 seconds). Matchers are provided for the response content body (string), response headers
(hash), &lt;span class="caps"&gt;HTTP&lt;/span&gt; status code, and whether or not the request timed out (which also sets a status of&amp;nbsp;0).&lt;/li&gt;
&lt;li&gt;A &lt;a href="http://www.rubydoc.info/gems/serverspec-extended-types/#virtualenv"&gt;virtualenv&lt;/a&gt; type for testing
python &lt;a href="https://virtualenv.pypa.io/en/latest/"&gt;virtualenv&lt;/a&gt;s. It takes the absolute path to the venv
on the filesystem, and uses serverspec&amp;#8217;s built-in file and command execution features to ensure that
the path &amp;#8220;looks like&amp;#8221; a virtualenv, and has matchers for the pip and python versions used in the venv
as well as the &lt;code&gt;pip freeze&lt;/code&gt; output as a hash of requirements and their&amp;nbsp;versions.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Hopefully this will be of use to someone else as well. As I continue using serverspec, I plan on
adding to the&amp;nbsp;types.&lt;/p&gt;
&lt;p&gt;The code for serverspec-extended-types is on &lt;a href="https://github.com/jantman/serverspec-extended-types/tree/master"&gt;GitHub&lt;/a&gt;
(pull requests and issues welcome) and it&amp;#8217;s packaged and hosted as a &lt;a href="https://rubygems.org/gems/serverspec-extended-types"&gt;ruby gem&lt;/a&gt;.
&lt;a href="http://www.rubydoc.info/gems/serverspec-extended-types/0.0.2#Installation"&gt;Installation&lt;/a&gt; and usage is as simple
as adding it to your Gemfile and &lt;a href="http://www.rubydoc.info/gems/serverspec-extended-types/0.0.2#Usage"&gt;spec_helper&lt;/a&gt;
and then using the types and matchers in your&amp;nbsp;specs.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Jason Antman</dc:creator><pubDate>Sat, 14 Mar 2015 11:58:00 -0400</pubDate><guid>tag:blog.jasonantman.com,2015-03-14:2015/03/some-additional-serverspec-types/</guid><category>serverspec</category><category>specinfra</category><category>testing</category><category>beaker</category><category>ruby</category><category>rspec</category><category>gem</category></item><item><title>Project - Storing and Analyzing Apache httpd Logs from Many Hosts</title><link>http://blog.jasonantman.com/2012/09/project-storing-and-analyzing-apache-httpd-logs-from-many-hosts/</link><description>&lt;p&gt;I&amp;#8217;ve recently started casual work on a side-project to collect, store,
and analyze apache logs from a bunch of servers - for the initial
implementation, I&amp;#8217;m looking to handle about 15M access_log lines per
day (that works out to 173 lines/second assuming an even distribution,
which there certainly isn&amp;#8217;t). Here is a selection of links that I&amp;#8217;ve
been using for ideas and inspiration, both for the technical side (data
collection, transport, storage and analysis) and&amp;nbsp;visualization:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://oss.oetiker.ch/rrdtool/gallery/index.en.html"&gt;RRDtool - RRDtool
    Gallery&lt;/a&gt; - I&amp;#8217;m
    starting a graphing/log analysis project, and looked here for some
    inspiration for my proof-of-concept&amp;nbsp;code&lt;/li&gt;
&lt;li&gt;&lt;a href="http://aplawrence.com/Girish/gv-rrdtool.html"&gt;Creating pretty graphs with
    &lt;span class="caps"&gt;RRDTOOL&lt;/span&gt;&lt;/a&gt; from &lt;a href=""&gt;Girish
    Venkatachalam&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;There&amp;#8217;s some good information on RRDtool&amp;#8217;s &amp;#8220;Abberant Behavior
    Detection&amp;#8221; (Holt-Winters prediction, deviation and failure
    detection) on the
    &lt;a href="http://oss.oetiker.ch/rrdtool/doc/rrdtool.en.html"&gt;rrdtool&lt;/a&gt;,
    &lt;a href="http://oss.oetiker.ch/rrdtool/doc/rrdgraph_examples.en.html"&gt;rrdgraph_examples&lt;/a&gt;
    and &lt;a href="http://oss.oetiker.ch/rrdtool/doc/rrdcreate.en.html"&gt;rrdcreate&lt;/a&gt;
    documentation pages, but unfortunately no anchors to link directly&amp;nbsp;to.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://square.github.com/cube/"&gt;Cube&lt;/a&gt; - &amp;#8220;Cube is a system for
    collecting timestamped events and deriving metrics. By collecting
    events rather than metrics, Cube lets you compute aggregate
    statistics post hoc. It also enables richer analysis, such as
    quantiles and histograms of arbitrary event sets. Cube is built on
    MongoDB and available under the Apache License on&amp;nbsp;GitHub.&amp;#8221;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://square.github.com/cubism/"&gt;Cubism.js&lt;/a&gt; - &amp;#8220;Cubism.js is a D3
    plugin for visualizing time series. Use Cubism to construct better
    realtime dashboards, pulling data from Graphite, Cube and other
    sources. Cubism is available under the Apache License on GitHub.&amp;#8221;
    The demo on that page looks pretty&amp;nbsp;cool.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.highcharts.com/demo/"&gt;Highcharts Demo Gallery&lt;/a&gt; - &lt;span class="caps"&gt;JS&lt;/span&gt;
    chart/graph library. It requires a paid license for commercial use
    (though it&amp;#8217;s a bit unclear to me whether an internal ops dashboard
    would fall under this license provision) so I probably wouldn&amp;#8217;t go
    with this one. They have some cool charts, including a &lt;a href="http://www.highcharts.com/demo/dynamic-update/gray"&gt;dynamic line
    chart updating every
    second&lt;/a&gt;, a
    &lt;a href="http://www.highcharts.com/demo/scatter/gray"&gt;scatter plot&lt;/a&gt; and a
    nice &lt;a href="http://www.highcharts.com/demo/line-time-series/gray"&gt;zoomable time-series
    graph&lt;/a&gt;, though
    &lt;span class="caps"&gt;IMHO&lt;/span&gt; it&amp;#8217;s not as nice as the Google Chart Tools (formerly Google
    Visualization) &lt;a href="https://developers.google.com/chart/interactive/docs/gallery/annotatedtimeline"&gt;annotated
    timeline&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://forums.cacti.net/viewtopic.php?t=29963"&gt;[ &lt;span class="caps"&gt;HOWTO&lt;/span&gt; ] Graphing Holt-Winters Predictive
    Analysis&lt;/a&gt; - Cacti&amp;nbsp;forums&lt;/li&gt;
&lt;li&gt;&lt;a href="http://dygraphs.com/"&gt;dygraphs&lt;/a&gt; - an impressive permissive-license
    &lt;span class="caps"&gt;JS&lt;/span&gt; chart library dedicated to visualizing dense time-series data.
    Developed by Google and now used by them (Google Correlate, Google
    Latitude) as well as &lt;span class="caps"&gt;NASA&lt;/span&gt;, 10gen and others. There are some very
    cool demos on that main page, and also on the &lt;a href="http://dygraphs.com/tests/"&gt;tests
    page&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.planetdevops.net/?p=12289"&gt;Graphite, JMXTrans, Ganglia, Logster, Collectd, say what ? « Planet&amp;nbsp;DevOps&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://auxesis.github.com/visage/"&gt;Visage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/kgorman/mongo_graph"&gt;kgorman/mongo_graph&lt;/a&gt; - a
    tool to pull data from MongoDB and put it in &lt;span class="caps"&gt;RRD&lt;/span&gt;&amp;nbsp;files&lt;/li&gt;
&lt;li&gt;&lt;a href="http://web.taranis.org/drraw/"&gt;drraw&lt;/a&gt; - a perl-based graphing
    frontend (web &lt;span class="caps"&gt;UI&lt;/span&gt;) for&amp;nbsp;RRDtool&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/etsy/logster"&gt;etsy/logster · GitHub&lt;/a&gt; - Etsy&amp;#8217;s
    Python tool to maintain a pointer on a log file, and parse at a
    regular rate feeding the data into a tool like Graphite or&amp;nbsp;Ganglia.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/cebailey59/charcoal"&gt;cebailey59/charcoal&lt;/a&gt; - a
    Sinatra app that allows creation of dashboards from Graphite,
    collectd, or any other service that creates images from &lt;span class="caps"&gt;URL&lt;/span&gt;&amp;nbsp;calls.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/etsy/dashboard"&gt;etsy/dashboard&lt;/a&gt; - some examples
    of how Etsy builds monitoring&amp;nbsp;dashboards.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.devco.net/archives/2011/10/08/gdash-graphite-dashboard.php"&gt;GDash – Graphite Dashboard |
    &lt;span class="caps"&gt;R.I.&lt;/span&gt;Pienaar&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;a Sinatra dashboard app for Graphite, using Twitter bootstrap for&amp;nbsp;visualization.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/paperlesspost/graphiti"&gt;paperlesspost/graphiti&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;a Ruby and JavaScript front-end for&amp;nbsp;Graphite.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="http://graphite.wikidot.com/screen-shots"&gt;Graphite Screenshots&lt;/a&gt; -
    just two, but they get the idea across pretty&amp;nbsp;well.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://graylog2.org/"&gt;Graylog2&lt;/a&gt; - a centralized log management
    application with a powerful web interface. Stores logs in
    &lt;a href="http://www.elasticsearch.org/"&gt;ElasticSearch&lt;/a&gt; (which is built on
    Lucene, a Java-based index and search server) and statistics/graphs
    in MongoDB. It does analytics, alerting, monitoring/graphing and
    searching all through a web interface, and accepts log data via
    syslog, &lt;span class="caps"&gt;AMQP&lt;/span&gt; and &lt;span class="caps"&gt;GELF&lt;/span&gt; (its own log format). Java server and Ruby on
    Rails web&amp;nbsp;&lt;span class="caps"&gt;UI&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://logstash.net/"&gt;Logstash&lt;/a&gt; - another centralized log project
    that stores and indexes logs, with search via a web &lt;span class="caps"&gt;UI&lt;/span&gt;. &amp;#8220;Ship any
    event to anywhere over any protocol.&amp;#8221; Takes many inputs including
    files, syslog, &lt;span class="caps"&gt;AMQP&lt;/span&gt;, Flume, &lt;span class="caps"&gt;STOMP&lt;/span&gt;, &lt;span class="caps"&gt;HTTP&lt;/span&gt; and even twitter, performs a
    number of filters including timestamp checks, parsing, dropping,
    joins, etc, and then sends logs back on an output including &lt;span class="caps"&gt;AMQP&lt;/span&gt;,
    Graylog2 &lt;span class="caps"&gt;GELF&lt;/span&gt;, &lt;span class="caps"&gt;STOMP&lt;/span&gt;, MongoDB, ElasticSearch, syslog, WebSockets and
    to Nagios. One particularly cool feature is its &amp;#8220;file&amp;#8221; input, which
    continuously tails a file and claims to be log rotation safe. Just&amp;nbsp;cool.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.google.com/present/view?id=dcmwwd94_16dfdxgpw8"&gt;jordansissel&amp;#8217;s Logstash intro
    slides&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://rashidkpc.github.com/Kibana/"&gt;Kibana&lt;/a&gt; - an alternative
    interface for Logstash and
    &lt;a href="http://www.elasticsearch.org/"&gt;ElasticSearch&lt;/a&gt; that allows
    searching, graphing and analysis of log data stored in&amp;nbsp;Logstash.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://pivotallabs.com/talks/139-metrics-metrics-everywhere"&gt;Pivotal Labs: Talks - Metrics Metrics
    Everywhere&lt;/a&gt;
    (Coda&amp;nbsp;Hale)&lt;/li&gt;
&lt;li&gt;&lt;a href="http://aq.iriscouch.com/swinger/_design/swinger/index.html#/preso/aq-mdd/display/1"&gt;PaperlessPost - @quirkey&amp;#8217;s talk on
    metrics&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;very good high level stuff, but slides&amp;nbsp;only&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/paperlesspost/graphiti"&gt;paperlesspost/graphiti&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;graphiti, a &lt;span class="caps"&gt;JS&lt;/span&gt;/Ruby frontend for Graphite that does graphs,
dashboards, and point-in-time snapshots of graphs. Lots of&amp;nbsp;functionality.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="http://redis.io/"&gt;Redis&lt;/a&gt; - a distributed key/value store that&amp;#8217;s
    really popular with the cool kids. &lt;a href="http://nosql.mypopescu.com/post/8652869828/another-redis-use-case-centralized-logging"&gt;Another Redis Use Case:
    Centralized Logging •&amp;nbsp;myNoSQL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/cebailey59/charcoal"&gt;Charcoal&lt;/a&gt; - a
    &lt;a href="http://www.sinatrarb.com/"&gt;Sinatra&lt;/a&gt; (Ruby) dashboard app (ready for
    use on &lt;a href="http://www.heroku.com/"&gt;Heroku&lt;/a&gt; but usable anywhere).
    Graphite-oriented but will work with any tool that generates images
    from&amp;nbsp;URLs.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/etsy/logster"&gt;etsy/logster&lt;/a&gt; - etsy&amp;#8217;s Logster
    tool, which keeps a tail on log files, parses them, and ships
    metrics to Graphite or&amp;nbsp;Ganglia.&lt;/li&gt;
&lt;/ul&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Thu, 06 Sep 2012 05:00:00 -0400</pubDate><guid>tag:blog.jasonantman.com,2012-09-06:2012/09/project-storing-and-analyzing-apache-httpd-logs-from-many-hosts/</guid></item><item><title>CVS to SVN to Git</title><link>http://blog.jasonantman.com/2012/03/cvs-to-svn-to-git/</link><description>&lt;p&gt;Thanks to some new interest, I&amp;#8217;ve decided to resurrect an old project of
mine, &lt;a href="http://www.php-ems-tools.com"&gt;&lt;span class="caps"&gt;PHP&lt;/span&gt; &lt;span class="caps"&gt;EMS&lt;/span&gt; Tools&lt;/a&gt;. It&amp;#8217;s a web-based
tool for small emergency services organizations, mainly aimed at
volunteer &lt;span class="caps"&gt;EMS&lt;/span&gt;/ambulance providers. The tool handles roster tracking,
scheduling, equipment maintenance and checks, and a bunch of other
administrative tasks. I first started it in 2007 for the &lt;a href="http://www.midlandparkambulance.com"&gt;Midland Park
Ambulance Corps&lt;/a&gt; (&lt;span class="caps"&gt;MPAC&lt;/span&gt;), which I
was a volunteer &lt;span class="caps"&gt;EMT&lt;/span&gt; with from 2005 through 2011. I&amp;#8217;ll admit that it&amp;#8217;s a
perfect model of how not to run a software project. The first few
releases are plain awful code. I was keeping the project in &lt;span class="caps"&gt;CVS&lt;/span&gt; at the
time, and posted some early releases on
&lt;a href="http://sourceforge.net/projects/php-ems-tools/"&gt;sourceforge&lt;/a&gt; and
FreshMeat, now &lt;a href="http://freecode.com/projects/php-ems-tools"&gt;FreeCode&lt;/a&gt;.
Sometime in 2009, I migrated the contents of the trunk of the &lt;span class="caps"&gt;CVS&lt;/span&gt; module
to a &lt;a href="http://svn.jasonantman.com/php-ems-tools/"&gt;&lt;span class="caps"&gt;SVN&lt;/span&gt; repository&lt;/a&gt;, but
discarded the history. I also setup a MediaWiki-based website for the
project, giving some information and mainly asking for feedback. Around
that time I started working on a new and heavily updated (fixed) version
for &lt;span class="caps"&gt;MPAC&lt;/span&gt;, but since it appeared that there was no interest in the
project, and there were many many local customizations and
organization-specific features, I let their codebase diverge from what
was released, and as a result, stopped keeping it in version control.
Until now, when they need to migrate to a new server, and I&amp;#8217;ve also
gotten some outside interest in the&amp;nbsp;project.&lt;/p&gt;
&lt;p&gt;So, as of this morning, I was left with at least four code&amp;nbsp;bases:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;the original &lt;a href="http://cvs.jasonantman.com/cgi-bin/viewvc.cgi/cvs/php-ems-tools-trunk/"&gt;&lt;span class="caps"&gt;CVS&lt;/span&gt;
    repository&lt;/a&gt;
    with branches and tags and some history, untouched since&amp;nbsp;2007&lt;/li&gt;
&lt;li&gt;the &lt;a href="http://svn.jasonantman.com/php-ems-tools/"&gt;&lt;span class="caps"&gt;SVN&lt;/span&gt; repository&lt;/a&gt;
    circa 2009, with only 3 commits, all related to the migration from
    &lt;span class="caps"&gt;CVS&lt;/span&gt; to&amp;nbsp;&lt;span class="caps"&gt;SVN&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;a &amp;#8220;release&amp;#8221; tarball that at least one outside organization is
    actually&amp;nbsp;using.&lt;/li&gt;
&lt;li&gt;the code that &lt;span class="caps"&gt;MPAC&lt;/span&gt; is running, which has been largely rewritten
    since 2009, but also contains a lot of organization-specific&amp;nbsp;customizations.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;As a first step, I created a new &lt;span class="caps"&gt;SVN&lt;/span&gt; repository and migrated the
original &lt;span class="caps"&gt;CVS&lt;/span&gt; repo, complete with history, branches, and tags, to it
using &lt;a href="http://cvs2svn.tigris.org/"&gt;cvs2svn&lt;/a&gt;, and then removed write
permissions on the actual module in the repository. This gave me a &lt;span class="caps"&gt;SVN&lt;/span&gt;
repository with all of the history of previous so-called releases, with
a trunk matching r1 of the &amp;#8220;current&amp;#8221; &lt;span class="caps"&gt;SVN&lt;/span&gt; repository. I then manually
applied patches to trunk/ for the two commits in the current &lt;span class="caps"&gt;SVN&lt;/span&gt;
repository, and set the svn:date revision property to the correct 2009
date for those commits. I also confirmed that the correct tag matches up
to the &amp;#8220;release&amp;#8221; tarball mentioned above. So, I&amp;#8217;m down to a &amp;#8220;current&amp;#8221;
trunk, plus the locally modified code running on &lt;span class="caps"&gt;MPAC&lt;/span&gt;&amp;#8217;s current server.
My plan of action from this point is as&amp;nbsp;follows:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Move the &lt;span class="caps"&gt;PHP&lt;/span&gt; &lt;span class="caps"&gt;EMS&lt;/span&gt; Tools website from Mediawiki to my local redmine
    installation, and update the news with a link to this&amp;nbsp;post.&lt;/li&gt;
&lt;li&gt;Migrate the &lt;span class="caps"&gt;SVN&lt;/span&gt; repository, which now contains full history, to Git
    hosted at Github. Add Github integration to&amp;nbsp;Redmine.&lt;/li&gt;
&lt;li&gt;Update freshmeat, sourceforge, and anywhere else online that knows
    about the&amp;nbsp;project.&lt;/li&gt;
&lt;li&gt;Working in a git branch, begin converging the code &lt;span class="caps"&gt;MPAC&lt;/span&gt; is currently
    running with the latest (now git) trunk, trying to provide
    configuration options for anything organization specific, and
    testing as I&amp;nbsp;go.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;If all works well, I&amp;#8217;ll end up with &lt;span class="caps"&gt;MPAC&lt;/span&gt; running the current trunk, just
some different configuration options, and a working, up-to-date release.
The biggest issues are going to be how I handle the &lt;span class="caps"&gt;MPAC&lt;/span&gt;-specific
additions and customizations (a lot of stuff hard-coded for our position
titles, plus our very custom call report and telephone-based call-in
software, which is pretty tightly linked with the &lt;span class="caps"&gt;PHP&lt;/span&gt; &lt;span class="caps"&gt;EMS&lt;/span&gt; Tools core),
and how I balance abstracting things to be configurable for other users
versus getting this all done in a reasonable amount of&amp;nbsp;time.&lt;/p&gt;
&lt;p&gt;Stay&amp;nbsp;tuned&amp;#8230;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Sun, 25 Mar 2012 12:11:00 -0400</pubDate><guid>tag:blog.jasonantman.com,2012-03-25:2012/03/cvs-to-svn-to-git/</guid><category>cvs</category><category>git</category><category>svn</category><category>version control</category></item><item><title>Vyatta NetworkOS router/firewall on Alix board / Compact Flash</title><link>http://blog.jasonantman.com/2011/09/vyatta-networkos-routerfirewall-on-alix-board-compact-flash/</link><description>&lt;p&gt;With the impending move to an apartment in Georgia and the migration of
my rack full of servers to a hosting provider, there&amp;#8217;s no longer a need
for me to run my &lt;a href="http://www.vyatta.org/"&gt;Vyatta &lt;span class="caps"&gt;VC&lt;/span&gt;&lt;/a&gt; router on a beefy
dual-&lt;span class="caps"&gt;CPU&lt;/span&gt; RAIDed &lt;a href="http://h18000.www1.hp.com/products/quickspecs/11504_na/11504_na.HTML"&gt;&lt;span class="caps"&gt;DL360&lt;/span&gt;
G3&lt;/a&gt;
&lt;span class="caps"&gt;HP&lt;/span&gt; Proliant server chassis. I found an older PCEngines &lt;a href="http://pcengines.ch/alix2c1.htm"&gt;Alix
2c1&lt;/a&gt; single board computer (433 MHz &lt;span class="caps"&gt;AMD&lt;/span&gt;
Geode &lt;span class="caps"&gt;LX700&lt;/span&gt; , &lt;span class="caps"&gt;128MB&lt;/span&gt; &lt;span class="caps"&gt;DDR&lt;/span&gt; &lt;span class="caps"&gt;DRAM&lt;/span&gt;, CompactFlash (&lt;span class="caps"&gt;CF&lt;/span&gt;) card socket, MiniPCI, 3x
10/100 ethernet) lying around, and decided to turn that into the new
router. But I&amp;#8217;ve been so spoiled by Vyatta&amp;#8217;s good performance (well, at
least on an x86 server) and the &lt;em&gt;real&lt;/em&gt; &lt;span class="caps"&gt;CLI&lt;/span&gt;, so I don&amp;#8217;t think I can go
back to something like &lt;a href="http://m0n0.ch/wall/"&gt;m0n0wall&lt;/a&gt; or
&lt;a href="http://www.pfsense.org/"&gt;pfSense&lt;/a&gt;, and since it&amp;#8217;s going to be my only
network services box (also doing &lt;span class="caps"&gt;DNS&lt;/span&gt;, &lt;span class="caps"&gt;DHCP&lt;/span&gt;, firewalling, &lt;span class="caps"&gt;NAT&lt;/span&gt;, and maybe
IPsec &lt;span class="caps"&gt;VPN&lt;/span&gt;) it&amp;#8217;s not viable to use the type of older Cisco or Juniper
hardware that I can&amp;nbsp;afford.&lt;/p&gt;
&lt;p&gt;The down side is that Vyatta isn&amp;#8217;t really designed or tuned for small
systems, let alone &lt;span class="caps"&gt;CF&lt;/span&gt; media that doesn&amp;#8217;t take too well to lots of
writes. So, I&amp;#8217;m going to begin experimentation with doing a &lt;span class="caps"&gt;CF&lt;/span&gt; install
of the current Vyatta Core 6.3, and we&amp;#8217;ll see how it goes and what
tuning I do over&amp;nbsp;time.&lt;/p&gt;
&lt;p&gt;I found two relatively good references; a &lt;a href="http://www.vyatta.org/forum/viewtopic.php?t=502"&gt;post on the vyatta.org
forum&lt;/a&gt; from 2008,
relating to Vyatta version 4 (also on the author&amp;#8217;s
&lt;a href="http://dataflip.blogspot.com/2008/06/optimizing-vyatta-for-compact-flash.html"&gt;blog&lt;/a&gt;),
and a &lt;a href="http://peytongroup.wordpress.com/2010/02/16/vyatta-community-on-a-compact-flash/"&gt;blog
post&lt;/a&gt;
detailing a more complex
&lt;a href="http://squashfs.sourceforge.net/"&gt;SquashFS&lt;/a&gt;/&lt;a href="http://en.wikipedia.org/wiki/Tmpfs"&gt;tmpfs&lt;/a&gt;/&lt;a href="http://unionfs.filesystems.org/"&gt;UnionFS&lt;/a&gt;
read-only Vyatta install. Given my relatively short timeframe and little
free time, I decided to try the former approach for now, and plan to
make a more customized and tuned &lt;span class="caps"&gt;CF&lt;/span&gt; version of Vyatta in the&amp;nbsp;future.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Creating the actual disk&amp;nbsp;image:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;My development platform at the moment is an intel-based MacBook Pro,
running MacOS X 10.6.4 and VirtualBox 4.0.12. As much of a Linux fan as
I am, my work laptop runs Mac (like everyone else in the office) and
lately I can&amp;#8217;t guarantee that I&amp;#8217;ll be at my desktop long enough to
finish anything. The target is an Alix2c1 with a &lt;span class="caps"&gt;2GB&lt;/span&gt; SanDisk Ultra &lt;span class="caps"&gt;CF&lt;/span&gt;
card (yes, I know an industrial card would be better, but I couldn&amp;#8217;t get
my hands on one). For starters, I created a new VirtualBox &lt;span class="caps"&gt;VM&lt;/span&gt; with the
following&amp;nbsp;settings:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class="caps"&gt;OS&lt;/span&gt; Type: Linux&amp;nbsp;2.6&lt;/li&gt;
&lt;li&gt;Base Memory:&amp;nbsp;&lt;span class="caps"&gt;128MB&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;Boot Order: Floppy, &lt;span class="caps"&gt;CD&lt;/span&gt;-&lt;span class="caps"&gt;ROM&lt;/span&gt;, Hard&amp;nbsp;Disk&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;IDE&lt;/span&gt; Controller Primary: mounted vyatta-livecd_VC6.3 &lt;span class="caps"&gt;ISO&lt;/span&gt;&amp;nbsp;image&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;IDE&lt;/span&gt; Controller Secondary: &lt;span class="caps"&gt;RAW&lt;/span&gt; &lt;span class="caps"&gt;VMDK&lt;/span&gt; image (created&amp;nbsp;below)&lt;/li&gt;
&lt;li&gt;Audio:&amp;nbsp;None&lt;/li&gt;
&lt;li&gt;Network: Disabled &lt;em&gt;(this is important, as Vyatta saves the
    interfaces by hardware address, and it would require some config
    editing and reboots to change&amp;nbsp;them)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;Serial Port: disconnected (but&amp;nbsp;present)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;One difficulty I ran into on Mac is mounting the raw &lt;span class="caps"&gt;CF&lt;/span&gt; card in the
VirtualBox guest. I plugged it in via a &lt;span class="caps"&gt;USB&lt;/span&gt; reader, and of course it
automatically mounted in MacOS. I ejected it and the &lt;code&gt;/dev/disk1&lt;/code&gt; device
disappeared. It turns out that the full procedure (as far as I could
tell) for Mac&amp;nbsp;is:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Plug in the &lt;span class="caps"&gt;CF&lt;/span&gt; card and&amp;nbsp;reader.&lt;/li&gt;
&lt;li&gt;It should automount. Run &lt;code&gt;mount&lt;/code&gt; to see what the actual device is -
    in my case, the &lt;code&gt;/dev/disk1s1&lt;/code&gt; partition was mounted, so the disk is
    &lt;code&gt;/dev/disk1&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Run &lt;code&gt;sudo umount -f /dev/disk1&lt;/code&gt;. It seems that the MacOS automounter
    has a god complex, so you may need to re-run this command quite a
    few times throughout the process if you get device or resource busy&amp;nbsp;errors.&lt;/li&gt;
&lt;li&gt;In an appropriate directory, create the raw &lt;span class="caps"&gt;VMDK&lt;/span&gt; image with:
    &lt;code&gt;VBoxManage internalcommands createrawvmdk -filename rawdisk.vmdk -rawdisk /dev/disk1&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;When creating your &lt;span class="caps"&gt;VM&lt;/span&gt;, you&amp;#8217;ll have an option to select Use an
    Existing Virtual Disk. Use that option, and select the file created
    in the last&amp;nbsp;step.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Once that&amp;#8217;s done, and you&amp;#8217;ve setup the &lt;span class="caps"&gt;VM&lt;/span&gt; with the raw disk, boot the &lt;span class="caps"&gt;VM&lt;/span&gt;
(should boot to the Vyatta LiveCD), login as usual for an install
(vyatta:vyatta), and the the fun&amp;nbsp;begins:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;At the prompt after logging in, &lt;code&gt;sudo su -&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Edit &lt;code&gt;/opt/vyatta/sbin/install-system&lt;/code&gt; (hint: Vyatta has nano and vi
    installed. &lt;code&gt;nano -c filename&lt;/code&gt; shows line numbers) and change the
    &lt;code&gt;ROOT_FSTYPE&lt;/code&gt; variable (line 78 in &lt;span class="caps"&gt;VC6&lt;/span&gt;.3) from &amp;#8220;ext4&amp;#8221; to&amp;nbsp;&amp;#8220;ext2&amp;#8221;.&lt;/li&gt;
&lt;li&gt;Run &lt;code&gt;install-system&lt;/code&gt;. I used all default options (including one
    partition) and it seemed to work fine. It took a minute or two to
    create the ext2 filesystem on my &lt;span class="caps"&gt;2GB&lt;/span&gt; &lt;span class="caps"&gt;CF&lt;/span&gt;&amp;nbsp;card.&lt;/li&gt;
&lt;li&gt;The file copy took even longer&amp;#8230; so be patient, or have a book&amp;nbsp;handy.&lt;/li&gt;
&lt;li&gt;When system-install finishes and you get the root prompt back,
    before rebooting, continue with some minor&amp;nbsp;tweaks:&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mkdir /mnt/temp&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mount /dev/sda1 /mnt/temp&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cd /mnt/temp&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Edit &lt;code&gt;boot/grub/grub.cfg&lt;/code&gt; and change all occurrences of
    &amp;#8220;root=&lt;span class="caps"&gt;UUID&lt;/span&gt;=&amp;#8230;&amp;#8221; entries for the &amp;#8220;linux&amp;#8221; lines (lines 13, 18, 23, 28
    in my grub.cfg) to &amp;#8220;root=/dev/sda1&amp;#8221;. My only real reason for this
    change is so that I can move my altered config files (config.boot,
    fstab and grub.cfg) with minimal changes when I upgrade or make a
    different vyatta &lt;span class="caps"&gt;CF&lt;/span&gt; card, without having to update the &lt;span class="caps"&gt;UUID&lt;/span&gt; for the
    new&amp;nbsp;partition.&lt;/li&gt;
&lt;li&gt;Edit &lt;code&gt;etc/fstab&lt;/code&gt; and change the &amp;#8220;&lt;span class="caps"&gt;UUID&lt;/span&gt;=&amp;#8230;&amp;#8221; device to&amp;nbsp;&amp;#8221;/dev/sda1&amp;#8221;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;shutdown&lt;/code&gt;. Once the &lt;span class="caps"&gt;VM&lt;/span&gt; is stopped, you can remove the &lt;span class="caps"&gt;CF&lt;/span&gt;&amp;nbsp;card.&lt;/li&gt;
&lt;li&gt;The PCEngines Alix.2 boards use a default serial console speed of
    38400 baud. Pretty much every network device, plus Linux and Vyatta,
    use a default speed of 9600 baud. Once I got the &lt;span class="caps"&gt;CF&lt;/span&gt; card installed
    in the Alix board and hooked it up to my laptop (null modem cable to
    a &lt;span class="caps"&gt;PL&lt;/span&gt;-2303 based &lt;span class="caps"&gt;USB&lt;/span&gt; to serial adapter, minicom for terminal
    emulation), I set my terminal emulator to 38400 8N1, powered the
    board, and then pressed &amp;#8216;s&amp;#8217; during &lt;span class="caps"&gt;POST&lt;/span&gt; to get into &lt;span class="caps"&gt;BIOS&lt;/span&gt; settings.
    Option &amp;#8216;9&amp;#8217; sets the Alix to 9600 baud, &amp;#8216;Q&amp;#8217; to quit, and &amp;#8216;Y&amp;#8217; to save
    changes permanently. The board will reboot, and once the terminal
    emulator is set back to 9600 baud, serial console should work fine
    both in &lt;span class="caps"&gt;BIOS&lt;/span&gt; and in the&amp;nbsp;&lt;span class="caps"&gt;OS&lt;/span&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;If all worked well, you should be able to boot into Vyatta and login as
the default &amp;#8220;vyatta&amp;#8221; user (which you set a password for during the
install). Assuming you know your way around Vyatta, it&amp;#8217;s pretty standard
from here, though there are a few things you may want to check or
configure right&amp;nbsp;away:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;In configuration mode (&lt;code&gt;configure&lt;/code&gt;) run &lt;code&gt;show interfaces&lt;/code&gt;. All of
    your physical ethernet interfaces should appear, along with their
    &lt;span class="caps"&gt;MAC&lt;/span&gt;&amp;nbsp;addresses.&lt;/li&gt;
&lt;li&gt;Some changes to reduce the number of log writes to the &lt;span class="caps"&gt;CF&lt;/span&gt; card:
    &lt;code&gt;set system syslog console facility all level notice&lt;/code&gt; and
    &lt;code&gt;set system syslog global facility protocols level notice&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Configure interfaces. with firewalls, &lt;span class="caps"&gt;IP&lt;/span&gt; addresses or &lt;span class="caps"&gt;DHCP&lt;/span&gt;,&amp;nbsp;etc.&lt;/li&gt;
&lt;li&gt;Do whatever other configuration you need for a minimal system -
    dhcp, dns, nat,&amp;nbsp;etc.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;And that&amp;#8217;s it - this should give you a working Vyatta system on &lt;span class="caps"&gt;CF&lt;/span&gt; on an
Alix board. Stay tuned, hopefully in a month or so I&amp;#8217;ll get around to
customizing it a bit more, based on the second blog entry linked&amp;nbsp;above.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Fri, 30 Sep 2011 14:16:00 -0400</pubDate><guid>tag:blog.jasonantman.com,2011-09-30:2011/09/vyatta-networkos-routerfirewall-on-alix-board-compact-flash/</guid><category>alix</category><category>embedded</category><category>network</category><category>pcengines</category><category>router</category><category>vyatta</category></item><item><title>Downtime Last Night; Coping with outages on a shoestring budget</title><link>http://blog.jasonantman.com/2011/01/downtime-last-night-coping-with-outages-on-a-shoestring-budget/</link><description>&lt;p&gt;Anyone who tried to visit any of my sites last night, or send me email,
probably noticed that I dropped off the face of the earth. I take my
uptime pretty seriously - even with virtually no budget, about 10
minutes of &lt;span class="caps"&gt;UPS&lt;/span&gt; time, and everything hosted out of my basement. I&amp;#8217;ve only
had about a &lt;a href="/2010/03/downtime-past-few-days-coping-with-storms/"&gt;6-hour block of
downtime&lt;/a&gt; in the
past 21 months, aside from that nothing externally visible except a few
sub-3-minute hiccups. And the 6 hours was due to a major power outage
that quickly overwhelmed my &lt;span class="caps"&gt;UPS&lt;/span&gt;. Without a generator, I can&amp;#8217;t really
blame anyone for that. Anyway, last night into this morning I had
partial to full outages for about 12 hours. By far the most I&amp;#8217;ve had
since I literally ripped apart my entire infrastructure, moved it from
shelves to a rack, and put it back together on the&amp;nbsp;fly.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;d like to apologize to the few people whose web sites or other
services I host out of my house. On one hand, I think those few people
are getting their money&amp;#8217;s worth from their free hosting :) On the other
hand I know how frustrating it can be, especially when you can&amp;#8217;t even
resolve &lt;span class="caps"&gt;DNS&lt;/span&gt; and my email is down. Rest assured that this situation
deeply bothers me, and I&amp;#8217;m already hard at work on plans to at least
keep people (both the people I do hosting for and their visitors)
informed if something like this should happen in the&amp;nbsp;future.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;The&amp;nbsp;Story:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Well, yesterday afternoon as I was at my father&amp;#8217;s house about an hour
away, I started to get a slew of &lt;a href="http://www.nagios.org"&gt;Nagios&lt;/a&gt;
notification SMSes (well, email to &lt;span class="caps"&gt;SMS&lt;/span&gt;). They started at 14:22 and
stopped after a few minutes, but since I was driving, I didn&amp;#8217;t check
them. When I got home, I found a scenario I hadn&amp;#8217;t really anticipated -
the &lt;span class="caps"&gt;TV&lt;/span&gt; worked fine, but I had virtually no connectivity on my cable
Internet line. I got home around 16:22 and had spotty-at-best
connectivity. I could get some &lt;span class="caps"&gt;DNS&lt;/span&gt; in and out, but it was pretty much
impossible to load a web page on my desktop. I was getting Nagios alerts
out in bursts, and the postfix queue was pretty full. A cursory
inspection showed both routers (mine and Optimum&amp;#8217;s) online with link,
the Modem had link and was blinking away, but I was passing &amp;lt; 100 Kbps
of data. My &lt;span class="caps"&gt;DOCSIS&lt;/span&gt;-&lt;span class="caps"&gt;MIB&lt;/span&gt; checks on the cable modem were spitting back all
sorts of bad values. Not good. I checked coax connections, rebooted the
modem and router, and went outside to inspect the aerials and the
splitters on the outside of the house. Nothing visibly wrong, and no
positive change after the reboot. Now the modem wasn&amp;#8217;t showing link at
all, and I couldn&amp;#8217;t even ping its &lt;span class="caps"&gt;LAN&lt;/span&gt;&amp;nbsp;&lt;span class="caps"&gt;IP&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;I called Optimum at 17:12 and went through the initial troubleshooting
with the technical support guy. I told him I&amp;#8217;d already power-cycled the
modem, and gave him a rundown of the status lights. He confirmed that
they couldn&amp;#8217;t even see the modem on the &lt;span class="caps"&gt;WAN&lt;/span&gt; side, and would have to send
a tech out. The big plus to Optimum Business is that, despite it being
after 5 &lt;span class="caps"&gt;PM&lt;/span&gt; on a Sunday night, I was given an &lt;span class="caps"&gt;ETA&lt;/span&gt; of 2-4 hours. After
about 15 minutes, I power-cycled the modem again, and was able to get
link. I was seeing some data pushed through the routers, but only about
50Kbps. I called Optimum back, spoke with another tech, and was told
that they couldn&amp;#8217;t even get diagnostics back from the modem, and were
seeing 94% packet loss on ping. Time to wait for the&amp;nbsp;tech.&lt;/p&gt;
&lt;p&gt;The field tech arrived at 17:53. Utterly amazing&amp;#8230; about 30 minutes
after I got off the phone with tech support. I don&amp;#8217;t know if they keep
their better techs waiting around for business customers, but this guy -
Jason - was one of the most knowledgeable and experienced that I&amp;#8217;ve ever
met. He poked around the modem a bit, re-did some of the shoddy work
that the original installers left, and then climbed the pole to figure
out what was going on. About half an hour later, he came back with the
bad news. His test scope wouldn&amp;#8217;t even lock on to the 609MHz carrier
used for the cable modem, so there was something definitely wrong, and
it was past the pole in front of the house. He told me they&amp;#8217;d need to
escalate the problem to the outside plant engineers, but since I was a
business customer, I could expect some update or fix in 6-18 hours. He
left around 18:30. Well, I was bummed, but I used the time to get other
stuff done and start planning for at least minimal &lt;span class="caps"&gt;DR&lt;/span&gt; plans for the&amp;nbsp;future.&lt;/p&gt;
&lt;p&gt;According to my off-site Nagios, I at least got some mail out and &lt;span class="caps"&gt;SSH&lt;/span&gt; in
from 19:55 to 20:44, and then had another total loss of connectivity.
Everything came back around 02:20 today, meaning a full 12 hours of&amp;nbsp;downtime.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Analysis and Future&amp;nbsp;Plans:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Well for the foreseeable future I&amp;#8217;m just working my day job and probably
not doing much (paid) consulting, so purchasing a backup connection is
out of the question - especially since FiOS charges almost twice what
Optimum does for static &lt;span class="caps"&gt;IP&lt;/span&gt; service. There&amp;#8217;s really no way I could&amp;#8217;ve
prevented this outage, and it turns out that the problem wasn&amp;#8217;t even on
my property, so it&amp;#8217;s not anything I could have fixed myself (or
prevented by convincing Optimum to let me purchase a spare modem to keep
on hand). Once again, for something that isn&amp;#8217;t directly money-making for
me, it&amp;#8217;s not really worth it to try and get hosting as a backup, since
I&amp;#8217;ve got all sorts of complex postfix configurations, &lt;span class="caps"&gt;BIND&lt;/span&gt; master/slave
replication, etc. Within my budget, I can&amp;#8217;t really say there&amp;#8217;s anything
I could do to solve this problem, or to get even half of my services
back up. My offsite Nagios is behind a dynamic residential cable
connection, so that won&amp;#8217;t really fix any problems&amp;nbsp;either.&lt;/p&gt;
&lt;p&gt;My plan for the short-term is to find a static &lt;span class="caps"&gt;IP&lt;/span&gt; somewhere that I can
run a box behind, add it as a &lt;span class="caps"&gt;NS&lt;/span&gt; record, and at the minimum setup a
caching Postfix server, a catch-all Apache server with a &amp;#8220;we know about
it, we&amp;#8217;re coming back soon&amp;#8221; page, and hacked &lt;span class="caps"&gt;BIND&lt;/span&gt; zone files that point
everything at this one box (albeit with a low&amp;nbsp;&lt;span class="caps"&gt;TTL&lt;/span&gt;).&lt;/p&gt;
&lt;p&gt;If anyone out there happens to read this, any comments on how to deal
with a total loss of connectivity on a budget of, say, $15/month above
the cost of my Optimum&amp;nbsp;connection??&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Mon, 10 Jan 2011 09:22:00 -0500</pubDate><guid>tag:blog.jasonantman.com,2011-01-10:2011/01/downtime-last-night-coping-with-outages-on-a-shoestring-budget/</guid><category>disaster recovery</category><category>downtime</category><category>failover</category><category>redundancy</category></item><item><title>Virtualization Options</title><link>http://blog.jasonantman.com/2010/03/virtualization-options/</link><description>&lt;p&gt;As I mentioned in &lt;a href="/2010/03/downtime-past-few-days-coping-with-storms/"&gt;Downtime past few days, coping with
storms&lt;/a&gt;, as a
result of some things I noticed with a recent power outage, I&amp;#8217;ve decided
to take the leap to virtualization. Given the cost of current hardware
that supports &lt;span class="caps"&gt;HVM&lt;/span&gt; (Intel &lt;span class="caps"&gt;VT&lt;/span&gt;-x or &lt;span class="caps"&gt;AMD&lt;/span&gt;-V ), I immediately decided that I
might as well give up on any thoughts of doing full virtualization or
getting new-ish hardware. So I settled on the next step up from what
have now - a set of &lt;a href="http://h18000.www1.hp.com/products/quickspecs/11504_na/11504_na.HTML"&gt;&lt;span class="caps"&gt;HP&lt;/span&gt; Proliant &lt;span class="caps"&gt;DL360&lt;/span&gt;
G3&lt;/a&gt;
servers. I got them with a 90 day warranty from a reputable dealer, dual
2.8GHz Xeon (512K cache), 2Gb &lt;span class="caps"&gt;RAM&lt;/span&gt;, dual 36.4Gb U320 15k &lt;span class="caps"&gt;RPM&lt;/span&gt; &lt;span class="caps"&gt;SCSI&lt;/span&gt; disks
and dual power supplies for $99 each. My next step is to decide what
virtualization software to&amp;nbsp;use.&lt;/p&gt;
&lt;p&gt;My main goals for the project&amp;nbsp;are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Lower power consumption through consolidation of&amp;nbsp;servers.&lt;/li&gt;
&lt;li&gt;Possibility to add capacity or resources by remotely powering up an
    idle server and migrating VMs to&amp;nbsp;it.&lt;/li&gt;
&lt;li&gt;Limited fault tolerance - ability to manually restore a &lt;span class="caps"&gt;VM&lt;/span&gt; that was
    running on failed hardware, onto an idle&amp;nbsp;server.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I originally thought Xen, just out of reflex. However, given that all of
my servers have the same base - the same distribution and, ideally, the
same kernel and patch level - it seemed like a lot of overhead to
duplicate that for multiple VMs. So I started looking into &lt;a href="http://en.wikipedia.org/wiki/Operating_system-level_virtualization"&gt;&lt;span class="caps"&gt;OS&lt;/span&gt;-level
virtualization&lt;/a&gt;.
There are relatively few options, and I&amp;#8217;ll admit that aside from Solaris
Containers (which I learned about while working at Sun) I don&amp;#8217;t know
much about it. But &lt;a href="http://www.openvz.org/"&gt;OpenVZ&lt;/a&gt; seems to be the
front runner in that area. My initial impression was that it made a lot
of sense - keep one common kernel, but allow containers/virtual
environments (CTs/VEs) to have, essentially, their own userland.
Unfortunately, it doesn&amp;#8217;t seem to be as hyped as Xen, and I haven&amp;#8217;t
heard very much about it in the enterprise context. And it requires
running a kernel from the OpenVZ project, which means I can&amp;#8217;t just
script updates through yum as easily as&amp;nbsp;normal.&lt;/p&gt;
&lt;p&gt;On the up size, OpenVZ would allow me to eliminate the duplication of
the kernel, and seems to have much less overhead than Xen (and logically
so). On the down side, I lose the ability to virtualize other OSes,
kernel versions, or make pre-packaged VMs. I&amp;#8217;ve decided that if I wanted
to do that, I could dedicate a single&amp;nbsp;machine.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ve spent the last day or so doing a lot of research, and have come up
with the following questions and concerns about OpenVZ which I hope to
be able to answer (I&amp;#8217;ll post the answers in a&amp;nbsp;follow-up).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;How do I handle distribution and kernel upgrades? The logical
    solution would be to migrate the &lt;span class="caps"&gt;CT&lt;/span&gt; to another host while I upgrade
    &lt;span class="caps"&gt;CT0&lt;/span&gt; (the hardware &lt;span class="caps"&gt;OS&lt;/span&gt;/host/dom0 in Xen speak). But if the guest and
    host kernels must match, how does this&amp;nbsp;work?&lt;/li&gt;
&lt;li&gt;Can I do package upgrades within the guest/&lt;span class="caps"&gt;CT&lt;/span&gt; easily? WIll this play
    well with&amp;nbsp;Puppet?&lt;/li&gt;
&lt;li&gt;How will I handle backups? Is it logical to run
    &lt;a href="http://www.bacula.org"&gt;bacula&lt;/a&gt; within each &lt;span class="caps"&gt;CT&lt;/span&gt;, or just on &lt;span class="caps"&gt;CT0&lt;/span&gt;? If
    just on &lt;span class="caps"&gt;CT0&lt;/span&gt;, how do I easily verify that a particular &lt;span class="caps"&gt;CT&lt;/span&gt; was backed&amp;nbsp;up?&lt;/li&gt;
&lt;li&gt;WIll everything play well with Puppet? (see&amp;nbsp;below)&lt;/li&gt;
&lt;li&gt;Am I willing to throw away my KickStart-based installs? And,
    similarly, am I willing to give up the possibility of migrating from
    a container to a Xen host or a physical host&amp;nbsp;(easily)?&lt;/li&gt;
&lt;li&gt;OpenVZ live migration relies on rsync. This means that there&amp;#8217;s a
    significant delay (compared to shared storage) and also that I can&amp;#8217;t
    migrate off of a host that&amp;#8217;s down. Is there a way around&amp;nbsp;this?&lt;/li&gt;
&lt;li&gt;Similarly, live migration requires root &lt;span class="caps"&gt;SSH&lt;/span&gt; key exchange
    (passwordless) between the hosts. This seems about equivalent to
    using &lt;code&gt;hosts.equiv&lt;/code&gt;. Do I really want root on one box to mean root
    on another box (and all of the containers on that&amp;nbsp;box)?&lt;/li&gt;
&lt;li&gt;Can I still firewall &lt;span class="caps"&gt;CT0&lt;/span&gt;? How will this&amp;nbsp;work?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;It seems to me that OpenVZ may be significantly less enterprise-class
than Xen. Sure, this is just my home setup, but I hold it to the same
standards I use for my work systems. In fact, I usually test new
technologies at home before I suggest them at work. A lot of the writing
on the &lt;a href="http://wiki.openvz.org/"&gt;OpenVZ wiki&lt;/a&gt; seems to be riddled with
spelling errors. They claim &amp;#8220;zero downtime&amp;#8221; live migration, but if they
have to rsync 2Gb of MySQL tables, that sounds like a lot more than
&amp;#8220;zero&amp;#8221;. And, most shockingly, the &lt;a href="http://wiki.openvz.org/Hardware_testing"&gt;Hardware
testing&lt;/a&gt; wiki page talks about
making sure your hosts aren&amp;#8217;t overclocked or undercooled, and running
&lt;code&gt;cpuburn&lt;/code&gt; to test your system under high load. Sorry, but the engineers
at &lt;span class="caps"&gt;HP&lt;/span&gt;, Sun, &lt;span class="caps"&gt;IBM&lt;/span&gt;, etc. handle that for me and most people I know. So, I&amp;#8217;m
a bit worried about the seriousness of the OpenVZ&amp;nbsp;project.&lt;/p&gt;
&lt;p&gt;Most worrisome is a post I found in the &lt;a href="http://forum.openvz.org"&gt;OpenVZ
forum&lt;/a&gt;, &lt;a href="http://forum.openvz.org/index.php?t=msg&amp;amp;goto=14818&amp;amp;"&gt;&amp;#8220;Stopping puppet on hn stops it in all
&lt;span class="caps"&gt;VE&lt;/span&gt;&amp;#8221;&lt;/a&gt;. It seems
that, since &lt;span class="caps"&gt;CT0&lt;/span&gt; is aware of all of the guest container processes, they
show up in ps lists. Most, if not all RedHat init scripts use killproc
to stop and restart services. This means that a &lt;code&gt;service syslog stop&lt;/code&gt; on
the &lt;span class="caps"&gt;CT0&lt;/span&gt; (host) will stop &lt;strong&gt;all&lt;/strong&gt; &lt;code&gt;syslog&lt;/code&gt; processes, including all of
them in the CTs. This seems like a major issue. Sure, I could replace
&lt;code&gt;killproc&lt;/code&gt; on &lt;span class="caps"&gt;CT0&lt;/span&gt; with a script that parses the process list, isolates
the PIDs for those running on &lt;span class="caps"&gt;CT0&lt;/span&gt;, and kills them. But what else needs
to be fixed? Nagios check scripts would need to be adjusted. Is there
anything else that would come back and bite&amp;nbsp;me?&lt;/p&gt;
&lt;p&gt;The bottom line is that (I guess this is logical) it seems that
containers in OpenVZ will seem - and act - a lot less like a logical
host than they would under&amp;nbsp;Xen.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Fri, 19 Mar 2010 20:55:00 -0400</pubDate><guid>tag:blog.jasonantman.com,2010-03-19:2010/03/virtualization-options/</guid><category>OpenVZ</category><category>virtualization</category><category>xen</category></item><item><title>New web server, WP optimization</title><link>http://blog.jasonantman.com/2010/02/new-web-server-wp-optimization/</link><description>&lt;p&gt;Tonight, more or less on a whim, I moved my blog from my older (dual
1GHz Pentium &lt;span class="caps"&gt;III&lt;/span&gt; Coppermine, &lt;span class="caps"&gt;1GB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt;, 10k &lt;span class="caps"&gt;RPM&lt;/span&gt; &lt;span class="caps"&gt;SCSI&lt;/span&gt; disks, Compaq
Proliant &lt;span class="caps"&gt;DL360&lt;/span&gt; G1, OpenSuSE 10.2 32-bit) web server to my newer one
(dual 1.4GHz Pentium &lt;span class="caps"&gt;III&lt;/span&gt;, &lt;span class="caps"&gt;2GB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt;, 10k &lt;span class="caps"&gt;RPM&lt;/span&gt; &lt;span class="caps"&gt;SCSI&lt;/span&gt; disks, &lt;span class="caps"&gt;HP&lt;/span&gt; Proliant &lt;span class="caps"&gt;DL360&lt;/span&gt;
G2, CentOS 5.3 32-bit). I did some profiling with
&lt;a href="http://httpd.apache.org/docs/2.0/programs/ab.html"&gt;ab&lt;/a&gt; (ApacheBench),
and just moving from one server to the other got some serious
performance gains (I was profiling with runs of 1000 requests total, 10
concurrent requests). I also added the &lt;a href="http://wordpress.org/extend/plugins/w3-total-cache/"&gt;W3 Total
Cache&lt;/a&gt; Wordpress
plugin, which got the numbers to look even&amp;nbsp;better!&lt;/p&gt;
&lt;p&gt;As a side note, this was all done pretty quickly (moving the database
and tarball for the vhost, installing the plugin, changing &lt;span class="caps"&gt;DNS&lt;/span&gt;), so
please give me a heads-up if you experience any&amp;nbsp;problems.&lt;/p&gt;
&lt;p&gt;The numbers are rather&amp;nbsp;impressive:&lt;/p&gt;
&lt;table border="1"&gt;
&lt;tr&gt;
&lt;td&gt;
&lt;/td&gt;
&lt;th&gt;
Total Time(s)

&lt;/th&gt;
&lt;th&gt;
&lt;span class="caps"&gt;RPS&lt;/span&gt;

&lt;/th&gt;
&lt;th&gt;
Avg. Connection Time (ms)

&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;
Old Server

&lt;/th&gt;
&lt;td&gt;
1192.252

&lt;/td&gt;
&lt;td&gt;
838.75

&lt;/td&gt;
&lt;td&gt;
11,893

&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;
New Server

&lt;/th&gt;
&lt;td&gt;
569.121

&lt;/td&gt;
&lt;td&gt;
1757.09

&lt;/td&gt;
&lt;td&gt;
5,667

&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;
Default W3tc Config

&lt;/th&gt;
&lt;td&gt;
23.754

&lt;/td&gt;
&lt;td&gt;
42,098.44

&lt;/td&gt;
&lt;td&gt;
237

&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;
Tuned W3tc

&lt;/th&gt;
&lt;td&gt;
12.281

&lt;/td&gt;
&lt;td&gt;
81,428.76

&lt;/td&gt;
&lt;td&gt;
122

&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;

&lt;p&gt;All tests were performed on my workstation, a Dell Precision 470, two
dual-core Xeons at 2.8 GHz, &lt;span class="caps"&gt;2GB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt;, &lt;span class="caps"&gt;16GB&lt;/span&gt; swap, OpenSuSE 11.1 64-bit.
This was on the same &lt;span class="caps"&gt;LAN&lt;/span&gt; and subnet as the servers, with the workstation
connected via a 1Gbps copper Ethernet link and the web-serving
interfaces of the servers connected via 100Mbps (There&amp;#8217;s a trunk in
between, from the gigabit aggregation switch to the 100Mbps distribution&amp;nbsp;switch).&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Sun, 28 Feb 2010 23:19:00 -0500</pubDate><guid>tag:blog.jasonantman.com,2010-02-28:2010/02/new-web-server-wp-optimization/</guid><category>apache</category><category>optimization</category><category>performance</category><category>wordpress</category></item><item><title>Project Announcement - PHPsa</title><link>http://blog.jasonantman.com/2009/09/project-announcement-phpsa/</link><description>&lt;p&gt;So, here&amp;#8217;s the &amp;#8220;official&amp;#8221; scoop on the new project that I&amp;#8217;m
planning/starting to work on. I&amp;#8217;m calling it PHPsa for now, and it&amp;#8217;s
going to (hopefully) be an integrated dashboard/portal for SysAdmins.
While there are a number of tools that fit into this general category
(perhaps with &lt;a href="http://www.alienvault.com/home.php?section=News"&gt;&lt;span class="caps"&gt;OSSIM&lt;/span&gt;&lt;/a&gt;
being the closest, though it&amp;#8217;s security-minded), I feel that there&amp;#8217;s a
real gap in terms of tool integration. My daily workflow, which includes
multiple trips to and correlation among Nagios, Cacti, &lt;span class="caps"&gt;DNS&lt;/span&gt;, &lt;span class="caps"&gt;DHCP&lt;/span&gt;,
Puppet, logs, and other tools really leaves something to be desired. So,
I&amp;#8217;m setting out to create a modular SysAdmin dashboard that unifies many
of the common SysAdmin-related tools into a modular&amp;nbsp;dashboard.&lt;/p&gt;
&lt;p&gt;The first overall design goals that I&amp;#8217;ve set&amp;nbsp;are:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;A modular, plugin-based architecture that allows admins to select
    which features/tools they want, and allows easy development of new&amp;nbsp;modules.&lt;/li&gt;
&lt;li&gt;Design with legacy tools in mind - easy ways to tie in to tools that
    weren&amp;#8217;t written with PHPsa in mind, both in terms of linking to
    information and gathering/unifying&amp;nbsp;information.&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;RBAC&lt;/span&gt;, including per-module rules and the possibility for a limited
    read-only view (client/user&amp;nbsp;mode).&lt;/li&gt;
&lt;li&gt;Use of data sources, specifically web-based/&lt;span class="caps"&gt;REST&lt;/span&gt; APIs where
    available, and databases otherwise, from existing tools with as
    little modification as&amp;nbsp;possible.&lt;/li&gt;
&lt;li&gt;Support for database abstraction, though I&amp;#8217;ll be using&amp;nbsp;MySQL.&lt;/li&gt;
&lt;li&gt;Eventually, implement &lt;span class="caps"&gt;RSS&lt;/span&gt; feeds of pertinent&amp;nbsp;information.&lt;/li&gt;
&lt;li&gt;Balance Ajax/&lt;span class="caps"&gt;DHTML&lt;/span&gt; with the desire for important things to have
    canonical, static, bookmark-able&amp;nbsp;URLs.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;So, here are some of the things that I&amp;#8217;m planning on integrating, with
obvious bias towards getting my own projects done before I integrate
pre-existing&amp;nbsp;tools:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://multibindadmin.jasonantman.com"&gt;MultiBindAdmin&lt;/a&gt;, my &lt;span class="caps"&gt;DNS&lt;/span&gt; and
    &lt;span class="caps"&gt;DHCP&lt;/span&gt; administration tool (specifically geared towards split-view &lt;span class="caps"&gt;DNS&lt;/span&gt;
    with the inside view behind&amp;nbsp;&lt;span class="caps"&gt;NAT&lt;/span&gt;).&lt;/li&gt;
&lt;li&gt;&lt;a href="http://rackman.jasonantman.com/"&gt;RackMan&lt;/a&gt;, my tool for mapping
    devices&amp;#8217; physical locations in racks (and tacking&amp;nbsp;patching).&lt;/li&gt;
&lt;li&gt;My simple config tool for
    &lt;a href="http://www.puppetlabs.com"&gt;Puppet&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://nagios.org/"&gt;Nagios&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.cacti.net/"&gt;Cacti&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Nathan Hubbard&amp;#8217;s &lt;a href="http://www.machdb.org/"&gt;MachDB&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.bacula.org/en/"&gt;Bacula&lt;/a&gt; (monitoring/status&amp;nbsp;only).&lt;/li&gt;
&lt;li&gt;Syslog via &lt;a href="http://www.rsyslog.com/"&gt;rsyslog&lt;/a&gt; (or any other
    syslog-to-&lt;span class="caps"&gt;SQL&lt;/span&gt;&amp;nbsp;solution).&lt;/li&gt;
&lt;li&gt;Possibly a front-end to &lt;a href="http://www.google.com/analytics/"&gt;Google
    Analytics&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Some of my custom scripts for graphing SpamAssassin, &lt;span class="caps"&gt;DNS&lt;/span&gt; queries,&amp;nbsp;etc.&lt;/li&gt;
&lt;li&gt;Some sort of Apache log analysis, like
    &lt;a href="http://www.mrunix.net/webalizer/"&gt;Webalizer&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Mail log analysis, possibly
    &lt;a href="http://awstats.sourceforge.net/"&gt;AWstats&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;So, the first big issues that I&amp;#8217;m going to&amp;nbsp;tackle:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;General layout. Specifically, how to handle a more-or-less
    consistent layout while integrating tools that weren&amp;#8217;t designed for
    PHPsa. I&amp;#8217;ll probably end up using iFrames (or even a frameset) for
    tools that don&amp;#8217;t integrate&amp;nbsp;well.&lt;/li&gt;
&lt;li&gt;How to correlate data/objects between different tools (i.e. how to
    display information from Nagios, Cacti, MultiBindAdmin and MachDB
    for a given&amp;nbsp;host?).&lt;/li&gt;
&lt;li&gt;Do I want to use a templating engine like
    &lt;a href="http://www.smarty.net/"&gt;Smarty&lt;/a&gt; or hand-code all of the&amp;nbsp;&lt;span class="caps"&gt;HTML&lt;/span&gt;?&lt;/li&gt;
&lt;li&gt;How will I handle&amp;nbsp;plugins?&lt;/li&gt;
&lt;li&gt;How much code do I want to re-write and how much can I use as-is
    from other tools? And, on a related note, how much existing data can
    I access easily from other tools, vs having to use grabber scripts
    that dump data in&amp;nbsp;MySQL?&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Update 2010-02-03&lt;/strong&gt;: I think this may become a semi-official project
for me at $work, which means that I&amp;#8217;ll be able to dedicate quite a bit
more time to it. Unfortunately, it also means that I will, most likely,
have to give up Nathan Hubbard&amp;#8217;s &lt;a href="http://www.machdb.org/"&gt;MachDB&lt;/a&gt; in
favor of &lt;a href="http://www.ocsinventory-ng.org/"&gt;&lt;span class="caps"&gt;OCS&lt;/span&gt; Inventory &lt;span class="caps"&gt;NG&lt;/span&gt;&lt;/a&gt;, a more
mature project that already includes inventory support for Linux,
Windows and&amp;nbsp;Mac.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Tue, 29 Sep 2009 15:36:00 -0400</pubDate><guid>tag:blog.jasonantman.com,2009-09-29:2009/09/project-announcement-phpsa/</guid><category>bind</category><category>cacti</category><category>dns</category><category>Nagios</category><category>PHPsa</category><category>Projects</category><category>puppet</category><category>rsyslog</category><category>sysadmin</category><category>syslog</category></item><item><title>DNS Move</title><link>http://blog.jasonantman.com/2009/09/dns-move/</link><description>&lt;p&gt;Yesterday I finally began moving &lt;span class="caps"&gt;DNS&lt;/span&gt; for my sites from GoDaddy to my own
in-house system of master/slave
&lt;a href="https://www.isc.org/software/bind"&gt;&lt;span class="caps"&gt;BIND9&lt;/span&gt;&lt;/a&gt;. While both &lt;span class="caps"&gt;DNS&lt;/span&gt; servers are
currently at the same location and on the same &lt;span class="caps"&gt;WAN&lt;/span&gt; connection (heck,
they&amp;#8217;re beind the same router, too), so is all of the rest of my
infrastructure. Migrating jasonantman.com was definitely the most
critical task, this has allowed me to easily use my new project,
&lt;a href="http://multibindadmin.jasonantman.com"&gt;MultiBIND Admin&lt;/a&gt; to manage &lt;span class="caps"&gt;DNS&lt;/span&gt;.
In addition to just being simpler than using GoDaddy&amp;#8217;s tool, it allows
me to manage &lt;span class="caps"&gt;DNS&lt;/span&gt; for both the external view and the NATed internal view
in one tool. I did have a brief mail outage thanks to some incorrect &lt;span class="caps"&gt;MX&lt;/span&gt;
records being served by the slave, and a few other issues with the
caching &lt;span class="caps"&gt;DNS&lt;/span&gt; servers at work not expiring the old records, but all seems
to be well now. It was a relatively smooth transition, though I haven&amp;#8217;t
yet moved over some of my older less used&amp;nbsp;domains.&lt;/p&gt;
&lt;p&gt;The next part of my project, when I move the ambulance corps hosted
services in-house, will be trying to find a decently-priced &lt;span class="caps"&gt;DNS&lt;/span&gt; hosting
company that will just act as a slave, to keep &lt;span class="caps"&gt;DNS&lt;/span&gt; up if my &lt;span class="caps"&gt;WAN&lt;/span&gt;
connection goes&amp;nbsp;down.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Thu, 17 Sep 2009 13:07:00 -0400</pubDate><guid>tag:blog.jasonantman.com,2009-09-17:2009/09/dns-move/</guid><category>bind</category><category>dns</category><category>multibindadmin</category></item><item><title>September 2009 Project Updates</title><link>http://blog.jasonantman.com/2009/09/september-2009-project-updates/</link><description>&lt;p&gt;I know I haven&amp;#8217;t been posting a lot, but here&amp;#8217;s an update on some of my&amp;nbsp;projects:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.php-ems-tools.com"&gt;&lt;span class="caps"&gt;PHP&lt;/span&gt; &lt;span class="caps"&gt;EMS&lt;/span&gt; Tools&lt;/a&gt; - I&amp;#8217;ve done quite a
    bit of work for the &lt;a href="http://www.midlandparkambulance.com"&gt;ambulance
    corps&lt;/a&gt;, and intend on rolling
    this into the main distribution. I&amp;#8217;ve also added an Asterisk/&lt;span class="caps"&gt;AGI&lt;/span&gt;
    module to handle crew call-ins. It&amp;#8217;s going to be a long road, as I
    have to manually diff the ambulance corps version to the trunk
    version and merge the changes (leaving out anything specific to our
    organization), but I plan on doing it. The next version will also
    include historical tracking of roster information (member
    information, status, positions, committees, etc.) and &lt;span class="caps"&gt;LDAP&lt;/span&gt;
    integration for&amp;nbsp;authentication.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;PHPsa&lt;/strong&gt; - My new project, tentatively called PHPsa, is an
    integrated dashboard for sysadmins. The idea is to develop a
    plugin-based portal for &lt;span class="caps"&gt;SA&lt;/span&gt; tools. Currently, I will be including
    some of my own projects - MultiBindAdmin (a tool to administer &lt;span class="caps"&gt;BIND&lt;/span&gt;
    and DHCPd, specifically geared towards split-view &lt;span class="caps"&gt;DNS&lt;/span&gt; with the
    inside behind &lt;span class="caps"&gt;NAT&lt;/span&gt;) and RackMan (a tool to track and visualize the
    location of devices within racks, including ability to temporarily
    move devices around) - as well as my updates to Nathan Hubbard&amp;#8217;s
    &lt;a href="http://www.machdb.org/"&gt;MachDB&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I&amp;#8217;ve also done quite a bit of customization of the current version of
Nathan Hubbard&amp;#8217;s &lt;a href="http://www.machdb.org/"&gt;MachDB&lt;/a&gt;. It adds detailed
network interface information, information on expansion slots, and some
extra details for the system and storage. I plan on developing a patch
and contacting Nathan once I get a chance. It also includes a Python
collector script that I&amp;nbsp;developed.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Thu, 17 Sep 2009 13:00:00 -0400</pubDate><guid>tag:blog.jasonantman.com,2009-09-17:2009/09/september-2009-project-updates/</guid><category>machdb</category><category>php ems tools</category><category>PHPsa</category><category>Projects</category><category>rackman</category></item><item><title>New Projects</title><link>http://blog.jasonantman.com/2009/07/new-projects/</link><description>&lt;p&gt;In terms of ongoing projects, I should be updating RackMan sometime
soon, and also adding the demo&amp;nbsp;site.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ve begun to move &lt;span class="caps"&gt;DNS&lt;/span&gt; for all of my domains in-house, mostly because
since everything is behind &lt;span class="caps"&gt;NAT&lt;/span&gt;, it&amp;#8217;s a real pain to manage &lt;span class="caps"&gt;DNS&lt;/span&gt; entries
in two places (one of them being GoDaddy&amp;#8217;s web interface). Because of
the &lt;span class="caps"&gt;NAT&lt;/span&gt; issue, I&amp;#8217;m also writing my own &lt;span class="caps"&gt;BIND&lt;/span&gt; configuration tool,
currently named &lt;a href="http://multibindadmin.jasonantman.com"&gt;MultiBIND
Admin&lt;/a&gt;. In addition to managing
multiple zones in a sane way, it stores all configuration in MySQL.
Among other things, it can store different &lt;span class="caps"&gt;IP&lt;/span&gt; addresses for A records
for the inside and outside views. Zone files can either be pulled by a
script on the name server (push capability is being worked on) or
downloaded (for uploading to a &lt;span class="caps"&gt;DNS&lt;/span&gt; hosting provider like&amp;nbsp;GoDaddy).&lt;/p&gt;
&lt;p&gt;For my final project for my &lt;span class="caps"&gt;XML&lt;/span&gt; web design class, I&amp;#8217;m going to be making
some &amp;#8220;mashup&amp;#8221; with RackMan, Google Maps, Google Visualizer, Nagios, and
a few other&amp;nbsp;tools&amp;#8230;&lt;/p&gt;
&lt;p&gt;Stay&amp;nbsp;tuned&amp;#8230;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Thu, 16 Jul 2009 14:05:00 -0400</pubDate><guid>tag:blog.jasonantman.com,2009-07-16:2009/07/new-projects/</guid><category>bind</category><category>dns</category><category>google</category><category>PHPsa</category><category>rackman</category></item><item><title>Blinkenlights (blinkenlichten)</title><link>http://blog.jasonantman.com/2009/06/blinkenlights-blinkenlichten/</link><description>&lt;p&gt;I&amp;#8217;ll be posting more on this in the next few days, but I did a few more
upgrades at home, including a Proliant
&lt;a href="http://h18000.www1.hp.com/products/quickspecs/10902_na/10902_na.html"&gt;&lt;span class="caps"&gt;DL380G2&lt;/span&gt;&lt;/a&gt;
to replace my aged &lt;span class="caps"&gt;ML370&lt;/span&gt; (G1) storage box (array is failing badly) and a
Proliant &lt;a href="http://h18000.www1.hp.com/products/quickspecs/11049_na/11049_na.HTML"&gt;&lt;span class="caps"&gt;DL360&lt;/span&gt;
G2&lt;/a&gt;
as a second web server (and possibly moving Nagios over to that&amp;nbsp;box).&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m running into some problems with the old management card for the
Tripp Lite &lt;span class="caps"&gt;UPS&lt;/span&gt;, and I have a few other issues to sort out, but here&amp;#8217;s a
photo that I took this weekend after the upgrades (yes, it&amp;#8217;s a bit
blurry - that happens handheld at 1/10&amp;nbsp;sec).&lt;/p&gt;
&lt;p&gt;&lt;img alt="blinkenlights" src="/GFX/Das_Blinkenlights.gif" /&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;span class="caps"&gt;ACHTUNG&lt;/span&gt;! &lt;span class="caps"&gt;ALLES&lt;/span&gt; &lt;span class="caps"&gt;LOOKENSPEEPERS&lt;/span&gt;!
 Alles touristen und non-technischen looken peepers! Das
computermachine ist nicht fuer gefingerpoken und mittengrabben.
 Ist easy schnappen der springenwerk, blowenfusen und poppencorken mit
spitzensparken. Ist nicht fuer gewerken bei das dumpkopfen. Das
rubbernecken sichtseeren keepen das cotten-pickenen hans in das
pockets muss; relaxen und watchen das&amp;nbsp;blinkenlichten.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;(For those of you who aren&amp;#8217;t familiar with it,
&lt;a href="http://www.catb.org/jargon/html/B/blinkenlights.html"&gt;blinkenlights&lt;/a&gt;).&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Tue, 23 Jun 2009 10:54:00 -0400</pubDate><guid>tag:blog.jasonantman.com,2009-06-23:2009/06/blinkenlights-blinkenlichten/</guid></item><item><title>Many Many Changes; Downtime</title><link>http://blog.jasonantman.com/2009/03/many-many-changes/</link><description>&lt;p&gt;Well, I don&amp;#8217;t have time to go into a lot of detail, but I thought I&amp;#8217;d
give a recap of what&amp;#8217;s going on. I went down to Mount Holly, &lt;span class="caps"&gt;NJ&lt;/span&gt;
yestserday morning - about a 2-/12 hour drive each way, and picked up a
41U rack for the basement. Pretty damn heavy, took me two hours to
disassemble it, wrangle it down the stairs, and get it back together.
It&amp;#8217;s an old round-hole rack, which didn&amp;#8217;t seem to matter much until I
found that the tabs of the Dell Rapid Rails are just a bit too big to
fit in it, so neither my rack &lt;span class="caps"&gt;KMM&lt;/span&gt; nor the rails for my mail server will
fit. A bigger problem, though, is that the guy told me it was the
standard &lt;span class="caps"&gt;HP&lt;/span&gt; 29&amp;#8221; deep, and I found it to be 28-1/4&amp;#8221; deep when I started
racking things up. So, though I just spent $200 on rails for old
Proliants, they&amp;#8217;re all about 1/2&amp;#8221; too long to&amp;nbsp;fit.&lt;/p&gt;
&lt;p&gt;Yesterday, I also had Cablevision show up to install the new Optimum
Business with 5 static&amp;nbsp;IPs.&lt;/p&gt;
&lt;p&gt;So, last night around 9:00, I started the arduous task of (for the first
time ever) powering down &lt;span class="caps"&gt;ALL&lt;/span&gt; of my machines, moving them to the new
rack, and re-cabling. That took about 2-1/2 hours, after which my intent
was to bring up the new Optimum connection, configure the Vyatta router,
and roll over mail and web. From what I&amp;#8217;d read of the Vyatta docs it
seemed a relatively straightforward task, and being the stubborn jackass
that I am, I decied, &amp;#8220;hey, it&amp;#8217;s my personal site, it&amp;#8217;s low traffic, and
I want it up before I go to sleep. I&amp;#8217;ll roll over &lt;span class="caps"&gt;DNS&lt;/span&gt; &lt;em&gt;before&lt;/em&gt; I bring
everything&amp;nbsp;up.&amp;#8221;&lt;/p&gt;
&lt;p&gt;That was a &lt;strong&gt;very bad idea&lt;/strong&gt;. Vyatta isn&amp;#8217;t nearly as
simple as it seems - especially for someone who isn&amp;#8217;t really a network
(or at least router/firewall) guy. When they say Enterprise, they mean
robust. They also mean that week-long bootcamps aren&amp;#8217;t for naught. It
took me about half an hour to figure out that even if no &amp;#8220;firewall&amp;#8221;
ruleset is associated with an interface, it still has an implicit drop
all. And if you only want to firewall what&amp;#8217;s coming in from the outside
world, and let everything out, you need to add explicit allow all rules
to the in and out sides of the &lt;span class="caps"&gt;LAN&lt;/span&gt; inteface and the out side of the &lt;span class="caps"&gt;WAN&lt;/span&gt;&amp;nbsp;interface.&lt;/p&gt;
&lt;p&gt;To top all this off, I had some serious still-unexplained &lt;span class="caps"&gt;DHCP&lt;/span&gt; problems
on the &lt;span class="caps"&gt;LAN&lt;/span&gt;, a serious issue since I just set all my hosts to &lt;span class="caps"&gt;DHCP&lt;/span&gt; (which
I&amp;#8217;ll probably undo soon). So, Yesterday was network work from 7:30 &lt;span class="caps"&gt;AM&lt;/span&gt; to
3 &lt;span class="caps"&gt;AM&lt;/span&gt; today (including driving to pickup the rack). By the time 3 &lt;span class="caps"&gt;AM&lt;/span&gt;
rolled around, I was quite unhappy that I decided to roll over &lt;span class="caps"&gt;DNS&lt;/span&gt; in
order to force myself to get things working, as I ended up going back to
FiOS for client access only. Today started around 10 &lt;span class="caps"&gt;AM&lt;/span&gt;, and here I am -
6:30 &lt;span class="caps"&gt;PM&lt;/span&gt;, and I just got things working partially right. I have mail
working - arguably the most important - for jasonantman.com only, though
I have yet to setup any&amp;nbsp;aliases.&lt;/p&gt;
&lt;p&gt;On the web side, I&amp;#8217;m working to setup name-based vhosts for all of the
subdomains, but for some reason, blog is showing up for everything.
Luckily it works right. So we&amp;#8217;ll&amp;nbsp;see&amp;#8230;.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Sat, 07 Mar 2009 19:05:00 -0500</pubDate><guid>tag:blog.jasonantman.com,2009-03-07:2009/03/many-many-changes/</guid><category>firewall</category><category>optimum</category><category>rack</category><category>router</category><category>wan</category></item><item><title>Big Changes to JasonAntman.com</title><link>http://blog.jasonantman.com/2009/03/big-changes-to-jasonantmancom/</link><description>&lt;p&gt;Well, I finally broke down and ordered Optimum Business. Come tomorrow,
I&amp;#8217;ll be moving from Verizon FiOS residential with a dynamic &lt;span class="caps"&gt;IP&lt;/span&gt;, much
blocked (hence jantman.dyndns.org:10011) and 10Mbps down/2Mbps up to
Optimum Business with 30 down/5 up, a block of 5 static IPs, and no
blocked&amp;nbsp;ports.&lt;/p&gt;
&lt;p&gt;It&amp;#8217;s going to be a crazy weekend. Probably not the best thing the week
before midterms, but oh well. Tomorrow morning I&amp;#8217;m picking up a 42U rack
for home to replace the Sears shelving unit my boxes are currently on.
Cablevision is supposed to be here between 2-5 &lt;span class="caps"&gt;PM&lt;/span&gt; to do the install
(yes, they insist that for Business they do the install, even though
it&amp;#8217;s only a 4-foot coax run from the first splitter to the demarc). I&amp;#8217;ve
got &lt;a href="http://www.vyatta.org"&gt;Vyatta&lt;/a&gt; &lt;span class="caps"&gt;CE5&lt;/span&gt; Beta installed on a &lt;a href="http://h18000.www1.hp.com/products/quickspecs/11049_na/11049_na.HTML"&gt;Proliant
&lt;span class="caps"&gt;DL360G2&lt;/span&gt;&lt;/a&gt;
as the new router, ready to go (after some configuration). I&amp;#8217;ll probably
keep FiOS up until I know the new router is working correctly (I&amp;#8217;ll do a
test on my management&amp;nbsp;&lt;span class="caps"&gt;VLAN&lt;/span&gt;).&lt;/p&gt;
&lt;p&gt;Once Optimum and the new router is up, the fun&amp;nbsp;starts:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Forward the appropriate ports on the new router, including 80 (in
    addition to&amp;nbsp;10011).&lt;/li&gt;
&lt;li&gt;Bring the old router down and make sure the new one is up,
    operational, and forwarding all the right&amp;nbsp;ports.&lt;/li&gt;
&lt;li&gt;Update DynDNS to point to the first &lt;span class="caps"&gt;IP&lt;/span&gt;, used as a catch-all for old
    DynDNS&amp;nbsp;links.&lt;/li&gt;
&lt;li&gt;Begin assignment of the 5 IPs (everything will be behind &lt;span class="caps"&gt;NAT&lt;/span&gt;) based
    on a list of what hosts need valid reverse &lt;span class="caps"&gt;DNS&lt;/span&gt;, and then adding
    other ports (NATed) as&amp;nbsp;needed.&lt;/li&gt;
&lt;li&gt;Update &lt;span class="caps"&gt;DNS&lt;/span&gt; for JasonAntman.com and the other&amp;nbsp;domains.&lt;/li&gt;
&lt;li&gt;Update Optimum reverse&amp;nbsp;&lt;span class="caps"&gt;DNS&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;Ensure that everything works as planned, &lt;span class="caps"&gt;DNS&lt;/span&gt; is up, ports are
    forwarded, and everything is as before (at least in terms of&amp;nbsp;&lt;span class="caps"&gt;HTTP&lt;/span&gt;).&lt;/li&gt;
&lt;li&gt;Once &lt;span class="caps"&gt;DNS&lt;/span&gt; is up, reconfigure Apache to have a vhost handling any
    legacy requests to port 10011 and rewrite them to&amp;nbsp;www.jasonantman.com.&lt;/li&gt;
&lt;li&gt;Setup a vhost for &amp;#8216;www&amp;#8217; that takes URLs that used to be
    subdirectories (i.e. www.jasonantman.com/blog) and rewrites them to
    requests for the appropriate subdomain. Simultaneously move
    everything from the default vhost to name-based&amp;nbsp;vhosts.&lt;/li&gt;
&lt;li&gt;Ensure that old jantman.dyndns.org:10011 requests are being
    redirected properly, and requests for subdirectories under the web
    root are going to the right&amp;nbsp;subdomain.&lt;/li&gt;
&lt;li&gt;Check that this all works acceptably with the existing
    blogger-to-wordpress rewrite&amp;nbsp;script.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Finally&lt;/strong&gt; start rolling out some of the new services that I had
    waiting for the new&amp;nbsp;connection.&lt;/li&gt;
&lt;li&gt;Start the arduous process of reconfiguring my mail server, moving
    from Fetchmail from Verizon to an actual mail server, make
    everything work, and make sure my IPs aren&amp;#8217;t&amp;nbsp;blacklisted.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Ugh.&lt;/strong&gt; Find anywhere in the entire &amp;#8216;net where my old @verizon.net
    address appeared (especially GoDaddy, DynDNS, other important stuff)
    and change it to the new jasonantman.com&amp;nbsp;address.&lt;/li&gt;
&lt;li&gt;Since this is all in my mother&amp;#8217;s basement (there&amp;#8217;s nothing like a
    mother&amp;#8217;s love, especially when it comes to a constant hum emanating
    from the ground level of a house), figure out what to do for her
    when the verizon.net email goes&amp;nbsp;away.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;So I might have some downtime this weekend, but when things come back
up, I&amp;#8217;ll be done with this DynDNS and Port 10011&amp;nbsp;crap.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Thu, 05 Mar 2009 10:22:00 -0500</pubDate><guid>tag:blog.jasonantman.com,2009-03-05:2009/03/big-changes-to-jasonantmancom/</guid><category>fios</category><category>optimum</category><category>vyatta</category></item><item><title>Vyatta Initial Impressions</title><link>http://blog.jasonantman.com/2009/02/vyatta-initial-impressions/</link><description>&lt;p&gt;I&amp;#8217;m part-way through the major overhaul of my home network (hosting this
blog and everything else jasonantman.com) that I&amp;#8217;ve been planning for
quite some time. The current hardware is&amp;#8230; uh&amp;#8230; currently&amp;#8230; described
on my Hardware
page, but I soon plan on ditching the wiki and moving to a &lt;span class="caps"&gt;CMS&lt;/span&gt; for my
entire&amp;nbsp;site.&lt;/p&gt;
&lt;p&gt;Anyway, so far I&amp;#8217;ve decommissioned my aged &lt;span class="caps"&gt;HP&lt;/span&gt; ProCurve 2424M switch
and replaced it with used but less-aged Cisco 2948G from &lt;a href="http://horizondatacom.com/"&gt;Horizon
Datacom&lt;/a&gt; (purchased on Ebay). Quite an
upgrade. In order to handle network backups a little better, I&amp;#8217;m also
adding a Cisco 4912G 12-port Gigabit (&lt;span class="caps"&gt;GBIC&lt;/span&gt;) aggregation switch for the
administrative/backup &lt;span class="caps"&gt;VLAN&lt;/span&gt; - though this was purchased via ebay from
&lt;a href="http://stores.ebay.com/RedApe-Technologies"&gt;RedApe Technologies&lt;/a&gt; in &lt;span class="caps"&gt;PA&lt;/span&gt;.
The switch came with 12 &lt;span class="caps"&gt;1000BASE&lt;/span&gt;-&lt;span class="caps"&gt;SX&lt;/span&gt; GBICs, and I plan to do a mix of
copper (&lt;span class="caps"&gt;1000BASE&lt;/span&gt;-T) where it&amp;#8217;s already available (onboard NICs) and
&lt;span class="caps"&gt;1000BASE&lt;/span&gt;-&lt;span class="caps"&gt;SX&lt;/span&gt; where there&amp;#8217;s enough room in the box for a&amp;nbsp;card.&lt;/p&gt;
&lt;p&gt;On the hardware side, I also have 2 new boxes - a set of &lt;span class="caps"&gt;HP&lt;/span&gt; Proliant
&lt;a href="http://h18000.www1.hp.com/products/quickspecs/11049_na/11049_na.HTML"&gt;&lt;span class="caps"&gt;DL360&lt;/span&gt;
G2&lt;/a&gt;&amp;#8216;s
from &lt;a href="http://www.mjsglobal.com/"&gt;&lt;span class="caps"&gt;MJS&lt;/span&gt; Global&lt;/a&gt;, who I&amp;#8217;ve done business
with before. The prices were great, and though one of them showed up
with a faulty temperature sensor that prevents boot, &lt;span class="caps"&gt;MJS&lt;/span&gt; has been
wonderful and is shipping me a replacement motherboard. One of the boxes
will be running &lt;a href="http://www.vyatta.org/"&gt;Vyatta&lt;/a&gt; (vee-&lt;span class="caps"&gt;AH&lt;/span&gt;-tha) &lt;span class="caps"&gt;VC5&lt;/span&gt;
router/firewall software, and the other will be a new services box
running internal &lt;span class="caps"&gt;DNS&lt;/span&gt;, &lt;span class="caps"&gt;DHCP&lt;/span&gt;, &lt;span class="caps"&gt;NTP&lt;/span&gt;, and whatever&amp;nbsp;else.&lt;/p&gt;
&lt;p&gt;On the hardware side, I&amp;#8217;m also planning some extended downtime a few
weekends from now, when I should finally have a 42U rack to replace the
Sears shelves my equipment is now on. It&amp;#8217;ll be a fun-filled evening of
racking equipment and re-patching everything. Also, hopefully within a
few weeks, I&amp;#8217;ll be moving my &lt;span class="caps"&gt;WAN&lt;/span&gt; pipe from Verizon FiOS residential to
Optimum Business, which is essentially re-packaged residential but
provides 5 static IPs, no blocked ports, and 30 Mbps down/5 Mbps&amp;nbsp;up.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Vyatta&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;When planning this upgrade, I think I looked at every open source router
package out there, as well as some of the lower-end or older Cisco
models. I&amp;#8217;m currently running &lt;a href="http://www.ipcop.org/"&gt;IPcop&lt;/a&gt;, which does
everything I need except it doesn&amp;#8217;t handle multiple &lt;span class="caps"&gt;WAN&lt;/span&gt; IPs, and all
configuration is via a web interface - which means every time I want to
make a change remotely (and during the week I&amp;#8217;m not home) I have to
forward &lt;span class="caps"&gt;HTTPS&lt;/span&gt; over &lt;span class="caps"&gt;SSH&lt;/span&gt;. After doing an extensive feature comparison, I
ended up narrowing it down to a relative newcomer - Vyatta. Though I
don&amp;#8217;t know how much of it is marketing hype, they are targeted squarely
at Cisco, and provide relatively enterprise-level features; a
JunOS-based &lt;span class="caps"&gt;CLI&lt;/span&gt;, &lt;span class="caps"&gt;BGP&lt;/span&gt;, &lt;span class="caps"&gt;OSPF&lt;/span&gt;, and all of the other important&amp;nbsp;stuff.&lt;/p&gt;
&lt;p&gt;Yesterday I attempted an install of Vyatta &lt;span class="caps"&gt;CE&lt;/span&gt; 5 Beta on one of the
&lt;span class="caps"&gt;DL360G2&lt;/span&gt;&amp;#8217;s. The only real problem that I found was the install script
doesn&amp;#8217;t support &lt;span class="caps"&gt;CCISS&lt;/span&gt; drives, as found in the Proliants, but a few
manual hacks to the script fixed that. By far the best thing about
Vyatta is it&amp;#8217;s based on vanilla Debian Lenny, and full root shell access
is available, so modifying the install script - or even adding
non-Vyatta packages - is a cinch. I haven&amp;#8217;t really played around with it
too much, but it appears to be a wonderful mix of Linux and an
enterprise router &lt;span class="caps"&gt;CLI&lt;/span&gt;. While root has a full &lt;span class="caps"&gt;BASH&lt;/span&gt; shell, and the Vyata
commands are all done as shell aliases (so users still have access to
shell primitives and &lt;span class="caps"&gt;OS&lt;/span&gt; commands), configuration is accomplished via a
JunOS-like command set. You still get &amp;#8220;commit&amp;#8221; and &amp;#8220;rollback&amp;#8221; in config
mode, and can still do fun things like save and load configs to/from
tftp, ftp and &lt;em&gt;http&lt;/em&gt;. On the other hand, I doubt I&amp;#8217;ll do config backups
that way since I can just use scp or&amp;nbsp;sftp.&lt;/p&gt;
&lt;p&gt;The Vyatta box will probably go home this weekend, and get hooked up to
the network for config-only use (and I can always get in via iLO on the
hardware) and hopefully come up sometime in the next few&amp;nbsp;weeks.&lt;/p&gt;
&lt;p&gt;At this point, the most daunting task is figuring out how to get all of
the existing links to my site to work - since jantman.dyndns.org will be
legacy, and most of the site structure will probably change to use
name-based vhosts. Lately I&amp;#8217;ve been trying to use the real subdomains in
all of my public links, so the transition (planned for a while) will
work, but I&amp;#8217;m sure there are still plenty of links out there that will
need dealing with (maybe keep port 10011 serving &lt;span class="caps"&gt;HTTP&lt;/span&gt; with a massive
mod_rewrite script to redirect to the right place???), as well as
checking everything on the web server to make sure there aren&amp;#8217;t any
absolute URLs (like&amp;nbsp;WordPress).&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Thu, 26 Feb 2009 10:06:00 -0500</pubDate><guid>tag:blog.jasonantman.com,2009-02-26:2009/02/vyatta-initial-impressions/</guid><category>cisco</category><category>networking</category><category>router</category><category>vyatta</category></item><item><title>Wordpress Installation, Finished</title><link>http://blog.jasonantman.com/2009/02/wordpress-installation-finished/</link><description>&lt;p&gt;Found this from a month and a half ago, waiting as a&amp;nbsp;draft:&lt;/p&gt;
&lt;p&gt;So, I mostly finished the WordPress installation. I got everything for
WordPress up and running, tested my Blogger &lt;span class="caps"&gt;URL&lt;/span&gt; redirection script and
then switched over my subdomain&amp;nbsp;redirection.&lt;/p&gt;
&lt;p&gt;The blogger redirection takes two parts, but is in fact quite simple.
First, I went into the directory where the Blogger content had lived -
&lt;code&gt;/srv/www/htdocs/blog&lt;/code&gt; and moved everything in there into another
directory, out of the way. I then created a .htaccess in the directory&amp;nbsp;like:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="nt"&gt;&amp;lt;IfModule&lt;/span&gt; &lt;span class="s"&gt;mod_rewrite.c&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="nb"&gt;RewriteEngine&lt;/span&gt; &lt;span class="k"&gt;On&lt;/span&gt;
&lt;span class="nb"&gt;RewriteBase&lt;/span&gt; &lt;span class="sx"&gt;/blog/&lt;/span&gt;
&lt;span class="nb"&gt;RewriteCond&lt;/span&gt; %{REQUEST_FILENAME} !-f
&lt;span class="nb"&gt;RewriteCond&lt;/span&gt; %{REQUEST_FILENAME} !-d
&lt;span class="nb"&gt;RewriteRule&lt;/span&gt; .* index.php [L]
&lt;span class="nt"&gt;&amp;lt;/IfModule&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;All this does is used mod_rewrite to serve blog/index.php up for every
page request. In index.php, I handle the important &lt;span class="caps"&gt;URL&lt;/span&gt; forms for Blogger
- archives, tags, feeds, and posts - and redirect to the appropriate
place. For archives, I just parse out the year and month from the
Blogger &lt;span class="caps"&gt;URL&lt;/span&gt; and redirect to the proper page for &lt;span class="caps"&gt;WP&lt;/span&gt;. The feed is straight
redirection. The tags (&amp;#8220;labels&amp;#8221; in Blogger parlance) are pulled out of
the &lt;span class="caps"&gt;URL&lt;/span&gt;, have spaces (after &lt;code&gt;urldecode()&lt;/code&gt;) replaced with dashes and are
redirected to the right tag for&amp;nbsp;&lt;span class="caps"&gt;WP&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;The posts, on the other hand, were a bit more difficult. My solution
ended up being parsing the post name out of the &lt;span class="caps"&gt;URL&lt;/span&gt;. When I used the
import tool, &lt;span class="caps"&gt;WP&lt;/span&gt; kept the original Blogger URLs in the &lt;code&gt;wp_postmeta&lt;/code&gt;
table with a &lt;code&gt;meta_key&lt;/code&gt; of &amp;#8220;blogger_permalink&amp;#8221;. I just looked for a
Blogger permalink matching the title from the Blogger &lt;span class="caps"&gt;URL&lt;/span&gt;, found the
corresponding post &lt;span class="caps"&gt;ID&lt;/span&gt; and redirected to the proper new &lt;span class="caps"&gt;WP&lt;/span&gt;&amp;nbsp;&lt;span class="caps"&gt;URL&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;The code for index.php, for me, looks something&amp;nbsp;like:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="cp"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class="c1"&gt;// redirect old Blogger URLs in /blog to new WordPress in /wp&lt;/span&gt;
&lt;span class="nv"&gt;$request&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;mysql_real_escape_string&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;str_replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/blog&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$_SERVER&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;REQUEST_URI&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]));&lt;/span&gt;

&lt;span class="c1"&gt;// handle constant stuff like feeds and top-level pages&lt;/span&gt;
&lt;span class="c1"&gt;// &lt;span class="caps"&gt;TODO&lt;/span&gt;&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;strpos&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;_archive.html&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;// redirect to an archive&lt;/span&gt;
    &lt;span class="nv"&gt;$request&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;substr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;strpos&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="nv"&gt;$ary&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;explode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;_&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$request&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="nv"&gt;$redirect_to&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;http://blog.jasonantman.com/&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$ary&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$ary&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="nx"&gt;header&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Location: &amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$redirect_to&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;die&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;elseif&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;strpos&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;labels/&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;// redirect to a tag page&lt;/span&gt;
    &lt;span class="nv"&gt;$redirect_to&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;substr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;strpos&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;labels/&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="nv"&gt;$redirect_to&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;str_replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;.html&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$redirect_to&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="nv"&gt;$redirect_to&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;urldecode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$redirect_to&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="nv"&gt;$redirect_to&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;str_replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot; &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;-&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$redirect_to&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="nv"&gt;$redirect_to&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;http://blog.jasonantman.com/tags/&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;strtolower&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$redirect_to&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="nx"&gt;header&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Location: &amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$redirect_to&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;die&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;elseif&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;strpos&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;/blogger.html&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;// redirect to main blog&lt;/span&gt;
    &lt;span class="nx"&gt;header&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Location: http://blog.jasonantman.com/&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;die&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;elseif&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;strpos&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;/atom.xml&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;// redirect to new feed&lt;/span&gt;
    &lt;span class="nx"&gt;header&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Location: http://blog.jasonantman.com/feed/&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;die&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="c1"&gt;// handle the posts, months, tags, etc.&lt;/span&gt;
&lt;span class="nv"&gt;$fail&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;false&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="nv"&gt;$redirect_to&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="nv"&gt;$conn&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;mysql_connect&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;   &lt;span class="k"&gt;or&lt;/span&gt; &lt;span class="k"&gt;die&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Error. MySQL connection failed at mysql_connect&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="nv"&gt;$conn&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nb"&gt;error_log&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;span class="caps"&gt;SCRIPT&lt;/span&gt; &amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$_SERVER&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;PHP_SELF&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;: &amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Unable to connect to MySQL.&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="nv"&gt;$fail&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;true&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="nv"&gt;$select&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;mysql_select_db&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;wordpress&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="nv"&gt;$select&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nb"&gt;error_log&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;span class="caps"&gt;SCRIPT&lt;/span&gt; &amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$_SERVER&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;PHP_SELF&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;: &amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Unable to select &lt;span class="caps"&gt;DB&lt;/span&gt; wordpress.&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="nv"&gt;$fail&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;true&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="nv"&gt;$query&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;span class="caps"&gt;SELECT&lt;/span&gt; m.meta_key,m.meta_value,p.post_name,p.post_date &lt;span class="caps"&gt;FROM&lt;/span&gt; wp_postmeta &lt;span class="caps"&gt;AS&lt;/span&gt; m &lt;span class="caps"&gt;LEFT&lt;/span&gt; &lt;span class="caps"&gt;JOIN&lt;/span&gt; wp_posts &lt;span class="caps"&gt;AS&lt;/span&gt; p &lt;span class="caps"&gt;ON&lt;/span&gt; m.post_id=p.&lt;span class="caps"&gt;ID&lt;/span&gt; &lt;span class="caps"&gt;WHERE&lt;/span&gt; m.meta_key=&amp;#39;blogger_permalink&amp;#39; &lt;span class="caps"&gt;AND&lt;/span&gt; m.meta_value=&amp;#39;&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$request&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;#39;;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="nv"&gt;$result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;mysql_query&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$query&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="nv"&gt;$result&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nb"&gt;error_log&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;span class="caps"&gt;SCRIPT&lt;/span&gt; &amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$_SERVER&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;PHP_SELF&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;: &amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Error in query: &amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$query&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot; &lt;span class="caps"&gt;ERROR&lt;/span&gt;: &amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;mysql_error&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;
    &lt;span class="nv"&gt;$fail&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;true&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;mysql_num_rows&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$result&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;// couldn&amp;#39;t find an appropriate page&lt;/span&gt;
    &lt;span class="c1"&gt;// &lt;span class="caps"&gt;TODO&lt;/span&gt;: find a better way... for now just redirect to the month page&lt;/span&gt;
    &lt;span class="nv"&gt;$ary&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;explode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$request&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;count&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$ary&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="nv"&gt;$redirect_to&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;http://blog.jasonantman.com/&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$ary&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$ary&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="nv"&gt;$redirect_to&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;http://blog.jasonantman.com/&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;else&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nv"&gt;$row&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;mysql_fetch_assoc&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$result&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="nv"&gt;$redirect_to&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;http://blog.jasonantman.com/&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;date&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Y&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;strtotime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$row&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;post_date&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;date&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;m&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;strtotime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$row&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;post_date&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$row&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;post_name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$fail&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;// redirect to main page with 302&lt;/span&gt;
    &lt;span class="nx"&gt;Header&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Location: http://blog.jasonantman.com/&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;);&lt;/span&gt; &lt;span class="c1"&gt;// implicit 302&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;else&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;// redirect to the post or month&lt;/span&gt;
    &lt;span class="nx"&gt;Header&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;span class="caps"&gt;HTTP&lt;/span&gt;/1.1 301 Moved Permanently&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="nx"&gt;Header&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Location: &amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$redirect_to&lt;/span&gt; &lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="cp"&gt;?&amp;gt;&lt;/span&gt;&lt;span class="x"&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;So, it now looks like I&amp;#8217;m pretty much done with setup, and even get to
keep my links. The one interesting problem that will crop up is due to
the fact that, at the moment, I&amp;#8217;m hosting off of a dynamically IPed
residential internet connection, so I&amp;#8217;m at
&lt;code&gt;http://jantman.dyndns.org:10011&lt;/code&gt;. The problem lies in the fact that
Blogger used this for its&amp;#8217; URIs and Permalinks, and it seems that
(though &lt;code&gt;http://blog.jasonantman.com&lt;/code&gt; uses a 302 not a 301 to redirect)
Google, Technorati, etc. have indexed my site with this hostname and
port, instead of the redirecting subdomain. Normally this wouldn&amp;#8217;t be a
problem, but I plan on soon moving to a business hosting account with 5
static IPs and port 80 open. Which means that soon the subdomain will
become &amp;#8220;real&amp;#8221;&amp;#8230; and all of those pesky dyndns.org:10011 links will be
obsolete. The only way I can think of fixing this is, once I make the
switch to static &lt;span class="caps"&gt;IP&lt;/span&gt; and port 80 (which will also include moving all of
my subdomains to name-based virtual hosts) I&amp;#8217;ll have to craft
RewriteRules or redirect rules to replace
&lt;code&gt;http://jantman.dyndns.org:10011/wp/&lt;/code&gt; with
&lt;code&gt;http://blog.jasonantman.com/&lt;/code&gt;, update DynDNS with my new static &lt;span class="caps"&gt;IP&lt;/span&gt;, and
keep a default vhost listening on 10011 to provide rule-based
redirection to the new subdomain.&amp;nbsp;Eek.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Tue, 03 Feb 2009 10:13:00 -0500</pubDate><guid>tag:blog.jasonantman.com,2009-02-03:2009/02/wordpress-installation-finished/</guid><category>apache</category><category>blogger</category><category>dynamic IP</category><category>wordpress</category></item><item><title>WordPress… Finally!</title><link>http://blog.jasonantman.com/2008/12/wordpress-finally/</link><description>&lt;p&gt;Well, I finally bit the bullet. I woke up this morning, got in to work
(slow day) and said to myself, &amp;#8220;My blog&amp;#8217;s finally moving to WordPress.
Today.&amp;#8221; So, I read through the docs (really psyched about the Blogger
import feature), downloaded 2.7 (latest), setup the &lt;span class="caps"&gt;DB&lt;/span&gt; and installed
away. Once I did the preliminary things like changing the admin password
and setting up some categories, I set about importing from&amp;nbsp;Blogger.&lt;/p&gt;
&lt;p&gt;Here was the first of the major issues. Though WordPress has really
hyped their Blogger importer, they failed to mention that it is totally
useless if you are self-hosting Blogger and publishing via &lt;span class="caps"&gt;FTP&lt;/span&gt; or &lt;span class="caps"&gt;SFTP&lt;/span&gt;,
as I was. So, after a lengthy consultation with the great oracle of
Google, I dedided I had two options - switch Blogger to publish to
BlogSpot.com and use the &lt;span class="caps"&gt;WP&lt;/span&gt; import tool, or custom hack a script. I must
admit, it felt a bit pointless&amp;#8230; all of my old posts were in a directry
at the same level as &lt;span class="caps"&gt;WP&lt;/span&gt;, it seemed quite stupid to have to jump through
hoops to get that data. Though I&amp;#8217;m not quite sure whether the GData &lt;span class="caps"&gt;API&lt;/span&gt;
really doesn&amp;#8217;t give access to posts if&amp;nbsp;self-hosted.&lt;/p&gt;
&lt;p&gt;I migrated publishing of Blogger to BlogSpot.com
(&lt;a href="http://www.jasonantman.com/jargon/entry.php?id=metasyntactic-variable"&gt;foobarthudgrunt&lt;/a&gt;.blogspot.com),
despite worries about confusing Google or messing up the little bit of
ranking I&amp;#8217;ve been able to gain. It successfully imported all 128 of my
entries, and the few comments. But, as I navigated to the &amp;#8220;Edit&amp;#8221; page to
have a look, an even bigger problem was apparent. All of the tags from
Blogger had ended up as categories in &lt;span class="caps"&gt;WP&lt;/span&gt;. So I had no tags for any of my
posts, and a gazillion categories with only one post in them. Luckily,
the &lt;span class="caps"&gt;DB&lt;/span&gt; schema is pretty sane, and I qickly figured out that both
categories and tags are stored in the &lt;code&gt;wp_term_taxonomy&lt;/code&gt; table, and the
difference between a category and a tag is simply that the &lt;code&gt;taxonomy&lt;/code&gt;
field is either &amp;#8220;category&amp;#8221; or &amp;#8220;post_tag&amp;#8221;, respectively. So, since I
hadn&amp;#8217;t added any posts in &lt;span class="caps"&gt;WP&lt;/span&gt; yet, I just changed &lt;code&gt;taxonomy&lt;/code&gt; to
&amp;#8220;post_tag&amp;#8221; for anything with an &lt;span class="caps"&gt;ID&lt;/span&gt; past the categories I&amp;#8217;d added. And
it seems to have worked&amp;nbsp;beautifully.&lt;/p&gt;
&lt;p&gt;Up next, however, was the hard part: sitting down with my list of
categories and sifting through 128 posts to categorize them. The biggest
pain is the default edit posts table in the admin interface lists 15
posts per page, and with a cursory glance at the source I couldn&amp;#8217;t for
the life of me figure out where that limit is&amp;nbsp;set.&lt;/p&gt;
&lt;p&gt;Next up, I spent some time looking over the configuration options in &lt;span class="caps"&gt;WP&lt;/span&gt;,
updating my About page, and listing things to do in the future (more
static pages, blogroll and links,&amp;nbsp;etc.).&lt;/p&gt;
&lt;p&gt;I was finally ready to setup pretty URLs. And&amp;#8230; sure enough&amp;#8230; I
clicked &amp;#8220;submit&amp;#8221; to apply some changes to the default blog &lt;span class="caps"&gt;URL&lt;/span&gt; (my real
domain, as opposed to the DynDNS domain) and subtitle, and I got kicked
out of the admin interface. Try as I might, I had no luck logging in. I
then found that WordPress doesn&amp;#8217;t log anything anywhere - no MySQL log
and no error messages in the Apache error log. Wondeful. I spent about
an hour looking through the source, figuring out how the auth method
works, and trying to set an &lt;span class="caps"&gt;MD5&lt;/span&gt; password. It was obviously apparent that
the password in the &lt;span class="caps"&gt;DB&lt;/span&gt; for my one user (administrative user) was
generated by PHPass, not &lt;span class="caps"&gt;MD5&lt;/span&gt;, but the auth function was evaluating
anything &gt;= 32 characters as PHPass, and the &lt;span class="caps"&gt;MD5&lt;/span&gt; of my password was 32
characters, so that wouldn&amp;#8217;t work. I tried the &amp;#8220;forgot password&amp;#8221; link
with both username and email, but no mail was being sent. When I reached
the 2-1/2 hour mark, I started instrumenting the login code with some
&lt;code&gt;error_log()&lt;/code&gt; lines to see what was up. I narrowed the problem down to
the block of code starting at lin 48 in &lt;code&gt;wp-include/user.php&lt;/code&gt; -
specifically, according to the comments, no credentials were being
passed but the cookie wasn&amp;#8217;t set. And it&amp;#8217;s silent in that case. So, at
this point, I&amp;#8217;m totally lost. I decided to clear all of my browser&amp;#8217;s
cookies and auth info, and try again. No dice. After nearly 3 hours, I
decided to do a packet capture, and found the horribly simple reason.
Somewhere in the code, &lt;span class="caps"&gt;WP&lt;/span&gt; is evaluating the &amp;#8220;siteurl&amp;#8221; or &amp;#8220;home&amp;#8221; values
from wp_options, and using them instead of just doing relative links.
As a result, when the form submits, Apache keeps returning a 302, and
the form submission never makes it there. Hopefully this won&amp;#8217;t create a
problem when I transition from DynDNS to a real static &lt;span class="caps"&gt;IP&lt;/span&gt; and domain&amp;nbsp;name.&lt;/p&gt;
&lt;p&gt;Next I enabled pretty permalinks, enabled mod_rewrite in the vhost, and
selected a new template for my blog (though I&amp;#8217;m planning on doing some
heavy customization). I didn&amp;#8217;t want to leave the default template up for
too long, in case Google&amp;#8217;s heavy crawling of my site picked up all of
the new content somehow&amp;#8230; I ended up narrowing it down to three themes,
coincidentally all designed by
&lt;a href="http://wordpress.org/extend/themes/profile/mg12"&gt;mg12&lt;/a&gt;:
&lt;a href="http://wordpress.org/extend/themes/blocks2"&gt;Blocks2&lt;/a&gt;,
&lt;a href="http://wordpress.org/extend/themes/inove#post-668"&gt;iNove&lt;/a&gt; or
&lt;a href="http://wordpress.org/extend/themes/elegant-box"&gt;ElegantBox&lt;/a&gt;. I
installed them all on my box and looked at iNove first, and it was love
at first&amp;nbsp;sight.&lt;/p&gt;
&lt;p&gt;So, that&amp;#8217;s where it stands right now. I finally have my blog on
WordPress and running, and have a theme. The action plan for tonight&amp;nbsp;includes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Using RewriteRule and a &lt;span class="caps"&gt;PHP&lt;/span&gt; script to point all of the old Blogger
    URLs to the new WordPress&amp;nbsp;installation.&lt;/li&gt;
&lt;li&gt;Adding some new static content, and top-bar links to my other&amp;nbsp;sites.&lt;/li&gt;
&lt;li&gt;Refining the theme a bit,&amp;nbsp;possibly?&lt;/li&gt;
&lt;li&gt;Adding links to my sites, and to the&amp;nbsp;blogroll.&lt;/li&gt;
&lt;li&gt;Adding the buttons/plugins for del.icio.us, Digg, Slashdot, reddit,&amp;nbsp;etc.&lt;/li&gt;
&lt;li&gt;Redirecting my main blog page to&amp;nbsp;WordPress.&lt;/li&gt;
&lt;li&gt;Redirecting or linking my old feed locations to&amp;nbsp;WordPress.&lt;/li&gt;
&lt;/ul&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Wed, 17 Dec 2008 15:58:00 -0500</pubDate><guid>tag:blog.jasonantman.com,2008-12-17:2008/12/wordpress-finally/</guid><category>blogger</category><category>blogging</category><category>PHP</category><category>wordpress</category></item><item><title>Update</title><link>http://blog.jasonantman.com/2008/10/update-3/</link><description>&lt;p&gt;It&amp;#8217;s been a long month and a half or so. A bunch of new projects at work
(and interviewing for a full-time position) and lots of school stuff,
all on top of having my truck stolen, dealing with insurance and the
police, and then recovering it, and dealing with insurance again. It&amp;#8217;s a
long long story, which I posted as a Note on&amp;nbsp;facebook.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.php-ems-tools.com"&gt;&lt;span class="caps"&gt;PHP&lt;/span&gt; &lt;span class="caps"&gt;EMS&lt;/span&gt; Tools&lt;/a&gt; is due for a major
revision, and hopefully this will include, among other things, the
following new&amp;nbsp;features:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Support for &lt;a href="http://en.wikipedia.org/wiki/I18n"&gt;i18n&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Install-time choice of using MySQL or &lt;span class="caps"&gt;LDAP&lt;/span&gt; as a roster and
    authentication storage&amp;nbsp;system.&lt;/li&gt;
&lt;li&gt;Some vastly more efficient changes to the database schema,
    specifically dealing with&amp;nbsp;scheduling.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I&amp;#8217;m still working on some other big projects, namely the migration of
this blog to &lt;a href="http://wordpress.org/"&gt;WordPress&lt;/a&gt;, the migration of
&lt;a href="http://www.jasonantman.com"&gt;JasonAntman.com&lt;/a&gt; to some real &lt;span class="caps"&gt;CMS&lt;/span&gt; (Joomla,
Drupal, etc.), and migration of my home internet connection from
residential FiOS to &amp;#8220;business-grade&amp;#8221; Optimum Online (cable) - which will
probably see a slight decrease in reliability from the amazing levels of
FiOS, but will give me five static IPs and no ports&amp;nbsp;blocked.&lt;/p&gt;
&lt;p&gt;On the other hand, there&amp;#8217;s been a wrench thrown into all of my plans for
big projects (not even mentioning the projects that have been cast aside
- &lt;a href="http://www.tuctruck.org"&gt;TuxTruck&lt;/a&gt;,
&lt;a href="http://jantman.dyndns.org:10011/tuxostat/"&gt;tuxOstat&lt;/a&gt; which is now down,
and a bunch of others. That wrench is the &lt;a href="http://www.t-mobileg1.com/"&gt;T-Mobile
G1&lt;/a&gt;, the GooglePhone finally come to
fruition. I was psyched about Android when I first heard about it, and
the idea of finally having a phone that I can develop for without
learning a new language sounds amazing. I&amp;#8217;ll admit that at $180 with a
2-year contract, plus $80/month for service (split about 50/50 between
the voice plan and the unlimited data plan) it doesn&amp;#8217;t make the best
financial sense for someone whose car was stolen and now has 2 vehicles
- only one of which I can afford - but I&amp;#8217;m really excited. I&amp;#8217;ve heard
some not-so-good things about the quality of the &lt;span class="caps"&gt;GPS&lt;/span&gt;, and some of the
apps currently available, but within a few months, I&amp;#8217;d assume that the
effects of open development will cause it to greatly surpass the
functionality of my current Treo 700p, running my beloved Palm &lt;span class="caps"&gt;OS&lt;/span&gt; (which
I&amp;#8217;ve been dedicated to for the better part of seven&amp;nbsp;years).&lt;/p&gt;
&lt;p&gt;While the all-around flexibility of Android and its&amp;#8217; apps is definitely
one of the biggest selling points, my own interest is mainly in the
ability to quickly develop Java apps that bring my already-existing
web-based forms and data to the desktop of my phone. It&amp;#8217;s the simplicity
that is my biggest interest - even for simple purposes, like converting
the web-based fuel log I keep for my car(s) to a dedicated Java-based
form on my&amp;nbsp;phone.&lt;/p&gt;
&lt;p&gt;Stay&amp;nbsp;tuned&amp;#8230;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Fri, 24 Oct 2008 12:50:00 -0400</pubDate><guid>tag:blog.jasonantman.com,2008-10-24:2008/10/update-3/</guid><category>android</category><category>g1</category><category>google</category></item><item><title>New Project - Blog Migration to WordPress</title><link>http://blog.jasonantman.com/2008/09/new-project-blog-migration-to-wordpress/</link><description>&lt;p&gt;For quite some time, I&amp;#8217;ve been frustrated with Blogger. First of all,
its&amp;#8217; publishing system is horribly inefficient. As everything is static
&lt;span class="caps"&gt;HTML&lt;/span&gt;, at this point, writing this blog entry alone will require it to
re-publish approximately &lt;strong&gt;6 &lt;span class="caps"&gt;MB&lt;/span&gt;&lt;/strong&gt; to my server. Seems sort&amp;#8217;a pointless.
Not to mention, it doesn&amp;#8217;t allow any of the stuff that I really want,
such as multiple categories with per-category &lt;span class="caps"&gt;RSS&lt;/span&gt;, or good searching. It
also means that, though this blog is hosted on my own server, I&amp;#8217;m
dependent on Blogger to add&amp;nbsp;posts.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m still horribly busy dealing with insurance companies and the police
in relation to my stolen truck, as well as looking around and trying to
figure out what my next vehicle will be, and how much I can spend on&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;Anyway, I&amp;#8217;ve decided that at some point in the future, I&amp;#8217;ll be migrating
to &lt;a href="http://www.wordpress.org"&gt;WordPress&lt;/a&gt; for the blog. It will, of
course, be hosted on my own machine, and will hopefully also include a
migration of everything from this Blogger account. And, somehow, will
include some sort of redirection from old posts to the relevant new
ones. Most importantly, though, I plan on deferring the project until I
get my multiple static &lt;span class="caps"&gt;IP&lt;/span&gt; service from &lt;a href="http://www.optimum.com"&gt;Optimum
Online&lt;/a&gt;, as the new blog (and the rest of my
subdomains) will be moved from GoDaddy forwarding to their own
subdomains setup as Apache name-based&amp;nbsp;VHosts.&lt;/p&gt;
&lt;p&gt;Stay tuned for progress&amp;nbsp;updates&amp;#8230;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Thu, 18 Sep 2008 12:49:00 -0400</pubDate><guid>tag:blog.jasonantman.com,2008-09-18:2008/09/new-project-blog-migration-to-wordpress/</guid><category>blog</category><category>wordpress</category></item><item><title>Hardware Inventory System</title><link>http://blog.jasonantman.com/2008/09/hardware-inventory-system/</link><description>&lt;p&gt;After a few crazy weeks at work, the pay check is finally here, and I&amp;#8217;ve
decided to allocate some of the money to hardware upgrades of my
personal machines. While &lt;a href="http://www.nagios.org"&gt;Nagios&lt;/a&gt; gives me a good
idea of where performance is a problem, I&amp;#8217;m still running a large amount
of &amp;#8220;legacy&amp;#8221; hardware (my home router/firewall is a 350MHz P-&lt;span class="caps"&gt;II&lt;/span&gt; desktop)
and hardware age is a significant factor in my upgrade&amp;nbsp;plans.&lt;/p&gt;
&lt;p&gt;So, I set out looking for a program (most likely some backend scripts
that dump data to MySQL, and then a &lt;span class="caps"&gt;PHP&lt;/span&gt; front-end) to perform a hardware
inventory - essentially, run a script on each box, find out the system
details, and dump it in a &lt;span class="caps"&gt;DB&lt;/span&gt;. Now that my pool of upgrade candidates is
above a dozen machines, at multiple locations, some of which are
single-use boxes often neglected/forgotten, doing this in my head isn&amp;#8217;t
the&amp;nbsp;easiest.&lt;/p&gt;
&lt;p&gt;So, while I&amp;#8217;ve been googling and searching some mailing list archives,
I&amp;#8217;m also developing a set of&amp;nbsp;requirements.&lt;/p&gt;
&lt;p&gt;The chief&amp;nbsp;requirements:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ability to run a script on a remote machine and have the results
    returned in a meaningful format. Most likely, a single script, run
    as root (&lt;span class="caps"&gt;SUID&lt;/span&gt; or sudo) that returns nice, formatted, &lt;span class="caps"&gt;SQL&lt;/span&gt;-ready
    results (so the parsing of platform-specific command output will
    happen on the client, with every client returning a normalized data&amp;nbsp;set).&lt;/li&gt;
&lt;li&gt;Ability to track hardware changes - i.e. disks swapped from one box
    to another, &lt;span class="caps"&gt;NIC&lt;/span&gt; replacement, processor upgrade,&amp;nbsp;etc.&lt;/li&gt;
&lt;li&gt;Each piece of hardware tracked individually, allowing future support
    of fully tracking components, spares,&amp;nbsp;etc.&lt;/li&gt;
&lt;li&gt;Support for future barcoding of components and physically-performed&amp;nbsp;inventory.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Some of the data that I&amp;#8217;d like&amp;nbsp;collected:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Data on a machine stored by chassis vendor name and serial
    numer/service&amp;nbsp;tag.&lt;/li&gt;
&lt;li&gt;Hostname associated with each&amp;nbsp;box.&lt;/li&gt;
&lt;li&gt;Architecture, number of CPUs/cores and type, model, speed, socket
    (for upgrade&amp;nbsp;planning/ordering).&lt;/li&gt;
&lt;li&gt;Motherboard model/manufacturer, serial number, &lt;span class="caps"&gt;HW&lt;/span&gt; and &lt;span class="caps"&gt;SW&lt;/span&gt;/&lt;span class="caps"&gt;FW&lt;/span&gt;
    revisions, manufacture&amp;nbsp;date.&lt;/li&gt;
&lt;li&gt;Storage (internal &lt;span class="amp"&gt;&amp;amp;&lt;/span&gt; directly connected external) - type, interface,
    capacity, specifications/manufacturer and&amp;nbsp;model.&lt;/li&gt;
&lt;li&gt;Amount fo &lt;span class="caps"&gt;RAM&lt;/span&gt;, type of &lt;span class="caps"&gt;RAM&lt;/span&gt;, and configuration of cards (number of
    empty&amp;nbsp;slots).&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;PCI&lt;/span&gt; card configuration - number and type/mfr/model of cards, as well
    as number of empty&amp;nbsp;slots&lt;/li&gt;
&lt;li&gt;For all NICs - &lt;span class="caps"&gt;MAC&lt;/span&gt; addresses, current IPs, as well as link
    type/speed and connected&amp;nbsp;switch/port.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I&amp;#8217;d also like some level of software inventory, especially for those
machines that may be running &amp;#8220;forgotten&amp;#8221;&amp;nbsp;services:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://nmap.org/"&gt;nmap&lt;/a&gt; scan&amp;nbsp;results.&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;OS&lt;/span&gt;-generated list of running services, with &lt;span class="caps"&gt;GUI&lt;/span&gt; including a
    blacklist of &amp;#8220;default&amp;#8221; services not to be displayed, and possibly
    also cross-links to Nagios&amp;nbsp;status.&lt;/li&gt;
&lt;li&gt;Possibly a parsed output from ps, using a blacklist as shown&amp;nbsp;above.&lt;/li&gt;
&lt;li&gt;If a firewall is running on the system, a list of all open&amp;nbsp;ports.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I&amp;#8217;ll be checking out some options today. Unfortunately, I have a feeling
that there&amp;#8217;s most likely nothing that supports my requirements, and I&amp;#8217;ll
probably end up implementing a lot of this&amp;nbsp;myself.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Fri, 12 Sep 2008 13:01:00 -0400</pubDate><guid>tag:blog.jasonantman.com,2008-09-12:2008/09/hardware-inventory-system/</guid><category>configuration</category><category>inventory</category></item><item><title>Possible Downtime this weekend</title><link>http://blog.jasonantman.com/2008/09/possible-downtime-this-weekend/</link><description>&lt;p&gt;Tropical Storm &lt;a href="http://www.nhc.noaa.gov/#HANNA"&gt;Hanna&lt;/a&gt; is expected to
reach the New Jersey area on Saturday, September 6, 2008. The latest
predictions as of 20:00 September 4&lt;sup&gt;th&lt;/sup&gt; call for winds from 30-60 &lt;span class="caps"&gt;MPH&lt;/span&gt;
and rainfall possibly in excess of 5 inches, at a rate of 1-1.5 inches
per hour (as per the &lt;a href="http://www.bcoem.org/"&gt;Bergen County Office of Emergency
Management&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;In light of this, please be advised that
&lt;a href="http://www.jasonantman.com"&gt;JasonAntman.com&lt;/a&gt; may experience some
unscheduled downtime - mainly due to the fact that my internet
connection (Verizon FiOS fiber, right now) is run with suspended
pole-to-pole cables. If this does happen (and power is still available)
I&amp;#8217;ll make an effort to use the downtime as best as&amp;nbsp;possible.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Thu, 04 Sep 2008 23:03:00 -0400</pubDate><guid>tag:blog.jasonantman.com,2008-09-04:2008/09/possible-downtime-this-weekend/</guid><category>downtime</category><category>emergency</category><category>hanna</category></item><item><title>Massive Updates</title><link>http://blog.jasonantman.com/2008/07/massive-updates/</link><description>&lt;p&gt;I know I&amp;#8217;ve been quite for a while. I&amp;#8217;ve been quite busy. Unfortunately,
due to changing priorities, there are a lot of projects I&amp;#8217;ve been
working on, but few of them have gotten finished. A sampling, in no
specific&amp;nbsp;order:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Migrating my network/service monitoring to Nagios 3, &lt;em&gt;totally&lt;/em&gt;
    re-writing my config files to make use of the new features, and
    making one coherent list of all the services that should be in it
    and&amp;nbsp;aren&amp;#8217;t.&lt;/li&gt;
&lt;li&gt;Planning to totally re-wire all networking at the &lt;a href="http://www.midlandparkambulance.com"&gt;ambulance corps
    building&lt;/a&gt; to eliminate some
    problems. This includes &lt;em&gt;building&lt;/em&gt; an 8U wall-mount rack, and also
    trying a &lt;a href="http://www.pcengines.ch/alix2c1.htm"&gt;&lt;span class="caps"&gt;PC&lt;/span&gt; Engines &lt;span class="caps"&gt;ALIX&lt;/span&gt;.2c1&lt;/a&gt;
    board as a router (still undecided on &lt;span class="caps"&gt;WAN&lt;/span&gt;/&lt;span class="caps"&gt;LAN&lt;/span&gt;/&lt;span class="caps"&gt;DMZ&lt;/span&gt; or &lt;span class="caps"&gt;WAN&lt;/span&gt;/&lt;span class="caps"&gt;LAN&lt;/span&gt;/&lt;span class="caps"&gt;WLAN&lt;/span&gt;).
    It also means a long day of work at some point in the future, and
    lots of cable&amp;nbsp;drops.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://tuxostat.jasonantman.com"&gt;tuxOstat&lt;/a&gt;, the linux-controlled
    thermostat, is pretty much on the back burner. It&amp;#8217;s a stable beta
    with severely reduced functionality, but has been handling my
    cooling needs without any major bugs in the past month or so. It
    still only has a basic &lt;span class="caps"&gt;CLI&lt;/span&gt; interface and a very simple kludge of a
    web &lt;span class="caps"&gt;GUI&lt;/span&gt;, but it works. Other modes (heating, fan only), predictive
    temperature calculation, other temperature/zone calculation modes,
    and physical controls (buttons, menu on &lt;span class="caps"&gt;LCD&lt;/span&gt;) are still to come, as
    well as the move from &lt;span class="caps"&gt;PC&lt;/span&gt; to Soekris (if I can ever figure it out,
    and get one with &lt;span class="caps"&gt;USB&lt;/span&gt;). I now feel that an &lt;span class="caps"&gt;ALIX&lt;/span&gt; board might be a
    better shot, as they take &lt;span class="caps"&gt;CF&lt;/span&gt; (more space than the Soekris), have a
    slightly faster processor, and also support &lt;span class="caps"&gt;USB&lt;/span&gt; at about half the
    price&amp;nbsp;point.&lt;/li&gt;
&lt;li&gt;I&amp;#8217;m considering moving my main web site to a &lt;span class="caps"&gt;CMS&lt;/span&gt;, and letting the
    &lt;a href="http://www.jasonantman.com/wiki/"&gt;wiki&lt;/a&gt; serve more as a knowledge&amp;nbsp;base.&lt;/li&gt;
&lt;li&gt;I&amp;#8217;m working on patching together a new access point for the
    ambulance corps, based on &lt;a href="http://pyramid.metrix.net/"&gt;Pyramid
    Linux&lt;/a&gt;. I needed something which would
    run on the Soekris net4526, had at least &lt;span class="caps"&gt;WEP&lt;/span&gt;, and supported some
    sort of captive portal. Pyramid has
    &lt;a href="http://dev.wifidog.org/"&gt;WifiDog&lt;/a&gt;, but that only wants to do local
    authentication or &lt;span class="caps"&gt;RADIUS&lt;/span&gt;, and I wanted direct auth to &lt;span class="caps"&gt;LDAP&lt;/span&gt; and MySQL
    logging. On the positive side, it just uses some &lt;span class="caps"&gt;PHP&lt;/span&gt; pages hosted
    under Apache to handle authentication - the &lt;span class="caps"&gt;WAP&lt;/span&gt; redirects the user
    to a login page on a (separate) web server, the user does their
    stuff, and then the &lt;span class="caps"&gt;WAP&lt;/span&gt; makes a request to the server to determine
    whether it should open up the firewall, keep the user locked down,
    or totally kick them. So, once I figure out some routing issues,
    I&amp;#8217;ll get back to working on the new project -
    &lt;a href="http://blacklabauth.jasonantman.com/"&gt;BlackLabAuth&lt;/a&gt;, a re-write of
    the WifiDog auth server software that&amp;#8217;s geared towards a
    closed-access network (i.e. only people and/or MACs already listed
    in &lt;span class="caps"&gt;LDAP&lt;/span&gt; can login) with full logging to MySQL. I already have some
    code &lt;a href="http://cvs.jasonantman.com/BlackLabAuth"&gt;in &lt;span class="caps"&gt;CVS&lt;/span&gt;&lt;/a&gt;, but some
    issues with my development Soekris board have slowed the project for
    the time being. When finished, I&amp;#8217;ll have not only the new auth
    server available for download (with documentation) but also a
    ready-to-run (well, some configuration time needed, but minor and
    scripted) image for the&amp;nbsp;net4526.&lt;/li&gt;
&lt;li&gt;My desktop that I use for &lt;a href="http://www.mythtv.org/"&gt;MythTV&lt;/a&gt; filled up
    its&amp;#8217; disk. Totally. I ordered a cheap Syba &lt;span class="caps"&gt;SATA&lt;/span&gt; card (&lt;span class="caps"&gt;PCI&lt;/span&gt;) from
    NewEgg, along with a &lt;span class="caps"&gt;500GB&lt;/span&gt; &lt;span class="caps"&gt;WD&lt;/span&gt; &lt;span class="caps"&gt;SATA&lt;/span&gt;-150 disk, but no luck. Though the
    card (Syba / Initio 1622 chipset, shows up as Class 0106: 1101:1622
    (rev 02)) said it was supported under Linux, the driver &lt;span class="caps"&gt;CD&lt;/span&gt; mentioned
    nothing about it. Some investigation on the Syba website turned up a
    zipped archive. After extraction, I found a readme that gave (poor)
    instructions on how to re-compile a kernel, and warned that you &lt;span class="caps"&gt;MUST&lt;/span&gt;
    have 2.6.15. Oh well, I wasn&amp;#8217;t going to give up 2.6.16.27 (the
    newest &lt;span class="caps"&gt;RPM&lt;/span&gt;&amp;#8217;d kernel for OpenSuSE 10.1). The standard drivers for it
    didn&amp;#8217;t appear until 2.6.25 or so. So&amp;#8230; after many debates with
    myself as to whether I should blow away my whole MythTV installation
    and upgrade from the now-ancient 10.1, I decided that I&amp;#8217;ll only be
    in my apartment for another year, I should make it last. Some
    investigation turned up a $24 Silicon Image-based card that should
    work fine, and it&amp;#8217;s now in the&amp;nbsp;mail&amp;#8230;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I&amp;#8217;m sure I missed something big, but I&amp;#8217;ll update as needed, and attempt
to make it a daily habit to post something interesting or, at the very
least, hard-to-find. After all, I&amp;#8217;m sure that I use this blog and my
wiki as an informational resource (my bad memory) more than anyone else&amp;nbsp;would&amp;#8230;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Thu, 17 Jul 2008 12:28:00 -0400</pubDate><guid>tag:blog.jasonantman.com,2008-07-17:2008/07/massive-updates/</guid><category>access point</category><category>alix</category><category>BlackLabAuth</category><category>mythtv</category><category>Nagios</category><category>pc engines</category><category>soekris</category><category>tuxostat</category><category>WifiDog</category><category>wireless</category></item><item><title>JavaScript and Emacs, and updates</title><link>http://blog.jasonantman.com/2008/07/javascript-and-emacs-and-updates/</link><description>&lt;p&gt;Well, thankfully, summer classes are almost over (tomorrow is the last
class). I have a big paper to write for one of them, due at the worst
time possible - July 5th. The day after what is, probably, one of the
busiest days of the year for the &lt;a href="http://www.midlandparkambulance.com"&gt;ambulance
corps&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;In follow-ups and&amp;nbsp;news:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://tuxostat.jasonantman.com"&gt;tuxostat&lt;/a&gt; has been running for
    nearly a month in my apartment, and appears stable, albeit missing
    many planned features, and with a sub-optimal interface (and no &lt;span class="caps"&gt;SNMP&lt;/span&gt;&amp;nbsp;yet).&lt;/li&gt;
&lt;li&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://www.tuxtruck.org"&gt;TuxTruck&lt;/a&gt; is still on the back&amp;nbsp;burner.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;I&amp;#8217;ve been playing around with the idea of writing a new electronic
    patient care report system for the ambulance corps, to replace our
    current three-year-old system (written in &lt;span class="caps"&gt;VB&lt;/span&gt; .&lt;span class="caps"&gt;NET&lt;/span&gt; and running on
    Windows). It would probably be coded in Python, with a
    wxWindows/&lt;a href="http://www.wxpython.org/"&gt;wxPython&lt;/a&gt; &lt;span class="caps"&gt;GUI&lt;/span&gt;. I&amp;#8217;ll start on a
    small demo version, but would like it to be fully modular, and
    eventually form a codebase for &lt;a href="http://www.openepcr.org"&gt;OpenEPCR&lt;/a&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Anyway, I&amp;#8217;ve been doing a lot of work for my Building Data-Driven
Websites class (well, alternate assignments, but still a lot of work).
The latest project was an Ajax/&lt;span class="caps"&gt;DHTML&lt;/span&gt; calendar. Needless to say, this involved a lot of JavaScript work. To
make it worse, I used a fair amount of sample code to get an idea of how
to do things, and way too many of the snippets out there on the &amp;#8216;net are
in formats that are quite unfriendly for pasting into an Emacs console&amp;nbsp;window.&lt;/p&gt;
&lt;p&gt;So, I happened to come by &lt;a href="http://steve-yegge.blogspot.com/"&gt;Steve Yegge&amp;#8217;s
blog&lt;/a&gt;, with a posting on &lt;a href="http://steve-yegge.blogspot.com/2008/03/js2-mode-new-javascript-mode-for-emacs.html"&gt;his
JavaScript mode for
Emacs&lt;/a&gt;.
Not only does it seem cool, but it was also the only one I could find
that does syntax highlighting and sane indentation (important for copied
code snippets). So, I grabbed it from &lt;a href="http://code.google.com/p/js2-mode/"&gt;Google
Code&lt;/a&gt; and -&amp;nbsp;viola!&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Tue, 01 Jul 2008 11:09:00 -0400</pubDate><guid>tag:blog.jasonantman.com,2008-07-01:2008/07/javascript-and-emacs-and-updates/</guid><category>ajax</category><category>call report</category><category>dhtml</category><category>javascript</category><category>pcr</category><category>tuxostat</category><category>tuxtruck</category></item><item><title>Custom MediaWiki Sidebar; New Blog?</title><link>http://blog.jasonantman.com/2008/06/custom-mediawiki-sidebar-new-blog/</link><description>&lt;p&gt;As you may have noticed, some &lt;a href="http://www.spreadfirefox.com/node&amp;amp;id=238326&amp;amp;t=305"&gt;Firefox
3&lt;/a&gt;
&lt;a href="http://www.spreadfirefox.com/?q=affiliates/homepage"&gt;buttons&lt;/a&gt; have
popped up not only here on my blog, but also on my
&lt;a href="http://www.jasonantman.com/"&gt;wiki&lt;/a&gt;. While adding the buttons to
&lt;a href="http://www.blogger.com/"&gt;Blogger&lt;/a&gt; was a simple addition to the
template, getting them in the sidebar of MediaWiki wasn&amp;#8217;t exactly as
easy (yeah, I&amp;#8217;m considering the arduous project of moving my whole 102+
page wiki to &lt;a href="http://drupal.org/"&gt;Drupal&lt;/a&gt; or another good F/&lt;span class="caps"&gt;OSS&lt;/span&gt;&amp;nbsp;&lt;span class="caps"&gt;CMS&lt;/span&gt;).&lt;/p&gt;
&lt;p&gt;After some serious grepping through the source, and adding &lt;span class="caps"&gt;HTML&lt;/span&gt; comments
to see where they appeared, I finally found a solution to add the button
to the MediaWiki sidebar - though I&amp;#8217;d really like it to appear below the
search box (I guess that&amp;#8217;s something for my to-do list). I&amp;#8217;m using the
MonoBook skin (though somewhat modified). I&amp;#8217;m using &amp;#8220;MonoBook nouveau&amp;#8221;,
and it should be the version that shipped with &lt;span class="caps"&gt;MW&lt;/span&gt; 1.10.1. In this
version, I added the code around line 166. Specifically, this was added
before the &lt;code&gt;&amp;lt;div id="p-search" class="portlet"&amp;gt;&lt;/code&gt; line, and after the end
of the &lt;code&gt;foreach ($this-&amp;gt;data['sidebar'] as $bar =&amp;gt; $cont)&lt;/code&gt; loop. This
threw the button in a box directly above the search box, and below all
of my sidebar&amp;nbsp;links.&lt;/p&gt;
&lt;p&gt;The code looked something&amp;nbsp;like:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="cp"&gt;&amp;lt;?php } ?&amp;gt;&lt;/span&gt;
&lt;span class="c"&gt;&amp;lt;!-- firefox link added to MonoBook.php by jantman 2008-06-18 --&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;div&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;portlet&amp;#39;&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;p-logos&amp;#39;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;h5&amp;gt;&lt;/span&gt;Cool Stuff&lt;span class="nt"&gt;&amp;lt;/h5&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;div&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;pBody&amp;#39;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;ul&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;li&amp;gt;&amp;lt;a&lt;/span&gt; &lt;span class="na"&gt;href=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;http://www.spreadfirefox.com/node&amp;amp;id=238326&amp;amp;t=305&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;target=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;_blank&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;img&lt;/span&gt; &lt;span class="na"&gt;border=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;alt=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Firefox 3&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;title=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Firefox 3&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;src=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;http://sfx-images.mozilla.org/affiliates/Buttons/firefox3/110x32_best-yet.png&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/li&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/ul&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span class="c"&gt;&amp;lt;!-- end firefox link --&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;div&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;p-search&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;portlet&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;In other news, I&amp;#8217;m taking a Data Driven Websites class this summer
(&lt;span class="caps"&gt;PHP&lt;/span&gt;/MySQL, but for some reason they switched to a Windows server&amp;#8230;
endless problems, and I can&amp;#8217;t even edit with Nano on the server, let
alone emacs). Our first project was to build a blog engine, which I&amp;#8217;m
working on right now. Anyway, it got me thinking&amp;#8230; the one thing that
Blogger is missing is the ability to post to a given category, and allow
users to view or subscribe to a specific category (or everything). So I
think I may look into writing something like that myself, if I can&amp;#8217;t
find a good alternative that&amp;#8217;s already done and is F/&lt;span class="caps"&gt;OSS&lt;/span&gt;. Regardless,
I&amp;#8217;ll probably be keeping the Blogger template as well as (ugh) moving
over all of my current posts, which Blogger chose to store in raw &lt;span class="caps"&gt;HTML&lt;/span&gt;.
So there&amp;#8217;s going to be a lot of parsing on my&amp;nbsp;future&amp;#8230;&lt;/p&gt;
&lt;p&gt;&lt;span class="caps"&gt;PS&lt;/span&gt; - When I get a new blog engine, I&amp;#8217;m also going to go for a slightly
modified template that uses relative widths and placement - so that
code, like the snippet here, fits the screen&amp;nbsp;correctly.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Wed, 18 Jun 2008 22:26:00 -0400</pubDate><guid>tag:blog.jasonantman.com,2008-06-18:2008/06/custom-mediawiki-sidebar-new-blog/</guid><category>blog</category><category>firefox</category><category>mediawiki</category><category>PHP</category></item><item><title>New Project</title><link>http://blog.jasonantman.com/2008/06/new-project/</link><description>&lt;p&gt;Well, TuxTruck has been temporarily put on the back burner. I priced out
the hardware, and it looks like a minimum of $1000, more like $1000 if I
get what I had originally wanted. This is complicated by the fact that
my roommates and I were just hit with a $220 electric bill. Mostly,
that&amp;#8217;s due to the central air conditioning in our apartment, and the
horrible inefficiencies with&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;Inefficient? Yes. At the moment, I&amp;#8217;m the only person in the apartment.
I&amp;#8217;m home for the weekend from 18:00 Friday through about 15:00 Monday. I
have class Monday-Thursday night 18:00-21:45. I work Tuesday-Friday
0900-1700. Even though the thermostat we have is &amp;#8220;programmable&amp;#8221;, it can
only be set for 4 time periods per day, weekdays and weekends. So, I
figured that a little added efficiency in calculating when the A/C
should run would go a long way towards energy&amp;nbsp;savings.&lt;/p&gt;
&lt;p&gt;My idea - tuxOstat - is to have a Linux box that has temperature sensors
placed around the apartment, and a bank of relays to control the
heating/cooling systems. So, even though I only got the idea last
Thursday, version 1 should be up and running next&amp;nbsp;week.&lt;/p&gt;
&lt;p&gt;In terms of&amp;nbsp;hardware:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Originally I had planned on using a &lt;a href="http://www.soekris.com/net4526.htm"&gt;Soekris
    net4526&lt;/a&gt; that I had lying
    around. However, the added cost of a MiniPCI &lt;span class="caps"&gt;USB&lt;/span&gt; card seemed
    prohibitive for a one-off project. Instead, I&amp;#8217;m using an old &lt;span class="caps"&gt;HP&lt;/span&gt;
    OmniBook laptop that was already lying behind my servers. It&amp;#8217;s
    running Debian&amp;nbsp;4.0.&lt;/li&gt;
&lt;li&gt;I&amp;#8217;ve ordered (just 15 minutes ago) a &lt;a href="http://www.phidgets.com/products.php?product_id=1014"&gt;Phidgets InterfaceKit
    0/0/4&lt;/a&gt;, which
    connects via &lt;span class="caps"&gt;USB&lt;/span&gt; and provides 4 relays. One will control the fan,
    one for the A/C compressor, one for the heat, and one unused (for&amp;nbsp;now).&lt;/li&gt;
&lt;li&gt;I already had a
    &lt;a href="http://www.hobby-boards.com/catalog/product_info.php?cPath=23&amp;amp;products_id=1503"&gt;&lt;span class="caps"&gt;DS9490&lt;/span&gt;&lt;/a&gt;
    Dallas 1-wire &lt;span class="caps"&gt;USB&lt;/span&gt; adapter from
    &lt;a href="http://www.hobby-boards.com/"&gt;Hobby-Boards.com&lt;/a&gt; along with five
    &lt;a href="http://www.hobby-boards.com/catalog/product_info.php?products_id=93"&gt;&lt;span class="caps"&gt;DS18S20P&lt;/span&gt;&lt;/a&gt;
    1-wire parasite power temperature sensors. I&amp;#8217;ve wired those up with
    one in the living room near the existing thermostat, one in my
    bedroom, and one stuck about five feet up one of the A/C conduits,
    to sense when the system is actually putting out cold air. I&amp;#8217;ve had
    them logging to MySQL since 0200&amp;nbsp;today.&lt;/li&gt;
&lt;li&gt;I decided to bite the bullet and order a beautiful &lt;a href="http://www.crystalfontz.com/products/635xes/index.html"&gt;CrystalFontz
    &lt;span class="caps"&gt;XES635BK&lt;/span&gt;-&lt;span class="caps"&gt;TMF&lt;/span&gt;-&lt;span class="caps"&gt;KU&lt;/span&gt;&lt;/a&gt;
    for the physical interface. It&amp;#8217;s a little backlit &lt;span class="caps"&gt;LCD&lt;/span&gt; display, in a
    surface-mount box, along with four bi-color LEDs and a 6-button
    keypad. That should handle the interface for anyone who doesn&amp;#8217;t want
    to grab a&amp;nbsp;console.&lt;/li&gt;
&lt;li&gt;I&amp;#8217;ll be looking for a eight-pin header so that the relays will plug
    right in to the screw-terminal block that the thermostat uses, to
    make for easy switching to the original thermostat if needed (or
    when moving out in a&amp;nbsp;year).&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Now, in terms of&amp;nbsp;software:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;A Python text-based configuration/administration program. Will be
    accessed via &lt;span class="caps"&gt;SSH&lt;/span&gt; or &lt;span class="caps"&gt;KVM&lt;/span&gt; for the actual&amp;nbsp;machine.&lt;/li&gt;
&lt;li&gt;Lots of state data stored in files under&amp;nbsp;/var.&lt;/li&gt;
&lt;li&gt;A python script, run via cron every 2 minutes, that checks
    temperatures from the 1-wire bus, logs them to MySQL (on a remote
    host) and updates the temperature files in&amp;nbsp;/var.&lt;/li&gt;
&lt;li&gt;A master control script, run via cron every minute, that looks at
    the temperatures, the current system state, any manual overrides
    that exist, and decides what relays should be on or&amp;nbsp;off.&lt;/li&gt;
&lt;li&gt;A daemon to handle relay&amp;nbsp;control.&lt;/li&gt;
&lt;li&gt;A daemon to handle the &lt;span class="caps"&gt;LCD&lt;/span&gt; display output and keypad input
    (including immediate manual&amp;nbsp;overrides).&lt;/li&gt;
&lt;li&gt;A method of providing overrides of the programmed schedule on a
    single-instance basis, i.e. &amp;#8220;system completely off from 2008-06-06
    18:00 to 2008-06-08&amp;nbsp;15:00&amp;#8221;.&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Wed, 04 Jun 2008 10:34:00 -0400</pubDate><guid>tag:blog.jasonantman.com,2008-06-04:2008/06/new-project/</guid><category>1wire</category><category>automation</category><category>home control</category><category>linux</category><category>thermostat</category></item><item><title>SunSPOT; CarPC; MediaWiki Logging</title><link>http://blog.jasonantman.com/2008/05/sunspot-carpc-mediawiki-logging/</link><description>&lt;p&gt;Well, finals season is upon me. That&amp;#8217;s probably why I haven&amp;#8217;t been
posting much lately (I haven&amp;#8217;t even been checking &lt;a href="http://reader.google.com/"&gt;Google
Reader&lt;/a&gt; - I&amp;#8217;ll have to delete a few thousand
entries when I get back into the swing of things). I&amp;#8217;ve been pretty
busy, between studying, projects, and work. I&amp;#8217;ll be working 4 days a
week through June 20th, as well as taking night classes 4 nigths a week
(unfortunately not the same 4 days) through July 3, in an effort to
graduate Rutgers on time (after transferring in and also switching
majors). Work after June 20th is up in the air - who knows how hard the
budget cuts will&amp;nbsp;hit.&lt;/p&gt;
&lt;p&gt;My internship as the Sun Microsystems Campus Ambassador to Rutgers is
over on May 12th. I got a chance to do the Rutgers &lt;span class="caps"&gt;IT&lt;/span&gt; Vendor Fair with
Sun, and met a few cool people - especially including Matt McGrath of
&lt;a href="http://www.conres.com/"&gt;Continental Resources&lt;/a&gt;, a Sun Strategic iForce
Partner, who&amp;#8217;s doing some wonderful things with the &lt;a href="http://www.sun.com/solutions/landing/industry/education/edu_essentials.jsp"&gt;Sun Education
Essentials Matching Grant
Program&lt;/a&gt;,
and &lt;a href="http://opsamericas.com/"&gt;Skip Paul&lt;/a&gt;, a Linux Systems Engineer for
Novell&amp;#8217;s Open Platform Solutions group. I also finally cracked open my
demo set of &lt;a href="http://www.sunspotworld.com/"&gt;SunSPOT&lt;/a&gt;s. Wonderful little
devices, radio, run Java on the bare metal, and have temperature
sensors, accelerometers, and liberal I/O. My first development exereice
will probably be making a temperature and acceleration data logger for
my truck, but there&amp;#8217;s surely more to come. They&amp;#8217;re&amp;nbsp;great!&lt;/p&gt;
&lt;p&gt;My newest project - which I&amp;#8217;m hoping to spend nearly the whole summer on
- is the &lt;a href="http://www.jasonantman.com/tuxtruck/"&gt;TuxTruck&lt;/a&gt;. I&amp;#8217;ve been
frustrated with the lack of &amp;#8220;smartness&amp;#8221; in my truck (an 06 Ford F-250),
not to mention having to remember my &lt;span class="caps"&gt;MP3&lt;/span&gt; player so I can listen to
podcasts on the way to work, and having so many gadgets in my truck. So,
the solution is obvious: a Linux-based
&lt;a href="http://en.wikipedia.org/wiki/Carpc"&gt;CarPC&lt;/a&gt;. A nice little Mini-&lt;span class="caps"&gt;ATX&lt;/span&gt; box
under a seat, with a 7&amp;#8221; pull-out touchscreen in the dash (replacing the
factory radio). It&amp;#8217;s a big, complicated, and expensive project - but I
want one, and I could use some experience with smaller systems.&lt;br /&gt;
The major features I have&amp;nbsp;planned:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Realtime &lt;span class="caps"&gt;GPS&lt;/span&gt;&amp;nbsp;navigation&lt;/li&gt;
&lt;li&gt;Hands-free bluetooth calls from my cell, with address book, routing
    to contact address, possibly voice&amp;nbsp;dialing.&lt;/li&gt;
&lt;li&gt;Realtime&amp;nbsp;weather&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;OBD&lt;/span&gt;-&lt;span class="caps"&gt;II&lt;/span&gt; interface, for vehicle diagnostics and fuel
    efficiency/performance&amp;nbsp;profiling&lt;/li&gt;
&lt;li&gt;Audio - at a minimum searching and playing MP3s, and automatically
    downloading podcasts and throwing them in a playlist. Perhaps also
    an &lt;span class="caps"&gt;AM&lt;/span&gt;/&lt;span class="caps"&gt;FM&lt;/span&gt;&amp;nbsp;tuner&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;It&amp;#8217;s not an easy project. So far, the major challenges seem to&amp;nbsp;be:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;No full-featured &lt;span class="caps"&gt;GPS&lt;/span&gt; navigation package available. The ones that are
    available don&amp;#8217;t seem to be too easy to integrate into my planned
    &lt;span class="caps"&gt;GUI&lt;/span&gt;, which will allot them 800x420 pixels (on an 800x480 screen) and
    requre the bottom toolbar to be always&amp;nbsp;available.&lt;/li&gt;
&lt;li&gt;How to handle processing of multiple data streams that require
    near-real-time processing - specifically, &lt;span class="caps"&gt;GPS&lt;/span&gt; with text-to-speech,
    turn-by-turn directions, plus playing audio, plus responding to an
    incoming phone call in a timely manner, pausing the audio, and
    stopping &lt;span class="caps"&gt;GPS&lt;/span&gt; audio but continuing&amp;nbsp;navigation.&lt;/li&gt;
&lt;li&gt;Whether to install a smaller stereo and use aux input for audio, or
    totally rip out the stereo, use an amp with the computer as its only
    input, and then how to control&amp;nbsp;volume?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There will be more to come in the future. For now, take a look at &lt;a href="https://github.com/jantman/tuxtruck"&gt;the
TuxTruck github&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Update Saturday, March 2, 2013&lt;/strong&gt; - I&amp;#8217;m in the process of migrating my
legacy &lt;span class="caps"&gt;CVS&lt;/span&gt; and Subversion repositories to
&lt;a href="http://github.com/jantman/"&gt;github.com&lt;/a&gt;. The forgotten &lt;span class="caps"&gt;SVN&lt;/span&gt; repository
for TuxTruck has been migrated there, and the &lt;span class="caps"&gt;CVS&lt;/span&gt; repository will soon
be moved there as well. Tuxtruck.org has been permanently taken offline
and redirected to the GitHub&amp;nbsp;repository.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Mediawiki Logging&lt;/strong&gt; - I recently
had a situation where I had to confirm how much work someone had done on
a MediaWiki-based project. The Recent Changes page only goes back 30
days, and walking through the History of each page is a pain. After
looking around in the database a bit, I found a few tables of&amp;nbsp;interest:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Table &amp;#8220;users&amp;#8221; includes fields &amp;#8220;user_touched&amp;#8221; (last time the user
    was updated) and &amp;#8220;user_editcount&amp;#8221; (a really simple count of the
    users&amp;#8217; number of&amp;nbsp;edits).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Table &amp;#8220;recentchanges&amp;#8221; holds a lot of data&amp;#8230; seemingly the entire
    life of the&amp;nbsp;wiki&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Wed, 07 May 2008 10:03:00 -0400</pubDate><guid>tag:blog.jasonantman.com,2008-05-07:2008/05/sunspot-carpc-mediawiki-logging/</guid><category>bluetooth</category><category>car</category><category>carpc</category><category>conres</category><category>gps</category><category>linux</category><category>mediawiki</category><category>novell</category><category>obd</category><category>rutgers</category><category>sun</category><category>sunspot</category><category>suse</category><category>tuxtruck</category></item><item><title>Web Traffic for JasonAntman.com - Webalizer, Site Maps</title><link>http://blog.jasonantman.com/2008/04/web-traffic-for-jasonantmancom-webalizer-site-maps/</link><description>&lt;p&gt;I&amp;#8217;ve been working on the design of a town council campaign site for a
friend - &lt;a href="http://www.mikennick08.com/"&gt;www.mikennick08.com&lt;/a&gt;. It&amp;#8217;s hosted
by an additional Apache vhost on my personal server (and running off of
port 10015 - ugh). I setup &lt;a href="http://www.mrunix.net/webalizer/"&gt;Webalizer&lt;/a&gt;
for him, so I figured I&amp;#8217;d give my own webalizer installation a check.
Wow - 30,215 hits this month alone. That reminded me of a problem with
my ignored hosts - 17,600 of those hits were Googlebot, and another
2,065 were Yandex (a Russian search&amp;nbsp;engine).&lt;/p&gt;
&lt;p&gt;Amazingly, though, it seems like Google is only indexing my blog. My
precious wiki seems out of whack, not to metion my &lt;span class="caps"&gt;CVS&lt;/span&gt;&amp;nbsp;repository.&lt;/p&gt;
&lt;p&gt;So, this reminded me of two long-overdue&amp;nbsp;tasks:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Get webalizer to properly ignore the common&amp;nbsp;bots.&lt;/li&gt;
&lt;li&gt;Get sitemaps of my entire&amp;nbsp;site.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;So, off to the&amp;nbsp;races!&lt;/p&gt;
&lt;p&gt;First, I added Googlebot, Yandex, and a few others to webalizer.conf
with IgnoreAgent directives. Then, after clearing out my entire output
directory - and waiting a &lt;span class="caps"&gt;LONG&lt;/span&gt; time for it to run - bingo! Real stats.
Down to about 8000 hits for the month, which seems more logical, even
including the \~2,000 hits from Google&amp;nbsp;feedfetcher.&lt;/p&gt;
&lt;p&gt;Next stop was sitemaps. It tooks some &lt;span class="caps"&gt;PHP&lt;/span&gt; magic to hack apart the
MediaWiki sitemaps, put in the correct URLs (it was showing an
internal-only hostname), and drop all that and my Blogger rss.xml in an
index file. It&amp;#8217;s now 2 &lt;span class="caps"&gt;AM&lt;/span&gt;, and it just crashed and burned - the &lt;span class="caps"&gt;PHP&lt;/span&gt;
script worked fine, but for some reason my entries in
sitemaps_index.xml - which pointed to sitemaps in a subdirectory - came
back with errors. Well, something to work on&amp;nbsp;tomorrow.&lt;/p&gt;
&lt;p&gt;This morning I checked my backups and noticed that nothing had run in 3
days. It turns out I just had one failed job holding everything up. And
I screwed up - I was home this weekend and forgot to swap tapes. It&amp;#8217;ll
be another 2 weeks before I can. But, I took the time to setup a backup
status box on my administrative portal (more on that later) and will
also be revising my apparently ineffectual Nagios check&amp;nbsp;script.&lt;/p&gt;
&lt;p&gt;On a few side notes: First, I&amp;#8217;m seriously thinking of dumping Verizon
FiOS. While I really like the service, their static &lt;span class="caps"&gt;IP&lt;/span&gt; (business)
variant is $100/month for 15 Mbps down / 2 Mbps up, whereas
Cablevision&amp;#8217;s Optimum Business with static &lt;span class="caps"&gt;IP&lt;/span&gt; is $55/month for 30 Mbps
down / 5 Mbps&amp;nbsp;up!&lt;/p&gt;
&lt;p&gt;Most of the previous projects have been put on hold for the time being
(mainly because of impending final exams at school) - the new Gigabit
Ethernet switch for backups, testing Zenoss and upgrading monitoring (to
a new product or Nagios 3),&amp;nbsp;etc.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Tue, 22 Apr 2008 15:52:00 -0400</pubDate><guid>tag:blog.jasonantman.com,2008-04-22:2008/04/web-traffic-for-jasonantmancom-webalizer-site-maps/</guid><category>bacula</category><category>bandwidth</category><category>connectivity</category><category>ISP</category><category>Nagios</category><category>webalizer</category></item><item><title>Where have I gone?</title><link>http://blog.jasonantman.com/2008/03/where-have-i-gone/</link><description>&lt;p&gt;Well, it&amp;#8217;s been a while since I posted. Things have been horribly busy
in the school world, and I have some new projects I&amp;#8217;m working on as
well. Unfortunately, due to limited resources at the moment, I haven&amp;#8217;t
been able to give Zenoss a try. If I eventually find a nice 25-30U rack
for the &lt;a href="http://www.jasonantman.com/wiki/index.php/Jasonantman.com_Hardware"&gt;hardware running
JasonAntman.com&lt;/a&gt;
(in the basement of my suburban home, so headroom is limited to about
six feet), I&amp;#8217;ll probably move one or two machines from my apartment back
there, reorganize things, and setup a Zenoss test (*if* I can get Xen
to play well with some &lt;span class="caps"&gt;OS&lt;/span&gt; that has Zenoss RPMs, or give up and compile
from source).&lt;br /&gt;
A few of my new&amp;nbsp;projects:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Some embedded Linux&amp;nbsp;work&lt;/li&gt;
&lt;li&gt;Getting my new &lt;a href="http://www.deluogps.com/product.php?id=10-311-00"&gt;Deluo &lt;span class="caps"&gt;USB&lt;/span&gt; &lt;span class="caps"&gt;WAAS&lt;/span&gt;
    &lt;span class="caps"&gt;GPS&lt;/span&gt;&lt;/a&gt; working with
    my eeePC, and eventually add software for mapping wireless&amp;nbsp;networks&lt;/li&gt;
&lt;li&gt;Mount an external 2.4GHz antenna on my truck, so I can hop on
    &lt;a href="http://ruwireless.rutgers.edu/"&gt;RUwireless&lt;/a&gt; without leaving the
    comfort of my home on&amp;nbsp;wheels.&lt;/li&gt;
&lt;li&gt;Get a &amp;#8220;N&amp;#8221; wireless card and beta the wireless-N at&amp;nbsp;Rutgers.&lt;/li&gt;
&lt;li&gt;Figure out development for PalmOS, and write a program to sync my
    Palm calendar with &lt;a href="http://calendar.google.com/"&gt;Google Calendar&lt;/a&gt;&amp;nbsp;over-the-air.&lt;/li&gt;
&lt;li&gt;Do some work with a radio scanner and a system at home for recording
    and logging (maybe even
    &lt;a href="http://en.wikipedia.org/wiki/MDC-1200"&gt;&lt;span class="caps"&gt;MDC1200&lt;/span&gt;&lt;/a&gt;&amp;nbsp;decoding).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;My pet peeve for the day - blogs and other websites that don&amp;#8217;t list a
date last updated. I&amp;#8217;ve been looking around for alternatives to
&lt;a href="http://cvs.codeyard.net/kpilot/"&gt;KPilot&lt;/a&gt;, and I have to look through
all of the Google results, and figure out how old they are based on
version numbers and which Palm devices are&amp;nbsp;listed.&lt;/p&gt;
&lt;p&gt;And, from Rutgers Telecommunications, this is what RUwireless looked
like over spring break, and the Monday that everyone came&amp;nbsp;back:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Rutgers daily traffic graph of sr02-hill012-svcs_vlan1000 on 2008-03-25" src="/GFX/blog/sr02-hill012-svcs_vlan1000-daily-2008-03-25-scaled.png" /&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Tue, 25 Mar 2008 09:07:00 -0400</pubDate><guid>tag:blog.jasonantman.com,2008-03-25:2008/03/where-have-i-gone/</guid><category>calendar</category><category>gps</category><category>kpilot</category><category>mdc1200</category><category>palm</category><category>rutgers</category><category>ruwireless</category></item><item><title>Cable Management, Power Measurements, Major Outage, Cacti</title><link>http://blog.jasonantman.com/2008/03/cable-management-power-measurements-major-outage-cacti/</link><description>&lt;p&gt;So, once again, still really busy. But a few new&amp;nbsp;things.&lt;/p&gt;
&lt;p&gt;First, my racks both at home and at the apartment are atrocious. They
have no cable management at all. Both started with 1-3 machines, and no
real plans for upgrades (since they&amp;#8217;re just my personal/development
machines). Unfortunately, the &amp;#8220;rack&amp;#8221; (a metal workshop shelving unit) at
home now has 8 machines and a host of ancillary equipment. The one at
the apartment - an actual 42U rack - has 5 plus a few switches,
rackmount &lt;span class="caps"&gt;KMM&lt;/span&gt;, etc. They&amp;#8217;re both a jumble of wires in the back.
Unfortunately, it seems like cable management hardware is *epxensive*.
$30 for a 2U metal blank with a few plastic split D-rings, or almost $40
for a 2-meter vertical hunk of plastic channel with slits in the sides?
So, I&amp;#8217;ve been vaguely considering what it will take to fabricate some
cable management hardware of my own. Probably just building something
out of rack blanks for the horizontal off of the switches, and buying
some sort of vertical channel for power and networking/&lt;span class="caps"&gt;KVM&lt;/span&gt;. Man, those
&lt;span class="caps"&gt;KVM&lt;/span&gt; cables sure do take up a lot of space. Also at the moment, at home
my power is all coming directly out of two UPSs, whereas at the
apartment it&amp;#8217;s straight from mains off of a surge suppressor. I&amp;#8217;s like
to buy another &lt;span class="caps"&gt;UPS&lt;/span&gt; for the apartment from RefurbUPS.com, where I got the
ones from home, and also add a &lt;span class="caps"&gt;PDU&lt;/span&gt; at home and a vertical power strip at
the&amp;nbsp;apartment.&lt;/p&gt;
&lt;p&gt;Also, at the apartment, the roommates and I have had some discussion
lately about how much power the machines draw. This mainly stemmed from
our plans to move this June, into a rented house with two more people.
This seems to be falling through, so I don&amp;#8217;t have to worry about moving
and re-cabling everything, but I&amp;#8217;m still interested in finding out how
much power is being drawn. Granted, my UPSs at home give me a
more-or-less good idea of power consumption, but I&amp;#8217;d like to know in
detail. The ideal solution would be a clamp ammeter around the mains
line to the equipment - one with a serial interface. Unfortunately, I
can&amp;#8217;t seem to find such a thing, short of a digital multimeter left on
all the time. So, I guess I&amp;#8217;ll be looking around, and if I can&amp;#8217;t find
anything specific, maybe I&amp;#8217;ll work on a microcontroller that can read
1-200mV in 1mV increments, and use it with an inductive clamp ammeter
(usual output for them is 1mV per&amp;nbsp;A).&lt;/p&gt;
&lt;p&gt;So, on Monday I got into work and couldn&amp;#8217;t access my mailserver. Weird.
I never even got any Nagios alerts. I checked Nagios and&amp;#8230; nothing. As
in no connection. I &lt;span class="caps"&gt;SSH&lt;/span&gt;&amp;#8217;d home and pinged both boxes, but nothing. The
switch showed the mail server totally offline, and the Nagios box
plugged connected but &lt;span class="caps"&gt;ZERO&lt;/span&gt; data out. I reset the counters and waited.
Still nothing. After an hour or so of poking around, I determined that
both devices were on the same 6-port group on the switch, and nothing
else there was up too. So, after five long hours, I got someone back
home to switch the cables. Still nothing. On a hunch, I asked to have
her check the mail server (the &amp;#8220;new&amp;#8221; Sun Blade 150) and, sure enough, it
wasn&amp;#8217;t powered on. A click of the power button, and the mail server was
back online. Along with an ominous last email from Nagios, stating that
the &lt;span class="caps"&gt;UPS&lt;/span&gt; running my switch lost power, and 6 minutes later, was going
down hard. Then&amp;nbsp;quiet.&lt;/p&gt;
&lt;p&gt;I don&amp;#8217;t usually have power outages. So I&amp;#8217;ll admit, when I added some of
the new machines, I committed a high sin - I &amp;#8220;never got around&amp;#8221; to
setting up everything power-wise. I also have the switch running off of
an old BackUPS &lt;span class="caps"&gt;500VA&lt;/span&gt; unit, &lt;span class="caps"&gt;USB&lt;/span&gt;, without automatic self-tests. As a
result of all&amp;nbsp;this:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The little &lt;span class="caps"&gt;UPS&lt;/span&gt; powering the switch only held out for 6-7 minutes. As
    a result, once that died, the bigger units didn&amp;#8217;t even matter, as
    all hope was lost. This needs to be on a bigger &lt;span class="caps"&gt;UPS&lt;/span&gt; - maybe one of
    the &lt;span class="caps"&gt;1000VA&lt;/span&gt;&amp;#8217;s until it gets its&amp;#8217;&amp;nbsp;own.&lt;/li&gt;
&lt;li&gt;APCupsd requires a network to initiate shutdown, so the rest of the
    machines came down hard (as confirmed by looking through log&amp;nbsp;files).&lt;/li&gt;
&lt;li&gt;The SunBlade was never setup to power on after power interruption,
    so it just sat there like a&amp;nbsp;brick.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Most disturbingly, while my Nagios/monitoring box is up (according to
the switch, power draw figures from the &lt;span class="caps"&gt;UPS&lt;/span&gt;, and the lights, as
confirmed by someone on-site), it&amp;#8217;s dead. No ping, nothing out. I&amp;#8217;ll
have to look into it, but it made me realize that this really is my only
way of analyzing problems. That needs to&amp;nbsp;stop.&lt;/p&gt;
&lt;p&gt;Maybe one day I&amp;#8217;ll have the money for a nice &lt;a href="http://www.apc.com/products/family/index.cfm?id=223"&gt;SmartUPS
&lt;span class="caps"&gt;RT&lt;/span&gt;&lt;/a&gt; or even a
&lt;a href="http://www.apc.com/products/family/index.cfm?id=189"&gt;Symmetra&lt;/a&gt; - though
getting 208V into my basement is even more of a dream than spending
$4000 on a&amp;nbsp;&lt;span class="caps"&gt;UPS&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Also, I decided (after all this) to setup graphing of &lt;span class="caps"&gt;UPS&lt;/span&gt; data (load,
voltage in and out, temp, capacity, run time, etc.). While I haven&amp;#8217;t
gotten around to setting up &lt;a href="http://www.zenoss.com/"&gt;Zenoss&lt;/a&gt; yet, I did
a quick (well, 4 hours later I&amp;#8217;m done configuring it)
&lt;a href="http://www.cacti.net/"&gt;Cacti&lt;/a&gt;installation on my web server (I should
already have it running on the monitoring box, but who knows what that
will look like when I get&amp;nbsp;home).&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Thu, 06 Mar 2008 01:02:00 -0500</pubDate><guid>tag:blog.jasonantman.com,2008-03-06:2008/03/cable-management-power-measurements-major-outage-cacti/</guid><category>apc</category><category>cable management</category><category>cacti</category><category>disaster</category><category>monitoring</category><category>power distribution</category><category>power failure</category><category>rack</category><category>UPS</category></item><item><title>February 26, 2008</title><link>http://blog.jasonantman.com/2008/02/february-26-2008/</link><description>&lt;p&gt;Well, while I haven&amp;#8217;t made much progress on anything interesting -
mainly my &lt;span class="caps"&gt;NMS&lt;/span&gt; comparison or any of my other projects - due to my busy
schedule, I did get an hour or two to clean up my network at the
apartment, swapping out my 24-port Linksys switch in my room for the
5-port Netgear previously used for printing. I threw all of the printers
and the print server on their own &lt;span class="caps"&gt;VLAN&lt;/span&gt; on the main 3com&amp;nbsp;switch.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ve also started thinking more about &lt;a href="http://www.mythtv.org/"&gt;MythTV&lt;/a&gt; -
I use it for &lt;span class="caps"&gt;TV&lt;/span&gt; in my room (feeding a grossly insufficient 21&amp;#8221; &lt;span class="caps"&gt;CRT&lt;/span&gt;
monitor), and my roommate has a Dell &lt;span class="caps"&gt;GX270&lt;/span&gt; by the big &lt;span class="caps"&gt;TV&lt;/span&gt; in the living
room, though it was running Freevo (and now has a dead tuner and no &lt;span class="caps"&gt;RAM&lt;/span&gt;,
or something like that). So, I decided that I might do things right -
drop a 5- or 8-port GigE switch in the apartment, put GigE NICs in the
two boxes with tuners (putting MythTV on the &lt;span class="caps"&gt;GX270&lt;/span&gt; also), and setting up
a centralized system. The problem is that the ideal solution would be a
single dedicated back-end system for storage and control, with the two
tuner/video out boxes just providing A/V I/O. Unfortunately, the two
boxes with tuners are both high-spec&amp;#8217;ed P4&amp;#8217;s, and I&amp;#8217;m not sure what I
can come up with in terms of a server for the&amp;nbsp;backend.&lt;/p&gt;
&lt;p&gt;Now, &lt;em&gt;the question for anyone who may be
reading&lt;/em&gt; - I&amp;#8217;d like to setup a good amount (1-&lt;span class="caps"&gt;2TB&lt;/span&gt;) of storage for
this. My roommate wants a &lt;span class="caps"&gt;RAID&lt;/span&gt; configuration, but I don&amp;#8217;t see the need
for videos - if I lose my &lt;span class="caps"&gt;TV&lt;/span&gt; recordings, I set MythTV to record it again
the next time it&amp;#8217;s on. Anyway, I have an 8-bay external &lt;span class="caps"&gt;SCAI&lt;/span&gt; enclosure
and cards in all of the servers, but &lt;span class="caps"&gt;SCSI&lt;/span&gt; disks are expensive. I was
thinking of going to &lt;span class="caps"&gt;SATA&lt;/span&gt; 3.0. Most likely, I&amp;#8217;d get some sort of 4-8
disk enclosure, start with 1-3 disks in the 400-&lt;span class="caps"&gt;750GB&lt;/span&gt;&amp;nbsp;range.&lt;/p&gt;
&lt;p&gt;So, the question - what type of system specs would be needed to stream
audio and video, uncompressed, perhaps even &lt;span class="caps"&gt;HDTV&lt;/span&gt; (we have the &lt;span class="caps"&gt;TV&lt;/span&gt; and
cable box, would just need an &lt;span class="caps"&gt;HD&lt;/span&gt; tuner) to remote storage over the
network? I was thinking of doing either a Linux master MythTV backend
with eSATA cards, or letting each &lt;span class="caps"&gt;TV&lt;/span&gt; computer be its&amp;#8217; own backend, and
then doing Solaris/&lt;span class="caps"&gt;ZFS&lt;/span&gt; with iSCSI or ATAoE. Any suggestions? I&amp;#8217;m pretty
much thinking of using a PowerEdge 2550 for&amp;nbsp;this.&lt;/p&gt;
&lt;p&gt;Anyway, I&amp;#8217;m also filling up my backup disks at home, and don&amp;#8217;t want to
shorten my expiration cycle. My nightly backup runs put quite a strain
on my main Fast Ethernet &lt;span class="caps"&gt;LAN&lt;/span&gt;, so I&amp;#8217;ve been planning for a while on
moving to GigE. My thought at home is to setup a second, separate GigE
switch/lan, with GigE NICs in all of the servers. Not exactly cheap, but
I can pickup a Linux-/Solaris-compatible Negear &lt;span class="caps"&gt;GA311&lt;/span&gt; for around $40, in
addition to the Intel Pro/1000 &lt;span class="caps"&gt;XT&lt;/span&gt; and Asante GigaNIC that I already
have. The problem here is finding a good GigE switch - I&amp;#8217;d really like
something with Telnet, &lt;span class="caps"&gt;SNMP&lt;/span&gt;, VLANs, the&amp;nbsp;works.&lt;/p&gt;
&lt;p&gt;In other news, I highly recommend reading the &lt;a href="http://www.groklaw.net/article.php?story=20080221184924826"&gt;Groklaw story on
Microsoft&amp;#8217;s latest pledge for
interoperability&lt;/a&gt;.
I especially liked the one quote from the &lt;a href="http://www.ecis.eu/"&gt;&lt;span class="caps"&gt;ECIS&lt;/span&gt;&lt;/a&gt;&amp;nbsp;statement:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;For years now, Microsoft has either failed to implement or has
actively corrupted a range of truly open standards adopted and
implemented by the rest of the industry. Unless and until that
behaviour stops, today&amp;#8217;s words mean&amp;nbsp;nothing.&lt;/p&gt;
&lt;p&gt;More fundamentally, today&amp;#8217;s announcement is still all about the rest
of the world interoperating with Microsoft on Microsoft&amp;#8217;s own terms,
not the other way&amp;nbsp;around.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;There&amp;#8217;s even links to &lt;em&gt;ten&lt;/em&gt; previous Microsoft statements promising&amp;nbsp;interoperability.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The thing is, this is a promise to interoperate with old-fashioned
competitors. It doesn&amp;#8217;t enable interoperability with the &lt;span class="caps"&gt;GPL&lt;/span&gt;, which is
not compatible with patent licenses, and that is Microsoft&amp;#8217;s true&amp;nbsp;competition.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;From Michael Cunningham, &lt;span class="caps"&gt;VP&lt;/span&gt; and General Counsel of Red&amp;nbsp;Hat:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Eight years ago the &lt;span class="caps"&gt;U.S.&lt;/span&gt; regulatory authorities, and four years ago
the European regulators made clear to Microsoft that its refusal to
disclose interface information for its monopoly software products
violates the law. So, it is hardly surprising to see even Microsoft
state today that “interoperability across systems is an important
requirement” and announce a “change in [its] approach to
interoperability.” Of course, we’ve heard similar announcements
before, almost always strategically timed for other effect. Red Hat
regards this most recent announcement with a healthy dose of
skepticism. Three commitments by Microsoft would show that it really
means what it is announcing&amp;nbsp;today:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Commit to open standards: Rather than pushing forward its
    proprietary, Windows-based formats for document processing, &lt;span class="caps"&gt;OOXML&lt;/span&gt;,
    Microsoft should embrace the existing &lt;span class="caps"&gt;ISO&lt;/span&gt;-approved, cross-platform
    industry standard for document processing, Open Document Format
    (&lt;span class="caps"&gt;ODF&lt;/span&gt;) at the International Standards Organization’s meeting next
    week in Geneva. Microsoft, please demonstrate implementation of an
    existing international open standard now rather than make press
    announcements about intentions of future standards&amp;nbsp;support.&lt;/li&gt;
&lt;li&gt;Commit to interoperability with open source: Instead of offering a
    patent license for its protocol information on the basis of
    licensing arrangements it knows are incompatible with the &lt;span class="caps"&gt;GPL&lt;/span&gt; –
    the world’s most widely used open source software license –
    Microsoft should extend its Open Specification Promise to all of
    the interoperability information that it is announcing today will
    be made available. The Open Specification Promise already covers
    many Microsoft products that do not have monopoly market
    positions. If Microsoft were truly committed to fostering openness
    and preventing customer lock-in, it would extend this promise to
    the protocol and interface information it intends to disclose
    today. There is no explanation for refusing to extend the Open
    Specification Promise to “high-volume” products, other than a
    continued intention on Microsoft’s part to lock customers into its
    monopoly products, and lock out competitors through patent&amp;nbsp;threats.&lt;/li&gt;
&lt;li&gt;Commit to competition on a level playing field: Microsoft’s
    announcement today appears carefully crafted to foreclose
    competition from the open source community. How else can you
    explain a “promise not to sue open source developers” as long as
    they develop and distribute only*/ “non-commercial”
    implementations of interoperable products? This is simply
    disingenuous. The only hope for reintroducing competition to the
    monopoly markets Microsoft now controls – Windows, Office, etc. –
    is through commercial distributions of competitive open source
    software&amp;nbsp;products.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Amen!!!&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Tue, 26 Feb 2008 11:32:00 -0500</pubDate><guid>tag:blog.jasonantman.com,2008-02-26:2008/02/february-26-2008/</guid><category>GigE</category><category>microsoft</category><category>mythtv</category><category>sata</category><category>storage</category></item><item><title>F/OSS Monitoring Comparison - Hyperic Part I</title><link>http://blog.jasonantman.com/2008/02/foss-monitoring-comparison-hyperic-part-i/</link><description>&lt;p&gt;So, I&amp;#8217;ve made some headway on the comparison. I have Hyperic installed
and partly configured, albeit without email alerts yet. I&amp;#8217;ve found some
serious features that I need missing, but I&amp;#8217;m going to give it a full
run before I move on to&amp;nbsp;another.&lt;/p&gt;
&lt;p&gt;The full text, updated a few times a day, is available on &lt;a href="http://www.jasonantman.com/wiki/index.php/Network_Monitoring_Comparison"&gt;my
wiki&lt;/a&gt;.
Here&amp;#8217;s a bit of an&amp;nbsp;excerpt:  &lt;/p&gt;
&lt;h3 id="part-i-installation"&gt;Part I -&amp;nbsp;Installation&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;setup Xen virtual machine running OpenSuSE 10.3 base packages. (3
    hours, some server problems, some Xen problems, and some time
    learning Xen administration from the&amp;nbsp;&lt;span class="caps"&gt;CLI&lt;/span&gt;)&lt;/li&gt;
&lt;li&gt;Download &lt;code&gt;hyperic-hq-installer-3.2.0-607-x86-linux.tgz&lt;/code&gt; from
    &lt;a href="http://www.hyperic.com/downloads/dl-hq-oss.html" title="http://www.hyperic.com/downloads/dl-hq-oss.html"&gt;Hyperic&lt;/a&gt;
    and&amp;nbsp;extract.&lt;/li&gt;
&lt;li&gt;Browse to
    &lt;a href="http://support.hyperic.com/confluence/display/DOC/Full+Installation+Guide" title="http://support.hyperic.com/confluence/display/DOC/Full+Installation+Guide"&gt;http://support.hyperic.com/confluence/display/&lt;span class="caps"&gt;DOC&lt;/span&gt;/Full+Installation+Guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;cd&lt;/code&gt; into &lt;code&gt;hyperic-hq-installer&lt;/code&gt; and run &lt;code&gt;./setup.sh -full&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The installation can&amp;#8217;t be run as root (though I assumed it would
    need root&amp;nbsp;privileges).&lt;/li&gt;
&lt;li&gt;I selected to install all 3 components - Server, Shell, and&amp;nbsp;Agent.&lt;/li&gt;
&lt;li&gt;Well, whoops! Sorta stupid to not allow installation as root,
    when the default location to install to is &lt;code&gt;/home/hyperic&lt;/code&gt;. How
    do they expect an arbitrary user to install there? Even worse,
    it appears that the default OpenSuSE 10.3 installation doesn&amp;#8217;t
    come with &lt;code&gt;sudo&lt;/code&gt; (!!!!) so I can&amp;#8217;t try&amp;nbsp;that.&lt;/li&gt;
&lt;li&gt;As root, create &lt;code&gt;/home/hyperic&lt;/code&gt; and chown to my&amp;nbsp;user.&lt;/li&gt;
&lt;li&gt;Repear the above steps (well, hopefully not all of&amp;nbsp;them).&lt;/li&gt;
&lt;li&gt;Default ports for everything - web &lt;span class="caps"&gt;GUI&lt;/span&gt; on 7080, &lt;span class="caps"&gt;HTTPS&lt;/span&gt; web &lt;span class="caps"&gt;GUI&lt;/span&gt; on
    7443, jnp service on 2099, mbean server on&amp;nbsp;9093,&lt;/li&gt;
&lt;li&gt;Change domain names in default URLs to logical ones for my test
    environment (no real &lt;span class="caps"&gt;DNS&lt;/span&gt;, just IPcop hosts, so
    devel-hyperic1.localdomian). I hope that I can change these
    later, or even better that absolute paths aren&amp;#8217;t used too much,
    as this will screw with my idea of using &lt;span class="caps"&gt;SSH&lt;/span&gt; port forwarding for
    remote&amp;nbsp;access.&lt;/li&gt;
&lt;li&gt;Leave the default &lt;span class="caps"&gt;SMTP&lt;/span&gt; server alone and change it later - I
    odn&amp;#8217;t even have mail running here at the&amp;nbsp;apartment.&lt;/li&gt;
&lt;li&gt;Use the built-in PostgreSQL database with default port of&amp;nbsp;9432.&lt;/li&gt;
&lt;li&gt;Go with the defaults for everything after&amp;nbsp;this.&lt;/li&gt;
&lt;li&gt;Everything runs nicely, and then it tells you to login to
    another terminal as root and run a script. I&amp;#8217;m not sure I like
    this method, but I guess it works. Login and do&amp;nbsp;it.&lt;/li&gt;
&lt;li&gt;How will it start the builtin database? As my user???? Yup.
    postgres is running as my user. Wonderful. Nothing in the
    &lt;a href="http://support.hyperic.com/confluence/display/DOC/Full+Installation+Guide" title="http://support.hyperic.com/confluence/display/DOC/Full+Installation+Guide"&gt;install
    document&lt;/a&gt;
    mentioned user creation. Was this just assumed? Because in the
    naive world I live in, most installer scripts (think Nagios)
    create a user for you, or tell you&amp;nbsp;to.&lt;/li&gt;
&lt;li&gt;Setup script complete. A few instructions&amp;nbsp;follow&amp;#8230;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Run &lt;code&gt;/home/hyperic/server-3.2.0/bin/hq-server.sh start&lt;/code&gt;&amp;#8230; as my
    user. &lt;em&gt;Note to self:&lt;/em&gt; setup a user for Postgres and Hyperic. Believe
    it or not, but it booted - but followed with the message, &amp;#8220;Login to
    &lt;span class="caps"&gt;HQ&lt;/span&gt; at:
    &lt;a href="http://127.0.0.1:7080/" title="http://127.0.0.1:7080/"&gt;http://127.0.0.1:7080/&lt;/a&gt;&amp;#8221;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;Browsed to
    &lt;a href="http://devel-hyperic1:7080/" title="http://devel-hyperic1:7080"&gt;http://devel-hyperic1:7080&lt;/a&gt;
    and was greeted by a startup page, saying that the server was 18%
    finished booting. My, I yearn for little C binaries and a &lt;span class="caps"&gt;PHP&lt;/span&gt;&amp;nbsp;frontend.&lt;/li&gt;
&lt;li&gt;Page turns blank and stops there. I refresh, and get a login page. I
    enter my username and password, and get a little message box where
    the &amp;#8220;invalid password&amp;#8221; box usually is - says &amp;#8220;Server is still
    booting&amp;#8221;. This is over a minute later. I&amp;#8217;m happy to see
    Apache/Coyote1.1, but would like to be able to get into Hyperic in
    less time than it takes the machine to boot to a graphical login
    screen (ok, granted, I&amp;#8217;m running &lt;span class="caps"&gt;XFCE&lt;/span&gt;). In SuSE&amp;#8217;s YaST Xen Monitor,
    I see that the &lt;span class="caps"&gt;VM&lt;/span&gt; is at 45% of its&amp;#8217; &lt;span class="caps"&gt;464MB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt;, and 90% &lt;span class="caps"&gt;CPU&lt;/span&gt; - with
    8.5% consumed by&amp;nbsp;dom0.&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;CPU&lt;/span&gt; usage for the &lt;span class="caps"&gt;VM&lt;/span&gt; drops to 1% and I login again. &lt;span class="caps"&gt;BAM&lt;/span&gt;! Hyperic &lt;span class="caps"&gt;HQ&lt;/span&gt;.
    Aside from the fact that it shows &lt;span class="caps"&gt;NO&lt;/span&gt; resources&amp;#8230; oh&amp;#8230; start the&amp;nbsp;Agent.&lt;/li&gt;
&lt;li&gt;Start the Agent on the &lt;span class="caps"&gt;VM&lt;/span&gt; running Hyperic. It asks me for the server
    &lt;span class="caps"&gt;IP&lt;/span&gt; address. What, no &lt;span class="caps"&gt;DNS&lt;/span&gt;? I enter the &lt;span class="caps"&gt;IP&lt;/span&gt; as it is&amp;#8230; for now. I keep
    everything at defaults, including using the hqadmin username and
    password. Successfully&amp;nbsp;started.&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;BAM&lt;/span&gt;! In Dashboard, I see the auto-discovered host with the right
    hostname, as well as Tomcat, Agent, JBoss, and PostgreSQL. Amazing!
    Click &amp;#8220;Add to&amp;nbsp;Inventory&amp;#8221;.&lt;/li&gt;
&lt;li&gt;Check out the &amp;#8220;Resources&amp;#8221; -&gt; &amp;#8220;Browse&amp;#8221; screen. It knows this machine
    is OpenSuSE 10.3, and I see my four services (listed above). Of
    course, no metrics yet, but I see the correct &lt;span class="caps"&gt;IP&lt;/span&gt;, gateway, &lt;span class="caps"&gt;DNS&lt;/span&gt;,
    vendor (SuSE), kernel version, &lt;span class="caps"&gt;RAM&lt;/span&gt;, architecture, and &lt;span class="caps"&gt;CPU&lt;/span&gt;&amp;nbsp;speed.&lt;/li&gt;
&lt;li&gt;Looking through the &amp;#8220;Inventory&amp;#8221; screen, I see everything - NICs and
    MACs, running servers and one service (a &lt;span class="caps"&gt;CPU&lt;/span&gt; resource). What more
    could a man want in&amp;#8230;let&amp;#8217;s see.. just over an&amp;nbsp;hour!&lt;/li&gt;
&lt;li&gt;I really *love* the &amp;#8220;Views&amp;#8221; screen which, even out-of-the-box,
    allows &amp;#8220;Live Exec&amp;#8221; information from cpuinfo, df, ifconfig, netstat,
    top, who, and&amp;nbsp;more.&lt;/li&gt;
&lt;li&gt;Well, it&amp;#8217;s 03:35, and I have work and class tomorrow. I think it&amp;#8217;s
    time to give Part I a rest. But&amp;nbsp;first&amp;#8230;&lt;/li&gt;
&lt;li&gt;Go to the &amp;#8220;Platform&amp;#8221; page for my one machine and&amp;#8230; &lt;span class="caps"&gt;YES&lt;/span&gt;! Graphs are
    starting to&amp;nbsp;appear!&lt;/li&gt;
&lt;li&gt;Following the suggestion
    &lt;a href="http://support.hyperic.com/confluence/display/DOC/HQ+Quick+Start#HQQuickStart-enableTracking" title="http://support.hyperic.com/confluence/display/DOC/HQ+Quick+Start#HQQuickStart-enableTracking"&gt;here&lt;/a&gt;,
    I enable log and config tracking on the platform for &lt;code&gt;/var/log/warn&lt;/code&gt;
    and &lt;code&gt;/etc/hosts&lt;/code&gt;,&amp;nbsp;respecitvely.&lt;/li&gt;
&lt;li&gt;Before I call it a night (now 03:42), I stop back at the &lt;a href="http://www.hyperic.com/downloads/dl-hq-oss.html" title="http://www.hyperic.com/downloads/dl-hq-oss.html"&gt;downloads
    page&lt;/a&gt;
    and grab the Linux x86 Agent for the dom0 machine, hoping to get
    some physical information as well. While I&amp;#8217;m at it, I grab the Linux
    &lt;span class="caps"&gt;AMD64&lt;/span&gt; Agent to try on my laptop. I create &amp;#8220;hyperic&amp;#8221; users on each
    system. On the base Xen server, I give it a shot and get &amp;#8220;Unable to
    register agent: Error communicating with agent: Unauthorized&amp;#8221;. Same
    thing on the&amp;nbsp;laptop.&lt;/li&gt;
&lt;li&gt;Did a little reading
    &lt;a href="http://support.hyperic.com/confluence/display/DOC/Installation+Non-Windows#InstallationNon-Windows-install" title="http://support.hyperic.com/confluence/display/DOC/Installation+Non-Windows#InstallationNon-Windows-install"&gt;here&lt;/a&gt;.
    As to keeping all of the defaults, it turns out that both clients
    had firewalls blocking &lt;span class="caps"&gt;TCP&lt;/span&gt; port 2144. I opened it up on both, and
    also set the &lt;span class="caps"&gt;IP&lt;/span&gt; address (that the server uses to contact the client)
    to the correct ones. Viola! Now I have 3 clients connected, and
    gatheirng data for the next \~16 hours until I have time to check it
    out&amp;nbsp;agian.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;More to come in Part &lt;span class="caps"&gt;II&lt;/span&gt; tomorrow - actually doing something with
Hyperic. For&lt;br /&gt;
now (04:08), time to&amp;nbsp;sleep.&lt;/p&gt;
&lt;h3 id="part-ii-configuration"&gt;Part &lt;span class="caps"&gt;II&lt;/span&gt; -&amp;nbsp;Configuration&lt;/h3&gt;
&lt;p&gt;Unfortunately, I haven&amp;#8217;t had much time to play with Hyperic in the two
days&lt;br /&gt;
since installation. The most I&amp;#8217;ve really done is setup Agents on my
laptop,&lt;br /&gt;
desktop, and the host machine (both dom0 and domU for Hyperic), so that
they&lt;br /&gt;
start to collect&amp;nbsp;data.&lt;/p&gt;
&lt;p&gt;While I found a lot of upsetting stuff in the features list (see below),
I&lt;br /&gt;
decided to go ahead and add some other devices. On the network at the&lt;br /&gt;
apartment, I have two manageable switches (a Linksys and a 3Com) - which
pretty&lt;br /&gt;
much make up the sum of non-host equipment. I also have an IPcop box,
though I&lt;br /&gt;
assume the standard Linux Agent will handle that. The one item missing
that I&lt;br /&gt;
have at home is my set of &lt;span class="caps"&gt;APC&lt;/span&gt; SmartUPS UPSs with &lt;span class="caps"&gt;SNMP&lt;/span&gt; cards, but I guess
I&amp;#8217;ll&lt;br /&gt;
just have to skip them for this&amp;nbsp;review.&lt;/p&gt;
&lt;p&gt;First, I went in and added a platform (Resources-&gt;Browse, Tools
Menu-&gt;Add&lt;br /&gt;
Platform) for the 3Com switch (a SuperStack &lt;span class="caps"&gt;II&lt;/span&gt; Switch 3300). It showed&lt;br /&gt;
successful creation - but nothing else. I went in and entered the &lt;span class="caps"&gt;SNMP&lt;/span&gt;&lt;br /&gt;
community string, &lt;span class="caps"&gt;IP&lt;/span&gt;, and version (1). In about a minute or so, I
started to&lt;br /&gt;
see metrics - Availability, &lt;span class="caps"&gt;IP&lt;/span&gt; Forwards, &lt;span class="caps"&gt;IP&lt;/span&gt; In Receives, an &lt;span class="caps"&gt;IP&lt;/span&gt; In
Received per&lt;br /&gt;
Second. While it&amp;#8217;s quite basic, that&amp;#8217;s good for a starting point. While
the&lt;br /&gt;
[&lt;a href="http://support.hyperic.com/confluence/display/DOCSHQ30/Network+Device+platform" title="http://support.hyperic.com/confluence/display/DOCSHQ30/Network+Device+platform"&gt;http://support.hyperic.com/confluence/display/&lt;span class="caps"&gt;DOCSHQ30&lt;/span&gt;/Network+Device+platform&lt;/a&gt;&lt;br /&gt;
Network Device Platform] documentation lists lots of metrics that can
be&lt;br /&gt;
enabled, I&amp;#8217;d also like telnet availability and - my big one since I use
a&lt;br /&gt;
&amp;#8220;cute&amp;#8221; (crappy) IPcop installation for local &lt;span class="caps"&gt;DNS&lt;/span&gt;, a dig on &lt;span class="caps"&gt;DNS&lt;/span&gt; to make
sure&lt;br /&gt;
the entry is there. In the Monitor screen, I was able to enable a bunch
of&lt;br /&gt;
additional metrics (by clicking on the &amp;#8220;Show All Metrics&amp;#8221; link), though&lt;br /&gt;
there&amp;#8217;s also no way (that I can find) to monitor the status of
individual&lt;br /&gt;&amp;nbsp;ports.&lt;/p&gt;
&lt;p&gt;Next, I browsed through the &amp;#8220;Administration&amp;#8221; pages, setup a few users,
and&lt;br /&gt;
started setting *way* more default metrics for various platforms,
services,&lt;br /&gt;
and servers. While I don&amp;#8217;t have mail running yet, that will come this&lt;br /&gt;
weekend. While I added a lot of things as &amp;#8220;Default On&amp;#8221;, I still need to
go&lt;br /&gt;
back and add more things in the templates as&amp;nbsp;Indicators.&lt;/p&gt;
&lt;p&gt;I also added some escalations, though they&amp;#8217;re quite simple - you can
notify &lt;span class="caps"&gt;HQ&lt;/span&gt;&lt;br /&gt;
users or &amp;#8220;other users&amp;#8221; by email or &lt;span class="caps"&gt;SMS&lt;/span&gt;, write to SysLog, or suppress
alerts&lt;br /&gt;
for 0 minutes to 24 hours. Hopefully I&amp;#8217;ll also find a plugin for
Asterisk&lt;br /&gt;
integration. One striking omission is user groups. Also, the concept of&lt;br /&gt;
&amp;#8220;Roles&amp;#8221; (maybe their idea of groups?) is only available in the
Enterprise&lt;br /&gt;&amp;nbsp;version.&lt;/p&gt;
&lt;p&gt;At this point, I also notice one other majoe issue, though perhaps I&amp;#8217;ll
find a&lt;br /&gt;
solution in my experimentation - there doesn&amp;#8217;t be a way to setup
default&lt;br /&gt;
alerts for metrics. If they have all of this platform, server, and
service&lt;br /&gt;
information defined as default templates, why not just have a way to
assign&lt;br /&gt;
default users (and groups) to these objects, and have default alerts&lt;br /&gt;&amp;nbsp;generated?&lt;/p&gt;
&lt;p&gt;In terms of Apache 2.2 monitoring, out-of-the-box, nothing worked. No
metrics&lt;br /&gt;
at all. Firstly, Hyperic requires the mod_status module. Persoanlly,
I&amp;#8217;d&lt;br /&gt;
rather handle all of that through a backend, like Nagios. Secondly, it
got the&lt;br /&gt;
pidfile and apache2ctl paths wrong. Furthermore, it has no &amp;#8220;smart&amp;#8221;
checking for resources - while my Apache 2.2 resource config was clearly
wrong (wrong &lt;span class="caps"&gt;PID&lt;/span&gt; file path, no mod_status), Hyperic didn&amp;#8217;t detect this
and was showing the resource as&amp;nbsp;&amp;#8220;Down&amp;#8221;.&lt;/p&gt;
&lt;p&gt;After that, I setup a bunch of alerts for things that I thought would be
off-kilter a lot (like &lt;span class="caps"&gt;WARN&lt;/span&gt; log entries on my laptop, high memory usage
on some stressed machines, etc.) as well as log and config file
monitoring and alerts for them. While I didn&amp;#8217;t have mail working yet, I
figured I might as well get that stuff&amp;nbsp;running.&lt;/p&gt;
&lt;p&gt;On the Xen dom0 host that runs the Hyperic vm (box called xenmaster1), I
wasn&amp;#8217;t able to add config file tracking for any of the /etc/xen/ files.
At this point I notice some serious shortcomings - not only is it not
possible to define a template of alerts for a given
platform/server/service, it&amp;#8217;s also impossible to define a template for
alerts. I also noticed that it&amp;#8217;s not possible to define groups of
contacts. This wasn&amp;#8217;t much of a problem for my test installation - the
alerts are only going to my roommate and I - but it would surely be an
issue in any larger&amp;nbsp;setting.&lt;/p&gt;
&lt;p&gt;At this point in configuration, I come to a make-or-break point. With
some of these shortcomings, I really need a way to call a script with
alert information when an alert is generated - whether it&amp;#8217;s to dial out
through Asterisk or just automatically create a ticket for the&amp;nbsp;problem.&lt;/p&gt;
&lt;p&gt;Adding alerts is a cumbersome process. You have to browse to a page for
a specific metric - which means going to the page for a specific
platform, server, or service - and then opening the page for that
metric. The actual alert creation takes up two pages - one for the
metric, threshold, and time-based criteria, and a second for who to
alert. This means that to add alerts for a machine, you need to view the
platform page as well as the services and servers pages, and each metric&amp;nbsp;therein.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ll be posting some more in the days to come. From a &lt;a href="http://forums.hyperic.com/jiveforums/thread.jspa?messageID=14561&amp;amp;#14561"&gt;post at the
Hyperic
Forums&lt;/a&gt;,
I was able to find out that a Xen plugin is in the works, but for the
Open Source version, the only way to trigger a script is to send an
email and have it handled by a filter such as&amp;nbsp;Procmail.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Fri, 08 Feb 2008 16:54:00 -0500</pubDate><guid>tag:blog.jasonantman.com,2008-02-08:2008/02/foss-monitoring-comparison-hyperic-part-i/</guid><category>hyperic</category><category>monitoring</category><category>open source</category></item><item><title>Network Monitoring (lack of) Progress</title><link>http://blog.jasonantman.com/2008/02/network-monitoring-lack-of-progress/</link><description>&lt;p&gt;So, I&amp;#8217;ve been plodding along after troubleshooting some &lt;span class="caps"&gt;VPN&lt;/span&gt; issues with
my Solaris workstation that I use for Sun work. After that, I started
work on the Xen box. Big surprise - none of the &lt;span class="caps"&gt;PS&lt;/span&gt;/2 inputs are working.
I knew that the &lt;span class="caps"&gt;PS&lt;/span&gt;/2 riser card was loose, but now I can&amp;#8217;t get any
input. I gave a &lt;span class="caps"&gt;USB&lt;/span&gt; mouse and keyboard a shot, but it&amp;#8217;s flat-out
impossible to use them with a 1U slide-out &lt;span class="caps"&gt;KVM&lt;/span&gt; console. So, back to my
room and&amp;nbsp;&lt;span class="caps"&gt;VNC&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Now, problem 2. I&amp;#8217;m trying to use the SuSE/YaST builtin &lt;span class="caps"&gt;VM&lt;/span&gt; manager.
Unfortunately, it can&amp;#8217;t read half of my known-good SuSE CDs, and for
some reason the other half come up with a mysterious error that it can&amp;#8217;t
find /tmp/{random string}/suse/i586/install-initrd-1.0-72.i586.rpm. This
is most troubling because I have 2 VMs setup on the machine, and
installed them both without a&amp;nbsp;problem.&lt;/p&gt;
&lt;p&gt;By now a new OpenSuSE 10.3-&lt;span class="caps"&gt;KDE&lt;/span&gt; .iso should be done downloading (thank
God for a 1.5Mbps download rate at home), so I&amp;#8217;ll keep hacking away at&amp;nbsp;it&amp;#8230;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Wed, 06 Feb 2008 00:07:00 -0500</pubDate><guid>tag:blog.jasonantman.com,2008-02-06:2008/02/network-monitoring-lack-of-progress/</guid></item><item><title>Network Monitoring Trials - Part I</title><link>http://blog.jasonantman.com/2008/02/network-monitoring-trials-part-i/</link><description>&lt;p&gt;After dinner tonight, I&amp;#8217;m going to start setting up my Xen VMs and
installing some monitoring software. I&amp;#8217;ve decided that
&lt;a href="http://www.hyperic.com/"&gt;Hyperic&lt;/a&gt; and &lt;a href="http://www.opennms.org"&gt;OpenNMS&lt;/a&gt;
will be the first round - mainly because their free versions seem to be
the most heavy-weight, and will probably take more installation time.
&lt;a href="http://www.groundworkopensource.com/"&gt;GroundWork Open Source&lt;/a&gt; will come
sometime later this&amp;nbsp;week.&lt;/p&gt;
&lt;p&gt;While the research that I did today has led me to start formulating some
opinions on each of the contestants, I&amp;#8217;m going to withhold comment until
I get all three up and running, and have done some real work with&amp;nbsp;them.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Tue, 05 Feb 2008 20:26:00 -0500</pubDate><guid>tag:blog.jasonantman.com,2008-02-05:2008/02/network-monitoring-trials-part-i/</guid><category>groundwork</category><category>hyperic</category><category>monitoring</category><category>opennms</category></item><item><title>Google Loves Me! and Monitoring System Testing</title><link>http://blog.jasonantman.com/2008/02/google-loves-me-and-monitoring-system-testing/</link><description>&lt;p&gt;I happened to visit Google Webmaster Tools tonight. On the down side, a
lot more of my redirected pages
(&lt;a href="http://jantman.dyndns.org:10011/"&gt;jantman.dyndns.org:10011&lt;/a&gt;) are
indexed than those from the domain
(&lt;a href="http://www.jasonantman.com"&gt;jasonantman.com&lt;/a&gt;). On the positive side,
my search stats are quite impressive - for example, &lt;a href="http://www.google.com/search?num=50&amp;amp;hl=en&amp;amp;safe=off&amp;amp;q=hpadu&amp;amp;btnG=Search"&gt;searching
&amp;#8220;hpadu&amp;#8221;&lt;/a&gt;
(the &lt;span class="caps"&gt;HP&lt;/span&gt; Proliant Array Diagnostic Utility) gives my
&lt;a href="http://www.jasonantman.com"&gt;Wiki&lt;/a&gt;as the #9 result - searching &lt;a href="http://www.google.com/search?q=hpasm+sles10&amp;amp;hl=en"&gt;&amp;#8220;hpasm
sles10&amp;#8221;&lt;/a&gt; shows my
site as #3! Most amazingly, there are only two &lt;span class="caps"&gt;HP&lt;/span&gt; pages above mine in
both of the&amp;nbsp;queries.&lt;/p&gt;
&lt;p&gt;I guess trying to put every bit of knowledge I pick up in my blog or
wiki pays off. And hopefully some people are getting&amp;nbsp;help.&lt;/p&gt;
&lt;p&gt;On another note, later this week I&amp;#8217;m going to setup two virtual machines
on my spare PowerEdge 650 to test some &lt;a href="/2008/01/network-monitoring.html"&gt;network monitoring
systems&lt;/a&gt;
- specifically, &lt;a href="http://www.hyperic.com/products/hq_oss.html"&gt;Hyperic
&lt;span class="caps"&gt;HQ&lt;/span&gt;&lt;/a&gt;,
&lt;a href="http://www.opennms.org/"&gt;OpenNMS&lt;/a&gt;, and &lt;a href="http://www.groundworkopensource.com/products/os-overview.html"&gt;Groundwork Open
Source&lt;/a&gt;.
Thanks to &lt;a href="http://www.johnmwillis.com"&gt;John&lt;/a&gt;, Peter, and &lt;a href="http://jeffgehlbach.com/"&gt;Jeff
G&lt;/a&gt;. (of OpenNMS) for finding my little-known
blog and suggesting I try them. I don&amp;#8217;t know how much I&amp;#8217;ll be able to
run on this poor system (2.4GHz P-&lt;span class="caps"&gt;III&lt;/span&gt; is the fastest I have, but &lt;span class="caps"&gt;768MB&lt;/span&gt;
&lt;span class="caps"&gt;RAM&lt;/span&gt; is a bit weak), but I&amp;#8217;ll do the best I can, and post my&amp;nbsp;results.&lt;/p&gt;
&lt;p&gt;One comment - I can&amp;#8217;t seem to find a feature list for
&lt;a href="http://www.opennms.org/"&gt;OpenNMS&lt;/a&gt;, so I may be wrong, but it looks like
&lt;a href="http://www.hyperic.com/products/hq_oss.html"&gt;Hyperic &lt;span class="caps"&gt;HQ&lt;/span&gt;&lt;/a&gt; may be in the
lead at the moment, simply because it seems to include built-in asset
tracking with hardware discovery - something that takes me way too long
to manually keep up-to-date. On another side-note, the web site for
&lt;a href="http://www.groundworkopensource.com/products/os-overview.html"&gt;Groundwork Open
Source&lt;/a&gt;
leaves a sour taste in my mouth, as it&amp;#8217;s pretty sparse - there&amp;#8217;s a lot
of space given to the Enterprise edition, but not much text about the
Open Source&amp;nbsp;version.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Tue, 05 Feb 2008 03:15:00 -0500</pubDate><guid>tag:blog.jasonantman.com,2008-02-05:2008/02/google-loves-me-and-monitoring-system-testing/</guid><category>google</category><category>groundwork</category><category>hyperic</category><category>montoring</category><category>opennms</category></item><item><title>Big Plans - Major Infrastructure Upgrades</title><link>http://blog.jasonantman.com/2008/02/big-plans-major-infrastructure-upgrades/</link><description>&lt;p&gt;Well, some more news. I&amp;#8217;ve got some pay coming to me, and I also
realized that I have literally a &lt;em&gt;pile&lt;/em&gt; of Dell server rack rails, cable
management parts, and front bezels/panels (that I got from &lt;a href="http://www.material.rutgers.edu/surplussales.shtml"&gt;Rutgers
Unversity Surplus&lt;/a&gt;)
to sell on &lt;a href="http://myworld.ebay.com/jason-antman/"&gt;EBay&lt;/a&gt;. So, aside from
expenses (like $45/month for Verizon data service on my wonderful &lt;a href="http://www.palm.com/us/products/smartphones/treo700p/"&gt;Treo
700p&lt;/a&gt;) and
savings, I decided that I should make some infrastructure upgrades to&amp;nbsp;jasonantman.com.&lt;/p&gt;
&lt;p&gt;Just figuring out what to do was a task. I&amp;#8217;ll admit that my
administration techniques haven&amp;#8217;t really scaled with the network, so I
clicked into my &lt;a href="http://www.nagios.org/"&gt;Nagios&lt;/a&gt; installation, and
remembered that I&amp;#8217;m monitoring 17 hosts (and 165 services), I realized
that this will end up being a big project, both in terms of
infrastructure/hardware and software. The first decision was that I
wouldn&amp;#8217;t do anything with the hosts at the &lt;a href="http://www.midlandparkambulance.com/"&gt;ambulance
corps&lt;/a&gt; or my apartment (the
apartment is all non-mission-critical), so that narrowed it down to the
main seven systems at&amp;nbsp;home.&lt;/p&gt;
&lt;p&gt;Figuring out what I have running was also a major task, and highlighted
some real problems. I found &lt;a href="http://www.dracoware.com/ppl/rtwomey/inventory.shtml"&gt;a Perl script that gathers hardware
information on Linux-based
systems&lt;/a&gt; from
&lt;a href="http://www.dracoware.com/ppl/rtwomey/index.html"&gt;Ryan Twomey&lt;/a&gt;
(&lt;em&gt;everything&lt;/em&gt; is running some version of
&lt;a href="http://www.opensuse.org/"&gt;OpenSuSE&lt;/a&gt; 10.x except for the mailserver,
which runs &lt;a href="http://www.sun.com/software/solaris/"&gt;Sun Solaris 10&lt;/a&gt;). I
had to scp the script and its&amp;#8217; two perl modules to five machines (not
counting the one I was working on), &lt;span class="caps"&gt;SSH&lt;/span&gt; into them an run it, and then
&lt;span class="caps"&gt;SCP&lt;/span&gt; the results back. Well, that&amp;#8217;s something to worry about later. For
Solaris, I just ran some commands and gathered the information&amp;nbsp;manually.  &lt;/p&gt;
&lt;h1 id="the-results"&gt;The&amp;nbsp;Results:&lt;/h1&gt;
&lt;h2 id="needs-replacing"&gt;Needs&amp;nbsp;Replacing:&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Router/Firewall - Old gateway mini-tower system, 400MHz Celeron,
    &lt;span class="caps"&gt;192MB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt;, 6 &lt;span class="caps"&gt;GB&lt;/span&gt; &lt;span class="caps"&gt;IDE&lt;/span&gt;&amp;nbsp;disk.&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;SSH&lt;/span&gt; gateway and temporary storage for &lt;span class="caps"&gt;SFTP&lt;/span&gt;&amp;#8217;d files - Old Gateway
    G6-350, 350MHz Pentium-&lt;span class="caps"&gt;II&lt;/span&gt;, &lt;span class="caps"&gt;128MB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt; (&lt;strong&gt;!!!&lt;/strong&gt;), &lt;span class="caps"&gt;40GB&lt;/span&gt; &lt;span class="caps"&gt;IDE&lt;/span&gt;&amp;nbsp;disk.&lt;/li&gt;
&lt;li&gt;Disk storage for backups - Old Dell tower, 500MHz Pentium-&lt;span class="caps"&gt;II&lt;/span&gt;, &lt;span class="caps"&gt;256MB&lt;/span&gt;
    &lt;span class="caps"&gt;RAM&lt;/span&gt;, &lt;span class="caps"&gt;250GB&lt;/span&gt; &lt;span class="caps"&gt;IDE&lt;/span&gt; disk for&amp;nbsp;storage.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="still-has-a-ways-to-go"&gt;Still has a ways to&amp;nbsp;go:&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Web Server - Compaq Proliant &lt;span class="caps"&gt;DL360&lt;/span&gt;-G1, 2x 1GHz Pentium-&lt;span class="caps"&gt;III&lt;/span&gt;, &lt;span class="caps"&gt;1GB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt;,
    2x &lt;span class="caps"&gt;18GB&lt;/span&gt; &lt;span class="caps"&gt;SCSI&lt;/span&gt; disks,&amp;nbsp;&lt;span class="caps"&gt;RAID&lt;/span&gt;-1.&lt;/li&gt;
&lt;li&gt;Backup Director (and mirrored disk storage for critical backups) -
    Compaq Proliant &lt;span class="caps"&gt;ML370&lt;/span&gt;-G1, 2x 750MHz Pentium-&lt;span class="caps"&gt;III&lt;/span&gt;, &lt;span class="caps"&gt;2GB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt;, 4x &lt;span class="caps"&gt;18GB&lt;/span&gt;
    &lt;span class="caps"&gt;SCSI&lt;/span&gt; disks in a 3-disk &lt;span class="caps"&gt;RAID5&lt;/span&gt; with one hot&amp;nbsp;spare.&lt;/li&gt;
&lt;li&gt;Monitoring (Nagios) box - Compaq Proliant &lt;span class="caps"&gt;DL320&lt;/span&gt;-G1, single
    Pentium-&lt;span class="caps"&gt;III&lt;/span&gt; 1GHz, &lt;span class="caps"&gt;512MB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt;, single &lt;span class="caps"&gt;18GB&lt;/span&gt; &lt;span class="caps"&gt;SCSI&lt;/span&gt;&amp;nbsp;disk.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The one unfortunate about these (for me, &amp;#8220;new&amp;#8221;) machines is that they
all have 10/100 Mb/s NICs, so an upgrade to gigabit will mean hardware&amp;nbsp;changes.&lt;/p&gt;
&lt;p&gt;And the rest falls somewhere in the middle. One option, if budget is an
issue, is to move an older machine down to the apartment to use as a
print server for &lt;a href="/2007/11/print-accounting.html"&gt;print
accounting&lt;/a&gt;,
which is currently running in a Xen &lt;span class="caps"&gt;VM&lt;/span&gt; as the &lt;em&gt;only&lt;/em&gt; load on a beautiful
1U Dell PowerEdge 650 (Pentium-4 2.4GHz, &lt;span class="caps"&gt;762MB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt;, 2x &lt;span class="caps"&gt;36GB&lt;/span&gt; &lt;span class="caps"&gt;SCSI&lt;/span&gt; disks,
3com 10/100 &lt;span class="caps"&gt;NIC&lt;/span&gt; and Intel Pro Dual-Gigabit&amp;nbsp;&lt;span class="caps"&gt;NIC&lt;/span&gt;).  &lt;/p&gt;
&lt;h2 id="other-acquisitions-on-the-list"&gt;Other acquisitions on the&amp;nbsp;list:&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;New switch to replace the aged BayStack 450-24T
    that &lt;em&gt;everything&lt;/em&gt; is running on now. I&amp;#8217;m looking for something good,
    managed, with Telnet (or &lt;span class="caps"&gt;SSH&lt;/span&gt;) and &lt;span class="caps"&gt;SNMP&lt;/span&gt; for monitoring, as well as
    the easy ability to do a span port. The important thing is that I
    *never* have to be on-site to manage it. Maybe a Cisco if I can
    choose a model and get the cash&amp;nbsp;together.&lt;/li&gt;
&lt;li&gt;A gigabit (even unmanaged, though &lt;span class="caps"&gt;SNMP&lt;/span&gt; monitoring and &lt;span class="caps"&gt;MRTG&lt;/span&gt;/Cacti
    would be nice) switch for a dedicated backup network, to move that
    load off of the little 100Mbps main&amp;nbsp;switch.&lt;/li&gt;
&lt;li&gt;Right now, I just have everything &lt;a href="http://www.jasonantman.com/wiki/index.php/Jasonantman.com_Hardware"&gt;crammed onto a Sears metal shop
    shelf
    unit&lt;/a&gt;.
    I&amp;#8217;d really like to replace that with a nice little 24U (low ceilings
    in the basement) rack, especially since most of my stuff is&amp;nbsp;rack-mount.&lt;/li&gt;
&lt;li&gt;I don&amp;#8217;t have rack rails for any of the Proliants - none of them came
    with them, and they were all purchased before I had anything rack
    mounted (at the&amp;nbsp;apartment).&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id="software-needs"&gt;Software&amp;nbsp;Needs:&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;Obviously, some better way of handling administration. Right now,
    software updates (via YaST/&lt;span class="caps"&gt;YOU&lt;/span&gt;) are run as cron jobs, and I have no
    easy way of distributing files or running commands on multiple
    systems without manually scp/ssh&amp;#8217;ing to all of&amp;nbsp;them&lt;/li&gt;
&lt;li&gt;I&amp;#8217;m going to start testing some other &lt;a href="/2008/01/network-monitoring.html"&gt;Network
    Monitoring&lt;/a&gt;
    packages at the apartment. Since I&amp;#8217;m going to have some scheduled
    downtime for all of this (especially with a router/firewall
    replacement), I might as well plan a move to a new monitoring&amp;nbsp;system.&lt;/li&gt;
&lt;li&gt;At the moment, all of my web presence is on one Generation-1 (G-I)
    Compaq Proliant server. While it seems to have a lot of life left
    (especially under its&amp;#8217; current low load), I don&amp;#8217;t like that.
    Especially given that I&amp;#8217;m only home every other weekend, so even
    with nightly backups, if it gives up the ghost I&amp;#8217;m down for a while.
    I&amp;#8217;m going to think about mirroring this to a box at the apartment
    (see both items below), but there are still some technical issues to
    be dealt&amp;nbsp;with:  &lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Both home and the apartment are on residential high-bandwidth
        connections (&lt;a href="http://www.verizon.com/fios"&gt;Verizon FiOS&lt;/a&gt; and
        &lt;a href="http://www.optimum.com/"&gt;Optimum Online&lt;/a&gt;, respectively) using
        &lt;a href="http://www.dyndns.org/"&gt;DynDNS.org&lt;/a&gt; with dynamic IPs. I still
        haven&amp;#8217;t been able to get &lt;a href="http://ipcop.org/"&gt;IPcop&lt;/a&gt; to &lt;span class="caps"&gt;VPN&lt;/span&gt;
        between the two (either with the built-in &lt;span class="caps"&gt;VPN&lt;/span&gt; or Zerina). If I
        wanted to mirror to the apartment, it would surely be easier to
        copy everything over a &lt;span class="caps"&gt;VPN&lt;/span&gt;, and not worry as much about&amp;nbsp;security.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;I use DynDNS and &lt;a href="http://www.godaddy.com/"&gt;GoDaddy&lt;/a&gt; (yes, this
    years&amp;#8217; Super Bowl commercial was a letdown) Domain Forwarding.
    As a result, I don&amp;#8217;t have any control over &lt;span class="caps"&gt;DNS&lt;/span&gt; at all, so I&amp;#8217;m
    not quite sure how I&amp;#8217;d do a failover from home to the apartment
    automatically. It would be possible, however, to do the manual
    failover from home to the apartment, just for the downtime, if I
    mirrored the home server to a box at the&amp;nbsp;apartment.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;While I don&amp;#8217;t want to give up my email on my Treo, it is tempting
that Verizon FiOS is now listing &lt;a href="http://www22.verizon.com/content/businessdsl/popups/bdsl+speeds+and+package+features/bdsl+speeds+and+package+features.htm"&gt;a business-class FiOS connection
at 3Mbps down/768Kbps
up&lt;/a&gt;
at $80/month with &lt;em&gt;static &lt;span class="caps"&gt;IP&lt;/span&gt;&lt;/em&gt;. We&amp;#8217;re paying $30-40/month now, so
dropping the data plan would cover it. I&amp;#8217;d be getting slightly lower
speed, but there would be so many fewer headaches with a static &lt;span class="caps"&gt;IP&lt;/span&gt;,
not to mention that I could finally get my site on port 80 without
nasty redirection, and get a real mailserver without relaying.
Something to think about&amp;#8230;
4.  At the moment, I&amp;#8217;m using IPcop&amp;#8217;s builtin &lt;span class="caps"&gt;DNS&lt;/span&gt; cache for local &lt;span class="caps"&gt;DNS&lt;/span&gt;.
That means I&amp;#8217;m bound to a simple hostname&amp;lt;-&gt;&lt;span class="caps"&gt;IP&lt;/span&gt; pairing. I&amp;#8217;d really
like a real &lt;span class="caps"&gt;DNS&lt;/span&gt; server, so that I can have both hostnames and
functional names. It would also help with&amp;nbsp;&lt;span class="caps"&gt;VPN&lt;/span&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The biggest problem with all of this is that I&amp;#8217;m only home 2 weekends a
month, so I&amp;#8217;ll probably have to have everything shipped here (to the
apartment at school), do the installation and configuration here, and
then bring it home and drop it in place (and perform final&amp;nbsp;configuration).&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ll keep everyone posted as work&amp;nbsp;progresses.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Tue, 05 Feb 2008 01:36:00 -0500</pubDate><guid>tag:blog.jasonantman.com,2008-02-05:2008/02/big-plans-major-infrastructure-upgrades/</guid></item><item><title>eeePC, Solaris, other updates</title><link>http://blog.jasonantman.com/2008/01/eeepc-solaris-other-updates/</link><description>&lt;p&gt;I&amp;#8217;m trying to get around to updating my blog on a regular basis. I have
a lot of links that I wanted to mention, but I might just post a list of
them with short&amp;nbsp;descriptions.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ve finished most of my &lt;span class="caps"&gt;HOWTO&lt;/span&gt; on &lt;a href="http://www.jasonantman.com/wiki/index.php/OpenSuSE_10.3_on_eeePC_External_SDHC"&gt;installing OpenSuSE on an external
&lt;span class="caps"&gt;SDHC&lt;/span&gt; card on the
eeePC&lt;/a&gt;.
It&amp;#8217;s not 100% complete yet - I still haven&amp;#8217;t gotten &lt;span class="caps"&gt;ACPI&lt;/span&gt; working, so I
don&amp;#8217;t have 100% accurate battery-level readings. But if you get an &lt;span class="caps"&gt;SD&lt;/span&gt;
card larger than &lt;span class="caps"&gt;4GB&lt;/span&gt;, or don&amp;#8217;t fill up your root partition to 99% like I
did, you shouldn&amp;#8217;t have a problem installing the kernel headers and &lt;span class="caps"&gt;GCC&lt;/span&gt;
and building the kernel module from&amp;nbsp;source.&lt;/p&gt;
&lt;p&gt;I also added a page to my wiki on &lt;a href="http://www.jasonantman.com/wiki/index.php/Solaris_Nagios_Checks"&gt;monitoring Solaris hardware through
Nagios&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;As always, I have a lot of projects that I&amp;#8217;m working on. I also am going
to be doing a lot of work for &lt;a href="http://www.sun.com/"&gt;Sun&lt;/a&gt; this semester
as Campus Ambassador, including a survey of classes and computer labs to
determine what Sun software is in use (you&amp;#8217;d be amazed how many
&lt;a href="http://www.java.com/en/"&gt;Java&lt;/a&gt; classes don&amp;#8217;t even mention that
&lt;a href="http://www.netbeans.org/"&gt;NetBeans&lt;/a&gt; exists!) I&amp;#8217;ll also be giving some
technical demos this semester, which I&amp;#8217;m really looking forward&amp;nbsp;to.&lt;/p&gt;
&lt;p&gt;Most importantly, though, I&amp;#8217;m starting classes again. This semester, I
have five on tap - &amp;#8220;War, Peace and Military in &lt;span class="caps"&gt;US&lt;/span&gt;&amp;#8221; for my history minor,
and four classes for my
&lt;a href="http://www.scils.rutgers.edu/information-technology-and-informatics-major/program-information.html"&gt;&lt;span class="caps"&gt;ITI&lt;/span&gt;&lt;/a&gt;
major: &lt;a href="http://www.scils.rutgers.edu/component/option,com_courses/task,view/sch,04/cur,547/num,200/Itemid,54/"&gt;Social
Informatics&lt;/a&gt;,
&lt;a href="http://www.scils.rutgers.edu/component/option,com_courses/task,view/sch,04/cur,547/num,210/Itemid,54/"&gt;Management of Technological
Organizations&lt;/a&gt;,
&lt;a href="http://www.scils.rutgers.edu/component/option,com_courses/task,view/sch,04/cur,547/num,331/Itemid,54/"&gt;Network and Internet
Technology&lt;/a&gt;
with &lt;a href="http://rci.rutgers.edu/~brights/"&gt;Bruce Rights&lt;/a&gt;, a SysAdmin here
at Rutgers, and
&lt;a href="http://www.scils.rutgers.edu/component/option,com_courses/task,view/sch,04/cur,547/num,320/Itemid,54/"&gt;Web&lt;/a&gt;
&lt;a href="http://www.stevegarwood.com/webdesign/webditi/index.htm"&gt;Design&lt;/a&gt; with
&lt;a href="http://www.stevegarwood.com/"&gt;Steve Garwood&lt;/a&gt;. While I&amp;#8217;m really psyched
about classes - specifically the latter two, which really appeal to
someone technical like me (and also the &lt;span class="caps"&gt;MTO&lt;/span&gt; class, as I know I could use
some experience with &amp;#8220;management&amp;#8221; beyond
&lt;a href="http://www.unitedmedia.com/comics/dilbert/"&gt;Dilbert&lt;/a&gt; and my sarcastic
view of workplace dynamics), this brings me to a quite painful
realization. While my two programming classes at the &lt;a href="http://www.cs.rutgers.edu/"&gt;Rutgers &lt;span class="caps"&gt;CS&lt;/span&gt;
Department&lt;/a&gt; met in Linux labs, the usual lab
for classes at &lt;a href="http://www.scils.rutgers.edu/"&gt;&lt;span class="caps"&gt;SCILS&lt;/span&gt;&lt;/a&gt; is a Windows&amp;nbsp;lab.&lt;/p&gt;
&lt;p&gt;This isn&amp;#8217;t just a problem because of moral reasons, but more because of
practical ones - I know Linux. I like it.
&lt;em&gt;I&amp;#8217;m used to Linux.&lt;/em&gt; I do tens of
hours of development and admin work every week (maybe hundreds if I&amp;#8217;m
being bad, or in a prolific period), and I&amp;#8217;m most productive in the
environment I&amp;#8217;m used to. I remember when I took my Java classes, trying
to explain to the &lt;span class="caps"&gt;TA&lt;/span&gt;&amp;#8217;s that I wasn&amp;#8217;t cheating, but I had to bring a
&lt;span class="caps"&gt;CD&lt;/span&gt;-&lt;span class="caps"&gt;ROM&lt;/span&gt; to the on-computer programming exam -
&lt;strong&gt;&amp;#8220;there&amp;#8217;s no way you can make me
program without my&amp;nbsp;.emacs!&amp;#8221;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ve considered that I could just bring my eeePC to class and do
everything on that over wireless. I guess that could work for most of
the class, though I can&amp;#8217;t say how my professors will react to that. In
preparation for an averse reaction, I&amp;#8217;ve looked into how to deal with
using Windows in a way that&amp;#8217;s usable for me. After doing a little
research, I found &lt;a href="http://portableapps.com/"&gt;PortableApps.com&lt;/a&gt; which
provides versions of &lt;a href="http://www.mozilla.com/en-US/firefox/"&gt;Firefox&lt;/a&gt;,
&lt;a href="http://www.mozilla.com/en-US/thunderbird/"&gt;Thunderbird&lt;/a&gt;,
&lt;a href="http://www.openoffice.org/"&gt;OpenOffice&lt;/a&gt;,
&lt;a href="http://www.pidgin.im/"&gt;Pidgin&lt;/a&gt;, and other apps (even including
&lt;a href="http://winscp.net/eng/index.php"&gt;WinSCP&lt;/a&gt;, a Windows &lt;span class="caps"&gt;SCP&lt;/span&gt;/&lt;span class="caps"&gt;SFTP&lt;/span&gt; client) as
Windows executables that will run entirely from a &lt;span class="caps"&gt;USB&lt;/span&gt; flash drive. Most
importantly, I even found &lt;a href="http://pigpog.com/node/2875"&gt;instructions&lt;/a&gt;
(and also
&lt;a href="http://theblackdragon.wordpress.com/2006/05/12/portable-emacs/"&gt;here&lt;/a&gt;)
to run the Windows version of &lt;a href="http://www.gnu.org/software/emacs/"&gt;&lt;span class="caps"&gt;GNU&lt;/span&gt;
Emacs&lt;/a&gt; from a flash drive. Granted,
I always preferred the &lt;span class="caps"&gt;CLI&lt;/span&gt; version of Emacs over the graphical one, but
I guess it&amp;#8217;s a small price to pay. So, once I can find a working &lt;span class="caps"&gt;USB&lt;/span&gt;
flash drive (or an &lt;span class="caps"&gt;SD&lt;/span&gt; card to use with an adapter), I&amp;#8217;ll setup what I
need to be able to&amp;nbsp;work.&lt;/p&gt;
&lt;p&gt;One side note - on the first day of my Management of Technological
Organizations class (painfully meeting 9:50-12:50 Friday mornings) the
professor announced that we&amp;#8217;ll be using Microsoft Excel, Access,
Project, etc. After class I spoke with the lecturer, &lt;a href="http://www.scils.rutgers.edu/directory/rutsmith/index.html"&gt;Cathy
Smith&lt;/a&gt;, and
explained the situation (that I can&amp;#8217;t use those) and asked whether other
software that did the same thing would be acceptable. Amazingly, not
only did she tell me that&amp;#8217;s ok, but she also said that she&amp;#8217;s a big fan
of OpenOffice, and went so far as to say that in place of Access, she&amp;#8217;d
be happy to accept &lt;span class="caps"&gt;SQL&lt;/span&gt; files. Maybe it&amp;#8217;s because she&amp;#8217;s a doctoral
candidate and not a Ph. D. full professor, but I was very happy to find
such enlightenment at Rutgers (for the first&amp;nbsp;time).&lt;/p&gt;
&lt;p&gt;On one side note - one of the classes that I had thought of registering
for distributed the syllabus as a .docx &lt;span class="caps"&gt;MS&lt;/span&gt; Office &lt;span class="caps"&gt;XML&lt;/span&gt; file. I was
dumbfounded. I know that few professors take the time to think that some
students may be using Linux or Unix, but do they really think that
everyone&amp;#8217;s already upgraded to Word 2007? I know most professors - even
in an &lt;span class="caps"&gt;IT&lt;/span&gt; program - probably don&amp;#8217;t know about the &lt;a href="http://www.noooxml.org/start"&gt;flaws with
&lt;span class="caps"&gt;OOXML&lt;/span&gt;&lt;/a&gt; or the current issues surrounding
it, but I thought that the old .doc was pretty well established as the
default document format in the Windows world. More importantly&amp;#8230; do
these people know nothing about standards and best practices and
cross-platform usability? If I were distributing a static document, &lt;span class="caps"&gt;PDF&lt;/span&gt;
is the first thing that would pop into my&amp;nbsp;mind&amp;#8230;&lt;/p&gt;
&lt;p&gt;On a side note, a few links for the day:&lt;br /&gt;
&lt;a href="http://royal.pingdom.com/?p=240"&gt;Photos of great data center cabling, almost
art&lt;/a&gt;.&lt;br /&gt;
&lt;a href="http://wiki.scribus.net/index.php/Your_first_PDF_form_with_Scribus"&gt;Designing &lt;span class="caps"&gt;PDF&lt;/span&gt; forms with
Scribus&lt;/a&gt;.&lt;br /&gt;
A wonderful Craigslist ad: &lt;a href="http://www.craigslist.org/about/best/nyc/485967082.html"&gt;Help me keep
the shell people&amp;nbsp;alive.&lt;/a&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Sun, 27 Jan 2008 02:18:00 -0500</pubDate><guid>tag:blog.jasonantman.com,2008-01-27:2008/01/eeepc-solaris-other-updates/</guid></item><item><title>Solaris Update, Hardware Photos, SMF Manifests, Nagios Plugins</title><link>http://blog.jasonantman.com/2008/01/solaris-update-hardware-photos-smf-manifests-nagios-plugins/</link><description>&lt;p&gt;So in the past weekend, I had my first real experience with Solaris in
production. I finally setup my Sun Blade 150 running Solaris 10 as my
new mailserver, replacing a (!!!) vintage 1998 Gateway Pentium &lt;span class="caps"&gt;II&lt;/span&gt; 350MHz
desktop. Quite an upgrade, even to the still-not-new Sun workstation.
Maybe sometime in the future I&amp;#8217;ll even upgrade some of my other old
desktops with my spare Dell PowerEdge&amp;nbsp;2550.&lt;/p&gt;
&lt;p&gt;Anyway, the whole process, from fresh Solaris install to working
mailserver, probably took me around 24 work hours. That being said, I&amp;#8217;ve
never really administered Solaris before, so that also included horribly
long stretches of doc reading and figuring out &lt;span class="caps"&gt;SMF&lt;/span&gt;, package and service
administration,&amp;nbsp;etc.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ve detailed the entire process on my
&lt;a href="http://www.jasonantman.com/wiki/index.php/Solaris_Mailserver"&gt;wiki&lt;/a&gt; in
excruciating detail. The Solaris package repository any pkg-get systems
from &lt;a href="http://www.blastwave.org/"&gt;blastwave.org&lt;/a&gt; were immensely helpful,
as were a number of &lt;a href="http://cuddletech.com/blog/"&gt;Ben Rockwood&amp;#8217;s&lt;/a&gt; blog
posts. The entire operation involved installing and configuring Dovecot
with &lt;span class="caps"&gt;IMAPS&lt;/span&gt;, Postfix with &lt;span class="caps"&gt;TLS&lt;/span&gt; and &lt;span class="caps"&gt;SASL&lt;/span&gt; to authenticate to my &lt;span class="caps"&gt;ISP&lt;/span&gt;&amp;#8217;s
mailserver (which I use to relay outgoing mail, given my dynamic &lt;span class="caps"&gt;IP&lt;/span&gt;),
Procmail, Fetchmail and SpamAssassin. I also had to setup the machine to
relay mail for other hosts on the &lt;span class="caps"&gt;LAN&lt;/span&gt;. Rounding it out, I setup
monitoring with Nagios and backups of the system and mail through
Bacula. During the process, I also had to modify some Service Management
Facility (&lt;span class="caps"&gt;SMF&lt;/span&gt;) manifests for Fetchmail, Postfix, and&amp;nbsp;Dovecot.&lt;/p&gt;
&lt;p&gt;I still have a few things to do - namely create
&lt;a href="http://www.nagios.org/"&gt;Nagios&lt;/a&gt; check scripts for processors,
temperatures, and fans (using the prtdiag command) and hard drive
status/errors (using iostat -Exn, given that I haven&amp;#8217;t been able to find
a &lt;span class="caps"&gt;SMART&lt;/span&gt; tool that supports &lt;span class="caps"&gt;IDE&lt;/span&gt; under Solaris). For everything else, I
just checked the &lt;a href="http://www.nagios-exchange.org/"&gt;NagiosExchange&lt;/a&gt;
plugin repository, using check_by_ssh for everything. The only problem
I had was that NagiosExchange didn&amp;#8217;t appear to have working default
Nagios plugins for Solaris 10. Luckily, though, Blastwave had a
&amp;#8220;nagiosp&amp;#8221; plugin&amp;nbsp;package.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ll probably update this blog with my check plugins as I develop them,
but for now I have a little
&lt;a href="http://www.jasonantman.com/wiki/index.php/Solaris_Nagios_Checks"&gt;page&lt;/a&gt;
on my &lt;a href="http://www.jasonantman.com/wiki/"&gt;wiki&lt;/a&gt;about using Nagios with&amp;nbsp;Solaris.&lt;/p&gt;
&lt;p&gt;Also, I uploaded &lt;a href="http://www.jasonantman.com/wiki/index.php/Jasonantman.com_Hardware"&gt;a few
photos&lt;/a&gt;
of the equipment that runs this blog and the rest of my site and
development network - all on a &amp;#8220;beautiful&amp;#8221; Sears shop shelf in my
basement. Nothing wonderful, but it gets the job done. I&amp;#8217;ll admit that I
could have done a better job stitching the photos together, but the
space is so tight that I can&amp;#8217;t get a wide shot of the whole&amp;nbsp;rack.&lt;/p&gt;
&lt;p&gt;The rack, in all its glory:
&lt;a href="/GFX/Tall1.jpg"&gt;&lt;img alt="image" src="/GFX/Tall1_sm.jpg" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;A closer view of (most of) the hardware:
&lt;a href="/GFX/Tall3.jpg"&gt;&lt;img alt="image" src="/GFX/Tall3_sm.jpg" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Happy New&amp;nbsp;Year!&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Wed, 02 Jan 2008 02:06:00 -0500</pubDate><guid>tag:blog.jasonantman.com,2008-01-02:2008/01/solaris-update-hardware-photos-smf-manifests-nagios-plugins/</guid></item><item><title>SunBlade Workstations</title><link>http://blog.jasonantman.com/2007/12/sunblade-workstations/</link><description>&lt;p&gt;So today I picked up two surplus SunBlade 150 workstations. The price
seemed right, and I figure that at the very least, they&amp;#8217;d give me some
Sparc machines to play around with. The two seem slightly different.
Externally, one has a &lt;span class="caps"&gt;CD&lt;/span&gt;-&lt;span class="caps"&gt;RW&lt;/span&gt; and one has a &lt;span class="caps"&gt;DVD&lt;/span&gt;-&lt;span class="caps"&gt;ROM&lt;/span&gt;. The one with the &lt;span class="caps"&gt;DVD&lt;/span&gt;,
the first one I&amp;#8217;m working with, has a 650MHz Sparc IIi, 512 Mb &lt;span class="caps"&gt;RAM&lt;/span&gt;, and
&lt;span class="caps"&gt;XXXXX&lt;/span&gt; &lt;span class="caps"&gt;HDD&lt;/span&gt;. I&amp;#8217;ll figure out the specs on the second when I get it&amp;nbsp;running.&lt;/p&gt;
&lt;p&gt;They also both use simple &lt;span class="caps"&gt;EIDE&lt;/span&gt; drives, so I might put a new drive in,
after checking drive current drive information through &lt;span class="caps"&gt;SMART&lt;/span&gt;. I planned
on using one of the machines (probably this first one, the 650MHz with
the &lt;span class="caps"&gt;DVD&lt;/span&gt;) to replace my aging mailserver at home (a 350MHz Pentium &lt;span class="caps"&gt;II&lt;/span&gt;
Gateway desktop), running Solaris 10. The other one will be a
workstation/desktop for me, which will probably run either Solaris 10 or
Solaris Express Developer Edition&amp;nbsp;(&lt;span class="caps"&gt;SXDE&lt;/span&gt;).&lt;/p&gt;
&lt;p&gt;Unfortunately, the project seems to have hit a dead-end. Both systems
have hardware/&lt;span class="caps"&gt;NVRAM&lt;/span&gt; security setup, so they won&amp;#8217;t boot from &lt;span class="caps"&gt;CD&lt;/span&gt; without a
password. They also won&amp;#8217;t boot the existing Solaris installation, as
it&amp;#8217;s looking for a whole bunch of network services that don&amp;#8217;t exist. I
found a few suggestions online on how to bypass this, but none of them
worked. So, at this point, I have a few options to&amp;nbsp;consider:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Hope that as a Sun Microsystems Campus Ambassador, I can contact
    someone who can advise me on how to clear out the password or&amp;nbsp;&lt;span class="caps"&gt;NVRAM&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;Hope that as a Rutgers employee, I can track down someone on the
    Camden campus where these came from that may have the &lt;span class="caps"&gt;NVRAM&lt;/span&gt;&amp;nbsp;password.&lt;/li&gt;
&lt;li&gt;Break down and pay $40 each for *new* &lt;span class="caps"&gt;NVRAM&lt;/span&gt;&amp;nbsp;chips.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;We&amp;#8217;ll see what the next few days brings. Hopefully not resorting to a
solution that costs more than I paid for the&amp;nbsp;machines.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Wed, 12 Dec 2007 22:51:00 -0500</pubDate><guid>tag:blog.jasonantman.com,2007-12-12:2007/12/sunblade-workstations/</guid><category>sunblade sun solaris opensolaris install firmware boot</category></item><item><title>Tech - Updates</title><link>http://blog.jasonantman.com/2007/12/tech-updates/</link><description>&lt;p&gt;First of all, until I decide on either splitting my blog, or setting up
separate &amp;#8216;channels&amp;#8217; for personal and technical stuff, I&amp;#8217;ll annotate the
difference in post&amp;nbsp;titles.&lt;/p&gt;
&lt;p&gt;So I have a few days of sanity - the last week of classes - before exam
time. Hopefully I&amp;#8217;ll wrap some things up, and even finish my Christmas
shopping (&lt;a href="http://www.thinkgeek.com"&gt;ThinkGeek&lt;/a&gt; will be happy&amp;#8230;). I
don&amp;#8217;t have a whole lot of real value to say, but a few notes on upcoming&amp;nbsp;projects.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;I&amp;#8217;m going to be buying a few SunBlade 100s and 150s as surplus from
    Rutgers. I&amp;#8217;m probably going to have one or two running at home
    replacing my ancient mail server. I might also bring my PowerEdge
    2550 home to virtualize a few of my machines - though, arguably, my
    two backup machines are the best candidates, though I don&amp;#8217;t like the
    idea of virtualizing&amp;nbsp;backups.&lt;/li&gt;
&lt;li&gt;I think the new mail server will run Solaris, though I haven&amp;#8217;t
    looked into the technicalities of
    Procmail/Postfix/SpamAssassin/some-&lt;span class="caps"&gt;IMAP&lt;/span&gt;-server on&amp;nbsp;Solaris.&lt;/li&gt;
&lt;li&gt;&lt;a href="/2007/11/print-accounting.html"&gt;Print
    Accounting&lt;/a&gt;
    is finished, though the &lt;span class="caps"&gt;GUI&lt;/span&gt; isn&amp;#8217;t completely done. I&amp;#8217;ll have it in
    &lt;span class="caps"&gt;CVS&lt;/span&gt; sometime this&amp;nbsp;week.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I&amp;#8217;m thinking about password managers. I posted a comment to the
&lt;a href="http://www.sage.org/"&gt;&lt;span class="caps"&gt;SAGE&lt;/span&gt;&lt;/a&gt; mailing list, but didn&amp;#8217;t get many helpful
replies. I&amp;#8217;m looking for a solution that can keep track of all of my
usernames and passwords. It needs to be secure. Very secure. I&amp;#8217;d like to
set separate passwords for almost every machine/account that I have.
More importantly, I want something easily portable. Unfortunately, I
find things like the
&lt;a href="http://www.thinkgeek.com/gadgets/security/91a2/"&gt;Mandylion&lt;/a&gt; a bit
limiting - not only does the device generate passwords for you, so you
can&amp;#8217;t really store many notes (I might want to keep track of a &lt;span class="caps"&gt;URL&lt;/span&gt;, name
for the entry, username, member number, etc.) but it&amp;#8217;s also a single
hardware device - no way to back it up, and easy to lose. I also saw the
&lt;a href="http://www.thinkgeek.com/gadgets/security/99f1/"&gt;IronKey&lt;/a&gt; which sounds
damn good - especially the Mission Impossible-esque self-destructing
encryption chip. But that means that some @$$ just has to type in 10
incorrect passwords and it&amp;#8217;s useless. Moreover, it needs to be plugged
into a system, so if I don&amp;#8217;t have a laptop and I&amp;#8217;m not at a trusted
terminal, there&amp;#8217;s ample security&amp;nbsp;risk.&lt;/p&gt;
&lt;p&gt;I talked to my roommate (an &lt;span class="caps"&gt;EE&lt;/span&gt; major) about hardware solutions, but they
seem to be a bit expensive and way too much R&amp;amp;D time. So, it seems like
the only real solution is software. At the moment, what I have to work
with includes a &lt;a href="http://maemo.org/community/wiki/nokia_770_hardware_specification/"&gt;Nokia 770 Internet
Tablet&lt;/a&gt;,
a Blackberry 7250 (hopefully being replaced by a Treo 650p or 700p
soon), an array of Linux desktops, and my laptop (right now a Linux box
that stays on my desk, but maybe a MacBook, iBook, or &lt;a href="http://eeepc.asus.com/"&gt;Asus
eeePC&lt;/a&gt;&amp;nbsp;soon).&lt;/p&gt;
&lt;p&gt;The overall idea is to create a set (or trio, or quartet) of
applications to act as a password manager. They would store passwords
and related information (initial acitvation date, reset date, scheduled
reset date, username, system/site name, notes) in a flat file or a
simple database like
&lt;a href="http://www.oracle.com/technology/products/berkeley-db/index.html"&gt;&lt;span class="caps"&gt;BDB&lt;/span&gt;&lt;/a&gt;.
That file would then be encrypted using GNUpg and strong encryption.
Another possibility is separate files per &amp;#8220;class&amp;#8221; of password, such as
one for root accounts, one for user accounts, one for web sites, etc.
with different encryption strength for each class (speed may be an issue
for en/decrypting large files on small devices like&amp;nbsp;phones).&lt;/p&gt;
&lt;p&gt;In terms of the program, ideally I&amp;#8217;d have a graphical client for my
phone (Treo or Blackberry) probably written in Java, a graphical client
for the Nokia 770 (maybe Java, maybe something using Python and native
&lt;span class="caps"&gt;GTK&lt;/span&gt;), a graphical client for my laptop, and a &lt;span class="caps"&gt;CLI&lt;/span&gt; client for the 770 and
laptop. Databases would have to be sync&amp;#8217;ed across machines - the 770 is
easy enough to just find the newest file and copy it, or manually
decrypt, diff, and then encrypt. I don&amp;#8217;t know how I&amp;#8217;d do it on the
phones, the only thing I can think of right now is to pay for data
usage, and then manually copy over to the phone (either via &lt;span class="caps"&gt;SFTP&lt;/span&gt;, &lt;span class="caps"&gt;SCP&lt;/span&gt;,
or a &lt;span class="caps"&gt;HTTPS&lt;/span&gt;&amp;nbsp;connection).&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Tue, 11 Dec 2007 15:54:00 -0500</pubDate><guid>tag:blog.jasonantman.com,2007-12-11:2007/12/tech-updates/</guid><category>passwords</category></item><item><title>Print Accounting</title><link>http://blog.jasonantman.com/2007/11/print-accounting/</link><description>&lt;p&gt;Since we moved into our apartment at the end of last summer, my
roommates and I have had a Brother &lt;span class="caps"&gt;5170DN&lt;/span&gt; monochrome laser in the
hallway as a communal printer. Last weekend, two new printers arrived -
I got a Xerox DocuPrint N4525 - a big surplus student lab printer that
handles paper up to 11x17&amp;#8221; and print rates of up to 45 &lt;span class="caps"&gt;PPM&lt;/span&gt;. My roommates
picked up a (free!) &lt;span class="caps"&gt;HP&lt;/span&gt; Color LaserJet 4500. So, I decided that I want
accounting of who prints what on each&amp;nbsp;printer.&lt;/p&gt;
&lt;p&gt;I setup a Dell PowerEdge 650 running openSuSE 10.3, Xen and 2 NICs, one
on our main network and one with a static &lt;span class="caps"&gt;IP&lt;/span&gt; in a separate subnet hooked
up to a small 5-port switch. I setup a Xen &lt;span class="caps"&gt;VM&lt;/span&gt; (also openSuSE 10.3) to
act as a &lt;span class="caps"&gt;CUPS&lt;/span&gt; server. I then installed
&lt;a href="http://www.pykota.com/software/tea4cups"&gt;tea4cups&lt;/a&gt; which allows
outgoing &lt;span class="caps"&gt;CUPS&lt;/span&gt; jobs to be read via a pseudo-backend while they&amp;#8217;re
processing. tea4cups calls some &lt;span class="caps"&gt;PHP&lt;/span&gt; scripts that update a MySQL database
with job information, including page counts and ink coverage amounts
calculated by &lt;a href="http://www.pykota.com/software/pkpgcounter"&gt;pkpgcounter&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This is all done with a kludge of custom scripts, which I&amp;#8217;ll put in my
&lt;span class="caps"&gt;CVS&lt;/span&gt; repo (and comment on here) sometime this&amp;nbsp;week.&lt;/p&gt;
&lt;p&gt;I did run into two problems. First, I had issues with getting tea4cups
to run at all. After googling a bit, I read about people having problems
with tea4cups and SELinux. Sure enough, I disabled AppArmor and all went
back to normal. Also, I later had some problems trying to perform ink
accounting on a color printer. After some investigation, I also found
out that GhostScript 8.15 is buggy and will cause problems with
pkpgcounter. I upgraded to the 8.60 RPMs and all was&amp;nbsp;well.&lt;/p&gt;
&lt;p&gt;The whole project is still in the works, but when finished I should have
a system that will keep track of all printing in the apartment by
username and &lt;span class="caps"&gt;IP&lt;/span&gt;, and track the page count, paper size, color or B&amp;amp;W,
resolution, and ink coverage percentage (both for grayscale and &lt;span class="caps"&gt;CMYK&lt;/span&gt; or
&lt;span class="caps"&gt;RGB&lt;/span&gt; individually). I know it&amp;#8217;s overkill - all I want to really know is
enough data to fairly split the costs of paper, toner, etc. - but I
thought it would be a fun&amp;nbsp;project.&lt;/p&gt;
&lt;p&gt;I originally thought about using
&lt;a href="http://www.pykota.com/software/pykota"&gt;PyKota&lt;/a&gt; for the accounting, but
found it to be way too heavy-weight. My current kludge, done up in one
night (before writing an essay), is based on &lt;span class="caps"&gt;CUPS&lt;/span&gt; and tea4cups, which
calls &lt;span class="caps"&gt;PHP&lt;/span&gt; backend prehooks and posthooks, which in turn make use of a
few pre-written python and perl scripts that deal with querying
information from the printer (&lt;span class="caps"&gt;IPP&lt;/span&gt;) and local&amp;nbsp;files.&lt;/p&gt;
&lt;p&gt;All in all, for something that didn&amp;#8217;t exist 24 hours ago, I think it&amp;#8217;s
working pretty well so&amp;nbsp;far.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Update 2015-02-11:&lt;/strong&gt; Someone (comments below) has found this and asked
for further information. Sadly, I wrote this stuff eight years ago, and
haven&amp;#8217;t been running it in seven or so. I &lt;em&gt;did&lt;/em&gt; manage to find the &lt;span class="caps"&gt;CVS&lt;/span&gt;
repository in my backups, so I have some of the code. It&amp;#8217;s certainly not
functional or documented, but it should give you at least a general idea
of how all this fits together. Be aware that there &lt;em&gt;are&lt;/em&gt; some known issues,
so I wouldn&amp;#8217;t consider the data it gives (at least when it comes to ink
usage) as more than a rough estimate. The original idea was to do print
accounting for my roommates and I (being good geeks we had three printers
including a color laser - a bit of a novelty at the time - and an 11x17&amp;#8221;
laser) so we could evenly split the bill when it came time to buy toner.
The accounting code is &lt;span class="caps"&gt;PHP&lt;/span&gt;, and really bad &lt;span class="caps"&gt;PHP&lt;/span&gt; at that. There&amp;#8217;s a
a web interface, but unfortunately the database schema is long gone.
I have no idea what versions of packages this was written for, but assume
they could have been &amp;#8220;old&amp;#8221; versions in 2007. All that being said, assuming
that tea4cups hasn&amp;#8217;t changed too much since then, this should give you
at least a general idea of how this all fit together and is&amp;nbsp;possible.&lt;/p&gt;
&lt;p&gt;The code that I have is available as a 35K .tar.gz archive &lt;a href="/GFX/printAccounting.tar.gz"&gt;here&lt;/a&gt;.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Tue, 27 Nov 2007 00:51:00 -0500</pubDate><guid>tag:blog.jasonantman.com,2007-11-27:2007/11/print-accounting/</guid></item><item><title>New Project, Thoughts on Development</title><link>http://blog.jasonantman.com/2007/11/new-project-thoughts-on-development/</link><description>&lt;p&gt;I know I don&amp;#8217;t update anywhere near often enough - then again, I update
a lot more here than I do on my Sun blog. But I&amp;#8217;ll do better, I promise
- and I&amp;#8217;ll setup a new template, too. Maybe&amp;nbsp;tonight.&lt;/p&gt;
&lt;p&gt;So I was just thinking about my software development - about how many
projects that I never finished, or never even started. And it got me
thinking. When Rutgers laid off all of us part-time programmers and I
was given a few choices for a new job, I chose tech support for student
labs and classroom connectivity. Why? Obviously I&amp;#8217;m not going to learn
much. But I like putting out fires. I like solving problems. More
importantly, and more of an issue when I try to write software, I like
meeting a list of minimum requirements and just doing that. I love
solving problems and I love making things work. On the other hand, at
least when it comes to open-source (and no-cost/no-pay) projects, I have
serious problems with motivation. Or, should I say, I get a project to
do what I need, and I abandon&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;I guess I should print some sort of warning on my project pages. Or, I
should be happy that F/&lt;span class="caps"&gt;OSS&lt;/span&gt; is getting as popular as it is. Even among
people who don&amp;#8217;t know what it&amp;#8217;s about. I&amp;#8217;ve been getting endless emails
about my &lt;a href="http://www.php-ems-tools.com"&gt;&lt;span class="caps"&gt;PHP&lt;/span&gt; &lt;span class="caps"&gt;EMS&lt;/span&gt; Tools.&lt;/a&gt; I&amp;#8217;ve marked it
as beta. The readme and the extensive docs make it clear that it&amp;#8217;s not a
finished work that&amp;#8217;s suitable for everyone. I make it clear that I don&amp;#8217;t
do tech support for Windows, as I know nothing about it. Yet, it seems
that finding a project on SourceForge or Google is wonderfully easy, yet
it&amp;#8217;s easier to just e-mail the developer than take the time to read the
docs. I mus say, though, that when I download something on SourceForge,
especially something that isn&amp;#8217;t marked with a complete/stable status, I
fully expect to spend a few hours playing with the source before getting
it up and&amp;nbsp;running.&lt;/p&gt;
&lt;p&gt;Anyway, I don&amp;#8217;t look at my lack of follow-through as a horrible thing. I
have a problem. There&amp;#8217;s nothing else out there that even begins to solve
it. So, I write something that solves my problem. The next time someone
has the problem, they can use my code. If I didn&amp;#8217;t carry it far enough,
they can pick up where I left off. When they get it where they want it,
they can send their changes back to&amp;nbsp;me.&lt;/p&gt;
&lt;p&gt;Lately, I&amp;#8217;ve been reading a great book - &amp;#8220;&lt;a href="http://search.barnesandnoble.com/booksearch/isbnInquiry.asp?z=y&amp;amp;EAN=9780141000510&amp;amp;itm=1"&gt;Hackers: Heros of the
Computer
Revolution&lt;/a&gt;&amp;#8221;
by Steven Levy. There&amp;#8217;s some really great reading about the good &amp;#8216;ol
days at the &lt;span class="caps"&gt;MIT&lt;/span&gt; &lt;span class="caps"&gt;AI&lt;/span&gt; lab, and the Homebrew Computer Club and the
beginnings of &lt;span class="caps"&gt;PC&lt;/span&gt;&amp;#8217;s (the Altair). And there&amp;#8217;s a lot of commentary about
&lt;a href="http://en.wikipedia.org/wiki/Hacker_ethic"&gt;The Hacker Ethic&lt;/a&gt; - a
definite forerunner to the Free Software/Open Source movement. Most
specifically, the idea of software belonging to the people, of source
code being open and freely distributed for the good of everyone. And it
really gets me thinking. People sometimes ask me why I don&amp;#8217;t sell the
software I write. Why should I? I&amp;#8217;m not writing it for a client, I&amp;#8217;m not
getting paid to write it. I&amp;#8217;m writing it for me. It seems *wrong* not
to let others benefit from my work. And even if I was writing it for a
client, why not give it away to others? Many people might not, but I&amp;#8217;d
give paying clients a break if they agreed to &lt;span class="caps"&gt;GPL&lt;/span&gt; the&amp;nbsp;code.&lt;/p&gt;
&lt;p&gt;Anyway, for a while I&amp;#8217;ve been trying to find software that will run on
Linux to draw network maps. The networks at my house and apartment have
gotten complex enough that it&amp;#8217;s hard to hold everything in my mind. I
made an attempt to draw a map in Dia and Kivio, but they just didn&amp;#8217;t cut
it - all of that manual updating. So I wrote a little &lt;span class="caps"&gt;PHP&lt;/span&gt; script that
uses Imagick (the &lt;span class="caps"&gt;PHP&lt;/span&gt; wrapper to ImageMagick) to generate network maps.
It takes a simple &lt;span class="caps"&gt;XML&lt;/span&gt; files, one per host, to define devices and
connections. It outputs a nice &lt;span class="caps"&gt;PNG&lt;/span&gt; map, defaulting to 800x800 pixels,
but can be scaled up large enough to print on a 36&amp;#8221; wide plotter. Code
can be accessed through &lt;span class="caps"&gt;CVS&lt;/span&gt;
&lt;a href="http://cvs.jasonantman.com/cgi-bin/viewvc.cgi/cvs/misc-scripts/networkMap/"&gt;here&lt;/a&gt;.
It&amp;#8217;s not an official release so the docs aren&amp;#8217;t complete, but there are
ample comments in the code and sample config files. Most importantly,
it&amp;#8217;s all wraped up in one &lt;span class="caps"&gt;PHP&lt;/span&gt; function, so generating a map (once you&amp;#8217;ve
generated &lt;span class="caps"&gt;XML&lt;/span&gt; config files) is as simple as including a &lt;span class="caps"&gt;PHP&lt;/span&gt; file and
calling one&amp;nbsp;function.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Mon, 19 Nov 2007 23:49:00 -0500</pubDate><guid>tag:blog.jasonantman.com,2007-11-19:2007/11/new-project-thoughts-on-development/</guid></item><item><title>Blacklists, Network Performance, New Project, XKCD</title><link>http://blog.jasonantman.com/2007/10/blacklists-network-performance-new-project-xkcd/</link><description>&lt;p&gt;Part 2 of today&amp;#8217;s&amp;nbsp;thoughts&amp;#8230;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Blacklists, Blocking, Reverse-Validation&lt;/strong&gt; - Yes, they have some uses.
I use Daemon Synchronization in
&lt;a href="http://www.jasonantman.com/wiki/index.php/DenyHosts"&gt;DenyHosts&lt;/a&gt; and
plug-ins like Pyzor in SpamAssassin. However, I&amp;#8217;ve also been the victim
of blacklists, and the new Internet order, many times. There&amp;#8217;s a
conspiracy between ISPs - simply put, big ISPs want everyone else to use
big ISPs. I understand the logic behind reverse-validation. However, I
have a residential internet connection. I also run Linux. When I got
Verizon, I configured Postfix to deliver mail directly. Big mistake.
Most big email providers (&lt;span class="caps"&gt;AOL&lt;/span&gt;, &lt;span class="caps"&gt;MSN&lt;/span&gt;, probably Gmail too) will bounce back
e-mail that comes from a domain that doesn&amp;#8217;t reverse-validate. And since
Verizon owns my &lt;span class="caps"&gt;IP&lt;/span&gt;, despite the substantial sums of money they&amp;#8217;ve been
getting from me, my &lt;span class="caps"&gt;IP&lt;/span&gt; doesn&amp;#8217;t reverse-validate to my domain name. To
top it off, Verizon blocks the usual &lt;span class="caps"&gt;SMTP&lt;/span&gt; ports on residential
connections, so I can&amp;#8217;t have people send me e-mail either. Everything
needs to be relayed through Verizon. To add to the frustration, Verizon
blocks port 80 on my connection, so I&amp;#8217;m forced to serve my whole site on
an unused (and un-blocked) high-numbered port. And use
&lt;a href="http://www.dyndns.org"&gt;DynDNS.org&lt;/a&gt; to redirect to my dynamic &lt;span class="caps"&gt;IP&lt;/span&gt;. This
wouldn&amp;#8217;t be so much of an issue if I didn&amp;#8217;t know that some large
companies have firewalls configured to block &lt;span class="caps"&gt;HTTP&lt;/span&gt; requests *&lt;span class="caps"&gt;OUT&lt;/span&gt;* to
any non-default port. As a result, my own father can&amp;#8217;t view my web site
or blog from work. What ever happened to the little&amp;nbsp;guy?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Network Performance&lt;/strong&gt; - I know I have old computers and an old switch.
But there&amp;#8217;s something wrong when network file transfers crawl by at \~3
Mbps. I setup &lt;a href="http://sd.wareonearth.com/~phil/net/ttcp/"&gt;nttcp&lt;/a&gt; on two
of my machines to measure throughput, and was greeted with numbers in
the realm of 93-96 Mbps - what I&amp;#8217;d expect on a 100 Mpbs network.
However, a file transfer between these two machines barely scratched 8
Mpbs. Maybe GigE is the answer, but I&amp;#8217;ll be looking into the theory
behind this in the next few days - admittedly, I don&amp;#8217;t know much about
network performance, but I&amp;#8217;m willing to&amp;nbsp;learn&amp;#8230;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;New Project&lt;/strong&gt; - I&amp;#8217;ve started planning on a new project,
&lt;a href="http://www.openepcr.org"&gt;openEPCR&lt;/a&gt;. My &lt;a href="http://www.php-ems-tools.com"&gt;&lt;span class="caps"&gt;PHP&lt;/span&gt; &lt;span class="caps"&gt;EMS&lt;/span&gt;
Tools&lt;/a&gt; package for &lt;span class="caps"&gt;EMS&lt;/span&gt; and fire agencies
seems to be generating a lot of downloads (yet little community
interest), and I&amp;#8217;m now seriously thinking about the lack of a free,
open-source Electronic Patient Care Report package for the pre-hospital
care industry. A lot of these organizations are volunteer and operating
on limited budgets. Stay tuned&amp;#8230; all I&amp;#8217;ll say is that what I&amp;#8217;ve planned
is something that you&amp;#8217;d expect from me - open-source,
platform-independent, and geared towards limited hardware resources.
I&amp;#8217;ll probably be looking towards Java as a development platform, though
the interest generated in &lt;a href="http://gears.google.com/"&gt;Google Gears&lt;/a&gt; may
also pay off. Of course, there&amp;#8217;s no way I can do such an ambitious
project myself, so I&amp;#8217;m looking for developers to help&amp;nbsp;out.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Comic&lt;/strong&gt; - pretty much the only non-serious content in my Google Reader
account is &lt;a href="http://xkcd.com"&gt;&lt;span class="caps"&gt;XKCD&lt;/span&gt;.com&lt;/a&gt;. It&amp;#8217;s a great comic with
wonderful technical and geek humor. Today&amp;#8217;s
&lt;a href="http://xkcd.com/327/"&gt;comic&lt;/a&gt; was so good that I just had to include&amp;nbsp;it&amp;#8230;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://xkcd.com/327/"&gt;&lt;img alt="image" src="http://imgs.xkcd.com/comics/exploits_of_a_mom.png" /&gt;&lt;/a&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Wed, 10 Oct 2007 14:03:00 -0400</pubDate><guid>tag:blog.jasonantman.com,2007-10-10:2007/10/blacklists-network-performance-new-project-xkcd/</guid><category>bandwidth</category><category>blacklist</category><category>comic</category><category>epcr</category><category>firefox</category><category>java</category><category>openepcr</category><category>patient care report</category><category>pcr</category><category>php ems tools</category><category>reverse-validation</category><category>XKCD</category></item><item><title>Website, Blog, Bacula</title><link>http://blog.jasonantman.com/2007/10/website-blog-bacula/</link><description>&lt;p&gt;&lt;strong&gt;Website&lt;/strong&gt; - In personal news, I&amp;#8217;ve finished migrating all of the
information content of &lt;a href="http://www.jasonantman.com"&gt;JasonAntman.com&lt;/a&gt; to
a wiki, based on &lt;a href="http://www.mediawiki.org"&gt;MediaWiki&lt;/a&gt;. I&amp;#8217;m still
getting some kinks ironed out, and working on customization, but it
seems to be coming along very well. It&amp;#8217;s wonderfully easy to update
information and to link between articles. Most of the content is more
like notes than articles, but I&amp;#8217;m trying to put most of my SysAdmin and
programming notes up there, both for my own future reference and that of
anyone who happens by the site. As always, though, some content will
just live its&amp;#8217; life as a blog entry, so I encourage searching of my blog
as well. This is my fourth instance of MeidaWiki, and while I haven&amp;#8217;t
set them up to play together, they all run wonderfully - and share a lot
of common configuration (though I have separate instances of the code).
Hopefully I&amp;#8217;ll do a bunch of reorganization of the wiki sometime, and
keep adding new content. Some of the newer pages include pages on
&lt;a href="http://www.jasonantman.com/wiki/index.php/DenyHosts"&gt;DenyHosts&lt;/a&gt; and
&lt;a href="http://www.jasonantman.com/wiki/index.php/Hpasm"&gt;&lt;span class="caps"&gt;HPASM&lt;/span&gt;&lt;/a&gt; (from my blog&amp;nbsp;post).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Blog&lt;/strong&gt; - I know the template is awful. It&amp;#8217;s on my list of things to
do, and should be at the top of the queue in approximately&amp;nbsp;2056.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Bacula&lt;/strong&gt; - Up to now, my backups have been a total kludge. The mere
explanation of this elicits a feeling of nausea. A shell script on my
backup storage server executes via cron. Each of the four important
servers on my network (mail, web, monitoring, and development) have
shell scripts that handle local backups - tar&amp;#8217;ing up a list of
directories, MySQL dumps, etc. - then tar gzip the whole thing and plop
it in a local directory. The backup server executes these scripts and
then copies the temporary files to its own disk via &lt;span class="caps"&gt;SCP&lt;/span&gt;. All of this is
handled through an &lt;a href="http://expect.nist.gov/"&gt;expect&lt;/a&gt; script, that runs
each server consecutively. By morning, I end up with a 6+ hour job
that&amp;#8217;s finished, and dumped gigs of files on the backup server. Before
finishing each machine, it deletes any backups on the backup server that
are older than 10 days. After copying everything, it deletes the
client&amp;#8217;s local copy. The bottom line is that if a machine goes down, I
can re-install the &lt;span class="caps"&gt;OS&lt;/span&gt; and all packages, and then have the backups of
just /etc and user data. Not beautiful. Even worse, my backup storage
server doesn&amp;#8217;t have a tape drive. When I get around to it, I run a
script on my development/storage box that copies the latest backups from
each machine, located on the backup server, to a tempdir and then writes
them to tape. To top it all off, I have only one network, so all of
these gigs of data are crawling across my ancient 10/100 switch, along
with all other connectivity to the outside&amp;nbsp;world.&lt;/p&gt;
&lt;p&gt;Unfortunately, it doesn&amp;#8217;t look like I&amp;#8217;ll have the money to upgrade to
Gig-E any time soon, even just for the 5 machines involved. More to the
point, there&amp;#8217;s no way that I&amp;#8217;ll have the money to buy a manageable Gig-E
switch that can come anywhere close to my &lt;a href="http://www.jasonantman.com/wiki/index.php/BayStack_450-24T"&gt;BayStack
450-24T&lt;/a&gt;.
So, it&amp;#8217;s time to invest&amp;#8230; well&amp;#8230; time&amp;#8230; in a good backup
infrastructure. After doing a lot of research, I came to two&amp;nbsp;findings:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The two main options seem to be &lt;a href="http://www.amanda.org/"&gt;&lt;span class="caps"&gt;AMANDA&lt;/span&gt;&lt;/a&gt; and
    &lt;a href="http://www.bacula.org/"&gt;Bacula&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;I don&amp;#8217;t like how &lt;span class="caps"&gt;AMANDA&lt;/span&gt;&amp;nbsp;works.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;So, I&amp;#8217;m going to give Bacula a shot. I did consult the
&lt;a href="http://www.sage.org/"&gt;&lt;span class="caps"&gt;SAGE&lt;/span&gt;&lt;/a&gt; mailing list for advice, and got some
recommendations for &lt;a href="http://backuppc.sourceforge.net/"&gt;BackupPC&lt;/a&gt;, but
Bacula seems to be more my type of thing. Well, I did an install, and
spent about 8 hours hacking around with the config files. No luck.
Bacula is designed to be highly modular and scalable, but to be honest,
I find the config files to be *very* complicated. Furthermore, I
wasn&amp;#8217;t able to find any good example configurations with documentation.
After brainstorming for a while (laying in bed watching Law &lt;span class="amp"&gt;&amp;amp;&lt;/span&gt; Order and
reading the Bacula docs on dead trees) I decided to give in - despite my
continued efforts to stop using it, I checked
&lt;a href="http://www.webmin.com"&gt;Webmin&lt;/a&gt; and, surely enough, they have a Bacula
module. After starting with fresh config files, I was able to get Bacula
up and running on my development/storage server (a fresh install of
openSuSE 10.1) as the director. I got a file daemon installed on the web
server. Everything looked&amp;nbsp;wonderful.&lt;/p&gt;
&lt;p&gt;The current status: My backup storage server does only that - storage of
backups. Nothing else. It&amp;#8217;s still running SuSE 9.3. The Bacula RPMs for
9.3 are from the 1.x tree, and all of my other machines are running
openSuSE 10.x, with Bacula 2.x. I gave it a shot but, sure enough, a
Bacula 2.x director won&amp;#8217;t jive with a 1.x storage daemon. And I&amp;#8217;m in
dependency hell - Bacula 2.x requires upgrades of everything from the C
libs all the way up. So, I&amp;#8217;m going to give a shot at an upgrade of the
storage machine via YaST, and see where I&amp;nbsp;get.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Wed, 10 Oct 2007 13:35:00 -0400</pubDate><guid>tag:blog.jasonantman.com,2007-10-10:2007/10/website-blog-bacula/</guid><category>bacula</category><category>blog</category><category>jasonantman</category><category>mediawiki</category><category>wiki</category></item><item><title>Bug/Issue Tracking - Update / Review of Eventum</title><link>http://blog.jasonantman.com/2007/09/bugissue-tracking-update-review-of-eventum/</link><description>&lt;p&gt;So, after many hours of investigating potential bug/issue tracking
packages, I have chosen one. And gone live with it, all in one weekend.
After much evaluation, my final choice was
&lt;a href="http://eventum.mysql.com/"&gt;Eventum&lt;/a&gt; from MySQL (I&amp;#8217;m using the current
version, 2.0.1). I will admit that it is not perfect. There are some
features I wanted that weren&amp;#8217;t there, and the documentation is awful.
But it&amp;#8217;s written in&amp;nbsp;&lt;span class="caps"&gt;PHP&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;That being said, it is very much a community-driven project. The support
on the mailing list, both from other community members and from Bryan
Alsdorf, has been wonderful. I had some issues viewing the help
documents, specifically those in pop-ups, but I&amp;#8217;ve been told that most
new documentation has been moved to the wiki at the link&amp;nbsp;above.&lt;/p&gt;
&lt;p&gt;The project provides for advanced bug- and issue-tracking including time
tracking, file attachments, and customizable statuses, priorities, and
categories. It also provides email integration, both in terms of sending
email alerts and opening issues (as well as updating and tracking) by
parsing incoming emails. The email alerts worked out-of-the-box, but I
did not configure parsing of&amp;nbsp;emails.&lt;/p&gt;
&lt;p&gt;One of my main requirements which was met perfectly by Eventum is its&amp;#8217;
ability to easily handle multiple projects. It also has a built-in
capability to allow anonymous issue submission (enabled on a
project-by-project basis). You can define custom fields for issues on a
project-by-project basis, and set them as required fields for either
registered users, anonymous users, or&amp;nbsp;both.&lt;/p&gt;
&lt;p&gt;One feature that I found lacking was the possibility for a user to view
all of the open issues assigned to them. Currently, all user interface
is on a project-by-project basis. Therefore, listing of open issues is
only available for the currently selected project. To cope with this, I
hacked together a little &lt;span class="caps"&gt;PHP&lt;/span&gt; script that just queries the database for
issues by user and displays it in a simple little&amp;nbsp;page.&lt;/p&gt;
&lt;p&gt;One of the major features about Eventum that caught my eye was
integration with a version control system (&lt;span class="caps"&gt;SCM&lt;/span&gt;, as far as the Eventum
docs are concerned). The feature list stated integration with &lt;span class="caps"&gt;CVS&lt;/span&gt; and
&lt;span class="caps"&gt;SVN&lt;/span&gt;. When I actually looked into integrating it with &lt;span class="caps"&gt;CVS&lt;/span&gt;, however, the
problems began. Firstly, the javascript-based help popup would not
display anything, let alone the proper page. Installation was otherwise
perfect under Apache2. I was forced to browse to the included &lt;span class="caps"&gt;HTML&lt;/span&gt; file
manually and check it out. The overview seemed simple enough - throw a
script in your &lt;span class="caps"&gt;CVSROOT&lt;/span&gt; loginfo file, update a few variables in the
web-based Eventum configuration, and you&amp;#8217;re off to the races. Reading
on, I found that the installation page was a confusing jumble of
references to a deprecated perl script and the current &lt;span class="caps"&gt;PHP&lt;/span&gt; script to
call from loginfo. Furthermore, database access is provided by having
the script called from loginfo parse the logging information and then
&lt;em&gt;run a &lt;span class="caps"&gt;HTTP&lt;/span&gt; &lt;span class="caps"&gt;GET&lt;/span&gt;&lt;/em&gt; on a local script served in the Eventum web
directory. This added level of abstraction not only confuses me to no
end, but also introduces the possibility for malicious users to insert
data in the Eventum &lt;span class="caps"&gt;SCM&lt;/span&gt; database simply by visiting a well-known&amp;nbsp;&lt;span class="caps"&gt;URL&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;More importantly, the script provided to be called by loginfo seems to
expect the old &lt;span class="caps"&gt;CVS&lt;/span&gt; logging format, not the new one being provided by my
installation of &lt;span class="caps"&gt;CVS&lt;/span&gt; 1.12.12. While annoying, this ended up being a minor
fix in the provided &amp;#8220;process_cvs_commits.php&amp;#8221; - I simply had to
rewrite the argument parsing code so that it no longer expects the file,
old version, and new version (%{sVv}) information to be space-separated
on the command line in the form of s,V,v tuples, but expects everything
to be space-separated. I should be cleaning up my fix a bit and
submitting it for inclusion in the next&amp;nbsp;release.&lt;/p&gt;
&lt;p&gt;Once patched, &lt;span class="caps"&gt;CVS&lt;/span&gt; integration works perfectly. Simply append an
identifier to the end of your commit log message, such as &amp;#8220;(issue: 21)&amp;#8221;
or &amp;#8220;(bug: 21)&amp;#8221; and the commit will be automatically associated with the
issue of that number. When viewing an issue, a list of associated &lt;span class="caps"&gt;CVS&lt;/span&gt;
commits can be&amp;nbsp;viewed.&lt;/p&gt;
&lt;p&gt;It must be remembered that, as I have read, Eventum is used internally
by MySQL. It is, therefor, a mature project that is well tested in one
circumstance. I believe that it is mature and generally well-working
(though I&amp;#8217;ve heard reports that the 2.x tree isn&amp;#8217;t as stable as the
older versions, which are most likely still in use at MySQL). It must
also be noted that the issue with &lt;span class="caps"&gt;CVS&lt;/span&gt; integration is most likely only
with the newer &lt;span class="caps"&gt;CVS&lt;/span&gt; versions using the new logging format (I don&amp;#8217;t know
when the switch was made) and will probably not be noticed in older
projects which have established &lt;span class="caps"&gt;CVS&lt;/span&gt;&amp;nbsp;systems.&lt;/p&gt;
&lt;p&gt;Now, for the opinion section. Eventum has thousands of features. I have
detailed every issue that I have, which total about five. I found it to
be a stable system, ready-to-run out of the box. Overall, I think it has
the best feature set of the open-source bug tracking systems that I
surveyed, which are probably most of the ones out there. It&amp;#8217;s a great
project which I&amp;#8217;d recommend to anyone, though if you want more advanced
features (like integration with &lt;span class="caps"&gt;CVS&lt;/span&gt;, or things not offered such as
anonymous issue viewing) you should be comfortable with coding in &lt;span class="caps"&gt;PHP&lt;/span&gt;
until someone makes patches&amp;nbsp;available.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Mon, 17 Sep 2007 14:47:00 -0400</pubDate><guid>tag:blog.jasonantman.com,2007-09-17:2007/09/bugissue-tracking-update-review-of-eventum/</guid><category>bug tracking</category><category>eventum</category><category>PHP</category><category>review</category><category>ticketing</category></item><item><title>Bug / Issue Tracking Software</title><link>http://blog.jasonantman.com/2007/09/bug-issue-tracking-software/</link><description>&lt;p&gt;I recently posted the following to the DevShed forum in hope of an&amp;nbsp;answer:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I&amp;#8217;ve spent the last 48 hours reading up on bug
tracking software. At the moment, I&amp;#8217;m using the SourceForge tracker for
my public projects and a custom (lightweight kludge) system for internal
and customer-specific&amp;nbsp;stuff.&lt;/p&gt;
&lt;p&gt;First off, I&amp;#8217;m looking for something that&amp;#8217;s F/&lt;span class="caps"&gt;OSS&lt;/span&gt; and no-cost. Beyond
that, it should have a web-based interface, preferably coded in &lt;span class="caps"&gt;PHP&lt;/span&gt; as
that&amp;#8217;s what I&amp;#8217;m most comfortable writing code&amp;nbsp;for.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ve looked into many possibilities. At the moment, they&amp;#8217;re pretty much
narrowed down to &lt;span class="caps"&gt;RT&lt;/span&gt;, FlySpray, Codetrack, Trac, and a few other
america&amp;#8217;s promise rorabaugh3possibilities. I&amp;#8217;ve immediately disregarded
anything without an online demo, so some may have slipped by&amp;nbsp;me.&lt;/p&gt;
&lt;p&gt;I can do some coding to add a few features as needed, but here&amp;#8217;s what
I&amp;#8217;m looking&amp;nbsp;for:&lt;/p&gt;
&lt;p&gt;1) Web-based interface
2) Ability to handle multiple projects
3) Ability to handle modules/branches of a project - specifically to be
used for projects which also have custom, user-specific modifications on
a branch.
4) *multiple* bug submission forms - ideally, one for team
members/technical users, one (simplified) for non-technical end users,
and one for non-technical users which also collects browser/&lt;span class="caps"&gt;OS&lt;/span&gt;
information, as many of my projects are web-based.
5) If possible, integration with &lt;span class="caps"&gt;CVS&lt;/span&gt; or &lt;span class="caps"&gt;SVN&lt;/span&gt; so that I can track commits
related to a specific bug.
6) Fine-grained access control. There should be a way to submit an
anonymous (unregistered user) bug. Anonymous submissions and registered
user submissions should be authorized on a project-by-project (or
branch-by-branch) basis. There should also be access control on viewing
*any* information at all for certain projects/modules (so the same
system can be used for internal-only&amp;nbsp;projects).&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m sure that I have a lot of other requirements, but these are the ones
that stuck out in my mind. Also, though I don&amp;#8217;t have a system up and
running yet, there&amp;#8217;s a possibility I may be moving to &lt;span class="caps"&gt;LDAP&lt;/span&gt; for all auth,
so something where I could drop in a custom auth module would be a&amp;nbsp;plus.&lt;/p&gt;
&lt;p&gt;Any&amp;nbsp;suggestions?&lt;/p&gt;
&lt;p&gt;I know I probably won&amp;#8217;t find *all* of this in one place, but I&amp;#8217;d like
to minimize the amount of programming I have to do. After all, starting
a new programming project to track bugs in an existing one isn&amp;#8217;t
especially&amp;nbsp;efficient.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;We&amp;#8217;ll see what happens out of&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;I recently received a few emails from someone attempting to get &lt;a href="http://www.php-ems-tools.com"&gt;&lt;span class="caps"&gt;PHP&lt;/span&gt; &lt;span class="caps"&gt;EMS&lt;/span&gt;
Tools&lt;/a&gt; up and running for his &lt;span class="caps"&gt;EMS&lt;/span&gt; agency.
I did a lot of correspondence via email, and ended up in a bit of a
predicament. First off, since &lt;span class="caps"&gt;CVS&lt;/span&gt; is down, I had to make a copy of the
latest development sources from their live location on my web server,
and revert to using &lt;span class="caps"&gt;RCS&lt;/span&gt; for the development work. Secondly, he wasn&amp;#8217;t
familiar with the SourceForge trackers and didn&amp;#8217;t have an account with
them, so I had to manually enter the bug reports. This was not good. I
need something&amp;nbsp;better.&lt;/p&gt;
&lt;p&gt;I know that a lot of ticketing systems use e-mail interfaces, but I have
no interest in that - I want to be able to require certain information
for certain people. Moreover, I have a few main issues with most of the
ticketing software I&amp;#8217;ve&amp;nbsp;seen:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;It&amp;#8217;s either designed for development team members or non-technical
    end users. I want a system that can present an end-user with a
    simple, non-jargon-filled issue submission form, yet put that right
    in with issues entered by developers, which would have a greater
    depth of technical content. Developers should be able to follow-up
    on users&amp;#8217; tickets and add technical details as needed. Most
    importantly, since most of my projects are web-based, I want to add
    &lt;span class="caps"&gt;JS&lt;/span&gt; to the form which will include the users&amp;#8217; browser and &lt;span class="caps"&gt;OS&lt;/span&gt;
    information in the&amp;nbsp;ticket.&lt;/li&gt;
&lt;li&gt;I don&amp;#8217;t have a server farm. I don&amp;#8217;t expect to be getting hundreds of
    bugs a year, let alone week. As such, it makes no sense for me to
    run a separate system for every project. I want a system that can
    handle multiple&amp;nbsp;projects.&lt;/li&gt;
&lt;li&gt;Furthermore, I want it to handle internal projects as well - server
    upgrades, hardware issue tracking, etc. As such, it should support
    fine-grained access control, both for viewing and submitting bugs.
    Some projects should allow anyone to view bugs, and allow a
    non-registered (provided the email address is valid) user to submit.
    Some projects shouldn&amp;#8217;t let anyone but me see&amp;nbsp;*anything*.&lt;/li&gt;
&lt;li&gt;I need support for branches within projects. While &lt;span class="caps"&gt;PHP&lt;/span&gt; &lt;span class="caps"&gt;EMS&lt;/span&gt; Tools
    only has the trunk publicly available, I now have two branches, one
    customized for my organization and one for this gentleman&amp;#8217;s
    organization. I want a system that can understand that these are
    branches of the main project, and that bugs may pertain to only one
    of these branches, but that all of the bugs from the trunk will
    pertain to&amp;nbsp;them.&lt;/li&gt;
&lt;li&gt;I would love a system that can somehow integrate with &lt;span class="caps"&gt;CVS&lt;/span&gt; or &lt;span class="caps"&gt;SVN&lt;/span&gt;, so
    that I can associate a specific commit with a specific&amp;nbsp;bug(s).&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;So far, I&amp;#8217;m considering FlySpray, &lt;span class="caps"&gt;RT&lt;/span&gt;, and Trac. I&amp;#8217;m also looking at
Eventum, Codetrac, and BugZero. I&amp;#8217;m interested in &lt;span class="caps"&gt;OTRS&lt;/span&gt; as I&amp;#8217;ve heard
good things about it, but I can&amp;#8217;t seem to find a web-based demo. Most
likely, I&amp;#8217;ll probably give two or three of them a whirl, and then add in
the custom code to do what I need. Of course, none of this will happen
until I either get &lt;span class="caps"&gt;CVS&lt;/span&gt; back up or migrate to&amp;nbsp;&lt;span class="caps"&gt;SVN&lt;/span&gt;.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Fri, 07 Sep 2007 11:44:00 -0400</pubDate><guid>tag:blog.jasonantman.com,2007-09-07:2007/09/bug-issue-tracking-software/</guid><category>bug tracking</category><category>bugs</category><category>bugzero</category><category>eventum</category><category>flyspray</category><category>otrs</category><category>rt</category><category>ticketing</category><category>trac</category></item></channel></rss>