<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Jason Antman's Blog - Hardware</title><link href="https://blog.jasonantman.com/" rel="alternate"></link><link href="https://blog.jasonantman.com/feeds/categories/hardware.atom.xml" rel="self"></link><id>https://blog.jasonantman.com/</id><updated>2019-03-25T21:10:00-04:00</updated><entry><title>Arch Linux on a Dell Precision 5530 / XPS 15 9570 Laptop</title><link href="https://blog.jasonantman.com/2019/03/arch-linux-on-a-dell-precision-5530--xps-15-9570-laptop/" rel="alternate"></link><published>2019-03-25T21:10:00-04:00</published><updated>2019-03-25T21:10:00-04:00</updated><author><name>Jason Antman</name></author><id>tag:blog.jasonantman.com,2019-03-25:/2019/03/arch-linux-on-a-dell-precision-5530--xps-15-9570-laptop/</id><summary type="html">&lt;p&gt;The trouble I went through installing Arch Linux on a Precision 5530 (very similar to &lt;span class="caps"&gt;XPS&lt;/span&gt; 15 9570) and how it was&amp;nbsp;solved.&lt;/p&gt;</summary><content type="html">&lt;p&gt;One of the&amp;#8230; things that, around the beginning of the year, I tentatively planned to do more of this year&amp;#8230; was to share more of what I do and resurrect this blog. Well, it&amp;#8217;s nearing the end of March, so it&amp;#8217;s a good thing I didn&amp;#8217;t make any formal New Year&amp;#8217;s resolutions! In general I&amp;#8217;ve been really busy at work with some esoteric big-company stuff, and really busy in my personal life as well with a new car and a bunch of projects around the house (including trying my hand at building a small shelving unit completely by hand, including some simple&amp;nbsp;joinery).&lt;/p&gt;
&lt;p&gt;Two weeks ago my company replaced my four-year-old (mid-2015) MacBook Pro 11,4 (original &lt;a href="https://github.com/jantman/workstation-bootstrap/blob/master/macbookpro11%2C4_install.md"&gt;install notes&lt;/a&gt;) with a shiny, brand-new MacBook Pro 15,4 A1990. I&amp;#8217;d been dual-booting my previous &lt;span class="caps"&gt;MBP&lt;/span&gt; between Linux (for any real work) and MacOS (for Netflix and quick Googles while at home) as I&amp;#8217;ve been doing with MacBook Pros for almost a decade now, and loved it. Unfortunately, as is described in detail at &lt;a href="https://github.com/Dunedan/mbp-2016-linux/issues/71"&gt;Dunedan/mbp-2016-linux Issue #71&lt;/a&gt; as well as numerous &lt;a href="https://unix.stackexchange.com/questions/463422/how-can-you-get-any-version-of-linux-to-see-the-2018-macbook-pro-ssd/479544"&gt;other&lt;/a&gt; &lt;a href="https://forum.level1techs.com/t/linux-doesnt-support-t2-as-a-ssd-controller-apples-t2-secure-boot-chip-is-blocking-usage-of-linux-in-t2-chip-macs/134832/36"&gt;places&lt;/a&gt; online, because of the T2 security chip acting as the storage controller for the &lt;span class="caps"&gt;SSD&lt;/span&gt;, it&amp;#8217;s currently impossible to install Linux on the built-in SSDs of the latest generation MacBook Pro. So I threw in the towel and requested to be re-platformed to a Dell laptop, and listed my &lt;a href="https://github.com/jantman/puppet-archlinux-macbookretina"&gt;puppet-archlinux-macbookretina&lt;/a&gt; module as unsupported and in need of a&amp;nbsp;maintainer.&lt;/p&gt;
&lt;p&gt;Last week I picked up my &lt;em&gt;new&lt;/em&gt; new work laptop, a Dell Precision 5530. I&amp;#8217;d asked about an &lt;span class="caps"&gt;XPS&lt;/span&gt; 15 as those seem to be on par with the MacBook Pro in terms of price and specs, but when you work at a company with 34,000 employees and they tell you &amp;#8220;our developer laptop is a Precision 5530&amp;#8221; and you&amp;#8217;re a developer, that&amp;#8217;s the laptop you get. I was pleased to find out, though, that &lt;strong&gt;the internal hardware of the Precision 5530 is extremely similar to the &lt;span class="caps"&gt;XPS&lt;/span&gt; 15 9570&lt;/strong&gt;, including having some of the same&amp;nbsp;issues.&lt;/p&gt;
&lt;p&gt;My odyssey of getting &lt;a href="https://www.archlinux.org/"&gt;Arch Linux&lt;/a&gt; - my desktop distribution of choice for the past six years - installed on the new Dell laptop took me thirty hours or so (conservatively) over the course of one work day and four afternoons/evenings. The first day was mostly spent getting up to speed on changes in Arch in the past few years and the current best way to handle &lt;span class="caps"&gt;LUKS&lt;/span&gt;/dm-crypt encryption on an &lt;span class="caps"&gt;EFI&lt;/span&gt; system with NVMe storage. My first install was completely ruined when I got to the (literally) last step and realized that I&amp;#8217;d forgotten to create an &lt;span class="caps"&gt;EFI&lt;/span&gt; system partition (&lt;span class="caps"&gt;ESP&lt;/span&gt;), so I started over. Luckily, as usual, I&amp;#8217;d &lt;a href="https://github.com/jantman/workstation-bootstrap/blob/master/precision5530_install.md"&gt;documented&lt;/a&gt; every step of the install process in excruciating&amp;nbsp;detail.&lt;/p&gt;
&lt;p&gt;When I finally got the system installed, I ran up against an interesting problem: when I launched Xorg, the laptop screen was either black (no backlight on at all), backlight black with no image, or flashing on and off. I fought with this for the better part of two days before I decided to try connecting an external display, and sure enough, &lt;em&gt;that&lt;/em&gt; worked fine. I spent another two days or so with the laptop hooked up to an external monitor, repeating everything I&amp;#8217;d done before, trying every combination I could think of of graphics drivers (nvidia and nouveau, intel i915 and not), graphics-related kernel parameters, Nvidia Optimus / &lt;span class="caps"&gt;PRIME&lt;/span&gt; software, etc. Finally, when I was well past my wits end and turned back to Google, I found a kernel bug for the issue and an eight-character patch that fixed&amp;nbsp;it.&lt;/p&gt;
&lt;h2 id="the-solution"&gt;&lt;a class="toclink" href="#the-solution"&gt;The&amp;nbsp;Solution&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;It turns out that the non-functional laptop display on these models is caused by &lt;a href="https://github.com/torvalds/linux/commit/7769db5883841b03de544a35a71ff528d4131c17"&gt;this commit&lt;/a&gt; to the kernel &lt;code&gt;i915&lt;/code&gt; driver. The commit specifically effects embedded Display Port (eDP) displays, and changes the link configuration algorithm from the older variant that uses more data lanes with a slower link speed (&amp;#8220;wide and slow&amp;#8221;) to the newer eDP standard&amp;#8217;s recommendation of fewer lanes with a higher link speed (&amp;#8220;fast and narrow&amp;#8221;). Unfortunately, it seems that the hardware in some of these Dell laptops will not function with this new method (even though the specification it was introduced in is &lt;em&gt;six&lt;/em&gt; years old and, according to the commit message, they should be reporting that they&amp;#8217;re compatible with&amp;nbsp;it).&lt;/p&gt;
&lt;p&gt;After another exhaustive Google search lead me to the &lt;a href="https://wiki.archlinux.org/index.php/Dell_XPS_15_9570"&gt;Dell &lt;span class="caps"&gt;XPS&lt;/span&gt; 15 9570 Arch Wiki page&lt;/a&gt;, which contains a &lt;a href="https://wiki.archlinux.org/index.php/Dell_XPS_15_9570#Built-in_screen_flickers_or_does_not_come_on_with_Linux_kernel_5.0.x"&gt;troubleshooting section&lt;/a&gt; describing exactly this problem (well&amp;#8230; it does now&amp;#8230;) and pointing to &lt;a href="https://bugs.archlinux.org/task/61964"&gt;ArchLinux bug 61964&lt;/a&gt;. Somehow I found my way to the relevant upstream bug, &lt;a href="https://bugs.freedesktop.org/show_bug.cgi?id=109959"&gt;FreeDesktop.org bug 109959&lt;/a&gt;, which contains both multiple reports of the same issue as well as two kernel patches which fix&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;Applying the noted kernel patches - and switching from &lt;code&gt;nvidia&lt;/code&gt; to &lt;code&gt;nvidia-dkms&lt;/code&gt; to support the custom kernel - fixed the bug completely, and graphics on the laptop now work&amp;nbsp;perfectly.&lt;/p&gt;
&lt;p&gt;For anyone else who&amp;#8217;s running Arch, until the bug is fixed upstream and Arch picks it up in their official kernel, I have my &lt;span class="caps"&gt;PKGBUILD&lt;/span&gt; file and sources in &lt;a href="https://github.com/jantman/arch-pkgbuilds/tree/master/linux-precision5530"&gt;my arch-pkgbuilds GitHub repo&lt;/a&gt; as well as (unsigned, sorry) compiled binary packages in my &lt;a href="http://archrepo.jasonantman.com/current/index.html"&gt;arch packages repo (index page)&lt;/a&gt;.&lt;/p&gt;</content><category term="arch"></category><category term="linux"></category><category term="dell"></category><category term="precision"></category><category term="xps"></category><category term="i915"></category><category term="nvidia"></category><category term="video"></category><category term="graphics"></category><category term="install"></category><category term="laptop"></category></entry><entry><title>New Home Router - Partaker I5</title><link href="https://blog.jasonantman.com/2018/06/new-home-router---partaker-i5/" rel="alternate"></link><published>2018-06-14T16:28:00-04:00</published><updated>2018-06-14T16:28:00-04:00</updated><author><name>Jason Antman</name></author><id>tag:blog.jasonantman.com,2018-06-14:/2018/06/new-home-router---partaker-i5/</id><summary type="html">&lt;p&gt;Quick overview of the Partaker I5 network appliance that I bought for my new home&amp;nbsp;router.&lt;/p&gt;</summary><content type="html">&lt;p&gt;The work I&amp;#8217;ve been doing lately with my &lt;a href="/2018/05/linux-surveillance-camera-software-evaluation/"&gt;&lt;span class="caps"&gt;IP&lt;/span&gt; security cameras&lt;/a&gt; was unexpectedly put on hold this past Monday evening when an extremely close lightning strike fried my router, switch, and the wired (motherboard on-board) Ethernet port in my desktop computer. The best I can tell the surge must have come in over the coax to my cable modem, as the only devices effected were in close physical and Ethernet proximity to it (and the electrical service comes in to the opposite corner of the house from the cable, and everything else was fine). I&amp;#8217;d been thinking of replacing my aged &lt;a href="https://www.pcengines.ch/alix2c1.htm"&gt;PCEngines Alix.2c1&lt;/a&gt; router running &lt;a href="https://vyos.io/"&gt;VyOS&lt;/a&gt; for a while, but it was still working (despite running constantly for eight years) and I wasn&amp;#8217;t quite sure what Linux router hardware exists these&amp;nbsp;days.&lt;/p&gt;
&lt;p&gt;Luckily (and somewhat amazingly) both the cable modem and all of my desktop except for the onboard ethernet were fine. But that left me in need of a new system for my router &lt;span class="caps"&gt;ASAP&lt;/span&gt;. After about an hour of looking around on Amazon, I settled on &lt;a href="https://www.amazon.com/gp/product/B073F9GHKL/"&gt;this&lt;/a&gt; &lt;a href="http://www.inctel.com.cn/product/detail/338.html"&gt;Partaker I5&lt;/a&gt; system. For &lt;span class="caps"&gt;USD&lt;/span&gt; $230 I got a small (approximately 5x5x1.5 inches) box with a 2.42GHz Celeron J1900 processor, four Intel gigabit NICs, &lt;span class="caps"&gt;VGA&lt;/span&gt;, serial, dual &lt;span class="caps"&gt;USB&lt;/span&gt; 2.0, &lt;span class="caps"&gt;4GB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt; and a &lt;span class="caps"&gt;32GB&lt;/span&gt; &lt;span class="caps"&gt;SSD&lt;/span&gt; - about four times my old router in every measure. Despite having no reviews on Amazon, I decided to give it a try half because I could get it next day (which wasn&amp;#8217;t possible with the newer PCEngines &lt;span class="caps"&gt;APU&lt;/span&gt; boards, though they&amp;#8217;re half the cost) and half because the description listed it as compatible with RouterOS, Mikrotik, m0n0wall, IPCop, etc. It also appears visually to be very similar to the &lt;a href="https://protectli.com/product/fw1/"&gt;Protectli &lt;span class="caps"&gt;FW1&lt;/span&gt;&lt;/a&gt; which is both listed in the &lt;a href="https://wiki.vyos.net/wiki/Network_appliances"&gt;VyOS wiki&lt;/a&gt; and has &lt;a href="https://protectli.com/kb/how-to-install-vyos-on-the-vault/"&gt;their own page on installing VyOS&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img alt="stock photo of Partaker I5 appliance" src="/GFX/partaker_i5.jpg"&gt;&lt;/p&gt;
&lt;p&gt;After a few minor hiccups in the installation process, I&amp;#8217;m happy to say that this little network device is working amazingly well. I&amp;#8217;ve only had it running for about 24 hours so I can&amp;#8217;t speak to longevity, but it worked fine out-of-the-box (it shipped with pfSense installed) and seems to be doing the job exceedingly&amp;nbsp;well.&lt;/p&gt;
&lt;p&gt;The installation was straightforward using VyOS x86_64 on a &lt;span class="caps"&gt;USB&lt;/span&gt; flash drive, though I did find out some interesting bits of information about this device - which shipped with zero documentation whatsoever - that may be of use to&amp;nbsp;others:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;There are two small tactile buttons on the front labeled &amp;#8220;&lt;span class="caps"&gt;SW&lt;/span&gt;&amp;#8221; and &amp;#8220;&lt;span class="caps"&gt;RST&lt;/span&gt;&amp;#8221;. &lt;span class="caps"&gt;RST&lt;/span&gt; is, as I figured, a reset button. &lt;span class="caps"&gt;SW&lt;/span&gt; is actually the power button. Press it once and the system turns on. Press this scarily easy-to-hit button again, and it sends a shutdown signal to the&amp;nbsp;&lt;span class="caps"&gt;OS&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;The board runs &lt;span class="caps"&gt;AMI&lt;/span&gt; &lt;span class="caps"&gt;BIOS&lt;/span&gt;, and the &lt;span class="caps"&gt;BIOS&lt;/span&gt; prompt is very short. It took me a few cycles of resetting the machine and pressing Delete on my keyboard, as fast as I could over and over, to get into the&amp;nbsp;&lt;span class="caps"&gt;BIOS&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;When I first booted the VyOS install flash drive, it failed to load with a slew of &lt;span class="caps"&gt;USB&lt;/span&gt; errors. I was able to fix this in the &lt;span class="caps"&gt;BIOS&lt;/span&gt; by navigating to Chipset -&amp;gt; South Bridge -&amp;gt; &lt;span class="caps"&gt;USB&lt;/span&gt; Configuration, disabling &lt;span class="caps"&gt;XHCI&lt;/span&gt; and enabling &lt;span class="caps"&gt;USB&lt;/span&gt; 2&amp;nbsp;&lt;span class="caps"&gt;EHCI&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;By default, the &lt;span class="caps"&gt;BIOS&lt;/span&gt; is set to stay powered down when power is restored, which is definitely not what I want in a network device. Chipset -&amp;gt; South Bridge -&amp;gt; Restore &lt;span class="caps"&gt;AC&lt;/span&gt; Power Loss is the setting to fix&amp;nbsp;this.&lt;/li&gt;
&lt;li&gt;After some intense worry that my brand-new router was defective, I found that the Ethernet port labeling on the device is the opposite of how Linux sees the interfaces; the leftmost interface labeled &amp;#8220;&lt;span class="caps"&gt;LAN4&lt;/span&gt;&amp;#8221; is actually eth0, and the rightmost interface labeled &amp;#8220;&lt;span class="caps"&gt;LAN1&lt;/span&gt;&amp;#8221; is&amp;nbsp;eth3.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I&amp;#8217;ll update this post if I have any issues with it, but as far as I can tell this is a very nice, if not terribly cheap, device to use as a network&amp;nbsp;appliance.&lt;/p&gt;
&lt;p&gt;Now that my move is done and my network is mostly back in operation, I plan on writing another post sometime soon on the progress I&amp;#8217;ve made with my &lt;span class="caps"&gt;IP&lt;/span&gt; camera&amp;nbsp;system.&lt;/p&gt;</content><category term="router"></category><category term="firewall"></category><category term="vyos"></category><category term="network"></category><category term="partaker"></category><category term="embedded"></category><category term="appliance"></category></entry><entry><title>VyOS on Alix 2C1 Single Board Computer</title><link href="https://blog.jasonantman.com/2017/03/vyos-on-alix-2c1-single-board-computer/" rel="alternate"></link><published>2017-03-04T12:27:00-05:00</published><updated>2017-03-04T12:27:00-05:00</updated><author><name>Jason Antman</name></author><id>tag:blog.jasonantman.com,2017-03-04:/2017/03/vyos-on-alix-2c1-single-board-computer/</id><summary type="html">&lt;p&gt;How to install VyOS 1.1.7 on an Alix 2c1 or similar i386 single board&amp;nbsp;computer&lt;/p&gt;</summary><content type="html">&lt;p&gt;Back in 2011 I &lt;a href="/2011/09/vyatta-networkos-routerfirewall-on-alix-board-compact-flash/"&gt;wrote a post&lt;/a&gt; on installing
the formerly open-source &lt;a href="https://wiki.vyos.net/wiki/Vyatta"&gt;Vyatta&lt;/a&gt; router/firewall distribution on an Alix compact flash-based single board
computer. I&amp;#8217;d been using it for many years, since Vyatta Community was a completely F/&lt;span class="caps"&gt;OSS&lt;/span&gt; project. I stopped updating regularly sometime around
when Vyatta (now Vyatta Core, differentiated from their paid offering) began widening the gap between its F/&lt;span class="caps"&gt;OSS&lt;/span&gt; Core and paid versions.
It got much worse when &lt;a href="http://newsroom.brocade.com/press-releases/brocade-acquires-vyatta-a-pioneer-and-leader-in-s-nasdaq-brcd-0949599#.WLr6DkArJhE"&gt;Brocade acquired Vyatta&lt;/a&gt;
in 2012. Soon thereafter open source builds stopped, the forums were shut down, the source code was made much more difficult to find, and
eventually vyatta.org itself was shut down. I won&amp;#8217;t go into further detail as there&amp;#8217;s been a lot written about this debacle and forcible destruction of a community,
such as &lt;a href="http://dotbalm.org/brocade-missed-the-boat-with-vyatta/"&gt;Chris Wadge&amp;#8217;s post&lt;/a&gt; and
&lt;a href="https://libertysys.com.au/2013/08/the-tragedy-of-vyatta-cores-demise/"&gt;this one&lt;/a&gt;, but I will say that the above made it increasingly difficult to plan
an upgrade of my home&amp;nbsp;router.&lt;/p&gt;
&lt;p&gt;On the positive side, however, the &lt;a href="https://vyos.io/"&gt;VyOS&lt;/a&gt; F/&lt;span class="caps"&gt;OSS&lt;/span&gt; fork has emerged, and seems to have quite a vibrant community
at this point. A few weeks ago, I decided to finally take the time to upgrade to the latest VyOS 1.1.7 on my aged
&lt;a href="https://www.pcengines.ch/alix2c1.htm"&gt;Alix 2c1&lt;/a&gt; single board router (purchased in 2008; 3 &lt;span class="caps"&gt;LAN&lt;/span&gt;, 433 MHz &lt;span class="caps"&gt;AMG&lt;/span&gt; Geode &lt;span class="caps"&gt;LX700&lt;/span&gt;, &lt;span class="caps"&gt;128MB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt;).
VyOS is targeted at the cloud (virtualization) or &amp;#8220;real&amp;#8221; hardware, and doesn&amp;#8217;t seem to have anywhere near as many people
installing on dedicated SBCs as the former Vyatta community (probably because of the astonishing drop in the price of small, fanless
systems in recent years). I wasn&amp;#8217;t able to find much information about installing VyOS on such hardware, aside from
&lt;a href="https://forum.vyos.net/showthread.php?tid=6045"&gt;a few&lt;/a&gt; &lt;a href="https://forum.vyos.net/showthread.php?tid=26029"&gt;forum&lt;/a&gt;
&lt;a href="https://forum.vyos.net/showthread.php?tid=26881"&gt;threads&lt;/a&gt; and a &lt;a href="http://elderguerra.blogspot.com/2014/04/vyos-routerfirewall-on-alix-board.html"&gt;post on Elder Guerra&amp;#8217;s blog&lt;/a&gt;
that actually makes reference to and is based on my original post from&amp;nbsp;2011.&lt;/p&gt;
&lt;p&gt;So, for anyone who&amp;#8217;s interested, here&amp;#8217;s how I got VyOS 1.1.7 installed on my Alix&amp;nbsp;&lt;span class="caps"&gt;SBC&lt;/span&gt;:&lt;/p&gt;
&lt;h2 id="prerequisites"&gt;&lt;a class="toclink" href="#prerequisites"&gt;Prerequisites&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;A Linux machine with VirtualBox. For posterity, I did this on a recently updated Arch Linux machine, using VirtualBox 5.1.12 from Arch&amp;#8217;s repos (running via &lt;span class="caps"&gt;DKMS&lt;/span&gt; and with the Oracle extensions&amp;nbsp;installed).&lt;/li&gt;
&lt;li&gt;A Compact Flash card to perform the install on (I used &lt;a href="https://www.amazon.com/gp/product/B00PW1PH14/"&gt;this&lt;/a&gt; Wintec &amp;#8220;Industrial Grade&amp;#8221; &lt;span class="caps"&gt;SLC&lt;/span&gt; &lt;span class="caps"&gt;NAND&lt;/span&gt; &lt;span class="caps"&gt;4GB&lt;/span&gt; card from&amp;nbsp;amazon).&lt;/li&gt;
&lt;li&gt;A reader/writer for the card (my previous one was throwing errors, so I got &lt;a href="https://www.amazon.com/gp/product/B0056TYRMW/"&gt;this&lt;/a&gt; &lt;span class="caps"&gt;USB&lt;/span&gt; one from&amp;nbsp;Amazon).&lt;/li&gt;
&lt;li&gt;Ensure your user can read and write the raw disk devices. On Linux, this means your user must be in the &lt;code&gt;disk&lt;/code&gt; group. If it isn&amp;#8217;t, you&amp;#8217;ll need to log out and back in after making that&amp;nbsp;change.&lt;/li&gt;
&lt;li&gt;Assuming you&amp;#8217;re installing onto a headless board like the Alix, you&amp;#8217;ll need a null modem cable to connect to the serial console port, and whatever you need (&lt;span class="caps"&gt;USB&lt;/span&gt; to serial adapter) to plug that in to your&amp;nbsp;computer.&lt;/li&gt;
&lt;li&gt;A terminal emulator installed on your computer (I use &lt;a href="https://alioth.debian.org/projects/minicom"&gt;minicom&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="configuration-migration"&gt;&lt;a class="toclink" href="#configuration-migration"&gt;Configuration&amp;nbsp;Migration&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;I just wanted to upgrade from my existing &lt;span class="caps"&gt;VC&lt;/span&gt; 6.3 installation, and use a new &lt;span class="caps"&gt;CF&lt;/span&gt; card. If you are doing a fresh install
and do not need to migrate the configuration, you can skip this&amp;nbsp;section.&lt;/p&gt;
&lt;p&gt;To migrate the configuration, I first set up a VyOS 1.1.7 VirtualBox &lt;span class="caps"&gt;VM&lt;/span&gt;, using the &lt;a href="https://github.com/higebu/vagrant-vyos"&gt;vagrant-vyos&lt;/a&gt;
plugin for &lt;a href="https://www.vagrantup.com/"&gt;Vagrant&lt;/a&gt; and the author&amp;#8217;s &lt;a href="https://atlas.hashicorp.com/higebu/boxes/vyos"&gt;vyos Vagrant box&lt;/a&gt;. I setup
three network interfaces on the &lt;span class="caps"&gt;VM&lt;/span&gt; to match the three on my Alix board, and put the &lt;code&gt;Vagrantfile&lt;/code&gt; in the same directory as my config
backups from the current&amp;nbsp;router.&lt;/p&gt;
&lt;p&gt;Once I had the &lt;span class="caps"&gt;VM&lt;/span&gt; up and running with &lt;span class="caps"&gt;SSH&lt;/span&gt; access, I ran &lt;code&gt;load /vagrant/config.boot&lt;/code&gt; to load the configuration backup, and let the
config migration tool do its work. This took a few iterations of modifying the old (&lt;span class="caps"&gt;VC&lt;/span&gt; 6.3) config until I got something that would
load cleanly into VyOS 1.1.7; note that per the &lt;a href="https://wiki.vyos.net/wiki/Migrating_from_Vyatta"&gt;Migrating from Vyatta&lt;/a&gt; documentation,
coming from &lt;span class="caps"&gt;VC&lt;/span&gt; 6.4 or earlier, there were some manual changes I had to make before the old configuration would load in VyOS.
Once that was done, I committed and saved the config, then rebooted the &lt;span class="caps"&gt;VM&lt;/span&gt; and confirmed that it
came up correctly configured. I run &lt;span class="caps"&gt;SSH&lt;/span&gt; on a non-default port, so before reloading the &lt;span class="caps"&gt;VM&lt;/span&gt; I needed to edit the &lt;code&gt;Vagrantfile&lt;/code&gt;
to add &lt;code&gt;config.ssh.guest_port = SSH_PORT_NUMBER&lt;/code&gt; and &lt;code&gt;config.vm.network "forwarded_port", guest: SSH_PORT_NUMBER, host: SSH_PORT_NUMBER, id: "ssh"&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Once finished, I copied &lt;code&gt;/config/config.boot&lt;/code&gt; from the &lt;span class="caps"&gt;VM&lt;/span&gt; to my host &lt;span class="caps"&gt;OS&lt;/span&gt;. I removed the &lt;span class="caps"&gt;MAC&lt;/span&gt; addresses for the interfaces
and the &lt;code&gt;vagrant&lt;/code&gt; user, and then used that as the starting configuration for my new install on the Alix&amp;nbsp;board.&lt;/p&gt;
&lt;h2 id="installation"&gt;&lt;a class="toclink" href="#installation"&gt;Installation&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Put your new &lt;span class="caps"&gt;CF&lt;/span&gt; card in the &lt;span class="caps"&gt;USB&lt;/span&gt; adapter and plug it in. Watch &lt;code&gt;dmesg&lt;/code&gt; to see what device name it&amp;#8217;s assigned. &lt;strong&gt;In this example, we&amp;#8217;ll call it /dev/sdX. Make &lt;span class="caps"&gt;SURE&lt;/span&gt; you correct that path in the below instructions to be the correct one for your &lt;span class="caps"&gt;CF&lt;/span&gt;&amp;nbsp;card.&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Create a raw &lt;span class="caps"&gt;VMDK&lt;/span&gt; so VirtualBox can use the raw disk: &lt;code&gt;VBoxManage internalcommands createrawvmdk -filename /home/$USER/vyos_cf.vmdk -rawdisk /dev/sdX&lt;/code&gt; (note that the filename must be an absolute&amp;nbsp;path).&lt;/li&gt;
&lt;li&gt;Download the VyOS i586 &lt;span class="caps"&gt;ISO&lt;/span&gt; from &lt;a href="https://vyos.io/"&gt;vyos.net&lt;/a&gt;. Optionally verify the &lt;span class="caps"&gt;GPG&lt;/span&gt;&amp;nbsp;signature.&lt;/li&gt;
&lt;li&gt;Manually create a new VirtualBox&amp;nbsp;&lt;span class="caps"&gt;VM&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;Select &amp;#8220;Linux&amp;#8221; and then &amp;#8220;Other Linux (32-bit)&amp;#8221; for the &lt;span class="caps"&gt;OS&lt;/span&gt;&amp;nbsp;type.&lt;/li&gt;
&lt;li&gt;Select the appropriate amount of &lt;span class="caps"&gt;RAM&lt;/span&gt; for your board (older Alix are 128 &lt;span class="caps"&gt;MB&lt;/span&gt; or 256&amp;nbsp;&lt;span class="caps"&gt;MB&lt;/span&gt;).&lt;/li&gt;
&lt;li&gt;Select &amp;#8220;Use an existing virtual hard disk file&amp;#8221; and select the raw &lt;span class="caps"&gt;VMDK&lt;/span&gt; you created in Step 2. Uncheck &amp;#8220;use host I/O&amp;nbsp;cache&amp;#8221;.&lt;/li&gt;
&lt;li&gt;Create the&amp;nbsp;&lt;span class="caps"&gt;VM&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;Edit the &lt;span class="caps"&gt;VM&lt;/span&gt; settings to remove the floppy disk device, mount the &lt;span class="caps"&gt;ISO&lt;/span&gt; in the optical drive, disable audio, and disable all network&amp;nbsp;adapters.&lt;/li&gt;
&lt;li&gt;Boot the &lt;span class="caps"&gt;VM&lt;/span&gt;. Wait for the VyOS &lt;span class="caps"&gt;ISO&lt;/span&gt; to boot and log in using the information provided in the&amp;nbsp;banner.&lt;/li&gt;
&lt;li&gt;Run &lt;code&gt;install image&lt;/code&gt; and answer yes to the&amp;nbsp;prompt.&lt;/li&gt;
&lt;li&gt;Select Auto partitioning and select the &lt;span class="caps"&gt;CF&lt;/span&gt; card (it should be &lt;code&gt;sda&lt;/code&gt;, the only&amp;nbsp;option).&lt;/li&gt;
&lt;li&gt;Fill the whole device with the root&amp;nbsp;partition.&lt;/li&gt;
&lt;li&gt;Use the default name for the image and copy &lt;code&gt;/config/config.boot&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Set a password for the vyos Administrator&amp;nbsp;account.&lt;/li&gt;
&lt;li&gt;Setup grub on the one disk (&lt;code&gt;sda&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;You should now be returned to the&amp;nbsp;prompt.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;reboot&lt;/code&gt; and shut down the &lt;span class="caps"&gt;VM&lt;/span&gt; once it gets back to the &lt;span class="caps"&gt;BIOS&lt;/span&gt; or bootloader; installation is&amp;nbsp;complete.&lt;/li&gt;
&lt;li&gt;Delete the &lt;span class="caps"&gt;VM&lt;/span&gt; (don&amp;#8217;t delete files) and then remove the raw &lt;span class="caps"&gt;VMDK&lt;/span&gt; you created in Step&amp;nbsp;2.&lt;/li&gt;
&lt;li&gt;Mount the &lt;span class="caps"&gt;CF&lt;/span&gt; card partition on your host &lt;span class="caps"&gt;OS&lt;/span&gt; (it&amp;#8217;s an ext4 partition). For the purposes of this example, we&amp;#8217;ll assume we&amp;#8217;re mounting it at &lt;code&gt;/mnt/tmp&lt;/code&gt;: &lt;code&gt;mount /dev/sdX1 /mnt/tmp&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;cd to the root of the partition: &lt;code&gt;cd /mnt/tmp&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Find and &lt;code&gt;cd&lt;/code&gt; to the &lt;code&gt;live-rw&lt;/code&gt; directory for your image; for VyOS 1.1.7 installed with the default image name of &amp;#8220;1.1.7&amp;#8221;, this is &lt;code&gt;boot/1.1.7/live-rw&lt;/code&gt; on the&amp;nbsp;partition.&lt;/li&gt;
&lt;li&gt;If you are migrating a configuration file (above section), copy your configuration file to &lt;code&gt;opt/vyatta/etc/config/config.new&lt;/code&gt; and chmod it&amp;nbsp;0755.&lt;/li&gt;
&lt;li&gt;Unmount the &lt;span class="caps"&gt;CF&lt;/span&gt; card and remove it from your&amp;nbsp;system.&lt;/li&gt;
&lt;li&gt;Find a &lt;span class="caps"&gt;DB9&lt;/span&gt; null modem cable and a &lt;span class="caps"&gt;USB&lt;/span&gt; to serial adapter. Plug the cable into the Alix board&amp;#8217;s serial port, and into your adapter, and plug it into the&amp;nbsp;system.&lt;/li&gt;
&lt;li&gt;Fire up your favorite terminal emulator (I use minicom) and connect at 9600&amp;nbsp;8N1.&lt;/li&gt;
&lt;li&gt;If you have the board running already (already being used for something), connect and make sure you get a prompt. It helps to know that the serial&amp;nbsp;works.&lt;/li&gt;
&lt;li&gt;If the board is running, power it down and unplug all connections before proceeding to the next&amp;nbsp;step.&lt;/li&gt;
&lt;li&gt;Open up the Alix enclosure, and swap in your new &lt;span class="caps"&gt;CF&lt;/span&gt;&amp;nbsp;card.&lt;/li&gt;
&lt;li&gt;Close the board, plug in serial and network&amp;nbsp;cables.&lt;/li&gt;
&lt;li&gt;Plug in the power cable, and watch your terminal emulator. If all went well, you&amp;#8217;ll get the board&amp;#8217;s &lt;span class="caps"&gt;BIOS&lt;/span&gt; and then the bootloader and kernel output. Eventually you should be dropped to a login&amp;nbsp;prompt.&lt;/li&gt;
&lt;li&gt;Log in as the vyos&amp;nbsp;user.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;configure&lt;/code&gt; to enter configuration mode. Then:&lt;ul&gt;
&lt;li&gt;If you are migrating a configuration as discussed above, &lt;code&gt;load /opt/vyatta/etc/config/config.new&lt;/code&gt;. It will take a while to load. Make any necessary changes, then run &lt;code&gt;commit&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;If you are starting from scratch, follow the &lt;a href="https://wiki.vyos.net/wiki/User_Guide"&gt;User Guide&lt;/a&gt; to setup the&amp;nbsp;system.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Once the commit is done (it will take a while), &lt;code&gt;save&lt;/code&gt;. The router should now be up and running with the desired&amp;nbsp;configuration.&lt;/li&gt;
&lt;li&gt;Reboot the router to ensure it comes up&amp;nbsp;correctly.&lt;/li&gt;
&lt;li&gt;Backup the running configuration somewhere&amp;nbsp;safe.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;If you&amp;#8217;re running the &lt;span class="caps"&gt;PC&lt;/span&gt; Engines Alix.2, update the serial settings on the board as described on &lt;a href="http://blog.jasonantman.com/2011/09/vyatta-networkos-routerfirewall-on-alix-board-compact-flash/"&gt;my blog&lt;/a&gt; or &lt;a href="http://elderguerra.blogspot.com/2014/04/vyos-routerfirewall-on-alix-board.html"&gt;this post&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I hope this can be of use to&amp;nbsp;others.&lt;/p&gt;</content><category term="vyos"></category><category term="vyatta"></category><category term="alix"></category><category term="virtualbox"></category><category term="network"></category><category term="router"></category><category term="firewall"></category><category term="linux"></category><category term="sbc"></category></entry><entry><title>Fedora Linux and OSX Dual Boot on Mid-2010 (6,2) 15” MacBook Pro Laptop</title><link href="https://blog.jasonantman.com/2013/01/fedora-linux-and-osx-dual-boot-on-mid-2010-62-15-macbook-pro-laptop/" rel="alternate"></link><published>2013-01-21T12:13:00-05:00</published><updated>2013-01-21T12:13:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2013-01-21:/2013/01/fedora-linux-and-osx-dual-boot-on-mid-2010-62-15-macbook-pro-laptop/</id><summary type="html">&lt;p&gt;As part of the transition from a contractor to a full-time employee of
&lt;a href="http://www.cmgdigital.com"&gt;Cox Media Group Digital &lt;span class="amp"&gt;&amp;amp;&lt;/span&gt; Strategy&lt;/a&gt; (check
out our &lt;a href="https://github.com/cmgdigital"&gt;github&lt;/a&gt;), I&amp;#8217;ve been issued a
&lt;a href="http://support.apple.com/kb/SP582"&gt;Mid-2010 (6,2)&lt;/a&gt; 15&amp;#8221; &lt;a href="http://en.wikipedia.org/wiki/Macbook_pro#Technical_specifications_2"&gt;MacBook
Pro&lt;/a&gt;
laptop, to replace my current &lt;a href="http://support.apple.com/kb/SP11"&gt;Early-2008
(3,1)&lt;/a&gt; MacPro desktop. The desktop is
currently running &lt;a href="http://fedoraproject.org/"&gt;Fedora&lt;/a&gt; 17 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;As part of the transition from a contractor to a full-time employee of
&lt;a href="http://www.cmgdigital.com"&gt;Cox Media Group Digital &lt;span class="amp"&gt;&amp;amp;&lt;/span&gt; Strategy&lt;/a&gt; (check
out our &lt;a href="https://github.com/cmgdigital"&gt;github&lt;/a&gt;), I&amp;#8217;ve been issued a
&lt;a href="http://support.apple.com/kb/SP582"&gt;Mid-2010 (6,2)&lt;/a&gt; 15&amp;#8221; &lt;a href="http://en.wikipedia.org/wiki/Macbook_pro#Technical_specifications_2"&gt;MacBook
Pro&lt;/a&gt;
laptop, to replace my current &lt;a href="http://support.apple.com/kb/SP11"&gt;Early-2008
(3,1)&lt;/a&gt; MacPro desktop. The desktop is
currently running &lt;a href="http://fedoraproject.org/"&gt;Fedora&lt;/a&gt; 17, dual-boot with
with Mac &lt;span class="caps"&gt;OS&lt;/span&gt; X (left in place for firmware updates and emergencies) using
the &lt;a href="http://www.rodsbooks.com/refind/index.html"&gt;rEFInd boot manager&lt;/a&gt; to
choose between the two OSes. It took me two days to get this working
right on my desktop, but it had been my plan to duplicate this setup on
my laptop. I found a lot of conflicting information online, but I
decided to give it a&amp;nbsp;try.&lt;/p&gt;
&lt;p&gt;Well, I have Fedora 18 and &lt;span class="caps"&gt;OS&lt;/span&gt; X 10.8 dual-booting on the laptop, but not
as planned. After a day and a half of research, troubleshooting and
re-installs, here&amp;#8217;s what I found to actually work, in the hope that
nobody else will go through the ordeal I went through. Following that
are some notes about the new Fedora 18 installer (Anaconda 18),
especially important for anyone who&amp;#8217;s used Linux for a while. To those
who are new to Linux, don&amp;#8217;t be dissuaded by the above. Most of the
frustration I experienced is because I&amp;#8217;ve been using Linux for a
relatively long time (about 10 years), had my own ideas about exactly
how I wanted things setup (which are decidedly &lt;em&gt;not&lt;/em&gt; supported by
Fedora), and had some assumptions about the installation process based
on earlier&amp;nbsp;versions.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;How to get it&amp;nbsp;working:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Forget about rEFInd. This had been the original advice from &lt;a href="http://mjg59.dreamwidth.org/"&gt;Matthew
Garrett&lt;/a&gt;,
&lt;a href="https://twitter.com/mjg59"&gt;@mjg59&lt;/a&gt;, kernel coder, contributor to the
Anaconda project, and all-around authority on booting Linux on &lt;span class="caps"&gt;EFI&lt;/span&gt;/&lt;span class="caps"&gt;UEFI&lt;/span&gt;
hardware. My advice, and the method that worked for&amp;nbsp;me:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Shrink your Mac partitions and leave as much free space as you want
    for Fedora. using the Disk Utility tool in &lt;span class="caps"&gt;OS&lt;/span&gt; X (I also created an
    &lt;span class="caps"&gt;8GB&lt;/span&gt; &lt;span class="caps"&gt;VFAT&lt;/span&gt; partition that both OSes can read/write&amp;nbsp;to).&lt;/li&gt;
&lt;li&gt;&lt;a href="http://fedoraproject.org/en/get-fedora"&gt;Download Fedora 18&lt;/a&gt; 64-bit
    &lt;span class="caps"&gt;DVD&lt;/span&gt; image, I chose the &lt;span class="caps"&gt;KDE&lt;/span&gt; version. Verify the sha256 sum if you
    want (they don&amp;#8217;t have a readily visible link to the checksum file.
    Copy the download link, paste it into your address bar and remove
    the filename. You should get a directory index that includes a
    &lt;code&gt;-CHECKSUM&lt;/code&gt; file.&lt;/li&gt;
&lt;li&gt;Per the Installation Guide&amp;#8217;s &lt;a href="http://docs.fedoraproject.org/en-US/Fedora/18/html/Installation_Guide/Making_USB_Media-UNIX_Linux.html"&gt;Making Fedora &lt;span class="caps"&gt;USB&lt;/span&gt; Media
    page&lt;/a&gt;,
    use &lt;code&gt;liveusb-creator&lt;/code&gt; to setup the installation image on the &lt;span class="caps"&gt;USB&lt;/span&gt;
    flash drive (I needed to start it with the &lt;code&gt;--reset-mbr&lt;/code&gt; option).
    You can also use other tools (dd if you&amp;#8217;re not on a Fedora-based
    distro), or a &lt;span class="caps"&gt;DVD&lt;/span&gt;, but this is the method I&amp;nbsp;chose.&lt;/li&gt;
&lt;li&gt;Due to a &lt;a href="https://fedorahosted.org/liveusb-creator/ticket/810"&gt;bug in
    liveusb-creator&lt;/a&gt;,
    you may need to manually edit &lt;code&gt;/EFI/boot/grub.cfg&lt;/code&gt; on the created
    &lt;span class="caps"&gt;USB&lt;/span&gt; stick if grub gives you a file not found error. If that happens,
    please see my bug report above for the action to take (in short, you
    need to mount the &lt;span class="caps"&gt;USB&lt;/span&gt; stick, &lt;code&gt;chmod u+w /EFI/boot/grub.cfg&lt;/code&gt; then
    edit that file and replace every occurrence of &amp;#8220;isolinux&amp;#8221; with
    &amp;#8220;syslinux&amp;#8221; and every occurrence of
    &amp;#8220;root=live:&lt;span class="caps"&gt;LABEL&lt;/span&gt;=Fedora-18-x86_64-Live-&lt;span class="caps"&gt;KDE&lt;/span&gt;.iso&amp;#8221; with&amp;nbsp;&amp;#8220;root=live:&lt;span class="caps"&gt;LABEL&lt;/span&gt;=&lt;span class="caps"&gt;LIVE&lt;/span&gt;&amp;#8221;).&lt;/li&gt;
&lt;li&gt;Boot the &lt;span class="caps"&gt;USB&lt;/span&gt; drive (use the alt key when you turn on the laptop to
    select the &lt;span class="caps"&gt;USB&lt;/span&gt; drive) and just install Fedora normally, letting it
    do its thing. Select a boot disk and let it put &lt;span class="caps"&gt;GRUB2&lt;/span&gt; on the &lt;span class="caps"&gt;EFI&lt;/span&gt;&amp;nbsp;partition.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;When you boot, it will boot to &lt;span class="caps"&gt;GRUB&lt;/span&gt;. There will be some options for Mac
&lt;span class="caps"&gt;OS&lt;/span&gt; there, but they don&amp;#8217;t work (more on that below). If you want to boot
Mac, hold down the alt/option key when you power on the laptop, which
will bring you to the boot disk selector and you can pick the Mac disk.
I know it&amp;#8217;s not pretty or ideal, but it&amp;#8217;s the best option right&amp;nbsp;now.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Making it&amp;nbsp;Better:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class="caps"&gt;GRUB2&lt;/span&gt; tries to automatically detect other OSes and configure them in the
boot loader (this is done through &lt;code&gt;/etc/grub.d/30_os-prober&lt;/code&gt;, commonly
just referred to as &lt;code&gt;os-prober&lt;/code&gt;). It tries to boot Mac directly through
the xnu_kernel64 module, which not only isn&amp;#8217;t installed on the boot
partition by default, but just doesn&amp;#8217;t work with at least Mountain Lion
(10.8). So getting &lt;span class="caps"&gt;GRUB&lt;/span&gt; to boot Mac means either having the bugs in the
xnu module fixed, or figuring out how to setup a chainloader to boot
from &lt;span class="caps"&gt;GRUB&lt;/span&gt; to Mac. The latter is probably the method I&amp;#8217;ll investigate,
but for now, since I rarely use Mac, I&amp;#8217;m happy having to use the alt key
at boot to get there. To remove the annoying, broken Mac &lt;span class="caps"&gt;OS&lt;/span&gt; options from
the grub screen, run the following commands as root (they assume you
have your &lt;span class="caps"&gt;EFI&lt;/span&gt; partition mounted at &lt;code&gt;/boot/efi&lt;/code&gt; which I believe Fedora
should do by&amp;nbsp;default:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cp /boot/efi/&lt;span class="caps"&gt;EFI&lt;/span&gt;/fedora/grub.cfg /boot/efi/&lt;span class="caps"&gt;EFI&lt;/span&gt;/fedora/grub.cfg.bak
&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;GRUB_DISABLE_OS_PROBER=&amp;quot;true&amp;quot;&amp;#39;&lt;/span&gt; &amp;gt;&amp;gt; /etc/default/grub
grub2-mkconfig &amp;gt; /boot/efi/&lt;span class="caps"&gt;EFI&lt;/span&gt;/fedora/grub.cfg
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;Thoughts on the Fedora 18 Anaconda&amp;nbsp;Installer&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I found a couple of issues with the new Anaconda 18 installer that were
either unweildy or confusing for someone who&amp;#8217;s been installing Linux for
a long time. Overall, the new installer is very nice. It has a clean,
even elegant &lt;span class="caps"&gt;UI&lt;/span&gt;, a relatively nice flow from start to completion, and is
certainly beginner-friendly. It has fewer options than any Linux
installer I&amp;#8217;ve ever used before - not even options for package
selection, firewall or SELinux configuration, etc. - but I guess this is
in line with the goal of making Fedora a desktop &lt;span class="caps"&gt;OS&lt;/span&gt; for the masses. I
would have appreciated an &amp;#8220;advanced mode&amp;#8221; installer that was more like
Fedora 17 (or even much older versions), but I guess I&amp;#8217;m an edge case,
at least in the Fedora community. However, I did find two things
especially difficult, both related to the fact that my laptop has two
main drives (a &lt;span class="caps"&gt;500GB&lt;/span&gt; hard drive and a &lt;span class="caps"&gt;120GB&lt;/span&gt;&amp;nbsp;&lt;span class="caps"&gt;SSD&lt;/span&gt;):&lt;/p&gt;
&lt;p&gt;First, the installer prompted me to select a &amp;#8220;boot disk&amp;#8221;. I guess I
should have read the installation guide, but I assumed that nomenclature
translated to either &amp;#8220;which disk should the automatic partitiioning put
yout &lt;code&gt;/boot&lt;/code&gt; partition on&amp;#8221; or &amp;#8220;which disk should I set the bootable flag
on in the partition table&amp;#8221;. In fact, it means &amp;#8220;which disk should I put
&lt;span class="caps"&gt;GRUB&lt;/span&gt; on the &lt;span class="caps"&gt;EFI&lt;/span&gt; partition of&amp;#8221;. I installed, rebooted, and was shocked -
and somewhat distressed - to boot directly to &lt;span class="caps"&gt;GRUB2&lt;/span&gt; instead of the
rEFInd installation I had setup. The installer didn&amp;#8217;t have any of the
previously-customary &amp;#8220;warning: this will overwrite your &lt;span class="caps"&gt;MBR&lt;/span&gt;/&lt;span class="caps"&gt;EFI&lt;/span&gt; boot
partition&amp;#8221; notices, so I felt safe letting it continue. It turned out
that this was the way I ended up going, and it also turns out that
there&amp;#8217;s a bug in Anaconda that makes it fail installation if you tell it
not to write a bootloader to disk (though it&amp;#8217;s patched by one line of
Python code). But I was deeply distressed that - contrary to the
experience of every, admittedly more complicated, Linux installer I&amp;#8217;d
used before - the Fedora 18 installer overwrote my &lt;span class="caps"&gt;EFI&lt;/span&gt; bootloader
(analogous to overwriting the &lt;span class="caps"&gt;MBR&lt;/span&gt; on a &lt;span class="caps"&gt;BIOS&lt;/span&gt; boot machine) without ever
warning me or asking for a&amp;nbsp;confirmation.&lt;/p&gt;
&lt;p&gt;Secondly, the partitioning tool is clearly designed for only one
destination disk. The overview screen lists configured partitions by
label and mount point, but not by physical device, so figuring out which
partitions are on which physical disks takes a click on each and every
partition to view that information in the detail panel. When you create
a new partition, it&amp;#8217;s automatically put in a &lt;span class="caps"&gt;LVM&lt;/span&gt; volume group spanning
all disks. Changing the target of the automatically created volume group
requires a few clicks, as does changing the physical disks backing any
new volume groups. To assign a newly created partition to a specific
disk, you have to click on an unlabeled &amp;#8220;tool&amp;#8221; icon under the list of
partitions, far away from the information on the partition in question.
It&amp;#8217;s a nice interface for someone who clicks the &amp;#8220;partition
automatically&amp;#8221; button, or who just knows they want to add &amp;#8220;an extra
partition&amp;#8221;, but for anyone who has a specific layout in mind (like
having &lt;code&gt;/&lt;/code&gt;, &lt;code&gt;/boot&lt;/code&gt; and &lt;code&gt;/var&lt;/code&gt;, specifically sized, on the &lt;span class="caps"&gt;SSD&lt;/span&gt; and
&lt;code&gt;/home&lt;/code&gt; on the rotating disk) it takes about 4-5 more clicks and dialogs
to add a partition than the last Fedora installer did. Mainly, it&amp;#8217;s
lacking any sort of Advanced Mode for partitioning that allows the user
to quickly and accurately layout a more complex partitioning&amp;nbsp;scheme.&lt;/p&gt;
&lt;p&gt;Below are some screenshots from the Fedora 17 and Fedora 18 Installation
Guides, which contrast both the overview of all partitions and the
individual partition&amp;nbsp;settings:&lt;/p&gt;
&lt;p&gt;Fedora 18 Overview, from &lt;a href="http://docs.fedoraproject.org/en-US/Fedora/18/html/Installation_Guide/s1-diskpartitioning-x86.html"&gt;9.13. Creating a Custom Partition
Layout&lt;/a&gt;:  &lt;/p&gt;
&lt;p&gt;&lt;img alt="image" src="http://www.dedoimedo.com/images/computers_years/2013_1/fedora-18-installer-configure-partitions.jpg"&gt;  &lt;/p&gt;
&lt;p&gt;Fedora 17 Overview, from &lt;a href="http://docs.fedoraproject.org/en-US/Fedora/17/html/Installation_Guide/s1-diskpartitioning-x86.html"&gt;9.14. Creating a Custom Layout or Modifying
the Default
Layout&lt;/a&gt;:  &lt;/p&gt;
&lt;p&gt;&lt;img alt="image" src="http://docs.fedoraproject.org/en-US/Fedora/17/html/Installation_Guide/images/diskpartitioning/ddmain.png"&gt;  &lt;/p&gt;
&lt;p&gt;Fedora 18 Partition Creation/Editing, from &lt;a href="http://docs.fedoraproject.org/en-US/Fedora/18/html/Installation_Guide/Create_LVM-x86.html"&gt;9.13.3. Create &lt;span class="caps"&gt;LVM&lt;/span&gt; Logical
Volume&lt;/a&gt;:  &lt;/p&gt;
&lt;p&gt;&lt;img alt="image" src="http://docs.fedoraproject.org/en-US/Fedora/18/html/Installation_Guide/images/diskpartitioning/lvm-pv.png"&gt;  &lt;/p&gt;
&lt;p&gt;Fedora 17 Partition Creation/Editing, from &lt;a href="http://docs.fedoraproject.org/en-US/Fedora/17/html/Installation_Guide/Adding_Partitions-x86.html"&gt;9.14.2. Adding
Partitions&lt;/a&gt;:  &lt;/p&gt;
&lt;p&gt;&lt;img alt="image" src="http://docs.fedoraproject.org/en-US/Fedora/17/html/Installation_Guide/images/diskpartitioning/part-add.png"&gt;&lt;/p&gt;</content><category term="bootloader"></category><category term="efi"></category><category term="fedora"></category><category term="gpt"></category><category term="grub"></category><category term="installation"></category><category term="laptop"></category><category term="mac"></category><category term="macbook"></category><category term="os x"></category></entry><entry><title>Perl script to convert F5 BigIp VIP address to list of internal pool member addresses</title><link href="https://blog.jasonantman.com/2012/04/perl-script-to-convert-f5-bigip-vip-address-to-list-of-internal-pool-member-addresses/" rel="alternate"></link><published>2012-04-24T22:04:00-04:00</published><updated>2012-04-24T22:04:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-04-24:/2012/04/perl-script-to-convert-f5-bigip-vip-address-to-list-of-internal-pool-member-addresses/</id><summary type="html">&lt;p&gt;I often find myself logging in to the web &lt;span class="caps"&gt;UI&lt;/span&gt; of &lt;a href="http://www.f5.com/products/big-ip/"&gt;F5
BigIp&lt;/a&gt; load balancers and tracing
down a &lt;span class="caps"&gt;VIP&lt;/span&gt; address to the servers that actually back it. This is an
arduous, repetitive task of tracing from the &lt;span class="caps"&gt;VIP&lt;/span&gt; list to the &lt;span class="caps"&gt;VIP&lt;/span&gt; details
page to find the default pool …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I often find myself logging in to the web &lt;span class="caps"&gt;UI&lt;/span&gt; of &lt;a href="http://www.f5.com/products/big-ip/"&gt;F5
BigIp&lt;/a&gt; load balancers and tracing
down a &lt;span class="caps"&gt;VIP&lt;/span&gt; address to the servers that actually back it. This is an
arduous, repetitive task of tracing from the &lt;span class="caps"&gt;VIP&lt;/span&gt; list to the &lt;span class="caps"&gt;VIP&lt;/span&gt; details
page to find the default pool, then matching up that in the pool list
and checking the pool members page. Luckily, the F5 boxes have a &lt;a href="https://devcentral.f5.com/"&gt;web
service &lt;span class="caps"&gt;API&lt;/span&gt;&lt;/a&gt; that can be used for tasks like
this. They have &lt;span class="caps"&gt;GPL&lt;/span&gt; sample code in Perl that uses only
&lt;a href="http://search.cpan.org/~mkutter/SOAP-Lite-0.714/lib/SOAP/Lite.pm"&gt;&lt;span class="caps"&gt;SOAP&lt;/span&gt;::Lite&lt;/a&gt;
(as well as Getopt::Long and Pod::Usage) to interact with an F5 BigIp. I
wrote a simple script to trace a &lt;span class="caps"&gt;VIP&lt;/span&gt; to the appropriate internal pool
member addresses, assuming you have a simple configuration of &lt;span class="caps"&gt;VIP&lt;/span&gt; -&gt;
Single default pool -&amp;gt; pool&amp;nbsp;members.&lt;/p&gt;
&lt;p&gt;Usage is quite&amp;nbsp;simple:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&lt;/span&gt; ./VipToInternalHosts.pl --host&lt;span class="o"&gt;=&lt;/span&gt;prod-lb1.example.com --user&lt;span class="o"&gt;=&lt;/span&gt;myname --pass&lt;span class="o"&gt;=&lt;/span&gt;mypassword --vip&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;128&lt;/span&gt;.6.30.130:80
&lt;span class="go"&gt;&lt;span class="caps"&gt;VIP&lt;/span&gt; 128.6.30.130:80 (f5_vip_name) -&amp;gt; Pool &amp;#39;pool_name&amp;#39;&lt;/span&gt;
&lt;span class="go"&gt;Members of Pool &amp;#39;pool_name&amp;#39;:&lt;/span&gt;
&lt;span class="go"&gt;    10.145.15.10:80&lt;/span&gt;
&lt;span class="go"&gt;    10.145.15.11:80&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The code can be found at
&lt;a href="https://github.com/jantman/misc-scripts/blob/master/VipToInternalHosts.pl"&gt;https://github.com/jantman/misc-scripts/blob/master/VipToInternalHosts.pl&lt;/a&gt;. I hope it&amp;#8217;s of use to someone else as&amp;nbsp;well.&lt;/p&gt;</content><category term="bigip"></category><category term="f5"></category><category term="load balancer"></category><category term="perl"></category></entry><entry><title>CentOS/Fedora Install on SuperMicro Servers via IPMI Card KVM Over IP</title><link href="https://blog.jasonantman.com/2012/04/centosfedora-install-on-supermicro-servers-via-ipmi-card-kvm-over-ip/" rel="alternate"></link><published>2012-04-13T15:19:00-04:00</published><updated>2012-04-13T15:19:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-04-13:/2012/04/centosfedora-install-on-supermicro-servers-via-ipmi-card-kvm-over-ip/</id><summary type="html">&lt;p&gt;I recently had to setup Fedora 16 to test something on a &lt;a href="http://www.supermicro.com/products/system/1U/6015/SYS-6015T-T.cfm"&gt;SuperMicro
6015T-&lt;span class="caps"&gt;TV&lt;/span&gt;&lt;/a&gt;
1U &amp;#8220;dual&amp;#8221; server. This is a 1U enclosure with two separate servers in it
- based on the &lt;a href="http://www.supermicro.com/products/motherboard/Xeon1333/5000P/X7DBT.cfm"&gt;SuperMicro
&lt;span class="caps"&gt;X7DBT&lt;/span&gt;&lt;/a&gt;
motherboards - each with an
&lt;a href="http://www.supermicro.com/products/accessories/addon/SIM.cfm"&gt;&lt;span class="caps"&gt;AOC&lt;/span&gt;-&lt;span class="caps"&gt;SIMSO&lt;/span&gt;+&lt;/a&gt;
&lt;span class="caps"&gt;IPMI&lt;/span&gt; and &lt;span class="caps"&gt;KVM&lt;/span&gt;-over-&lt;span class="caps"&gt;IP&lt;/span&gt; management card. Every time I …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I recently had to setup Fedora 16 to test something on a &lt;a href="http://www.supermicro.com/products/system/1U/6015/SYS-6015T-T.cfm"&gt;SuperMicro
6015T-&lt;span class="caps"&gt;TV&lt;/span&gt;&lt;/a&gt;
1U &amp;#8220;dual&amp;#8221; server. This is a 1U enclosure with two separate servers in it
- based on the &lt;a href="http://www.supermicro.com/products/motherboard/Xeon1333/5000P/X7DBT.cfm"&gt;SuperMicro
&lt;span class="caps"&gt;X7DBT&lt;/span&gt;&lt;/a&gt;
motherboards - each with an
&lt;a href="http://www.supermicro.com/products/accessories/addon/SIM.cfm"&gt;&lt;span class="caps"&gt;AOC&lt;/span&gt;-&lt;span class="caps"&gt;SIMSO&lt;/span&gt;+&lt;/a&gt;
&lt;span class="caps"&gt;IPMI&lt;/span&gt; and &lt;span class="caps"&gt;KVM&lt;/span&gt;-over-&lt;span class="caps"&gt;IP&lt;/span&gt; management card. Every time I tried different
options for the kernel parameters (I was using Cobbler), I could get the
&lt;span class="caps"&gt;OS&lt;/span&gt; to boot, but once Anaconda started, I&amp;#8217;d lose image (&amp;#8220;No Signal&amp;#8221;) on
the &lt;span class="caps"&gt;IP&lt;/span&gt; &lt;span class="caps"&gt;KVM&lt;/span&gt;, and the serial console would go quiet. It took me about a
dozen tries before I found a mailing list reference to the &amp;#8220;nomodeset&amp;#8221;
option. This did the trick perfectly, and kept Anaconda&amp;nbsp;working.&lt;/p&gt;</content><category term="anaconda"></category><category term="centos"></category><category term="fedora"></category><category term="ipmi"></category><category term="kvm"></category><category term="linux"></category><category term="raritan"></category><category term="supermicro"></category></entry><entry><title>F5 BigIp - Manually Changing Session Persistence Cookies on the Client Side</title><link href="https://blog.jasonantman.com/2012/02/f5-bigip-manually-changing-session-persistence-cookies-on-the-client-side/" rel="alternate"></link><published>2012-02-03T13:32:00-05:00</published><updated>2012-02-03T13:32:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-02-03:/2012/02/f5-bigip-manually-changing-session-persistence-cookies-on-the-client-side/</id><summary type="html">&lt;p&gt;Yesterday I was asked to help out a bit debugging issues with a site
that sits behind a &lt;a href="http://www.f5.com/products/big-ip/"&gt;F5 &lt;span class="caps"&gt;BIG&lt;/span&gt;-&lt;span class="caps"&gt;IP&lt;/span&gt;&lt;/a&gt; load
balancer (&lt;span class="caps"&gt;LB&lt;/span&gt;). It&amp;#8217;s a pretty simple site, load balanced between two web
servers. The developers were complaining about intermittent page load
issues, so I immediately considered a …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Yesterday I was asked to help out a bit debugging issues with a site
that sits behind a &lt;a href="http://www.f5.com/products/big-ip/"&gt;F5 &lt;span class="caps"&gt;BIG&lt;/span&gt;-&lt;span class="caps"&gt;IP&lt;/span&gt;&lt;/a&gt; load
balancer (&lt;span class="caps"&gt;LB&lt;/span&gt;). It&amp;#8217;s a pretty simple site, load balanced between two web
servers. The developers were complaining about intermittent page load
issues, so I immediately considered a problem with one of the two
servers (&lt;em&gt;ass&lt;/em&gt;uming that the devs were clearing cookies and cache
between attempts). The &lt;span class="caps"&gt;LB&lt;/span&gt; is using &lt;span class="caps"&gt;HTTP&lt;/span&gt; Cookies for client session
persistence, but no matter how many times I cleared my cookies, I kept
being sent to the same back-end server. I know I could have added an
iRule to the &lt;span class="caps"&gt;LB&lt;/span&gt;, but it seems like bad practice to change a production
configuration for debugging something like&amp;nbsp;this.&lt;/p&gt;
&lt;p&gt;If your site uses a BigIp with cookies for persistence, it&amp;#8217;s no problem
to edit the cookies manually to force yourself to another back-end
server. Simply look through the cookies for a given site using something
like the &lt;a href="https://addons.mozilla.org/en-US/firefox/addon/web-developer/"&gt;Web Developer addon for
Firefox&lt;/a&gt;;
the BigIp cookie is named like &amp;#8220;BigIpServer&amp;lt;poolname&gt;&amp;#8221;. The encoding
information is specified by F5 in their knowledge base &lt;a href="http://support.f5.com/kb/en-us/solutions/public/6000/900/sol6917.html"&gt;sol6917:
Overview of &lt;span class="caps"&gt;BIG&lt;/span&gt;-&lt;span class="caps"&gt;IP&lt;/span&gt; persistence cookie
encoding&lt;/a&gt;.
I also managed to find a Perl one-liner from Tyler Krpata, Manger of
Security Engineering at Constant Contact, &lt;a href="http://www.tylerkrpata.com/2009/06/decode-f5-bigip-cookie-in-one-line-of.html"&gt;in a post on his
blog&lt;/a&gt;.
I built on that work to develop the following perl script, which can
both encode and decode BigIP cookie &lt;span class="caps"&gt;IP&lt;/span&gt;/port values. The latest version lives
on my &lt;a href="https://github.com/jantman/misc-scripts/blob/master/bigipcookie.pl"&gt;GitHub misc-scripts repository&lt;/a&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ch"&gt;#!/usr/bin/perl&lt;/span&gt;

&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# Perl script to de/encode F5 BigIp persistence cookies.&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# The latest version of this script can always be obtained from:&lt;/span&gt;
&lt;span class="c1"&gt;#    via &lt;span class="caps"&gt;HTTP&lt;/span&gt; ot &lt;span class="caps"&gt;SVN&lt;/span&gt;&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# Update information and description can be found at:&lt;/span&gt;
&lt;span class="c1"&gt;#   &lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# Copyright 2012 Jason Antman  .&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;#########################################################################################&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# &lt;span class="caps"&gt;LICENSE&lt;/span&gt;: AGPLv3 &lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;#    This program is free software: you can redistribute it and/or modify&lt;/span&gt;
&lt;span class="c1"&gt;#    it under the terms of the &lt;span class="caps"&gt;GNU&lt;/span&gt; Affero General Public License as published by&lt;/span&gt;
&lt;span class="c1"&gt;#    the Free Software Foundation, either version 3 of the License, or&lt;/span&gt;
&lt;span class="c1"&gt;#    (at your option) any later version.&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;#    This program is distributed in the hope that it will be useful,&lt;/span&gt;
&lt;span class="c1"&gt;#    but &lt;span class="caps"&gt;WITHOUT&lt;/span&gt; &lt;span class="caps"&gt;ANY&lt;/span&gt; &lt;span class="caps"&gt;WARRANTY&lt;/span&gt;; without even the implied warranty of&lt;/span&gt;
&lt;span class="c1"&gt;#    &lt;span class="caps"&gt;MERCHANTABILITY&lt;/span&gt; or &lt;span class="caps"&gt;FITNESS&lt;/span&gt; &lt;span class="caps"&gt;FOR&lt;/span&gt; A &lt;span class="caps"&gt;PARTICULAR&lt;/span&gt; &lt;span class="caps"&gt;PURPOSE&lt;/span&gt;.  See the&lt;/span&gt;
&lt;span class="c1"&gt;#    &lt;span class="caps"&gt;GNU&lt;/span&gt; Affero General Public License for more details.&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;#    You should have received a copy of the &lt;span class="caps"&gt;GNU&lt;/span&gt; Affero General Public License&lt;/span&gt;
&lt;span class="c1"&gt;#    along with this program.  If not, see .&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# If you make any modifications/fixes/feature additions, it would be greatly appreciated&lt;/span&gt;
&lt;span class="c1"&gt;# if you send them back to me at the above email address.&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;#########################################################################################&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# &lt;span class="caps"&gt;CREDITS&lt;/span&gt;:&lt;/span&gt;
&lt;span class="c1"&gt;# - F5 itself for the formula: &lt;/span&gt;
&lt;span class="c1"&gt;# - Tyler Krpata &lt;/span&gt;
&lt;span class="c1"&gt;#     for the Perl one-liner that this logic is based on.&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# $HeadURL: http://svn.jasonantman.com/misc-scripts/bigipcookie.pl $&lt;/span&gt;
&lt;span class="c1"&gt;# $LastChangedRevision: 27 $&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# Changelog:&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# 2012-02-02 Jason Antman :&lt;/span&gt;
&lt;span class="c1"&gt;#   - initial version&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;

&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="nn"&gt;strict&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="nn"&gt;warnings&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="nv"&gt;$#&lt;span class="caps"&gt;ARGV&lt;/span&gt;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&lt;span class="caps"&gt;USAGE&lt;/span&gt;: bigipcookie.pl \n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="nb"&gt;exit&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$&lt;span class="caps"&gt;ARGV&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=~&lt;/span&gt; &lt;span class="sr"&gt;m/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3}):(\d+)$/&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$ipEnc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$1&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;256&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$3&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;256&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$4&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;256&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
    &lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$portEnc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;hex&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;join&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;reverse&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nb"&gt;sprintf&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;%04x&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=~&lt;/span&gt;&lt;span class="sr"&gt; /../g&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;$ipEnc.$portEnc.0000\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;elsif&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$&lt;span class="caps"&gt;ARGV&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=~&lt;/span&gt; &lt;span class="sr"&gt;m/^(\d+)\.(\d+)\.0000$/&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
    &lt;span class="c1"&gt;# decode a cookie value&lt;/span&gt;
    &lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$ipEnc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$portEnc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$ip&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;join&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;.&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;map&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nb"&gt;hex&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="nb"&gt;reverse&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nb"&gt;sprintf&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;%08x&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;split&lt;/span&gt; &lt;span class="sr"&gt;/\./&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$ipEnc&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=~&lt;/span&gt;&lt;span class="sr"&gt; /../g&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$portDec&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;hex&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;join&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;reverse&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nb"&gt;sprintf&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;%04x&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$portEnc&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=~&lt;/span&gt;&lt;span class="sr"&gt; /../g&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;$ip:$portDec\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&lt;span class="caps"&gt;USAGE&lt;/span&gt;: bigipcookie.pl \n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="nb"&gt;exit&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;An example of the&amp;nbsp;usage:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="go"&gt;jantman@palantir:pts/8:~/bin/misc-scripts &amp;gt; ./bigipcookie.pl 192.168.23.50:80&lt;/span&gt;
&lt;span class="go"&gt;840411328.20480.0000&lt;/span&gt;
&lt;span class="go"&gt;jantman@palantir:pts/8:~/bin/misc-scripts &amp;gt; ./bigipcookie.pl 840411328.20480.0000&lt;/span&gt;
&lt;span class="go"&gt;192.168.23.50:80&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;On a side note for those of your who are security-conscious: yes, of
course, this means that if you&amp;#8217;re using BigIp with cookie persistence,
it is disclosing the internal &lt;span class="caps"&gt;IP&lt;/span&gt; and port of your server to your end&amp;nbsp;users.&lt;/p&gt;</content><category term="bigip"></category><category term="cookies"></category><category term="debugging"></category><category term="f5"></category><category term="load balancer"></category><category term="perl"></category><category term="persistence"></category><category term="web app"></category></entry><entry><title>Synaptics touchpad driver synclient in Fedora 16 / Xorg with UDEV</title><link href="https://blog.jasonantman.com/2012/01/synaptics-touchpad-driver-synclient-in-fedora-16-xorg-with-udev/" rel="alternate"></link><published>2012-01-27T17:51:00-05:00</published><updated>2012-01-27T17:51:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-01-27:/2012/01/synaptics-touchpad-driver-synclient-in-fedora-16-xorg-with-udev/</id><summary type="html">&lt;p&gt;I just installed &lt;a href="http://fedoraproject.org"&gt;Fedora 16&lt;/a&gt; on an older &lt;span class="caps"&gt;IBM&lt;/span&gt;
&lt;a href="http://www.thinkwiki.org/wiki/Category:T42"&gt;ThinkPad T42&lt;/a&gt; laptop.
Unfortunately, the two mouse buttons below the
&lt;a href="http://www.thinkwiki.org/wiki/UltraNav"&gt;UltraNav&lt;/a&gt; touchpad just won&amp;#8217;t
work at all. Before opening up the case and fiddling around, I decided
to try a software solution. Even after fairly exhaustive research, I
couldn&amp;#8217;t …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I just installed &lt;a href="http://fedoraproject.org"&gt;Fedora 16&lt;/a&gt; on an older &lt;span class="caps"&gt;IBM&lt;/span&gt;
&lt;a href="http://www.thinkwiki.org/wiki/Category:T42"&gt;ThinkPad T42&lt;/a&gt; laptop.
Unfortunately, the two mouse buttons below the
&lt;a href="http://www.thinkwiki.org/wiki/UltraNav"&gt;UltraNav&lt;/a&gt; touchpad just won&amp;#8217;t
work at all. Before opening up the case and fiddling around, I decided
to try a software solution. Even after fairly exhaustive research, I
couldn&amp;#8217;t find anyone with a similar&amp;nbsp;problem.&lt;/p&gt;
&lt;p&gt;I did, however, find out that the synaptics touchpad driver has a
&lt;code&gt;synclient&lt;/code&gt; tool that can output the hardware events read directly from
the input device. I tried running &lt;code&gt;synclient -m 100&lt;/code&gt; (to monitor
hardware events every 100ms), but the only output that I got was
&lt;code&gt;Can't access shared memory area. SHMConfig disabled?&lt;/code&gt;. This was all a
bit confusing to me, since Fedora 16 doesn&amp;#8217;t even use an &lt;code&gt;xorg.conf&lt;/code&gt;
file. I was even more confused by a fair amount of information saying
that SHMConfig is no longer used in synaptics&amp;nbsp;1.2+.&lt;/p&gt;
&lt;p&gt;Long story short, the solution lies in
&lt;code&gt;/usr/share/X11/xorg.conf.d/50-synaptics.conf&lt;/code&gt;, which holds the
synaptics config snippets for xorg. All you need to do is add the
SHMConfig line before the end of the&amp;nbsp;section:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Section &amp;quot;InputClass&amp;quot;
    Identifier &amp;quot;touchpad catchall&amp;quot;
    Driver &amp;quot;synaptics&amp;quot;
    ...
    Option &amp;quot;SHMConfig&amp;quot; &amp;quot;on&amp;quot;
EndSection
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;and then restart your X server. Now, running &lt;code&gt;synclient -m&lt;/code&gt; should work&amp;nbsp;fine.&lt;/p&gt;
&lt;p&gt;I have to thank Red Hat&amp;#8217;s &lt;a href="http://fedoraproject.org/wiki/User:Kevin"&gt;Kevin
Fenzi&lt;/a&gt; (nirik on &lt;a href="http://webchat.freenode.net/?randomnick=1&amp;amp;channels=fedora&amp;amp;uio=d4"&gt;#fedora on
irc.freenode.org&lt;/a&gt;)
for putting another set of eyeballs on the problem, and throwing out
some ideas that finally led me to the&amp;nbsp;solution.&lt;/p&gt;</content><category term="synaptics"></category><category term="synclient"></category><category term="thinkpad"></category><category term="touchpad"></category><category term="xorg"></category></entry><entry><title>Vyatta NetworkOS router/firewall on Alix board / Compact Flash</title><link href="https://blog.jasonantman.com/2011/09/vyatta-networkos-routerfirewall-on-alix-board-compact-flash/" rel="alternate"></link><published>2011-09-30T14:16:00-04:00</published><updated>2011-09-30T14:16:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2011-09-30:/2011/09/vyatta-networkos-routerfirewall-on-alix-board-compact-flash/</id><summary type="html">&lt;p&gt;&lt;strong&gt;Update March 2017&lt;/strong&gt;: I have an updated version of this procedure for VyOS,
the open source community fork of Vyatta, available in a new post:
&lt;a href="/2017/03/vyos-on-alix-2c1-single-board-computer/"&gt;VyOS on Alix 2C1 Single Board Computer&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;With the impending move to an apartment in Georgia and the migration of
my rack full of servers …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;Update March 2017&lt;/strong&gt;: I have an updated version of this procedure for VyOS,
the open source community fork of Vyatta, available in a new post:
&lt;a href="/2017/03/vyos-on-alix-2c1-single-board-computer/"&gt;VyOS on Alix 2C1 Single Board Computer&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;With the impending move to an apartment in Georgia and the migration of
my rack full of servers to a hosting provider, there&amp;#8217;s no longer a need
for me to run my &lt;a href="http://www.vyatta.org/"&gt;Vyatta &lt;span class="caps"&gt;VC&lt;/span&gt;&lt;/a&gt; router on a beefy
dual-&lt;span class="caps"&gt;CPU&lt;/span&gt; RAIDed &lt;a href="http://h18000.www1.hp.com/products/quickspecs/11504_na/11504_na.HTML"&gt;&lt;span class="caps"&gt;DL360&lt;/span&gt;
G3&lt;/a&gt;
&lt;span class="caps"&gt;HP&lt;/span&gt; Proliant server chassis. I found an older PCEngines &lt;a href="http://pcengines.ch/alix2c1.htm"&gt;Alix
2c1&lt;/a&gt; single board computer (433 MHz &lt;span class="caps"&gt;AMD&lt;/span&gt;
Geode &lt;span class="caps"&gt;LX700&lt;/span&gt; , &lt;span class="caps"&gt;128MB&lt;/span&gt; &lt;span class="caps"&gt;DDR&lt;/span&gt; &lt;span class="caps"&gt;DRAM&lt;/span&gt;, CompactFlash (&lt;span class="caps"&gt;CF&lt;/span&gt;) card socket, MiniPCI, 3x
10/100 ethernet) lying around, and decided to turn that into the new
router. But I&amp;#8217;ve been so spoiled by Vyatta&amp;#8217;s good performance (well, at
least on an x86 server) and the &lt;em&gt;real&lt;/em&gt; &lt;span class="caps"&gt;CLI&lt;/span&gt;, so I don&amp;#8217;t think I can go
back to something like &lt;a href="http://m0n0.ch/wall/"&gt;m0n0wall&lt;/a&gt; or
&lt;a href="http://www.pfsense.org/"&gt;pfSense&lt;/a&gt;, and since it&amp;#8217;s going to be my only
network services box (also doing &lt;span class="caps"&gt;DNS&lt;/span&gt;, &lt;span class="caps"&gt;DHCP&lt;/span&gt;, firewalling, &lt;span class="caps"&gt;NAT&lt;/span&gt;, and maybe
IPsec &lt;span class="caps"&gt;VPN&lt;/span&gt;) it&amp;#8217;s not viable to use the type of older Cisco or Juniper
hardware that I can&amp;nbsp;afford.&lt;/p&gt;
&lt;p&gt;The down side is that Vyatta isn&amp;#8217;t really designed or tuned for small
systems, let alone &lt;span class="caps"&gt;CF&lt;/span&gt; media that doesn&amp;#8217;t take too well to lots of
writes. So, I&amp;#8217;m going to begin experimentation with doing a &lt;span class="caps"&gt;CF&lt;/span&gt; install
of the current Vyatta Core 6.3, and we&amp;#8217;ll see how it goes and what
tuning I do over&amp;nbsp;time.&lt;/p&gt;
&lt;p&gt;I found two relatively good references; a &lt;a href="http://www.vyatta.org/forum/viewtopic.php?t=502"&gt;post on the vyatta.org
forum&lt;/a&gt; from 2008,
relating to Vyatta version 4 (also on the author&amp;#8217;s
&lt;a href="http://dataflip.blogspot.com/2008/06/optimizing-vyatta-for-compact-flash.html"&gt;blog&lt;/a&gt;),
and a &lt;a href="http://peytongroup.wordpress.com/2010/02/16/vyatta-community-on-a-compact-flash/"&gt;blog
post&lt;/a&gt;
detailing a more complex
&lt;a href="http://squashfs.sourceforge.net/"&gt;SquashFS&lt;/a&gt;/&lt;a href="http://en.wikipedia.org/wiki/Tmpfs"&gt;tmpfs&lt;/a&gt;/&lt;a href="http://unionfs.filesystems.org/"&gt;UnionFS&lt;/a&gt;
read-only Vyatta install. Given my relatively short timeframe and little
free time, I decided to try the former approach for now, and plan to
make a more customized and tuned &lt;span class="caps"&gt;CF&lt;/span&gt; version of Vyatta in the&amp;nbsp;future.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Creating the actual disk&amp;nbsp;image:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;My development platform at the moment is an intel-based MacBook Pro,
running MacOS X 10.6.4 and VirtualBox 4.0.12. As much of a Linux fan as
I am, my work laptop runs Mac (like everyone else in the office) and
lately I can&amp;#8217;t guarantee that I&amp;#8217;ll be at my desktop long enough to
finish anything. The target is an Alix2c1 with a &lt;span class="caps"&gt;2GB&lt;/span&gt; SanDisk Ultra &lt;span class="caps"&gt;CF&lt;/span&gt;
card (yes, I know an industrial card would be better, but I couldn&amp;#8217;t get
my hands on one). For starters, I created a new VirtualBox &lt;span class="caps"&gt;VM&lt;/span&gt; with the
following&amp;nbsp;settings:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class="caps"&gt;OS&lt;/span&gt; Type: Linux&amp;nbsp;2.6&lt;/li&gt;
&lt;li&gt;Base Memory:&amp;nbsp;&lt;span class="caps"&gt;128MB&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;Boot Order: Floppy, &lt;span class="caps"&gt;CD&lt;/span&gt;-&lt;span class="caps"&gt;ROM&lt;/span&gt;, Hard&amp;nbsp;Disk&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;IDE&lt;/span&gt; Controller Primary: mounted vyatta-livecd_VC6.3 &lt;span class="caps"&gt;ISO&lt;/span&gt;&amp;nbsp;image&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;IDE&lt;/span&gt; Controller Secondary: &lt;span class="caps"&gt;RAW&lt;/span&gt; &lt;span class="caps"&gt;VMDK&lt;/span&gt; image (created&amp;nbsp;below)&lt;/li&gt;
&lt;li&gt;Audio:&amp;nbsp;None&lt;/li&gt;
&lt;li&gt;Network: Disabled &lt;em&gt;(this is important, as Vyatta saves the
    interfaces by hardware address, and it would require some config
    editing and reboots to change&amp;nbsp;them)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;Serial Port: disconnected (but&amp;nbsp;present)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;One difficulty I ran into on Mac is mounting the raw &lt;span class="caps"&gt;CF&lt;/span&gt; card in the
VirtualBox guest. I plugged it in via a &lt;span class="caps"&gt;USB&lt;/span&gt; reader, and of course it
automatically mounted in MacOS. I ejected it and the &lt;code&gt;/dev/disk1&lt;/code&gt; device
disappeared. It turns out that the full procedure (as far as I could
tell) for Mac&amp;nbsp;is:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Plug in the &lt;span class="caps"&gt;CF&lt;/span&gt; card and&amp;nbsp;reader.&lt;/li&gt;
&lt;li&gt;It should automount. Run &lt;code&gt;mount&lt;/code&gt; to see what the actual device is -
    in my case, the &lt;code&gt;/dev/disk1s1&lt;/code&gt; partition was mounted, so the disk is
    &lt;code&gt;/dev/disk1&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Run &lt;code&gt;sudo umount -f /dev/disk1&lt;/code&gt;. It seems that the MacOS automounter
    has a god complex, so you may need to re-run this command quite a
    few times throughout the process if you get device or resource busy&amp;nbsp;errors.&lt;/li&gt;
&lt;li&gt;In an appropriate directory, create the raw &lt;span class="caps"&gt;VMDK&lt;/span&gt; image with:
    &lt;code&gt;VBoxManage internalcommands createrawvmdk -filename rawdisk.vmdk -rawdisk /dev/disk1&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;When creating your &lt;span class="caps"&gt;VM&lt;/span&gt;, you&amp;#8217;ll have an option to select Use an
    Existing Virtual Disk. Use that option, and select the file created
    in the last&amp;nbsp;step.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Once that&amp;#8217;s done, and you&amp;#8217;ve setup the &lt;span class="caps"&gt;VM&lt;/span&gt; with the raw disk, boot the &lt;span class="caps"&gt;VM&lt;/span&gt;
(should boot to the Vyatta LiveCD), login as usual for an install
(vyatta:vyatta), and the the fun&amp;nbsp;begins:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;At the prompt after logging in, &lt;code&gt;sudo su -&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Edit &lt;code&gt;/opt/vyatta/sbin/install-system&lt;/code&gt; (hint: Vyatta has nano and vi
    installed. &lt;code&gt;nano -c filename&lt;/code&gt; shows line numbers) and change the
    &lt;code&gt;ROOT_FSTYPE&lt;/code&gt; variable (line 78 in &lt;span class="caps"&gt;VC6&lt;/span&gt;.3) from &amp;#8220;ext4&amp;#8221; to&amp;nbsp;&amp;#8220;ext2&amp;#8221;.&lt;/li&gt;
&lt;li&gt;Run &lt;code&gt;install-system&lt;/code&gt;. I used all default options (including one
    partition) and it seemed to work fine. It took a minute or two to
    create the ext2 filesystem on my &lt;span class="caps"&gt;2GB&lt;/span&gt; &lt;span class="caps"&gt;CF&lt;/span&gt;&amp;nbsp;card.&lt;/li&gt;
&lt;li&gt;The file copy took even longer&amp;#8230; so be patient, or have a book&amp;nbsp;handy.&lt;/li&gt;
&lt;li&gt;When system-install finishes and you get the root prompt back,
    before rebooting, continue with some minor&amp;nbsp;tweaks:&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mkdir /mnt/temp&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mount /dev/sda1 /mnt/temp&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cd /mnt/temp&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Edit &lt;code&gt;boot/grub/grub.cfg&lt;/code&gt; and change all occurrences of
    &amp;#8220;root=&lt;span class="caps"&gt;UUID&lt;/span&gt;=&amp;#8230;&amp;#8221; entries for the &amp;#8220;linux&amp;#8221; lines (lines 13, 18, 23, 28
    in my grub.cfg) to &amp;#8220;root=/dev/sda1&amp;#8221;. My only real reason for this
    change is so that I can move my altered config files (config.boot,
    fstab and grub.cfg) with minimal changes when I upgrade or make a
    different vyatta &lt;span class="caps"&gt;CF&lt;/span&gt; card, without having to update the &lt;span class="caps"&gt;UUID&lt;/span&gt; for the
    new&amp;nbsp;partition.&lt;/li&gt;
&lt;li&gt;Edit &lt;code&gt;etc/fstab&lt;/code&gt; and change the &amp;#8220;&lt;span class="caps"&gt;UUID&lt;/span&gt;=&amp;#8230;&amp;#8221; device to&amp;nbsp;&amp;#8221;/dev/sda1&amp;#8221;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;shutdown&lt;/code&gt;. Once the &lt;span class="caps"&gt;VM&lt;/span&gt; is stopped, you can remove the &lt;span class="caps"&gt;CF&lt;/span&gt;&amp;nbsp;card.&lt;/li&gt;
&lt;li&gt;The PCEngines Alix.2 boards use a default serial console speed of
    38400 baud. Pretty much every network device, plus Linux and Vyatta,
    use a default speed of 9600 baud. Once I got the &lt;span class="caps"&gt;CF&lt;/span&gt; card installed
    in the Alix board and hooked it up to my laptop (null modem cable to
    a &lt;span class="caps"&gt;PL&lt;/span&gt;-2303 based &lt;span class="caps"&gt;USB&lt;/span&gt; to serial adapter, minicom for terminal
    emulation), I set my terminal emulator to 38400 8N1, powered the
    board, and then pressed &amp;#8216;s&amp;#8217; during &lt;span class="caps"&gt;POST&lt;/span&gt; to get into &lt;span class="caps"&gt;BIOS&lt;/span&gt; settings.
    Option &amp;#8216;9&amp;#8217; sets the Alix to 9600 baud, &amp;#8216;Q&amp;#8217; to quit, and &amp;#8216;Y&amp;#8217; to save
    changes permanently. The board will reboot, and once the terminal
    emulator is set back to 9600 baud, serial console should work fine
    both in &lt;span class="caps"&gt;BIOS&lt;/span&gt; and in the&amp;nbsp;&lt;span class="caps"&gt;OS&lt;/span&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;If all worked well, you should be able to boot into Vyatta and login as
the default &amp;#8220;vyatta&amp;#8221; user (which you set a password for during the
install). Assuming you know your way around Vyatta, it&amp;#8217;s pretty standard
from here, though there are a few things you may want to check or
configure right&amp;nbsp;away:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;In configuration mode (&lt;code&gt;configure&lt;/code&gt;) run &lt;code&gt;show interfaces&lt;/code&gt;. All of
    your physical ethernet interfaces should appear, along with their
    &lt;span class="caps"&gt;MAC&lt;/span&gt;&amp;nbsp;addresses.&lt;/li&gt;
&lt;li&gt;Some changes to reduce the number of log writes to the &lt;span class="caps"&gt;CF&lt;/span&gt; card:
    &lt;code&gt;set system syslog console facility all level notice&lt;/code&gt; and
    &lt;code&gt;set system syslog global facility protocols level notice&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Configure interfaces. with firewalls, &lt;span class="caps"&gt;IP&lt;/span&gt; addresses or &lt;span class="caps"&gt;DHCP&lt;/span&gt;,&amp;nbsp;etc.&lt;/li&gt;
&lt;li&gt;Do whatever other configuration you need for a minimal system -
    dhcp, dns, nat,&amp;nbsp;etc.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;And that&amp;#8217;s it - this should give you a working Vyatta system on &lt;span class="caps"&gt;CF&lt;/span&gt; on an
Alix board. Stay tuned, hopefully in a month or so I&amp;#8217;ll get around to
customizing it a bit more, based on the second blog entry linked&amp;nbsp;above.&lt;/p&gt;</content><category term="alix"></category><category term="embedded"></category><category term="network"></category><category term="pcengines"></category><category term="router"></category><category term="vyatta"></category></entry><entry><title>New server, and looking for work</title><link href="https://blog.jasonantman.com/2011/09/new-server-and-looking-for-work/" rel="alternate"></link><published>2011-09-27T19:35:00-04:00</published><updated>2011-09-27T19:35:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2011-09-27:/2011/09/new-server-and-looking-for-work/</id><summary type="html">&lt;p&gt;First off, I&amp;#8217;ve moved this blog from a server in my basement to
&lt;a href="http://www.linode.com"&gt;Linode&lt;/a&gt; virtual hosting, in preparation for my
move from New Jersey to an apartment in Georgia. This will mark the
first time since 2001 (when I was 14) that I didn&amp;#8217;t have at least a …&lt;/p&gt;</summary><content type="html">&lt;p&gt;First off, I&amp;#8217;ve moved this blog from a server in my basement to
&lt;a href="http://www.linode.com"&gt;Linode&lt;/a&gt; virtual hosting, in preparation for my
move from New Jersey to an apartment in Georgia. This will mark the
first time since 2001 (when I was 14) that I didn&amp;#8217;t have at least a
publicly-accessible Linux server in my home. It also means that, as sad
as it is, the rack will probably all be either going in Ebay or to scrap
(after a good &lt;a href="http://en.wikipedia.org/wiki/Gutmann_method"&gt;Guttmann
wipe&lt;/a&gt;, of&amp;nbsp;course).&lt;/p&gt;
&lt;p&gt;&lt;img alt="server rack" src="/GFX/rack_2011-09-27_small.jpg"&gt;&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m a bit sad to give up hosting &lt;span class="caps"&gt;DNS&lt;/span&gt; myself and having my beautiful
per-zone, per-domain, hourly &lt;span class="caps"&gt;DNS&lt;/span&gt; statistics, but that was my first move,
and Linode&amp;#8217;s web-based &lt;span class="caps"&gt;DNS&lt;/span&gt; manager is much nicer than my collection of
&lt;span class="caps"&gt;PHP&lt;/span&gt; scripts, MySQL backend, and rndc reload wrapper (and I no longer
need &lt;span class="caps"&gt;BIND&lt;/span&gt; split-horizon since the hosting is remote). Mail was next, and
I&amp;#8217;ve got one web server moved and the other on the way. The biggest
disappointment is losing my testbed for all the fun stuff I can&amp;#8217;t do (or
doesn&amp;#8217;t make sense) with a virtualized hosting provider -
&lt;a href="http://puppetlabs.com/"&gt;Puppet&lt;/a&gt;, real &lt;span class="caps"&gt;ISC&lt;/span&gt; &lt;span class="caps"&gt;DHCP&lt;/span&gt;, &lt;span class="caps"&gt;BIND9&lt;/span&gt;, Cisco CatOS and
&lt;span class="caps"&gt;IOS&lt;/span&gt; devices, &lt;a href="http://www.bacula.org"&gt;Bacula&lt;/a&gt;, running my own edge
router, etc. There&amp;#8217;s at least a handful of current production Rutgers
services and tools that got their start here as projects in my spare
time. But I&amp;#8217;m sure I&amp;#8217;ll make up somehow, and I&amp;#8217;m planning on putting
aside some money for a massive new desktop to run a slew of&amp;nbsp;VMs.&lt;/p&gt;
&lt;p&gt;On a second note, the one thing holding back my move to Georgia is,
well, my lack of a job there. I&amp;#8217;m really just starting to look around,
and am very much hoping to find something comparable to my current
position at Rutgers - a group supporting diverse services, doing mainly
architecture and implementation of new services, a good dose of
automation and custom tool development, and hopefully also some work
with performance and availability monitoring (think
&lt;a href="http://www.nagios.org"&gt;Nagios&lt;/a&gt; and &lt;a href="http://www.cacti.net/"&gt;Cacti&lt;/a&gt;),
logging, etc. And, of course, something that&amp;#8217;s network-focused, whether
wireless or wired. Maintaining some data center space/physical
infrastructure and occasionally working with my hands is fun too. So, if
you know anyone who&amp;#8217;s hiring a Linux/open source dude in the general
vicinity of Athens, &lt;span class="caps"&gt;GA&lt;/span&gt; (including Atlanta and the surrounding area),
please give me a heads-up, or pass them along to
&lt;a href="http://resume.jasonantman.com"&gt;resume.jasonantman.com&lt;/a&gt;.&lt;/p&gt;</content><category term="linode"></category><category term="move"></category><category term="rack"></category><category term="servers"></category></entry><entry><title>Netgear ReadyNAS 1100 Bug causes NFS Failure after reboot - workaround</title><link href="https://blog.jasonantman.com/2011/06/netgear-readynas-1100-bug-causes-nfs-failure-after-reboot-workaround/" rel="alternate"></link><published>2011-06-28T08:40:00-04:00</published><updated>2011-06-28T08:40:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2011-06-28:/2011/06/netgear-readynas-1100-bug-causes-nfs-failure-after-reboot-workaround/</id><summary type="html">&lt;p&gt;At work, we have a &lt;a href="http://www.readynas.com/?cat=23"&gt;Netgear ReadyNAS
1100&lt;/a&gt;. It&amp;#8217;s a &lt;span class="caps"&gt;4TB&lt;/span&gt; &lt;span class="caps"&gt;NAS&lt;/span&gt; appliance, a cute
little 1U half-depth Linux box with 4 &lt;span class="caps"&gt;SATA&lt;/span&gt; disks, a &lt;span class="caps"&gt;RAID&lt;/span&gt; controller, and
some firmware to do a whole bunch of fancy stuff (mainly geared towards
consumers and very small shops - all configuration is …&lt;/p&gt;</summary><content type="html">&lt;p&gt;At work, we have a &lt;a href="http://www.readynas.com/?cat=23"&gt;Netgear ReadyNAS
1100&lt;/a&gt;. It&amp;#8217;s a &lt;span class="caps"&gt;4TB&lt;/span&gt; &lt;span class="caps"&gt;NAS&lt;/span&gt; appliance, a cute
little 1U half-depth Linux box with 4 &lt;span class="caps"&gt;SATA&lt;/span&gt; disks, a &lt;span class="caps"&gt;RAID&lt;/span&gt; controller, and
some firmware to do a whole bunch of fancy stuff (mainly geared towards
consumers and very small shops - all configuration is point-and-click
web &lt;span class="caps"&gt;UI&lt;/span&gt;). We&amp;#8217;ve been using it for storing archived log data and
low-priority backups. At the beginning of this problem, it was running
RAIDiator 4.1.6 firmware since December of last year (over 6 months),
and hadn&amp;#8217;t had any configuration changes in at least 4&amp;nbsp;months.&lt;/p&gt;
&lt;p&gt;Last week, I had to power off the unit and remove the power cables for
some rack maintenance. I went through the usual full shutdown procedure
in the web &lt;span class="caps"&gt;UI&lt;/span&gt;, and also told it to `fsck` the volumes, as that hadn&amp;#8217;t
been done in quite some time. Unfortunately, when the unit came back up,
even after I could log into the web &lt;span class="caps"&gt;UI&lt;/span&gt;, I couldn&amp;#8217;t mount the &lt;span class="caps"&gt;NFS&lt;/span&gt; shares
on my backup server. I kept getting messages&amp;nbsp;like:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;[root@backup-server ~]#&lt;/span&gt; mount -a
&lt;span class="go"&gt;mount: mount to &lt;span class="caps"&gt;NFS&lt;/span&gt; server &amp;#39;css-readynas&amp;#39; failed: &lt;span class="caps"&gt;RPC&lt;/span&gt; Error: Program not registered.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;so my next step was to check &lt;span class="caps"&gt;RPC&lt;/span&gt; status of the readynas, from the
client. That was also a bit of a&amp;nbsp;surprise:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;[root@backup-server ~]#&lt;/span&gt; rpcinfo -p css-readynas                        
&lt;span class="go"&gt;   program vers proto   port                                              &lt;/span&gt;
&lt;span class="go"&gt;    100000    2   tcp    111  portmapper                                  &lt;/span&gt;
&lt;span class="go"&gt;    100000    2   udp    111  portmapper                                  &lt;/span&gt;
&lt;span class="go"&gt;    100011    1   udp    620  rquotad                                     &lt;/span&gt;
&lt;span class="go"&gt;    100011    2   udp    620  rquotad                                     &lt;/span&gt;
&lt;span class="go"&gt;    100011    1   tcp    623  rquotad                                     &lt;/span&gt;
&lt;span class="go"&gt;    100011    2   tcp    623  rquotad                                     &lt;/span&gt;
&lt;span class="go"&gt;    100024    1   udp  32765  status                                      &lt;/span&gt;
&lt;span class="go"&gt;    100024    1   tcp  32765  status                                      &lt;/span&gt;
&lt;span class="go"&gt;    100005    1   udp   2051  mountd                                      &lt;/span&gt;
&lt;span class="go"&gt;    100005    1   tcp   3006  mountd                                      &lt;/span&gt;
&lt;span class="go"&gt;    100005    2   udp   2051  mountd                                      &lt;/span&gt;
&lt;span class="go"&gt;    100005    2   tcp   3006  mountd                                      &lt;/span&gt;
&lt;span class="go"&gt;    100005    3   udp   2051  mountd                                      &lt;/span&gt;
&lt;span class="go"&gt;    100005    3   tcp   3006  mountd &lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Somewhere in that list is supposed to be nfsd, listening on port 2049.
Next, I did an nmap (port scan) of the&amp;nbsp;readynas:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;[root@backup-server ~]#&lt;/span&gt; nmap -sU -p2047-2050 css-readynas             

&lt;span class="go"&gt;Starting Nmap 4.11 ( http://www.insecure.org/nmap/ ) at 2011-06-23 15:21 &lt;span class="caps"&gt;EDT&lt;/span&gt;&lt;/span&gt;
&lt;span class="go"&gt;Interesting ports on css-readynas.rutgers.edu (172.16.25.108):              &lt;/span&gt;
&lt;span class="go"&gt;&lt;span class="caps"&gt;PORT&lt;/span&gt;     &lt;span class="caps"&gt;STATE&lt;/span&gt;         &lt;span class="caps"&gt;SERVICE&lt;/span&gt;                                              &lt;/span&gt;
&lt;span class="go"&gt;2047/udp closed        dls                                                  &lt;/span&gt;
&lt;span class="go"&gt;2048/udp closed        dls-monitor                                          &lt;/span&gt;
&lt;span class="go"&gt;2049/udp open|filtered nfs                                                  &lt;/span&gt;
&lt;span class="go"&gt;2050/udp closed        unknown  &lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Interesting. The port scan shows that &lt;em&gt;something&lt;/em&gt; is listening on port
2049. But rpcinfo doesn&amp;#8217;t seem to recognize it as a &lt;span class="caps"&gt;NFS&lt;/span&gt;&amp;nbsp;server.&lt;/p&gt;
&lt;p&gt;At this point, through FrontView (the web &lt;span class="caps"&gt;UI&lt;/span&gt;) I backed up the
configuration and went through a few reboot cycles, with no change. I
then started tweaking everything I could that I thought would restart
the &lt;span class="caps"&gt;NFS&lt;/span&gt; server - I added and removed allowed hosts for the &lt;span class="caps"&gt;NFS&lt;/span&gt; share,
enabled and disabled sync mode, etc. I started searching the &lt;a href="http://www.readynas.com/forum/"&gt;ReadyNAS
Forum&lt;/a&gt; and found a post that reported a
very similar problem - &lt;a href="http://www.readynas.com/forum/viewtopic.php?f=20&amp;amp;t=23139"&gt;upnpd grabbing nfsd
port&lt;/a&gt;. The
user reported that he was getting the same &amp;#8220;&lt;span class="caps"&gt;RPC&lt;/span&gt; Error: Program not
registered&amp;#8221; message, and in &lt;code&gt;daemon.log&lt;/code&gt; on the ReadyNAS, found a line
including &amp;#8220;storage nfsd[1087]: nfssvc: Address already in use&amp;#8221;. I
remembered that I&amp;#8217;d setup the ReadyNAS to forward all logs to our
central syslog server and, sure enough, found an identical message that
something had already bound to &lt;span class="caps"&gt;UDP&lt;/span&gt; port 2049 when &lt;span class="caps"&gt;NFS&lt;/span&gt; was starting. I
tried confirming that upnpd was disabled and rebooting, but that didn&amp;#8217;t
help. Grepping my logs for &amp;#8220;nfs&amp;#8221;&amp;nbsp;returned:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;daemon.log:Jun 23 12:43:43 css-readynas nfsd[2331]: nfssvc: Address already in use
daemon.log:Jun 23 15:26:33 css-readynas nfsd[2724]: nfssvc: Address already in use
kern.log:Jun 23 11:35:29 css-readynas kernel: Installing knfsd (copyright (C) 1996 okir@monad.swb.de).
kern.log:Jun 23 12:43:43 css-readynas kernel: &lt;span class="caps"&gt;NFSD&lt;/span&gt;: Using /var/lib/nfs/v4recovery as the NFSv4 state recovery directory
kern.log:Jun 23 12:43:43 css-readynas kernel: &lt;span class="caps"&gt;NFSD&lt;/span&gt;: starting 90-second grace period
kern.log:Jun 23 14:56:20 css-readynas kernel: Installing knfsd (copyright (C) 1996 okir@monad.swb.de).
kern.log:Jun 23 15:12:41 css-readynas kernel: &lt;span class="caps"&gt;NFSD&lt;/span&gt;: starting 90-second grace period
kern.log:Jun 23 15:26:33 css-readynas kernel: &lt;span class="caps"&gt;NFSD&lt;/span&gt;: Using /var/lib/nfs/v4recovery as the NFSv4 state recovery directory
kern.log:Jun 23 15:26:33 css-readynas kernel: &lt;span class="caps"&gt;NFSD&lt;/span&gt;: starting 90-second grace period
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;My next step was a few more reboots, with no change. I then upgraded the
RAIDiator firmware to the latest, 4.1.7. Still no luck. I installed the
&lt;a href="http://www.readynas.com/?p=4203"&gt;Enable root &lt;span class="caps"&gt;SSH&lt;/span&gt;&lt;/a&gt; addon, and that&amp;#8217;s
when things became very&amp;nbsp;clear:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;css-readynas:/var/log#&lt;/span&gt; netstat -unlp
&lt;span class="go"&gt;Active Internet connections (only servers)&lt;/span&gt;
&lt;span class="go"&gt;Proto Recv-Q Send-Q Local Address           Foreign Address         State       &lt;span class="caps"&gt;PID&lt;/span&gt;/Program name   &lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:2049            0.0.0.0:*                           794/snmpd           &lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:514             0.0.0.0:*                           673/syslogd         &lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 172.16.25.108:137       0.0.0.0:*                           1672/nmbd           &lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:137             0.0.0.0:*                           1672/nmbd           &lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 172.16.25.108:138       0.0.0.0:*                           1672/nmbd           &lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:138             0.0.0.0:*                           1672/nmbd           &lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:161             0.0.0.0:*                           794/snmpd           &lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:162             0.0.0.0:*                           802/snmptrapd       &lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:2086            0.0.0.0:*                           1565/rpc.mountd     &lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 127.0.0.1:22081         0.0.0.0:*                           1599/raidard        &lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 172.16.25.108:22081     0.0.0.0:*                           1599/raidard        &lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:22081           0.0.0.0:*                           1599/raidard        &lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:988             0.0.0.0:*                           819/rpc.rquotad     &lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:5353            0.0.0.0:*                           729/avahi-daemon: r &lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:111             0.0.0.0:*                           666/portmap         &lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:881             0.0.0.0:*                           1553/rpc.statd      &lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:32765           0.0.0.0:*                           1553/rpc.statd     &lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;For some &lt;strong&gt;&lt;em&gt;very&lt;/em&gt;&lt;/strong&gt; strange reason, snmpd had bound to port 2049 (the
nfs port) instead of 161. That left no port for nfs to bind&amp;nbsp;to.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Solution:&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;css-readynas:/var/log#&lt;/span&gt; /etc/init.d/snmpd stop                                                       
&lt;span class="go"&gt;Stopping network management services: snmpd snmptrapd readynas-agent.                               &lt;/span&gt;
&lt;span class="gp"&gt;css-readynas:/var/log#&lt;/span&gt; /etc/init.d/nfs-kernel-server start
&lt;span class="go"&gt;Exporting directories for &lt;span class="caps"&gt;NFS&lt;/span&gt; kernel daemon...done.&lt;/span&gt;
&lt;span class="go"&gt;Starting &lt;span class="caps"&gt;NFS&lt;/span&gt; kernel daemon:mount: nfsd already mounted or /proc/fs/nfsd/ busy&lt;/span&gt;
&lt;span class="go"&gt;mount: according to mtab, nfsd is mounted on /proc/fs/nfsd&lt;/span&gt;
&lt;span class="go"&gt; statd nfsd mountd.&lt;/span&gt;
&lt;span class="gp"&gt;css-readynas:/var/log#&lt;/span&gt; /etc/init.d/snmpd start
&lt;span class="go"&gt;Starting network management services: snmpd snmptrapd readynas-agent.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Stop snmpd, restart nfs-kernel-server so that it grabs port 2049 like it
should, and then start snmpd back up. If all went well, nfsd should now
be listening on &lt;span class="caps"&gt;UDP&lt;/span&gt; 2049, and snmpd should be listening on &lt;span class="caps"&gt;UDP&lt;/span&gt; 161 like
it should. To&amp;nbsp;confirm:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;css-readynas:/var/log#&lt;/span&gt; netstat -unlp
&lt;span class="go"&gt;Active Internet connections (only servers)&lt;/span&gt;
&lt;span class="go"&gt;Proto Recv-Q Send-Q Local Address           Foreign Address         State       &lt;span class="caps"&gt;PID&lt;/span&gt;/Program name&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:2049            0.0.0.0:*                           -&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:514             0.0.0.0:*                           673/syslogd&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 172.16.25.108:137       0.0.0.0:*                           1672/nmbd&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:137             0.0.0.0:*                           1672/nmbd&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 172.16.25.108:138       0.0.0.0:*                           1672/nmbd&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:138             0.0.0.0:*                           1672/nmbd&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:161             0.0.0.0:*                           26161/snmpd&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:162             0.0.0.0:*                           26163/snmptrapd&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:2086            0.0.0.0:*                           1565/rpc.mountd&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 127.0.0.1:22081         0.0.0.0:*                           1599/raidard&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 172.16.25.108:22081     0.0.0.0:*                           1599/raidard&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:22081           0.0.0.0:*                           1599/raidard&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:988             0.0.0.0:*                           819/rpc.rquotad&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:5353            0.0.0.0:*                           729/avahi-daemon: r&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:2158            0.0.0.0:*                           -&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:111             0.0.0.0:*                           666/portmap&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:2160            0.0.0.0:*                           26161/snmpd&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:881             0.0.0.0:*                           1553/rpc.statd&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:32765           0.0.0.0:*                           1553/rpc.statd&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;All is well. Now to confirm this from the client&amp;nbsp;machine:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;[root@backup-server ~]#&lt;/span&gt; rpcinfo -p css-readynas
&lt;span class="go"&gt;   program vers proto   port&lt;/span&gt;
&lt;span class="go"&gt;    100000    2   tcp    111  portmapper&lt;/span&gt;
&lt;span class="go"&gt;    100000    2   udp    111  portmapper&lt;/span&gt;
&lt;span class="go"&gt;    100011    1   udp    988  rquotad&lt;/span&gt;
&lt;span class="go"&gt;    100011    2   udp    988  rquotad&lt;/span&gt;
&lt;span class="go"&gt;    100011    1   tcp    991  rquotad&lt;/span&gt;
&lt;span class="go"&gt;    100011    2   tcp    991  rquotad&lt;/span&gt;
&lt;span class="go"&gt;    100024    1   udp  32765  status&lt;/span&gt;
&lt;span class="go"&gt;    100024    1   tcp  32765  status&lt;/span&gt;
&lt;span class="go"&gt;    100005    1   udp   2086  mountd&lt;/span&gt;
&lt;span class="go"&gt;    100005    1   tcp   3131  mountd&lt;/span&gt;
&lt;span class="go"&gt;    100005    2   udp   2086  mountd&lt;/span&gt;
&lt;span class="go"&gt;    100005    2   tcp   3131  mountd&lt;/span&gt;
&lt;span class="go"&gt;    100005    3   udp   2086  mountd&lt;/span&gt;
&lt;span class="go"&gt;    100005    3   tcp   3131  mountd&lt;/span&gt;
&lt;span class="go"&gt;    100003    2   udp   2049  nfs&lt;/span&gt;
&lt;span class="go"&gt;    100003    3   udp   2049  nfs&lt;/span&gt;
&lt;span class="go"&gt;    100003    4   udp   2049  nfs&lt;/span&gt;
&lt;span class="go"&gt;    100003    2   tcp   2049  nfs&lt;/span&gt;
&lt;span class="go"&gt;    100003    3   tcp   2049  nfs&lt;/span&gt;
&lt;span class="go"&gt;    100003    4   tcp   2049  nfs&lt;/span&gt;
&lt;span class="go"&gt;    100021    1   udp   2158  nlockmgr&lt;/span&gt;
&lt;span class="go"&gt;    100021    3   udp   2158  nlockmgr&lt;/span&gt;
&lt;span class="go"&gt;    100021    4   udp   2158  nlockmgr&lt;/span&gt;
&lt;span class="go"&gt;    100021    1   tcp   4189  nlockmgr&lt;/span&gt;
&lt;span class="go"&gt;    100021    3   tcp   4189  nlockmgr&lt;/span&gt;
&lt;span class="go"&gt;    100021    4   tcp   4189  nlockmgr&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Ok, &lt;span class="caps"&gt;NFS&lt;/span&gt; is now there. It all looks good, and re-running &lt;code&gt;mount -a&lt;/code&gt; on
the client successfully mounts the &lt;span class="caps"&gt;NFS&lt;/span&gt;&amp;nbsp;share.&lt;/p&gt;
&lt;p&gt;We&amp;#8217;ll see what happens next time I have to reboot the ReadyNAS. In the
mean time, I&amp;#8217;m going to try to bring this to the attention of Netgear
support and hope they do something about&amp;nbsp;it.&lt;/p&gt;</content><category term="appliance"></category><category term="embedded"></category><category term="linux"></category><category term="nas"></category><category term="netgear"></category><category term="nfs"></category><category term="readynas"></category></entry><entry><title>Managing Ubiquiti Networks MAC ACLs from a script</title><link href="https://blog.jasonantman.com/2011/01/managing-ubiquiti-networks-mac-acls-from-a-script/" rel="alternate"></link><published>2011-01-06T16:06:00-05:00</published><updated>2011-01-06T16:06:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2011-01-06:/2011/01/managing-ubiquiti-networks-mac-acls-from-a-script/</id><summary type="html">&lt;p&gt;I have a small web-based tool for allowing members of an organization to
register their wireless &lt;span class="caps"&gt;MAC&lt;/span&gt; addresses, and then automatically adding
them to the &lt;span class="caps"&gt;MAC&lt;/span&gt; &lt;span class="caps"&gt;ACL&lt;/span&gt; on &lt;a href="http://www.ubnt.com"&gt;Ubiquiti&lt;/a&gt; AirOSv2 APs. It&amp;#8217;s
a pretty quick hack, along with a simple and ugly web-based tool, but it
gets the job …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I have a small web-based tool for allowing members of an organization to
register their wireless &lt;span class="caps"&gt;MAC&lt;/span&gt; addresses, and then automatically adding
them to the &lt;span class="caps"&gt;MAC&lt;/span&gt; &lt;span class="caps"&gt;ACL&lt;/span&gt; on &lt;a href="http://www.ubnt.com"&gt;Ubiquiti&lt;/a&gt; AirOSv2 APs. It&amp;#8217;s
a pretty quick hack, along with a simple and ugly web-based tool, but it
gets the job done for a non-profit with only 25 people. After &lt;a href="http://www.ubnt.com/forum/showthread.php?t=21133"&gt;posting
about it on the Ubiquiti
forum&lt;/a&gt; and getting a
request from someone for the code, I decided to put it out there for
anyone who wants it. The script is mostly based on SCPing configs to and
from the &lt;span class="caps"&gt;AP&lt;/span&gt; and SSHing in to run commands, and will need passwordless
public key auth to the&amp;nbsp;&lt;span class="caps"&gt;AP&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;The code itself is in subversion at
&lt;a href="https://github.com/jantman/misc-scripts/tree/master/ubiquiti-mac-acl"&gt;https://github.com/jantman/misc-scripts/tree/master/ubiquiti-mac-acl&lt;/a&gt;.
It&amp;#8217;s composed of four&amp;nbsp;files:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/jantman/misc-scripts/blob/master/ubiquiti-mac-acl/updateAPconfigs.php.inc"&gt;updateAPconfigs.php.inc&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;the main &lt;span class="caps"&gt;PHP&lt;/span&gt; file with three functions for working with the&amp;nbsp;APs&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jantman/misc-scripts/blob/master/ubiquiti-mac-acl/wirelessTools.php"&gt;wirelessTools.php&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;My &lt;span class="caps"&gt;PHP&lt;/span&gt; page for users to add MACs. It&amp;#8217;s pretty rough and is mostly
based on handling our &lt;span class="caps"&gt;LDAP&lt;/span&gt; authentication/group framework, but it
gives a fair example of how I store MACs in a MySQL table and then
rebuild a given &lt;span class="caps"&gt;AP&lt;/span&gt; config file with the current list of MACs. I
doubt it will be useful to anyone else as more than an&amp;nbsp;example.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jantman/misc-scripts/blob/master/ubiquiti-mac-acl/wireless.sql"&gt;wireless.sql&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;The schema for the &lt;span class="caps"&gt;SQL&lt;/span&gt; database I use to store&amp;nbsp;MACs.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jantman/misc-scripts/blob/master/ubiquiti-mac-acl/README.txt"&gt;&lt;span class="caps"&gt;README&lt;/span&gt;.txt&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;Readme file including some warnings on the lack of error checking
in the&amp;nbsp;functions.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Hopefully this will be of some use to someone. I should probably mention
two important things here. First, the &lt;span class="caps"&gt;AP&lt;/span&gt; only accepts up to 32 &lt;span class="caps"&gt;MAC&lt;/span&gt;
addresses, so if you feed the &lt;code&gt;makeNewConfigFile()&lt;/code&gt; function an array
with more than 32, it will just stop at the 32&lt;sup&gt;nd&lt;/sup&gt;. Also, be aware, this
SCPs a config file to the &lt;span class="caps"&gt;AP&lt;/span&gt;, runs &lt;code&gt;cfgmtd&lt;/code&gt; and the reboots the &lt;span class="caps"&gt;AP&lt;/span&gt;. If
you send it a bad config file, who knows what will happen. If you allow
your users to add &lt;span class="caps"&gt;MAC&lt;/span&gt; addresses, your APs will reboot every time someone
adds&amp;nbsp;one.&lt;/p&gt;
&lt;p&gt;All I ask is that if you use this, leave a comment to thank me, and if
you make any changes/additions/bugfixes, please send them back to&amp;nbsp;me.&lt;/p&gt;
&lt;p&gt;Also, I have some &lt;a href="/2010/03/nagios-check-scripts/"&gt;Nagios check scripts&lt;/a&gt;
that are useful for Ubiquiti&amp;nbsp;APs.&lt;/p&gt;</content><category term="airos"></category><category term="mac"></category><category term="PHP"></category><category term="security"></category><category term="ubiquiti"></category><category term="wap"></category><category term="wireless"></category></entry><entry><title>Getting Sun iLOM information within Linux</title><link href="https://blog.jasonantman.com/2010/09/getting-sun-ilom-information-within-linux/" rel="alternate"></link><published>2010-09-16T10:28:00-04:00</published><updated>2010-09-16T10:28:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-09-16:/2010/09/getting-sun-ilom-information-within-linux/</id><summary type="html">&lt;p&gt;At work, I&amp;#8217;m starting to implement &lt;a href="http://www.ocsinventory-ng.org/"&gt;&lt;span class="caps"&gt;OCS&lt;/span&gt; Inventory
&lt;span class="caps"&gt;NG&lt;/span&gt;&lt;/a&gt; on our Linux boxes to keep track of
hardware. Part of the plan is also that we have a
&lt;a href="http://www.mediawiki.org"&gt;MediaWiki&lt;/a&gt; installation for internal
documentation, and articles for every host (named as the hostname). I&amp;#8217;m
going to pull data from …&lt;/p&gt;</summary><content type="html">&lt;p&gt;At work, I&amp;#8217;m starting to implement &lt;a href="http://www.ocsinventory-ng.org/"&gt;&lt;span class="caps"&gt;OCS&lt;/span&gt; Inventory
&lt;span class="caps"&gt;NG&lt;/span&gt;&lt;/a&gt; on our Linux boxes to keep track of
hardware. Part of the plan is also that we have a
&lt;a href="http://www.mediawiki.org"&gt;MediaWiki&lt;/a&gt; installation for internal
documentation, and articles for every host (named as the hostname). I&amp;#8217;m
going to pull data from &lt;span class="caps"&gt;OCS&lt;/span&gt; into the articles based on hostname (via a
&lt;span class="caps"&gt;PHP&lt;/span&gt; include) so the documentation will automatically include up-to-date
information on&amp;nbsp;hardware.&lt;/p&gt;
&lt;p&gt;Since we&amp;#8217;re moving to MySQL-backed &lt;span class="caps"&gt;DHCP&lt;/span&gt;, I decided that it would also be
nice to include &lt;span class="caps"&gt;DHCP&lt;/span&gt; information and links to our web tool to edit the
host (like setting &lt;span class="caps"&gt;PXE&lt;/span&gt; boot information). This is pretty easy for the
ethX interfaces, as &lt;span class="caps"&gt;OCS&lt;/span&gt; collects &lt;span class="caps"&gt;MAC&lt;/span&gt; addresses and I can search our &lt;span class="caps"&gt;DHCP&lt;/span&gt;
database for them. However, it isn&amp;#8217;t as simple for the iLOM interface,
which (obviously) &lt;span class="caps"&gt;OCS&lt;/span&gt; knows nothing about - though it&amp;#8217;s arguably one of
the most-forgotten things on our&amp;nbsp;machines.&lt;/p&gt;
&lt;p&gt;I know that &lt;span class="caps"&gt;HP&lt;/span&gt; Proliant servers have the nice little &lt;span class="caps"&gt;HP&lt;/span&gt; &lt;span class="caps"&gt;PSP&lt;/span&gt; (Proliant
Support Pack) that includes tools such as &lt;code&gt;hpasmcli&lt;/code&gt;, but Sun doesn&amp;#8217;t
have anything like that. (We just have one &lt;span class="caps"&gt;HP&lt;/span&gt; box in production right
now, but I&amp;#8217;ll probably be adding support for it&amp;nbsp;soon).&lt;/p&gt;
&lt;p&gt;Enter &lt;a href="http://openipmi.sourceforge.net/"&gt;OpenIPMI&lt;/a&gt;. The iLOM has an &lt;span class="caps"&gt;IPMI&lt;/span&gt;
interface, and the standard OpenIPMI-tools package in CentOS
repositories has the ipmitool required to get the relevant information.
A call is pretty simple: &lt;code&gt;ipmitool -l open lan print 1&lt;/code&gt; yields something&amp;nbsp;like:  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Set in Progress         : Set Complete
Auth Type Support       : &lt;span class="caps"&gt;NONE&lt;/span&gt; &lt;span class="caps"&gt;MD2&lt;/span&gt; &lt;span class="caps"&gt;MD5&lt;/span&gt; &lt;span class="caps"&gt;PASSWORD&lt;/span&gt;
Auth Type Enable        : Callback : &lt;span class="caps"&gt;MD2&lt;/span&gt; &lt;span class="caps"&gt;MD5&lt;/span&gt; &lt;span class="caps"&gt;PASSWORD&lt;/span&gt;
                        : User     : &lt;span class="caps"&gt;MD2&lt;/span&gt; &lt;span class="caps"&gt;MD5&lt;/span&gt; &lt;span class="caps"&gt;PASSWORD&lt;/span&gt;
                        : Operator : &lt;span class="caps"&gt;MD2&lt;/span&gt; &lt;span class="caps"&gt;MD5&lt;/span&gt; &lt;span class="caps"&gt;PASSWORD&lt;/span&gt;
                        : Admin    : &lt;span class="caps"&gt;MD2&lt;/span&gt; &lt;span class="caps"&gt;MD5&lt;/span&gt; &lt;span class="caps"&gt;PASSWORD&lt;/span&gt;
                        : &lt;span class="caps"&gt;OEM&lt;/span&gt;      :
&lt;span class="caps"&gt;IP&lt;/span&gt; Address Source       : &lt;span class="caps"&gt;DHCP&lt;/span&gt; Address
&lt;span class="caps"&gt;IP&lt;/span&gt; Address              : 172.16.xxx.xxx
Subnet Mask             : 255.255.255.224
&lt;span class="caps"&gt;MAC&lt;/span&gt; Address             : 00:14:4f:xx:xx:xx
&lt;span class="caps"&gt;SNMP&lt;/span&gt; Community String   : xxxxxx
&lt;span class="caps"&gt;IP&lt;/span&gt; Header               : &lt;span class="caps"&gt;TTL&lt;/span&gt;=0x00 Flags=0x00 Precedence=0x00 &lt;span class="caps"&gt;TOS&lt;/span&gt;=0x00
&lt;span class="caps"&gt;BMC&lt;/span&gt; &lt;span class="caps"&gt;ARP&lt;/span&gt; Control         : &lt;span class="caps"&gt;ARP&lt;/span&gt; Responses Disabled, Gratuitous &lt;span class="caps"&gt;ARP&lt;/span&gt; Disabled
Gratituous &lt;span class="caps"&gt;ARP&lt;/span&gt; Intrvl   : 5.0 seconds
Default Gateway &lt;span class="caps"&gt;IP&lt;/span&gt;      : 172.16.xx.xx
Default Gateway &lt;span class="caps"&gt;MAC&lt;/span&gt;     : 00:00:00:00:00:00
Backup Gateway &lt;span class="caps"&gt;IP&lt;/span&gt;       : 0.0.0.0
Backup Gateway &lt;span class="caps"&gt;MAC&lt;/span&gt;      : 00:00:00:00:00:00
802.1q &lt;span class="caps"&gt;VLAN&lt;/span&gt; &lt;span class="caps"&gt;ID&lt;/span&gt;          : Disabled
802.1q &lt;span class="caps"&gt;VLAN&lt;/span&gt; Priority    : 0
&lt;span class="caps"&gt;RMCP&lt;/span&gt;+ Cipher Suites     : 2,3,0
Cipher Suite Priv Max   : &lt;span class="caps"&gt;XXXXXXXXXXXXXXX&lt;/span&gt;
                        :     X=Cipher Suite Unused
                        :     c=&lt;span class="caps"&gt;CALLBACK&lt;/span&gt;
                        :     u=&lt;span class="caps"&gt;USER&lt;/span&gt;
                        :     o=&lt;span class="caps"&gt;OPERATOR&lt;/span&gt;
                        :     a=&lt;span class="caps"&gt;ADMIN&lt;/span&gt;
                        :     O=&lt;span class="caps"&gt;OEM&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now it&amp;#8217;s just a matter of integrating this into ocsinventory-agent,
having it run the command if present (and Sun hardware), and parsing the
results. Once I have some actual code done, I&amp;#8217;ll pass it&amp;nbsp;along.&lt;/p&gt;
&lt;p&gt;Many thanks to &lt;code&gt;pseud0&lt;/code&gt; on the Sun forums for answering my
&lt;a href="http://forums.sun.com/thread.jspa?messageID=11049794#11049794"&gt;question&lt;/a&gt;
about&amp;nbsp;this.&lt;/p&gt;</content><category term="inventory"></category><category term="ipmi"></category><category term="ipmitool"></category><category term="ocs-inventory"></category><category term="sun"></category><category term="sunfire"></category><category term="sysadmin"></category></entry><entry><title>My Droid Rooting Dilemma</title><link href="https://blog.jasonantman.com/2010/08/my-droid-rooting-dilemma/" rel="alternate"></link><published>2010-08-16T09:14:00-04:00</published><updated>2010-08-16T09:14:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-08-16:/2010/08/my-droid-rooting-dilemma/</id><summary type="html">&lt;p&gt;My Droid is still running 2.0.1 rooted, with &lt;span class="caps"&gt;SPS&lt;/span&gt; Recovery, just as it
was the week the 2.0.1 update was pushed out &lt;span class="caps"&gt;OTA&lt;/span&gt; - I&amp;#8217;d already rooted
it, disabled &lt;span class="caps"&gt;OTA&lt;/span&gt; updates, and performed a simple procedure to update and
keep&amp;nbsp;root.&lt;/p&gt;
&lt;p&gt;My one complaint is that …&lt;/p&gt;</summary><content type="html">&lt;p&gt;My Droid is still running 2.0.1 rooted, with &lt;span class="caps"&gt;SPS&lt;/span&gt; Recovery, just as it
was the week the 2.0.1 update was pushed out &lt;span class="caps"&gt;OTA&lt;/span&gt; - I&amp;#8217;d already rooted
it, disabled &lt;span class="caps"&gt;OTA&lt;/span&gt; updates, and performed a simple procedure to update and
keep&amp;nbsp;root.&lt;/p&gt;
&lt;p&gt;My one complaint is that - as always happens with a new and cool
technology that gets widely adopted - it seems like the Android
community is being, well, dumbed down. When I first rooted my Droid, it
involved using the adb shell. Now, it&amp;#8217;s hard to find instructions that
aren&amp;#8217;t written exclusively for Windows - or even instructions that
actually explain what I&amp;#8217;m supposed to be doing or why it&amp;nbsp;works.&lt;/p&gt;
&lt;p&gt;I know that I haven&amp;#8217;t followed the Android world much lately, but it
seems to me that this should be really simple. The update.zip &lt;span class="caps"&gt;OTA&lt;/span&gt;
updates are just patches. I already have the device rooted on 2.0.1,
have disabled &lt;span class="caps"&gt;OTA&lt;/span&gt; updates, etc. So it seems to me that I should be able
to just unzip the update file, change whatever needs to be changed to
keep root, re-zip it, and upload it. If it wasn&amp;#8217;t already done (the
HowTo that I followed to update to rooted 2.0.1 doesn&amp;#8217;t seem to be
online anymore, and I can&amp;#8217;t find the &lt;span class="caps"&gt;URL&lt;/span&gt;), I should be able to just
change the update verification keys to accept&amp;nbsp;anything.&lt;/p&gt;
&lt;p&gt;Well, I guess it&amp;#8217;s time to continue my hours of research and see if I
can come up with anything. Everything I&amp;#8217;ve already found says that I
have to backup all of my apps and data and just flash a new &lt;span class="caps"&gt;ROM&lt;/span&gt;, but
that seems stupid. Why can&amp;#8217;t I just make use of this wonderful
patch-based updating and keep&amp;nbsp;root?&lt;/p&gt;</content><category term="android"></category><category term="droid"></category><category term="root"></category></entry><entry><title>New MacBook Pro; Dual boot with Linux</title><link href="https://blog.jasonantman.com/2010/06/new-macbook-pro-dual-boot-with-linux/" rel="alternate"></link><published>2010-06-22T15:17:00-04:00</published><updated>2010-06-22T15:17:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-06-22:/2010/06/new-macbook-pro-dual-boot-with-linux/</id><summary type="html">&lt;p&gt;So in the first bit of good news lately, after four years as a
part-timer, this Monday I start my full-time position at Rutgers as a
Linux SysAdmin. Not really anything different - same office, same work,
just another day a week and a pay bump (plus benefits and all that …&lt;/p&gt;</summary><content type="html">&lt;p&gt;So in the first bit of good news lately, after four years as a
part-timer, this Monday I start my full-time position at Rutgers as a
Linux SysAdmin. Not really anything different - same office, same work,
just another day a week and a pay bump (plus benefits and all that). My
only real change on the first day will be a 3-hour &lt;span class="caps"&gt;HR&lt;/span&gt; orientation and
moving my workstation to public address space. But, on the positive
side, my new laptop just came in - a shiny new 13&amp;#8221; MacBook Pro, 2.4GHz
Core2 Duo, &lt;span class="caps"&gt;4GB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt;, &lt;span class="caps"&gt;250GB&lt;/span&gt; &lt;span class="caps"&gt;HDD&lt;/span&gt;. Every time I see Mac packaging, I
remember why they cost so much - the box must be half the&amp;nbsp;price!&lt;/p&gt;
&lt;p&gt;&lt;img alt="MacBook Pro" src="/GFX/newMacBookPro.jpg"&gt;&lt;/p&gt;
&lt;p&gt;If all goes well, I&amp;#8217;ll have the machine setup to dual-boot &lt;span class="caps"&gt;OSX&lt;/span&gt; and Linux
(specifically &lt;a href="http://www.opensuse.org"&gt;OpenSuSE&lt;/a&gt; 11.2. I&amp;#8217;ll post notes
when I have it&amp;nbsp;done.&lt;/p&gt;
&lt;p&gt;The list of things I have to figure out beyond just getting both OSes&amp;nbsp;running:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Do I want to use Mac for more than a select few apps that require it
    (i.e. possibly as another day-to-day &lt;span class="caps"&gt;OS&lt;/span&gt;)? If so, I need to figure
    out file sharing between the OSes, what I want unified from my
    profiles/homedirs, Firefox profile sharing,&amp;nbsp;etc.&lt;/li&gt;
&lt;li&gt;How to do a simple shared&amp;nbsp;partition?&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;FUSE&lt;/span&gt;/&lt;span class="caps"&gt;SSHFS&lt;/span&gt; on the Mac&amp;nbsp;side.&lt;/li&gt;
&lt;li&gt;Is there a way to select the boot &lt;span class="caps"&gt;OS&lt;/span&gt; (rEFIt) from&amp;nbsp;Linux?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Stay&amp;nbsp;tuned&amp;#8230;&lt;/p&gt;</content><category term="apple"></category><category term="dual boot"></category><category term="laptop"></category><category term="linux"></category><category term="mac"></category><category term="macbook"></category><category term="opensuse"></category></entry><entry><title>root on a Cyclades ACS console server</title><link href="https://blog.jasonantman.com/2009/11/root-on-a-cyclades-acs-console-server/" rel="alternate"></link><published>2009-11-18T16:21:00-05:00</published><updated>2009-11-18T16:21:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-11-18:/2009/11/root-on-a-cyclades-acs-console-server/</id><summary type="html">&lt;p&gt;At work we have a Cyclades &lt;span class="caps"&gt;ACS16&lt;/span&gt; console server (running
Cyclades-&lt;span class="caps"&gt;ACS16&lt;/span&gt;-Linux V_3.2.0 (Jan/04/08)). While the docs claim all
sorts of &lt;span class="caps"&gt;LDAP&lt;/span&gt; features, there&amp;#8217;s nothing (either in the web &lt;span class="caps"&gt;GUI&lt;/span&gt; or the
&lt;span class="caps"&gt;CLI&lt;/span&gt; configuration tool) to setup &lt;span class="caps"&gt;LDAP&lt;/span&gt; with &lt;span class="caps"&gt;TLS&lt;/span&gt; or required group
membership …&lt;/p&gt;</summary><content type="html">&lt;p&gt;At work we have a Cyclades &lt;span class="caps"&gt;ACS16&lt;/span&gt; console server (running
Cyclades-&lt;span class="caps"&gt;ACS16&lt;/span&gt;-Linux V_3.2.0 (Jan/04/08)). While the docs claim all
sorts of &lt;span class="caps"&gt;LDAP&lt;/span&gt; features, there&amp;#8217;s nothing (either in the web &lt;span class="caps"&gt;GUI&lt;/span&gt; or the
&lt;span class="caps"&gt;CLI&lt;/span&gt; configuration tool) to setup &lt;span class="caps"&gt;LDAP&lt;/span&gt; with &lt;span class="caps"&gt;TLS&lt;/span&gt; or required group
membership. I tried modifying the /etc/ldap.conf and /etc/nsswitch.conf
files, running &lt;code&gt;saveconf&lt;/code&gt; and &lt;code&gt;runconf&lt;/code&gt; and even rebooting, but no luck.
It was apparent that I needed root on the box. Unfortunately, they don&amp;#8217;t
give you root, and their sudo command is locked down. But, I figured, if
sudo would let me &lt;/code&gt; and &lt;code&gt;chown&lt;/code&gt; and &lt;code&gt;cat&lt;/code&gt; and &lt;code&gt;mv&lt;/code&gt; (enough to
switch out the ldap.conf and nsswitch.conf files), root should be pretty&amp;nbsp;easy.&lt;/p&gt;
&lt;p&gt;The failing of Cyclades&amp;#8217; sudo lockdown is that it allows sudo execution
of a few random shell scripts, and also allows&amp;nbsp;`mv`.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;/etc/sudoers&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# sudoers file.
#
# This file &lt;span class="caps"&gt;MUST&lt;/span&gt; be edited with the &amp;#39;visudo&amp;#39; command as root.
#
# See the sudoers man page for the details on how to write a sudoers file.
#

# User alias specification

# Runas alias specification

# Host alias specification

# Cmnd alias specification
Cmnd_Alias     SH_CMDS = /bin/cp,  
                        /bin/chown,  
                        /bin/egrep,  
                        /bin/grep,  
                        /bin/cat,  
                        /bin/tar,  
                        /bin/kill,  
                        /bin/mkdir,  
                        /bin/mv,  
                        /bin/rm,  
                        /bin/sed,  
                        /bin/touch,  
                        /sbin/reboot,  
                        /usr/bin/killall,  
                        /usr/bin/w,  
                        /bin/w_cas,  
                        /bin/sess_mngt,  
                        /sbin/route,  
                        /bin/what

Cmnd_Alias     CONF_FILES = /bin/vi /etc/network/st_routes,  
                           /bin/vi /etc/portslave/pslave.conf,  
                           /bin/vi /etc/resolv.conf

Cmnd_Alias     &lt;span class="caps"&gt;APPLICATIONS&lt;/span&gt; = /bin/pmCommand,  
                             /bin/saveconf,  
                             /bin/restoreconf,  
                             /bin/runconf,  
                             /bin/daemon.sh,  
                             /bin/manageService.sh,  
                             /bin/dsviewKillAdmin,   
                             /bin/pmfwupgrade,   
                             /bin/adsap2_clear,   
                             /bin/upgrade_power.sh,   
                             /bin/signal_ras

# User privilege specification
# root can run any command on any host as any user.
root    &lt;span class="caps"&gt;ALL&lt;/span&gt; = (&lt;span class="caps"&gt;ALL&lt;/span&gt;) &lt;span class="caps"&gt;ALL&lt;/span&gt;

# admin user group command specification.
%admin      &lt;span class="caps"&gt;ALL&lt;/span&gt; = &lt;span class="caps"&gt;NOPASSWD&lt;/span&gt;: SH_CMDS, CONF_FILES, &lt;span class="caps"&gt;APPLICATIONS&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;So, /bin/upgrade_power.sh doesn&amp;#8217;t look like we&amp;#8217;re using it too much.
Here&amp;#8217;s our root procedure. Before doing this, create the
&lt;code&gt;/home/admin/foo.sh&lt;/code&gt; script.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo cp /bin/upgrade_power.sh /bin/upgrade_power.sh.&lt;span class="caps"&gt;SAVE&lt;/span&gt;
sudo chown root:root /home/admin/foo.sh
sudo mv /home/admin/foo.sh /bin/upgrade_power.sh
sudo /bin/upgrade_power.sh
sudo cat /etc/sudoers &lt;span class="c1"&gt;# just to verify that it worked&lt;/span&gt;
sudo mv /bin/upgrade_power.sh.&lt;span class="caps"&gt;SAVE&lt;/span&gt; /bin/upgrade_power.sh &lt;span class="c1"&gt;# set things back to the way they were&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;And the key to all of it is the simple &lt;code&gt;/home/admin/foo.sh&lt;/code&gt; script:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ch"&gt;#!/bin/bash&lt;/span&gt;

chmod u+w /etc/sudoers
&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;%admin      &lt;span class="caps"&gt;ALL&lt;/span&gt; = &lt;span class="caps"&gt;NOPASSWD&lt;/span&gt;: &lt;span class="caps"&gt;ALL&lt;/span&gt;&amp;quot;&lt;/span&gt; &amp;gt;&amp;gt; /etc/sudoers
chmod u-w /etc/sudoers
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;That&amp;#8217;s&amp;nbsp;it!&lt;/p&gt;</content><category term="acs"></category><category term="cyclades"></category><category term="gettingroot"></category></entry><entry><title>Droid Camera problem solved</title><link href="https://blog.jasonantman.com/2009/11/droid-camera-problem-solved/" rel="alternate"></link><published>2009-11-18T13:17:00-05:00</published><updated>2009-11-18T13:17:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-11-18:/2009/11/droid-camera-problem-solved/</id><summary type="html">&lt;p&gt;Gizmodo - &lt;a href="http://gizmodo.com/5407482/the-real-reason-the-droids-camera-fixed-itself"&gt;The Real Reason the Droid&amp;#8217;s Camera Fixed
Itself&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Well, it&amp;#8217;s definitely good news to know that the problem with the camera
on my beautiful new Droid is only a software issue. However it&amp;#8217;s not too
reassuring to know that Google (or could it have been Motorola …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Gizmodo - &lt;a href="http://gizmodo.com/5407482/the-real-reason-the-droids-camera-fixed-itself"&gt;The Real Reason the Droid&amp;#8217;s Camera Fixed
Itself&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Well, it&amp;#8217;s definitely good news to know that the problem with the camera
on my beautiful new Droid is only a software issue. However it&amp;#8217;s not too
reassuring to know that Google (or could it have been Motorola devs?)
let code out which obviously has a bit of an issue with a&amp;#8230; rather
predictable&amp;#8230;&amp;nbsp;value.&lt;/p&gt;</content><category term="android"></category><category term="droid"></category><category term="motorola"></category></entry><entry><title>Droid!</title><link href="https://blog.jasonantman.com/2009/11/droid/" rel="alternate"></link><published>2009-11-10T08:46:00-05:00</published><updated>2009-11-10T08:46:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-11-10:/2009/11/droid/</id><summary type="html">&lt;p&gt;I don&amp;#8217;t like writing posts with a low useful content quotient, but here&amp;nbsp;goes.&lt;/p&gt;
&lt;p&gt;After having only one new (i.e. not used) phone in eight years - and the
one new one was a Treo 700p, obsolete when I bought it - I decided to
bite the bullet. I bought …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I don&amp;#8217;t like writing posts with a low useful content quotient, but here&amp;nbsp;goes.&lt;/p&gt;
&lt;p&gt;After having only one new (i.e. not used) phone in eight years - and the
one new one was a Treo 700p, obsolete when I bought it - I decided to
bite the bullet. I bought a Droid! While I was almost dead-set on it
before I even held it in the store, my feelings of love at first sight
were even more clear when I started to play around with&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;So, here&amp;#8217;s a little overview of what I did first, what my
plans/questions are, and what&amp;#8217;s&amp;nbsp;next.&lt;/p&gt;
&lt;p&gt;First&amp;nbsp;minutes/day:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Unpack everything and start to figure things out. Test phone, &lt;span class="caps"&gt;SMS&lt;/span&gt;,&amp;nbsp;data.&lt;/li&gt;
&lt;li&gt;Setup &lt;span class="caps"&gt;IMAP&lt;/span&gt; email for my personal account (need to look into&amp;nbsp;&lt;span class="caps"&gt;IMAP&lt;/span&gt;-&lt;span class="caps"&gt;IDLE&lt;/span&gt;).&lt;/li&gt;
&lt;li&gt;Go through the entire Settings menu and try to set things up. Find
    out that the default apps can&amp;#8217;t be removed. The app screen, by
    default, is pretty&amp;nbsp;full&amp;#8230;&lt;/li&gt;
&lt;li&gt;Export my contacts from my Palm (no sync cable, had to use
    &lt;a href="http://php-pdb.sourceforge.net/"&gt;php-pdb&lt;/a&gt; to export a &lt;span class="caps"&gt;CSV&lt;/span&gt;, then
    manually edit &lt;span class="caps"&gt;ALL&lt;/span&gt; of them in&amp;nbsp;Gmail.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;So after having the phone for about 12 hours, here&amp;#8217;s what I&amp;#8217;ve installed
on&amp;nbsp;it:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Listen (Google Labs)&lt;/strong&gt; - Great podcatcher app. The speaker is a
    bit too quiet for easy listening on the drive to work, so I&amp;#8217;ll need
    to get one of those &lt;span class="caps"&gt;FM&lt;/span&gt; radio&amp;nbsp;interfaces.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;AnyCut&lt;/strong&gt; - allows creation of arbitrary shortcuts on the desktop,
    including direct&amp;nbsp;dial.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ConnectBot&lt;/strong&gt; - full-featured &lt;span class="caps"&gt;SSH&lt;/span&gt; client including key-based auth
    and storage of multiple user/host&amp;nbsp;settings.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Meebo &lt;span class="caps"&gt;IM&lt;/span&gt;&lt;/strong&gt; - &lt;span class="caps"&gt;IM&lt;/span&gt; client. It does &lt;span class="caps"&gt;AIM&lt;/span&gt;, which is nice, but doesn&amp;#8217;t do&amp;nbsp;&lt;span class="caps"&gt;IRC&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Android Battery Dog&lt;/strong&gt; - App that graphs battery voltage,
    temperature, capacity over time and also stores a simple &lt;span class="caps"&gt;CSV&lt;/span&gt; log
    (which I intend to parse out later for historical&amp;nbsp;data).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Bookmarking for Delicious&lt;/strong&gt; - Allows saving of bookmarks to
    &lt;a href="del.icio.us"&gt;del.icio.us&lt;/a&gt; (but not&amp;nbsp;retrieval).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;To Do List&lt;/strong&gt; - A very simple To Do list app, until I find
    something that works with Google Tasks. No&amp;nbsp;syncing.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;VoiceMemo (JavaCodeLand.com)&lt;/strong&gt; - A really simple voice memo&amp;nbsp;app.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;WiFinder (PGMsoft)&lt;/strong&gt; - Pretty much useless. Shows a scan of WiFi
    networks, but only shows encryption, channel number, and signal
    strength in&amp;nbsp;bars.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The few problems I&amp;#8217;ve noticed so&amp;nbsp;far:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The touch-sensitive buttons along the bottom row (specifically the
    search button) seem to be right where my thumb wants to rest when
    holding the phone in landscape&amp;nbsp;mode.&lt;/li&gt;
&lt;li&gt;As others have mentioned, the camera quality isn&amp;#8217;t great, but it&amp;#8217;s
    much better than my Treo&amp;nbsp;700p.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;My list for future&amp;nbsp;research/development:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class="caps"&gt;WAP&lt;/span&gt; pages for my web-based personal finance app, fuel log,&amp;nbsp;etc.&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;IMAP&lt;/span&gt;&amp;nbsp;&lt;span class="caps"&gt;IDLE&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;Tasks/to do app that syncs with Google&amp;nbsp;Tasks.&lt;/li&gt;
&lt;li&gt;A &lt;a href="http://oreilly.com/catalog/9780596007836"&gt;Cycle System&lt;/a&gt;&amp;nbsp;app.&lt;/li&gt;
&lt;li&gt;How to quickly mute all sounds on the&amp;nbsp;phone.&lt;/li&gt;
&lt;li&gt;How to do tones by person or group for not only ringtones (phone)
    but also &lt;span class="caps"&gt;SMS&lt;/span&gt;, Email, etc. Also, a way to set certain hours of the
    day when audible alerts will be disabled, other than a specified
    whitelist (email, &lt;span class="caps"&gt;SMS&lt;/span&gt;,&amp;nbsp;etc.)&lt;/li&gt;
&lt;li&gt;Verizon Visual&amp;nbsp;Voicemail&lt;/li&gt;
&lt;li&gt;Do some development with the geolocation &lt;span class="caps"&gt;JS&lt;/span&gt;&amp;nbsp;&lt;span class="caps"&gt;API&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;Console on the&amp;nbsp;phone?&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;SCP&lt;/span&gt;/&lt;span class="caps"&gt;SFTP&lt;/span&gt;&amp;nbsp;program.&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;TV&lt;/span&gt; listings (perhaps a &lt;span class="caps"&gt;WAP&lt;/span&gt; version of my script that pulls from
    &lt;a href="http://www.schedulesdirect.org/"&gt;SchedulesDirect&lt;/a&gt; (unfortunately,
    due to their redistribution policy, this is a private, authenticated&amp;nbsp;page).&lt;/li&gt;
&lt;li&gt;Nagios&amp;nbsp;checker/notifier&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;RSS&lt;/span&gt;&amp;nbsp;reader&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;WAP&lt;/span&gt; page for &lt;a href="http://www.php-ems-tools.com"&gt;&lt;span class="caps"&gt;PHP&lt;/span&gt; &lt;span class="caps"&gt;EMS&lt;/span&gt; Tools&lt;/a&gt;&amp;nbsp;callin.&lt;/li&gt;
&lt;li&gt;How to handle &lt;span class="caps"&gt;IMAP&lt;/span&gt;&amp;nbsp;folders?&lt;/li&gt;
&lt;li&gt;Script to backup Gmail contacts, other data stored with&amp;nbsp;Google.&lt;/li&gt;
&lt;li&gt;Thunderbird Gmail contact&amp;nbsp;sync.&lt;/li&gt;
&lt;li&gt;A wifi scanner/survey software that shows all of the important stuff
    like signal strength in dbm, noise floor,&amp;nbsp;etc.&lt;/li&gt;
&lt;li&gt;Something like kismet that integrates the &lt;span class="caps"&gt;GPS&lt;/span&gt; and wifi&amp;nbsp;scanning.&lt;/li&gt;
&lt;/ul&gt;</content><category term="android"></category><category term="droid"></category><category term="google"></category></entry><entry><title>Netgear ReadyNAS 1100 and long UID numbers</title><link href="https://blog.jasonantman.com/2009/06/netgear-readynas-1100-and-long-uid-numbers/" rel="alternate"></link><published>2009-06-23T16:45:00-04:00</published><updated>2009-06-23T16:45:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-06-23:/2009/06/netgear-readynas-1100-and-long-uid-numbers/</id><summary type="html">&lt;p&gt;I spent part of the day installing a &lt;a href="http://www.netgear.com/Products/Storage/ReadyNAS1100.aspx"&gt;Netgear ReadyNAS
1100&lt;/a&gt; for
backup storage. It&amp;#8217;s a cute little 1U storage appliance with 4 &lt;span class="caps"&gt;SATA&lt;/span&gt; disk
bays, two Gig copper ports and about every sort of hokey service you
could possibly want in something that&amp;#8217;s billed as a small …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I spent part of the day installing a &lt;a href="http://www.netgear.com/Products/Storage/ReadyNAS1100.aspx"&gt;Netgear ReadyNAS
1100&lt;/a&gt; for
backup storage. It&amp;#8217;s a cute little 1U storage appliance with 4 &lt;span class="caps"&gt;SATA&lt;/span&gt; disk
bays, two Gig copper ports and about every sort of hokey service you
could possibly want in something that&amp;#8217;s billed as a small business
storage server but running a sort-of-scaled-up home appliance &lt;span class="caps"&gt;OS&lt;/span&gt;. That
being said, it comes at a wonderful price (we bought one empty and added
4x 1.&lt;span class="caps"&gt;5TB&lt;/span&gt; disks) and runs&amp;nbsp;Linux.&lt;/p&gt;
&lt;p&gt;I had a few minor issues with the installation (more along the lines of
trying to do things that weren&amp;#8217;t clearly documented rather than problems
with the unit). NetGear tech support (&amp;#8220;ProSupport Labs&amp;#8221;) was quite good
once I got past the first level or two, and Mark H. who helped me with
most of my issues was one of the best tech support people I&amp;#8217;ve ever
spoken to. In fact, he probably ties with &lt;a href="/2007/03/managing-g1-proliant-servers-with-modern-linux/"&gt;Paulo from
&lt;span class="caps"&gt;HP&lt;/span&gt;&lt;/a&gt;
for the best tech support person I&amp;#8217;ve ever dealt&amp;nbsp;with.&lt;/p&gt;
&lt;p&gt;Anyway, the only issue with the NetGear installation that we weren&amp;#8217;t
able to resolve was the fact that the web configuration tool
(&amp;#8220;Frontview&amp;#8221;) will only accept UIDs of a maximum of five characters.
Here at Rutgers, we have a unified &lt;span class="caps"&gt;UID&lt;/span&gt; space, with numbers well in
excess of 100,000. As a result, my plan of having &lt;span class="caps"&gt;NFS&lt;/span&gt; play well wasn&amp;#8217;t
really going to work. Mark wasn&amp;#8217;t able to come up with a solution
(obviously - it&amp;#8217;s something that, at best, can get fixed in the next
version of the firmware) but he took copious notes, had me confirm them,
and told me he&amp;#8217;d bring it up to the ReadyNAS engineering team when they
meet Thursday, and will try and e-mail me back to follow up. He also
spent quite some time on the phone with me, both of us researching what
kernel the ReadyNAS 4.1.5 firmware runs (2.6.17.8, mostly vanilla Debian
as per mark) and when long &lt;span class="caps"&gt;UID&lt;/span&gt; support was available (at least 2.4).
Overall, I was very impressed that Mark knew quite a bit about Linux -
even more than your average Linux desktop user - and quite a bit about
the internals of the&amp;nbsp;ReadyNAS.&lt;/p&gt;
&lt;p&gt;Just on a hunch, after my tech support call, I used the Frontview
&amp;#8220;Config Backup&amp;#8221; tool&amp;#8217;s &amp;#8220;Users and Groups&amp;#8221; option to backup the user and
group information. Sure enough, it was just a force-download of a Zip
archive&amp;#8230; of the pertinent files. I was able to hand-hack /etc/passwd
and re-upload it, and it seemed to work&amp;nbsp;fine.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;The following is &lt;strong&gt;&lt;span class="caps"&gt;NOT&lt;/span&gt;&lt;/strong&gt; endorsed by Netgear in any way, shape or form.
It&amp;#8217;s a hack that may or may not work. Do this at your own risk - I have
no idea if some future (or past) firmware change might make bad things
happen, or whether there are some features which don&amp;#8217;t jive with this.
All I&amp;#8217;ve tested is &lt;span class="caps"&gt;HTTP&lt;/span&gt; logins, the fact that the web interface shows
the &gt;2\^16 &lt;span class="caps"&gt;UID&lt;/span&gt; correctly, and&amp;nbsp;&lt;span class="caps"&gt;NFS&lt;/span&gt;.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Procedure:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Create desired user in Frontview tool, leaving &lt;span class="caps"&gt;UID&lt;/span&gt; field blank. (In
    my case, the user is assigned the next sequential &lt;span class="caps"&gt;UID&lt;/span&gt;,&amp;nbsp;1002).&lt;/li&gt;
&lt;li&gt;Frontview &amp;#8220;System&amp;#8221; -&gt; &amp;#8220;Config Backup&amp;#8221;, &amp;#8220;Backup&amp;#8221; tab, select only
    &amp;#8220;Users and&amp;nbsp;Groups&amp;#8221;.&lt;/li&gt;
&lt;li&gt;Download config files and&amp;nbsp;unzip.&lt;/li&gt;
&lt;li&gt;Open &lt;code&gt;/etc/passwd&lt;/code&gt; from the config archive in a text editor, change the
    automatically assigned &lt;span class="caps"&gt;UID&lt;/span&gt; (1002) to the desired &lt;span class="caps"&gt;UID&lt;/span&gt;&amp;nbsp;(101739).&lt;/li&gt;
&lt;li&gt;Re-zip the directory tree and re-upload to&amp;nbsp;ReadyNAS.&lt;/li&gt;
&lt;li&gt;Enjoy.&lt;/li&gt;
&lt;/ol&gt;</content><category term="debian"></category><category term="helpdesk"></category><category term="netgear"></category><category term="readynas"></category></entry><entry><title>Cisco CatOS GBIC Information</title><link href="https://blog.jasonantman.com/2009/06/cisco-catos-gbic-information/" rel="alternate"></link><published>2009-06-20T11:35:00-04:00</published><updated>2009-06-20T11:35:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-06-20:/2009/06/cisco-catos-gbic-information/</id><summary type="html">&lt;p&gt;I have a Cisco &lt;span class="caps"&gt;WS&lt;/span&gt;-G4912 (12-port Gigabit aggregation switch) that I&amp;#8217;m
using to bring my network up to Gig-E. It&amp;#8217;s about all that I could
afford, and works fine. Most of my older servers are running &lt;span class="caps"&gt;1000BASE&lt;/span&gt;-&lt;span class="caps"&gt;SX&lt;/span&gt;
multimode fiber, but I decided to use copper GBICs …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I have a Cisco &lt;span class="caps"&gt;WS&lt;/span&gt;-G4912 (12-port Gigabit aggregation switch) that I&amp;#8217;m
using to bring my network up to Gig-E. It&amp;#8217;s about all that I could
afford, and works fine. Most of my older servers are running &lt;span class="caps"&gt;1000BASE&lt;/span&gt;-&lt;span class="caps"&gt;SX&lt;/span&gt;
multimode fiber, but I decided to use copper GBICs for the new boxes
that have onboard Gig-E ports. Unfortunately, $100+ for Cisco GBICs was
way too much for me, so I found some third-party GBICs on Ebay from
&lt;a href="http://members.ebay.com/ws/eBayISAPI.dll?ViewUserPage&amp;amp;userid=tnetusa"&gt;TNet
&lt;span class="caps"&gt;USA&lt;/span&gt;&lt;/a&gt;
right in Fairfield,&amp;nbsp;&lt;span class="caps"&gt;NJ&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;I wanted to make sure the GBICs work right, so I happened to find out
about the undocumented CatOS command `show sprom [mod/port]` which
shows the serial &lt;span class="caps"&gt;PROM&lt;/span&gt;&amp;nbsp;information.&lt;/p&gt;</content><category term="catos"></category><category term="cisco"></category><category term="gbic"></category><category term="networking"></category></entry><entry><title>Brother HL2170W DHCP Problems</title><link href="https://blog.jasonantman.com/2009/04/brother-hl2170w-dhcp-problems/" rel="alternate"></link><published>2009-04-11T11:53:00-04:00</published><updated>2009-04-11T11:53:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-04-11:/2009/04/brother-hl2170w-dhcp-problems/</id><summary type="html">&lt;p&gt;Two weeks ago, I &lt;a href="/2009/03/brother-hl-2170w-great-features-from-a-personal-laser-printer/"&gt;wrote about the Brother
&lt;span class="caps"&gt;HL&lt;/span&gt;-2170W&lt;/a&gt;
that I got for my mother. It seemed absolutely wonderful. Until the
night of March 31st, just before Conficker was supposed to strike. Being
that mom&amp;#8217;s computer is the only one at home running Windows, I finished
up a …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Two weeks ago, I &lt;a href="/2009/03/brother-hl-2170w-great-features-from-a-personal-laser-printer/"&gt;wrote about the Brother
&lt;span class="caps"&gt;HL&lt;/span&gt;-2170W&lt;/a&gt;
that I got for my mother. It seemed absolutely wonderful. Until the
night of March 31st, just before Conficker was supposed to strike. Being
that mom&amp;#8217;s computer is the only one at home running Windows, I finished
up a long-standing project - and moved her desktop, printer, and AppleTV
over to a separate &lt;span class="caps"&gt;VLAN&lt;/span&gt; that&amp;#8217;s not routable to anything else internal
(i.e. anything important, or anything of mine). I&amp;#8217;d already had the
&amp;#8220;client&amp;#8221; &lt;span class="caps"&gt;VLAN&lt;/span&gt; setup for a while, so it was just a matter of tweaking the
firewall rules and moving the static &lt;span class="caps"&gt;DHCP&lt;/span&gt; assignments from one subnet to
the&amp;nbsp;other.&lt;/p&gt;
&lt;p&gt;Well, that&amp;#8217;s where the problems started. While her Windows &lt;span class="caps"&gt;XP&lt;/span&gt; desktop
and AppleTV coped nicely, and got their new addresses in &lt;span class="caps"&gt;DHCP&lt;/span&gt; as they
should, the &lt;span class="caps"&gt;HL2170W&lt;/span&gt; did not, As a matter of fact, after two hours, I
hadn&amp;#8217;t seen a single &lt;span class="caps"&gt;DHCP&lt;/span&gt; request, even though I had the lease time set
to 10 minutes for both subnets. So, I tried administratively downing the
switch port a few times, to no avail. After a day of waiting, I came
back to the problem - and &lt;em&gt;still&lt;/em&gt; found nothing in the &lt;span class="caps"&gt;DHCP&lt;/span&gt; logs from
that printer. I emailed mom and asked her to power-cycle it a few
times&amp;#8230; still nothing! It wasn&amp;#8217;t even requesting &lt;span class="caps"&gt;DHCP&lt;/span&gt; when rolled, let
alone at a regular&amp;nbsp;interval!&lt;/p&gt;
&lt;p&gt;Fast forward a week or so, to today. I&amp;#8217;m ready to call Brother Support,
as my mother hasn&amp;#8217;t had use of her new printer in a week and a half. I&amp;#8217;m
infuriated - I&amp;#8217;ve rolled the printer dozens of times, and not a single
event in the &lt;span class="caps"&gt;DHCP&lt;/span&gt; log. I know it&amp;#8217;s sending traffic from the port - I&amp;#8217;ve
reset the counters and they&amp;#8217;re changing. I tried moving it back to the
original &lt;span class="caps"&gt;VLAN&lt;/span&gt; and confirmed that it still has its&amp;#8217; original &lt;span class="caps"&gt;IP&lt;/span&gt;. I could
get into the web interface via &lt;a href="http://lynx.isc.org/"&gt;lynx&lt;/a&gt; and *tell
it* to refresh &lt;span class="caps"&gt;DHCP&lt;/span&gt;, but this seemed quite pointless - there&amp;#8217;s no way
it&amp;#8217;s physically possible to send the web request and then switch the
port to the new &lt;span class="caps"&gt;VLAN&lt;/span&gt; before it gets&amp;nbsp;&lt;span class="caps"&gt;DHCP&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;So, I&amp;#8217;m ready to call Brother Support. I then notice that the printer is
turned off at the moment. From the switch log, it looks as though it&amp;#8217;s
been powered off for six days. So, I turn it on. And then go about
starting my prep for the Brother call, first opening up a tail on the
&lt;span class="caps"&gt;DHCP&lt;/span&gt; server log, grepped for the proper interface. And, wouldn&amp;#8217;t you
know, as I get up to let the dog out, the printer starts spitting out&amp;nbsp;pages!&lt;/p&gt;
&lt;p&gt;As far as I can tell, there&amp;#8217;s something &lt;em&gt;seriously wrong&lt;/em&gt; with the
Brother &lt;span class="caps"&gt;HL&lt;/span&gt;-2170W &lt;span class="caps"&gt;DHCP&lt;/span&gt; implementation. Specifically, it didn&amp;#8217;t get an
address on the new &lt;span class="caps"&gt;VLAN&lt;/span&gt; until it was powered off for a *long* time.
Even reboots wouldn&amp;#8217;t trigger a request, until the box had been powered
off for &lt;em&gt;days&lt;/em&gt;. More importantly, though, it seems that it only gets
&lt;span class="caps"&gt;DHCP&lt;/span&gt; &lt;strong&gt;&lt;em&gt;once&lt;/em&gt;&lt;/strong&gt; when it boots, and totally disregards the lease&amp;nbsp;time!&lt;/p&gt;</content><category term="dhcp"></category><category term="hl2170w"></category><category term="printer"></category><category term="vlan"></category></entry><entry><title>Brother HL-2170W - great features from a personal laser printer</title><link href="https://blog.jasonantman.com/2009/03/brother-hl-2170w-great-features-from-a-personal-laser-printer/" rel="alternate"></link><published>2009-03-18T21:29:00-04:00</published><updated>2009-03-18T21:29:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-03-18:/2009/03/brother-hl-2170w-great-features-from-a-personal-laser-printer/</id><summary type="html">&lt;p&gt;&lt;strong&gt;I&amp;#8217;ve posted an &lt;a href="/2009/04/brother-hl2170w-dhcp-problems/"&gt;update about serious &lt;span class="caps"&gt;DHCP&lt;/span&gt; problems with this
unit&lt;/a&gt;.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Last week my mother&amp;#8217;s printer died, and she asked me to find a new one
for her. After a quick look on &lt;a href="http://www.newegg.com"&gt;NewEgg&lt;/a&gt; (sort by
ratings is a wonderful thing) I found the &lt;a href="http://www.brother-usa.com/Printer/ModelDetail.aspx?ProductID=hl2170W"&gt;Brother
&lt;span class="caps"&gt;HL&lt;/span&gt;-2170W&lt;/a&gt;.
Aside …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;I&amp;#8217;ve posted an &lt;a href="/2009/04/brother-hl2170w-dhcp-problems/"&gt;update about serious &lt;span class="caps"&gt;DHCP&lt;/span&gt; problems with this
unit&lt;/a&gt;.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Last week my mother&amp;#8217;s printer died, and she asked me to find a new one
for her. After a quick look on &lt;a href="http://www.newegg.com"&gt;NewEgg&lt;/a&gt; (sort by
ratings is a wonderful thing) I found the &lt;a href="http://www.brother-usa.com/Printer/ModelDetail.aspx?ProductID=hl2170W"&gt;Brother
&lt;span class="caps"&gt;HL&lt;/span&gt;-2170W&lt;/a&gt;.
Aside from having a wireless interface (only a security hole, as far as
I&amp;#8217;m concerned) it seemed pretty cool - tiny B&amp;amp;W laser, Ethernet, &lt;span class="caps"&gt;PCL6&lt;/span&gt;,
23ppm, 32 &lt;span class="caps"&gt;MB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt;, 250 sheet capacity and 2400x600 dpi. So, for a mere
$99 &lt;span class="caps"&gt;USD&lt;/span&gt;, I bought it for&amp;nbsp;her.&lt;/p&gt;
&lt;p&gt;When the printer showed up, I was a bit let down to find no sticker
bearing the &lt;span class="caps"&gt;MAC&lt;/span&gt; address on either the box or the printer itself - and
given the one-button hard control, there wasn&amp;#8217;t a way to manually print
a config sheet. So, after plugging it into the network and using the
&lt;span class="caps"&gt;DHCP&lt;/span&gt; logs to give it a static assignment, a quick reboot of the printer
had everything working. As usual, I skipped to the last few pages in the
installation manual, and found the ½ page section on the web interface.
Configuration was pretty simple - change the admin password, disable a
bunch of unneeded services, etc. And then, when playing around with the
admin interface, I found a bit of a holy grail - there in the
enable/disable services screen were two options that I found unusual for
a &amp;#8220;personal&amp;#8221; printer; &lt;strong&gt;Telnet&lt;/strong&gt; and &lt;strong&gt;&lt;span class="caps"&gt;SNMP&lt;/span&gt;&lt;/strong&gt;. I immediately tried both.
An snmpwalk revealed the usual (&lt;span class="caps"&gt;RFC1213&lt;/span&gt;, &lt;span class="caps"&gt;HOST&lt;/span&gt;-&lt;span class="caps"&gt;RESOURCES&lt;/span&gt;, and
Printer-&lt;span class="caps"&gt;MIB&lt;/span&gt;) including information on status and consumables. Though the
Telnet login process wasn&amp;#8217;t terribly intuitive, &amp;#8220;help&amp;#8221; revealed familiar
set/show/clear functionality as well as an option to zero out counters.
While I was a bit let down to see that there wasn&amp;#8217;t a way to view
consumable status or printer status, it did allow access to every
conceivable configuration parameter, including a few that weren&amp;#8217;t
mentioned on the web&amp;nbsp;interface.&lt;/p&gt;
&lt;p&gt;All in all, while I can&amp;#8217;t comment about reliability or quality yet, this
cute little printer seems to have quite a feature set, especially when
it comes to manageability and remote troubleshooting (a good thing for
any printer that&amp;#8217;s used by a family member who you support). And best of
all, it supports &lt;span class="caps"&gt;IPP&lt;/span&gt; and&amp;nbsp;&lt;span class="caps"&gt;LPR&lt;/span&gt;.&lt;/p&gt;</content><category term="printer"></category><category term="review"></category></entry><entry><title>LIRC and Hauppauge PVR-150 on OpenSuSE 11.0</title><link href="https://blog.jasonantman.com/2008/09/lirc-and-hauppauge-pvr-150-on-opensuse-110/" rel="alternate"></link><published>2008-09-01T10:37:00-04:00</published><updated>2008-09-01T10:37:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-09-01:/2008/09/lirc-and-hauppauge-pvr-150-on-opensuse-110/</id><summary type="html">&lt;p&gt;Well, despite what&amp;#8217;s been said elsewhere, it &lt;em&gt;&lt;span class="caps"&gt;IS&lt;/span&gt;&lt;/em&gt; possible! It&amp;#8217;s a bit
error-ridden at first, but here is the procedure that I used to compile
and install the &lt;span class="caps"&gt;PVR&lt;/span&gt;-150 patched &lt;span class="caps"&gt;LIRC&lt;/span&gt;&amp;nbsp;0.8.3-&lt;span class="caps"&gt;CVS&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;First, Download the tarball mentioned in the &lt;a href="http://www.blushingpenguin.com/mark/blog/?p=24"&gt;Version 3 blog
post&lt;/a&gt; at …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Well, despite what&amp;#8217;s been said elsewhere, it &lt;em&gt;&lt;span class="caps"&gt;IS&lt;/span&gt;&lt;/em&gt; possible! It&amp;#8217;s a bit
error-ridden at first, but here is the procedure that I used to compile
and install the &lt;span class="caps"&gt;PVR&lt;/span&gt;-150 patched &lt;span class="caps"&gt;LIRC&lt;/span&gt;&amp;nbsp;0.8.3-&lt;span class="caps"&gt;CVS&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;First, Download the tarball mentioned in the &lt;a href="http://www.blushingpenguin.com/mark/blog/?p=24"&gt;Version 3 blog
post&lt;/a&gt; at &lt;a href="http://www.blushingpenguin.com/mark/blog/"&gt;Marks
Braindump&lt;/a&gt;. You can pretty
much follow his instructions on the installation in the blog post, with
some changes that are specific to getting it to compile on OpenSuSE&amp;nbsp;11.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;First, remove all traces of the OpenSuSE &lt;span class="caps"&gt;LIRC&lt;/span&gt; from you system.
    Uninstall the &lt;span class="caps"&gt;RPMS&lt;/span&gt; and everything else that goes with them. Then
    unload all of the kernel modules, especially lirc_i2c (if you have
    it&amp;nbsp;loaded).&lt;/li&gt;
&lt;li&gt;In your kernel source directory, run
    &lt;code&gt;make oldconfig &amp;amp;&amp;amp; make prepare.&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;In your kernel source directory, run &lt;code&gt;make prepare scripts&lt;/code&gt; which,
    among other things, compiles the required &lt;code&gt;genksyms&lt;/code&gt; scurript.&lt;/li&gt;
&lt;li&gt;I was getting a compile error like &amp;#8220;&lt;span class="caps"&gt;WARNING&lt;/span&gt;: Symbol version dump
    /usr/src/`uname -r`/Module.symvers is missing&amp;#8221;. Find out which
    kernel you&amp;#8217;re running (&lt;code&gt;uname -r&lt;/code&gt;). In yout kernel source directory,
    copy your Module.symvers file from /usr/src/linux-obj. I was running
    i386 architecture with the &amp;#8220;default&amp;#8221; kernel, so mine was located at
    &lt;code&gt;/usr/src/linux-obj/i386/debug/Module.symvers&lt;/code&gt;. Copy that into
    &lt;code&gt;/usr/src/linux&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;In the lirc (patched) directory, run &lt;code&gt;setup.sh&lt;/code&gt; as instructed. &lt;span class="caps"&gt;DO&lt;/span&gt;
    &lt;span class="caps"&gt;NOT&lt;/span&gt; tell it to run configure - just save settings and&amp;nbsp;exit.&lt;/li&gt;
&lt;li&gt;Edit the generated &lt;code&gt;configure.sh&lt;/code&gt; file, adding a
    &lt;code&gt;--with-kerneldir=/usr/src/KERNELDIR&lt;/code&gt;, replacing &lt;span class="caps"&gt;KERNELDIR&lt;/span&gt; with the
    actual path to your kernel soruce (i.e. /usr/src/`uname&amp;nbsp;-r`).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;make&lt;/code&gt;. If no errors, &lt;code&gt;make install&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;I decided to reboot at this point, and when I did, everything worked&amp;nbsp;perfectly.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Also, I found that I needed to explicitly specify &lt;code&gt;--device=/dev/lirc0&lt;/code&gt;
when starting &lt;span class="caps"&gt;LIRC&lt;/span&gt;, as well as not specifying a driver. I just took the
&lt;code&gt;/etc/init.d/lirc&lt;/code&gt; from the official OpenSuSE 11.0 package, commented
out line 108 in &lt;code&gt;makeargs()&lt;/code&gt; that adds the &lt;code&gt;-H $LIRC_DRIVER&lt;/code&gt; to the
args, and added &lt;code&gt;LIRC_DEVICE="/dev/lirc0"&lt;/code&gt; to the top after the &lt;span class="caps"&gt;INIT&lt;/span&gt;&amp;nbsp;info.&lt;/p&gt;
&lt;p&gt;Unfortunately, figuring out this process took me a long time. I&amp;#8217;ve
reconstructed these instructions from various post-it notes, the
whiteboard next to my desk, and some bash history files and terminal
dumps. If this doesn&amp;#8217;t seem to work for you, please drop an email to
jason &lt;span class="caps"&gt;AT&lt;/span&gt; jason antman &lt;span class="caps"&gt;DOT&lt;/span&gt; com, with as much information as you have, and
I&amp;#8217;ll figure it out and update the&amp;nbsp;instructions.&lt;/p&gt;
&lt;p&gt;Now, finally, an up-to-date system &lt;span class="caps"&gt;AND&lt;/span&gt; &lt;a href="http://www.mythtv.org"&gt;MythTV&lt;/a&gt;.&lt;/p&gt;</content><category term="hauppauge"></category><category term="linux"></category><category term="lirc"></category><category term="mythtv"></category><category term="opensuse"></category><category term="pvr-150"></category><category term="suse"></category></entry><entry><title>SunFire Information</title><link href="https://blog.jasonantman.com/2008/08/sunfire-information/" rel="alternate"></link><published>2008-08-08T14:45:00-04:00</published><updated>2008-08-08T14:45:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-08-08:/2008/08/sunfire-information/</id><summary type="html">&lt;p&gt;Ok, an update is a long time coming, and I&amp;#8217;ll post one this weekend with
status of a lot of my projects, as well as some new&amp;nbsp;information.&lt;/p&gt;
&lt;p&gt;For now, I&amp;#8217;m installing two beautiful SunFire x4150&amp;#8217;s at work, and
here&amp;#8217;s a little bit of information on …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Ok, an update is a long time coming, and I&amp;#8217;ll post one this weekend with
status of a lot of my projects, as well as some new&amp;nbsp;information.&lt;/p&gt;
&lt;p&gt;For now, I&amp;#8217;m installing two beautiful SunFire x4150&amp;#8217;s at work, and
here&amp;#8217;s a little bit of information on how to use these great&amp;nbsp;boxes:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span class="caps"&gt;RAID&lt;/span&gt; Configuration&lt;/strong&gt; is
accomplished by a normal startup prompt Ctrl+ (C? I don&amp;#8217;t remember) key
sequence, as they&amp;#8217;re x64 machines and it&amp;#8217;s a standard &lt;span class="caps"&gt;RAID&lt;/span&gt;&amp;nbsp;controller.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Serial Management&lt;/strong&gt; is great -
just connect (in &lt;a href="http://www.columbia.edu/kermit/ck80.html"&gt;Kermit&lt;/a&gt; I
just had to set speed to 9600 and carrier-watch off) and you get a
prompt that looks like &lt;code&gt;SUNSP001E682F6311 login:&lt;/code&gt;. The numbers are the
&lt;span class="caps"&gt;MAC&lt;/span&gt; address of the management interface (&lt;span class="caps"&gt;SP&lt;/span&gt;). The default login is
root:changeme, as per Sun doc 819-1155-16. When you login, you&amp;#8217;ll see
the current firmware version (4.0.06 as my box&amp;nbsp;shipped).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Getting a System Console&lt;/strong&gt; - on
the x4100, at the iLOM prompt, &lt;code&gt;cd /SP/console&lt;/code&gt;, &lt;code&gt;start /SYS&lt;/code&gt; to boot
the system, and then &lt;code&gt;start&lt;/code&gt; to get the console. On the x4150, we must
start &lt;code&gt;/SP/AgentInfo/Console&lt;/code&gt;, and use &lt;code&gt;Esc+Shift+9&lt;/code&gt; to get away from
the&amp;nbsp;console.&lt;/p&gt;</content><category term="sun"></category><category term="sunfire"></category></entry><entry><title>SunSPOT; CarPC; MediaWiki Logging</title><link href="https://blog.jasonantman.com/2008/05/sunspot-carpc-mediawiki-logging/" rel="alternate"></link><published>2008-05-07T10:03:00-04:00</published><updated>2008-05-07T10:03:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-05-07:/2008/05/sunspot-carpc-mediawiki-logging/</id><summary type="html">&lt;p&gt;Well, finals season is upon me. That&amp;#8217;s probably why I haven&amp;#8217;t been
posting much lately (I haven&amp;#8217;t even been checking &lt;a href="http://reader.google.com/"&gt;Google
Reader&lt;/a&gt; - I&amp;#8217;ll have to delete a few thousand
entries when I get back into the swing of things). I&amp;#8217;ve been pretty
busy, between studying …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Well, finals season is upon me. That&amp;#8217;s probably why I haven&amp;#8217;t been
posting much lately (I haven&amp;#8217;t even been checking &lt;a href="http://reader.google.com/"&gt;Google
Reader&lt;/a&gt; - I&amp;#8217;ll have to delete a few thousand
entries when I get back into the swing of things). I&amp;#8217;ve been pretty
busy, between studying, projects, and work. I&amp;#8217;ll be working 4 days a
week through June 20th, as well as taking night classes 4 nigths a week
(unfortunately not the same 4 days) through July 3, in an effort to
graduate Rutgers on time (after transferring in and also switching
majors). Work after June 20th is up in the air - who knows how hard the
budget cuts will&amp;nbsp;hit.&lt;/p&gt;
&lt;p&gt;My internship as the Sun Microsystems Campus Ambassador to Rutgers is
over on May 12th. I got a chance to do the Rutgers &lt;span class="caps"&gt;IT&lt;/span&gt; Vendor Fair with
Sun, and met a few cool people - especially including Matt McGrath of
&lt;a href="http://www.conres.com/"&gt;Continental Resources&lt;/a&gt;, a Sun Strategic iForce
Partner, who&amp;#8217;s doing some wonderful things with the &lt;a href="http://www.sun.com/solutions/landing/industry/education/edu_essentials.jsp"&gt;Sun Education
Essentials Matching Grant
Program&lt;/a&gt;,
and &lt;a href="http://opsamericas.com/"&gt;Skip Paul&lt;/a&gt;, a Linux Systems Engineer for
Novell&amp;#8217;s Open Platform Solutions group. I also finally cracked open my
demo set of &lt;a href="http://www.sunspotworld.com/"&gt;SunSPOT&lt;/a&gt;s. Wonderful little
devices, radio, run Java on the bare metal, and have temperature
sensors, accelerometers, and liberal I/O. My first development exereice
will probably be making a temperature and acceleration data logger for
my truck, but there&amp;#8217;s surely more to come. They&amp;#8217;re&amp;nbsp;great!&lt;/p&gt;
&lt;p&gt;My newest project - which I&amp;#8217;m hoping to spend nearly the whole summer on
- is the &lt;a href="http://www.jasonantman.com/tuxtruck/"&gt;TuxTruck&lt;/a&gt;. I&amp;#8217;ve been
frustrated with the lack of &amp;#8220;smartness&amp;#8221; in my truck (an 06 Ford F-250),
not to mention having to remember my &lt;span class="caps"&gt;MP3&lt;/span&gt; player so I can listen to
podcasts on the way to work, and having so many gadgets in my truck. So,
the solution is obvious: a Linux-based
&lt;a href="http://en.wikipedia.org/wiki/Carpc"&gt;CarPC&lt;/a&gt;. A nice little Mini-&lt;span class="caps"&gt;ATX&lt;/span&gt; box
under a seat, with a 7&amp;#8221; pull-out touchscreen in the dash (replacing the
factory radio). It&amp;#8217;s a big, complicated, and expensive project - but I
want one, and I could use some experience with smaller systems.&lt;br&gt;
The major features I have&amp;nbsp;planned:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Realtime &lt;span class="caps"&gt;GPS&lt;/span&gt;&amp;nbsp;navigation&lt;/li&gt;
&lt;li&gt;Hands-free bluetooth calls from my cell, with address book, routing
    to contact address, possibly voice&amp;nbsp;dialing.&lt;/li&gt;
&lt;li&gt;Realtime&amp;nbsp;weather&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;OBD&lt;/span&gt;-&lt;span class="caps"&gt;II&lt;/span&gt; interface, for vehicle diagnostics and fuel
    efficiency/performance&amp;nbsp;profiling&lt;/li&gt;
&lt;li&gt;Audio - at a minimum searching and playing MP3s, and automatically
    downloading podcasts and throwing them in a playlist. Perhaps also
    an &lt;span class="caps"&gt;AM&lt;/span&gt;/&lt;span class="caps"&gt;FM&lt;/span&gt;&amp;nbsp;tuner&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;It&amp;#8217;s not an easy project. So far, the major challenges seem to&amp;nbsp;be:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;No full-featured &lt;span class="caps"&gt;GPS&lt;/span&gt; navigation package available. The ones that are
    available don&amp;#8217;t seem to be too easy to integrate into my planned
    &lt;span class="caps"&gt;GUI&lt;/span&gt;, which will allot them 800x420 pixels (on an 800x480 screen) and
    requre the bottom toolbar to be always&amp;nbsp;available.&lt;/li&gt;
&lt;li&gt;How to handle processing of multiple data streams that require
    near-real-time processing - specifically, &lt;span class="caps"&gt;GPS&lt;/span&gt; with text-to-speech,
    turn-by-turn directions, plus playing audio, plus responding to an
    incoming phone call in a timely manner, pausing the audio, and
    stopping &lt;span class="caps"&gt;GPS&lt;/span&gt; audio but continuing&amp;nbsp;navigation.&lt;/li&gt;
&lt;li&gt;Whether to install a smaller stereo and use aux input for audio, or
    totally rip out the stereo, use an amp with the computer as its only
    input, and then how to control&amp;nbsp;volume?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There will be more to come in the future. For now, take a look at &lt;a href="https://github.com/jantman/tuxtruck"&gt;the
TuxTruck github&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Update Saturday, March 2, 2013&lt;/strong&gt; - I&amp;#8217;m in the process of migrating my
legacy &lt;span class="caps"&gt;CVS&lt;/span&gt; and Subversion repositories to
&lt;a href="http://github.com/jantman/"&gt;github.com&lt;/a&gt;. The forgotten &lt;span class="caps"&gt;SVN&lt;/span&gt; repository
for TuxTruck has been migrated there, and the &lt;span class="caps"&gt;CVS&lt;/span&gt; repository will soon
be moved there as well. Tuxtruck.org has been permanently taken offline
and redirected to the GitHub&amp;nbsp;repository.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Mediawiki Logging&lt;/strong&gt; - I recently
had a situation where I had to confirm how much work someone had done on
a MediaWiki-based project. The Recent Changes page only goes back 30
days, and walking through the History of each page is a pain. After
looking around in the database a bit, I found a few tables of&amp;nbsp;interest:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Table &amp;#8220;users&amp;#8221; includes fields &amp;#8220;user_touched&amp;#8221; (last time the user
    was updated) and &amp;#8220;user_editcount&amp;#8221; (a really simple count of the
    users&amp;#8217; number of&amp;nbsp;edits).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Table &amp;#8220;recentchanges&amp;#8221; holds a lot of data&amp;#8230; seemingly the entire
    life of the&amp;nbsp;wiki&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</content><category term="bluetooth"></category><category term="car"></category><category term="carpc"></category><category term="conres"></category><category term="gps"></category><category term="linux"></category><category term="mediawiki"></category><category term="novell"></category><category term="obd"></category><category term="rutgers"></category><category term="sun"></category><category term="sunspot"></category><category term="suse"></category><category term="tuxtruck"></category></entry><entry><title>IEI HubMax Access Control and Linux</title><link href="https://blog.jasonantman.com/2008/03/iei-access-control-and-linux/" rel="alternate"></link><published>2008-03-31T12:43:00-04:00</published><updated>2008-03-31T12:43:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-03-31:/2008/03/iei-access-control-and-linux/</id><summary type="html">&lt;p&gt;At the &lt;a href="http://www.midlandparkambulance.com/"&gt;Midland Park Ambulance
Corps&lt;/a&gt;, where I&amp;#8217;ve been
volunteering my time as an &lt;span class="caps"&gt;EMT&lt;/span&gt; and all-around tech guru for three years,
we have an &lt;a href="http://www.ieib.com/product-details.html?id=49"&gt;&lt;span class="caps"&gt;IEI&lt;/span&gt; HubMax2 access control
system&lt;/a&gt;. Maybe overkill
for us (only 78 users in it, including old codes), it&amp;#8217;s pretty simple -
a box with …&lt;/p&gt;</summary><content type="html">&lt;p&gt;At the &lt;a href="http://www.midlandparkambulance.com/"&gt;Midland Park Ambulance
Corps&lt;/a&gt;, where I&amp;#8217;ve been
volunteering my time as an &lt;span class="caps"&gt;EMT&lt;/span&gt; and all-around tech guru for three years,
we have an &lt;a href="http://www.ieib.com/product-details.html?id=49"&gt;&lt;span class="caps"&gt;IEI&lt;/span&gt; HubMax2 access control
system&lt;/a&gt;. Maybe overkill
for us (only 78 users in it, including old codes), it&amp;#8217;s pretty simple -
a box with some microcontrollers sits in a wiring closet, and is hooked
up to keypads at each door, and relays to electromechanical strikes.
Type in the right code, and the door opens. Obviously, it also logs all
entries as well as unknown codes (but doesn&amp;#8217;t log the actual code if
unknown, so instead of removing old users, I set their codes to an
invalid timezone so the doors don&amp;#8217;t open, but accountability is still
intact). Well, the old box died - fried by a surge from a blown computer
that was hooked up to its&amp;#8217; serial port. New one was installed this
weekend - an 8 hour&amp;nbsp;ordeal.&lt;/p&gt;
&lt;p&gt;The problem with the system is that to program it, I have to grab the
laptop out of one of the ambulances, have &lt;span class="caps"&gt;IEI&lt;/span&gt;&amp;#8217;s proprietary
Windows-based programming software (which programs it via sending and
receiving full binary memory maps of the controllers over 1200 baud
serial), and spend half an hour in the utility closet (next to the
furnace) where the box is waiting for memory maps to transfer over the
slow direct connection. Well, there&amp;#8217;s a proliant server running
&lt;a href="http://www.opensuse.org/"&gt;OpenSuSE&lt;/a&gt; seven feet away&amp;#8230; why not use&amp;nbsp;that?&lt;/p&gt;
&lt;p&gt;While &lt;span class="caps"&gt;IEI&lt;/span&gt; offers their
&lt;a href="http://www.ieib.com/products-browser-managed.html"&gt;eMerge&lt;/a&gt; systems -
appliance servers that manage their access control units via a web
interface - for $6000, which run RedHat, they won&amp;#8217;t even respond to my
emails inquiring whether they have Linux-based programming software for
their HubMax line. We don&amp;#8217;t get that many new members per year, so I
figured just programming in a few spare codes will handle it. Removing
people can wait, as people usually leave on good terms. However, every
once in a while something&amp;#8217;s amiss at the building (usually a door left
ajar, or food left out), and I&amp;#8217;m called upon to pull the logs. It&amp;#8217;s a
pain in the @$$. I have to hunker down in that utility closet with a
laptop, waiting for the whole memory map to download over 1200 baud just
to see who came and went. Porting the software to Linux wouldn&amp;#8217;t be a
quick project. This is even worse during the school year when I&amp;#8217;m living
in my apartment an hour away, taking classes full time, and still
working 25 hours a&amp;nbsp;week.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;The Solution&lt;/strong&gt;: At the end of my
eight-hour install, everything was programmed and setup, but the logs
were still bothering me. Then I hit on an idea. Remembering how archaic
the real-world interfacing of these things seemed to me (how can you use
binary memory maps? What about a serial terminal with an &lt;span class="caps"&gt;ASCII&lt;/span&gt; command
set, or even Ethernet and &lt;span class="caps"&gt;SNMP&lt;/span&gt; or Telnet? I really want to build one of
these things running real-time Linux&amp;#8230;), I started to flip through the
manual and, sure enough, found a command (entered on a 12-key keypad on
the main board) to dump logs in realtime to a serial line&amp;nbsp;printer.&lt;/p&gt;
&lt;p&gt;I ran a cable to the Linux-based server not 10 feet away, fired up
Kermit, issued the Enable Log Print code, and tried a code entry on the
keypad by the front door.&amp;nbsp;Bingo!&lt;/p&gt;
&lt;p&gt;In the two days since, I have a little daemon coded in &lt;span class="caps"&gt;PHP&lt;/span&gt; (yes, &lt;span class="caps"&gt;PHP&lt;/span&gt;)
that reads the serial line and dumps all log data (entries, exits, door
ajar, unknown code, access denied) to both a text file (for debugging
and redundancy) and into a MySQL database. Another hour of coding and I
have a simple web &lt;span class="caps"&gt;GUI&lt;/span&gt;, available on any of the computers on the &lt;span class="caps"&gt;LAN&lt;/span&gt;, for
officers to check who&amp;#8217;s come, and who tried to get in but&amp;nbsp;couldn&amp;#8217;t.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ve never written a daemon before, so I still have a bit more research
to do - mainly in terms of error handling and how to keep it constantly
running. However, I have a first version&amp;nbsp;working.&lt;/p&gt;</content><category term="access control"></category><category term="door lock"></category><category term="hubmax"></category><category term="iei"></category><category term="ieib"></category></entry><entry><title>Cable Management, Power Measurements, Major Outage, Cacti</title><link href="https://blog.jasonantman.com/2008/03/cable-management-power-measurements-major-outage-cacti/" rel="alternate"></link><published>2008-03-06T01:02:00-05:00</published><updated>2008-03-06T01:02:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-03-06:/2008/03/cable-management-power-measurements-major-outage-cacti/</id><summary type="html">&lt;p&gt;So, once again, still really busy. But a few new&amp;nbsp;things.&lt;/p&gt;
&lt;p&gt;First, my racks both at home and at the apartment are atrocious. They
have no cable management at all. Both started with 1-3 machines, and no
real plans for upgrades (since they&amp;#8217;re just my personal/development
machines). Unfortunately …&lt;/p&gt;</summary><content type="html">&lt;p&gt;So, once again, still really busy. But a few new&amp;nbsp;things.&lt;/p&gt;
&lt;p&gt;First, my racks both at home and at the apartment are atrocious. They
have no cable management at all. Both started with 1-3 machines, and no
real plans for upgrades (since they&amp;#8217;re just my personal/development
machines). Unfortunately, the &amp;#8220;rack&amp;#8221; (a metal workshop shelving unit) at
home now has 8 machines and a host of ancillary equipment. The one at
the apartment - an actual 42U rack - has 5 plus a few switches,
rackmount &lt;span class="caps"&gt;KMM&lt;/span&gt;, etc. They&amp;#8217;re both a jumble of wires in the back.
Unfortunately, it seems like cable management hardware is *epxensive*.
$30 for a 2U metal blank with a few plastic split D-rings, or almost $40
for a 2-meter vertical hunk of plastic channel with slits in the sides?
So, I&amp;#8217;ve been vaguely considering what it will take to fabricate some
cable management hardware of my own. Probably just building something
out of rack blanks for the horizontal off of the switches, and buying
some sort of vertical channel for power and networking/&lt;span class="caps"&gt;KVM&lt;/span&gt;. Man, those
&lt;span class="caps"&gt;KVM&lt;/span&gt; cables sure do take up a lot of space. Also at the moment, at home
my power is all coming directly out of two UPSs, whereas at the
apartment it&amp;#8217;s straight from mains off of a surge suppressor. I&amp;#8217;s like
to buy another &lt;span class="caps"&gt;UPS&lt;/span&gt; for the apartment from RefurbUPS.com, where I got the
ones from home, and also add a &lt;span class="caps"&gt;PDU&lt;/span&gt; at home and a vertical power strip at
the&amp;nbsp;apartment.&lt;/p&gt;
&lt;p&gt;Also, at the apartment, the roommates and I have had some discussion
lately about how much power the machines draw. This mainly stemmed from
our plans to move this June, into a rented house with two more people.
This seems to be falling through, so I don&amp;#8217;t have to worry about moving
and re-cabling everything, but I&amp;#8217;m still interested in finding out how
much power is being drawn. Granted, my UPSs at home give me a
more-or-less good idea of power consumption, but I&amp;#8217;d like to know in
detail. The ideal solution would be a clamp ammeter around the mains
line to the equipment - one with a serial interface. Unfortunately, I
can&amp;#8217;t seem to find such a thing, short of a digital multimeter left on
all the time. So, I guess I&amp;#8217;ll be looking around, and if I can&amp;#8217;t find
anything specific, maybe I&amp;#8217;ll work on a microcontroller that can read
1-200mV in 1mV increments, and use it with an inductive clamp ammeter
(usual output for them is 1mV per&amp;nbsp;A).&lt;/p&gt;
&lt;p&gt;So, on Monday I got into work and couldn&amp;#8217;t access my mailserver. Weird.
I never even got any Nagios alerts. I checked Nagios and&amp;#8230; nothing. As
in no connection. I &lt;span class="caps"&gt;SSH&lt;/span&gt;&amp;#8217;d home and pinged both boxes, but nothing. The
switch showed the mail server totally offline, and the Nagios box
plugged connected but &lt;span class="caps"&gt;ZERO&lt;/span&gt; data out. I reset the counters and waited.
Still nothing. After an hour or so of poking around, I determined that
both devices were on the same 6-port group on the switch, and nothing
else there was up too. So, after five long hours, I got someone back
home to switch the cables. Still nothing. On a hunch, I asked to have
her check the mail server (the &amp;#8220;new&amp;#8221; Sun Blade 150) and, sure enough, it
wasn&amp;#8217;t powered on. A click of the power button, and the mail server was
back online. Along with an ominous last email from Nagios, stating that
the &lt;span class="caps"&gt;UPS&lt;/span&gt; running my switch lost power, and 6 minutes later, was going
down hard. Then&amp;nbsp;quiet.&lt;/p&gt;
&lt;p&gt;I don&amp;#8217;t usually have power outages. So I&amp;#8217;ll admit, when I added some of
the new machines, I committed a high sin - I &amp;#8220;never got around&amp;#8221; to
setting up everything power-wise. I also have the switch running off of
an old BackUPS &lt;span class="caps"&gt;500VA&lt;/span&gt; unit, &lt;span class="caps"&gt;USB&lt;/span&gt;, without automatic self-tests. As a
result of all&amp;nbsp;this:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The little &lt;span class="caps"&gt;UPS&lt;/span&gt; powering the switch only held out for 6-7 minutes. As
    a result, once that died, the bigger units didn&amp;#8217;t even matter, as
    all hope was lost. This needs to be on a bigger &lt;span class="caps"&gt;UPS&lt;/span&gt; - maybe one of
    the &lt;span class="caps"&gt;1000VA&lt;/span&gt;&amp;#8217;s until it gets its&amp;#8217;&amp;nbsp;own.&lt;/li&gt;
&lt;li&gt;APCupsd requires a network to initiate shutdown, so the rest of the
    machines came down hard (as confirmed by looking through log&amp;nbsp;files).&lt;/li&gt;
&lt;li&gt;The SunBlade was never setup to power on after power interruption,
    so it just sat there like a&amp;nbsp;brick.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Most disturbingly, while my Nagios/monitoring box is up (according to
the switch, power draw figures from the &lt;span class="caps"&gt;UPS&lt;/span&gt;, and the lights, as
confirmed by someone on-site), it&amp;#8217;s dead. No ping, nothing out. I&amp;#8217;ll
have to look into it, but it made me realize that this really is my only
way of analyzing problems. That needs to&amp;nbsp;stop.&lt;/p&gt;
&lt;p&gt;Maybe one day I&amp;#8217;ll have the money for a nice &lt;a href="http://www.apc.com/products/family/index.cfm?id=223"&gt;SmartUPS
&lt;span class="caps"&gt;RT&lt;/span&gt;&lt;/a&gt; or even a
&lt;a href="http://www.apc.com/products/family/index.cfm?id=189"&gt;Symmetra&lt;/a&gt; - though
getting 208V into my basement is even more of a dream than spending
$4000 on a&amp;nbsp;&lt;span class="caps"&gt;UPS&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Also, I decided (after all this) to setup graphing of &lt;span class="caps"&gt;UPS&lt;/span&gt; data (load,
voltage in and out, temp, capacity, run time, etc.). While I haven&amp;#8217;t
gotten around to setting up &lt;a href="http://www.zenoss.com/"&gt;Zenoss&lt;/a&gt; yet, I did
a quick (well, 4 hours later I&amp;#8217;m done configuring it)
&lt;a href="http://www.cacti.net/"&gt;Cacti&lt;/a&gt;installation on my web server (I should
already have it running on the monitoring box, but who knows what that
will look like when I get&amp;nbsp;home).&lt;/p&gt;</content><category term="apc"></category><category term="cable management"></category><category term="cacti"></category><category term="disaster"></category><category term="monitoring"></category><category term="power distribution"></category><category term="power failure"></category><category term="rack"></category><category term="UPS"></category></entry><entry><title>eeePC, Solaris, other updates</title><link href="https://blog.jasonantman.com/2008/01/eeepc-solaris-other-updates/" rel="alternate"></link><published>2008-01-27T02:18:00-05:00</published><updated>2008-01-27T02:18:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-01-27:/2008/01/eeepc-solaris-other-updates/</id><summary type="html">&lt;p&gt;I&amp;#8217;m trying to get around to updating my blog on a regular basis. I have
a lot of links that I wanted to mention, but I might just post a list of
them with short&amp;nbsp;descriptions.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ve finished most of my &lt;span class="caps"&gt;HOWTO&lt;/span&gt; on &lt;a href="http://www.jasonantman.com/wiki/index.php/OpenSuSE_10.3_on_eeePC_External_SDHC"&gt;installing OpenSuSE on an external …&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;I&amp;#8217;m trying to get around to updating my blog on a regular basis. I have
a lot of links that I wanted to mention, but I might just post a list of
them with short&amp;nbsp;descriptions.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ve finished most of my &lt;span class="caps"&gt;HOWTO&lt;/span&gt; on &lt;a href="http://www.jasonantman.com/wiki/index.php/OpenSuSE_10.3_on_eeePC_External_SDHC"&gt;installing OpenSuSE on an external
&lt;span class="caps"&gt;SDHC&lt;/span&gt; card on the
eeePC&lt;/a&gt;.
It&amp;#8217;s not 100% complete yet - I still haven&amp;#8217;t gotten &lt;span class="caps"&gt;ACPI&lt;/span&gt; working, so I
don&amp;#8217;t have 100% accurate battery-level readings. But if you get an &lt;span class="caps"&gt;SD&lt;/span&gt;
card larger than &lt;span class="caps"&gt;4GB&lt;/span&gt;, or don&amp;#8217;t fill up your root partition to 99% like I
did, you shouldn&amp;#8217;t have a problem installing the kernel headers and &lt;span class="caps"&gt;GCC&lt;/span&gt;
and building the kernel module from&amp;nbsp;source.&lt;/p&gt;
&lt;p&gt;I also added a page to my wiki on &lt;a href="http://www.jasonantman.com/wiki/index.php/Solaris_Nagios_Checks"&gt;monitoring Solaris hardware through
Nagios&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;As always, I have a lot of projects that I&amp;#8217;m working on. I also am going
to be doing a lot of work for &lt;a href="http://www.sun.com/"&gt;Sun&lt;/a&gt; this semester
as Campus Ambassador, including a survey of classes and computer labs to
determine what Sun software is in use (you&amp;#8217;d be amazed how many
&lt;a href="http://www.java.com/en/"&gt;Java&lt;/a&gt; classes don&amp;#8217;t even mention that
&lt;a href="http://www.netbeans.org/"&gt;NetBeans&lt;/a&gt; exists!) I&amp;#8217;ll also be giving some
technical demos this semester, which I&amp;#8217;m really looking forward&amp;nbsp;to.&lt;/p&gt;
&lt;p&gt;Most importantly, though, I&amp;#8217;m starting classes again. This semester, I
have five on tap - &amp;#8220;War, Peace and Military in &lt;span class="caps"&gt;US&lt;/span&gt;&amp;#8221; for my history minor,
and four classes for my
&lt;a href="http://www.scils.rutgers.edu/information-technology-and-informatics-major/program-information.html"&gt;&lt;span class="caps"&gt;ITI&lt;/span&gt;&lt;/a&gt;
major: &lt;a href="http://www.scils.rutgers.edu/component/option,com_courses/task,view/sch,04/cur,547/num,200/Itemid,54/"&gt;Social
Informatics&lt;/a&gt;,
&lt;a href="http://www.scils.rutgers.edu/component/option,com_courses/task,view/sch,04/cur,547/num,210/Itemid,54/"&gt;Management of Technological
Organizations&lt;/a&gt;,
&lt;a href="http://www.scils.rutgers.edu/component/option,com_courses/task,view/sch,04/cur,547/num,331/Itemid,54/"&gt;Network and Internet
Technology&lt;/a&gt;
with &lt;a href="http://rci.rutgers.edu/~brights/"&gt;Bruce Rights&lt;/a&gt;, a SysAdmin here
at Rutgers, and
&lt;a href="http://www.scils.rutgers.edu/component/option,com_courses/task,view/sch,04/cur,547/num,320/Itemid,54/"&gt;Web&lt;/a&gt;
&lt;a href="http://www.stevegarwood.com/webdesign/webditi/index.htm"&gt;Design&lt;/a&gt; with
&lt;a href="http://www.stevegarwood.com/"&gt;Steve Garwood&lt;/a&gt;. While I&amp;#8217;m really psyched
about classes - specifically the latter two, which really appeal to
someone technical like me (and also the &lt;span class="caps"&gt;MTO&lt;/span&gt; class, as I know I could use
some experience with &amp;#8220;management&amp;#8221; beyond
&lt;a href="http://www.unitedmedia.com/comics/dilbert/"&gt;Dilbert&lt;/a&gt; and my sarcastic
view of workplace dynamics), this brings me to a quite painful
realization. While my two programming classes at the &lt;a href="http://www.cs.rutgers.edu/"&gt;Rutgers &lt;span class="caps"&gt;CS&lt;/span&gt;
Department&lt;/a&gt; met in Linux labs, the usual lab
for classes at &lt;a href="http://www.scils.rutgers.edu/"&gt;&lt;span class="caps"&gt;SCILS&lt;/span&gt;&lt;/a&gt; is a Windows&amp;nbsp;lab.&lt;/p&gt;
&lt;p&gt;This isn&amp;#8217;t just a problem because of moral reasons, but more because of
practical ones - I know Linux. I like it.
&lt;em&gt;I&amp;#8217;m used to Linux.&lt;/em&gt; I do tens of
hours of development and admin work every week (maybe hundreds if I&amp;#8217;m
being bad, or in a prolific period), and I&amp;#8217;m most productive in the
environment I&amp;#8217;m used to. I remember when I took my Java classes, trying
to explain to the &lt;span class="caps"&gt;TA&lt;/span&gt;&amp;#8217;s that I wasn&amp;#8217;t cheating, but I had to bring a
&lt;span class="caps"&gt;CD&lt;/span&gt;-&lt;span class="caps"&gt;ROM&lt;/span&gt; to the on-computer programming exam -
&lt;strong&gt;&amp;#8220;there&amp;#8217;s no way you can make me
program without my&amp;nbsp;.emacs!&amp;#8221;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ve considered that I could just bring my eeePC to class and do
everything on that over wireless. I guess that could work for most of
the class, though I can&amp;#8217;t say how my professors will react to that. In
preparation for an averse reaction, I&amp;#8217;ve looked into how to deal with
using Windows in a way that&amp;#8217;s usable for me. After doing a little
research, I found &lt;a href="http://portableapps.com/"&gt;PortableApps.com&lt;/a&gt; which
provides versions of &lt;a href="http://www.mozilla.com/en-US/firefox/"&gt;Firefox&lt;/a&gt;,
&lt;a href="http://www.mozilla.com/en-US/thunderbird/"&gt;Thunderbird&lt;/a&gt;,
&lt;a href="http://www.openoffice.org/"&gt;OpenOffice&lt;/a&gt;,
&lt;a href="http://www.pidgin.im/"&gt;Pidgin&lt;/a&gt;, and other apps (even including
&lt;a href="http://winscp.net/eng/index.php"&gt;WinSCP&lt;/a&gt;, a Windows &lt;span class="caps"&gt;SCP&lt;/span&gt;/&lt;span class="caps"&gt;SFTP&lt;/span&gt; client) as
Windows executables that will run entirely from a &lt;span class="caps"&gt;USB&lt;/span&gt; flash drive. Most
importantly, I even found &lt;a href="http://pigpog.com/node/2875"&gt;instructions&lt;/a&gt;
(and also
&lt;a href="http://theblackdragon.wordpress.com/2006/05/12/portable-emacs/"&gt;here&lt;/a&gt;)
to run the Windows version of &lt;a href="http://www.gnu.org/software/emacs/"&gt;&lt;span class="caps"&gt;GNU&lt;/span&gt;
Emacs&lt;/a&gt; from a flash drive. Granted,
I always preferred the &lt;span class="caps"&gt;CLI&lt;/span&gt; version of Emacs over the graphical one, but
I guess it&amp;#8217;s a small price to pay. So, once I can find a working &lt;span class="caps"&gt;USB&lt;/span&gt;
flash drive (or an &lt;span class="caps"&gt;SD&lt;/span&gt; card to use with an adapter), I&amp;#8217;ll setup what I
need to be able to&amp;nbsp;work.&lt;/p&gt;
&lt;p&gt;One side note - on the first day of my Management of Technological
Organizations class (painfully meeting 9:50-12:50 Friday mornings) the
professor announced that we&amp;#8217;ll be using Microsoft Excel, Access,
Project, etc. After class I spoke with the lecturer, &lt;a href="http://www.scils.rutgers.edu/directory/rutsmith/index.html"&gt;Cathy
Smith&lt;/a&gt;, and
explained the situation (that I can&amp;#8217;t use those) and asked whether other
software that did the same thing would be acceptable. Amazingly, not
only did she tell me that&amp;#8217;s ok, but she also said that she&amp;#8217;s a big fan
of OpenOffice, and went so far as to say that in place of Access, she&amp;#8217;d
be happy to accept &lt;span class="caps"&gt;SQL&lt;/span&gt; files. Maybe it&amp;#8217;s because she&amp;#8217;s a doctoral
candidate and not a Ph. D. full professor, but I was very happy to find
such enlightenment at Rutgers (for the first&amp;nbsp;time).&lt;/p&gt;
&lt;p&gt;On one side note - one of the classes that I had thought of registering
for distributed the syllabus as a .docx &lt;span class="caps"&gt;MS&lt;/span&gt; Office &lt;span class="caps"&gt;XML&lt;/span&gt; file. I was
dumbfounded. I know that few professors take the time to think that some
students may be using Linux or Unix, but do they really think that
everyone&amp;#8217;s already upgraded to Word 2007? I know most professors - even
in an &lt;span class="caps"&gt;IT&lt;/span&gt; program - probably don&amp;#8217;t know about the &lt;a href="http://www.noooxml.org/start"&gt;flaws with
&lt;span class="caps"&gt;OOXML&lt;/span&gt;&lt;/a&gt; or the current issues surrounding
it, but I thought that the old .doc was pretty well established as the
default document format in the Windows world. More importantly&amp;#8230; do
these people know nothing about standards and best practices and
cross-platform usability? If I were distributing a static document, &lt;span class="caps"&gt;PDF&lt;/span&gt;
is the first thing that would pop into my&amp;nbsp;mind&amp;#8230;&lt;/p&gt;
&lt;p&gt;On a side note, a few links for the day:&lt;br&gt;
&lt;a href="http://royal.pingdom.com/?p=240"&gt;Photos of great data center cabling, almost
art&lt;/a&gt;.&lt;br&gt;
&lt;a href="http://wiki.scribus.net/index.php/Your_first_PDF_form_with_Scribus"&gt;Designing &lt;span class="caps"&gt;PDF&lt;/span&gt; forms with
Scribus&lt;/a&gt;.&lt;br&gt;
A wonderful Craigslist ad: &lt;a href="http://www.craigslist.org/about/best/nyc/485967082.html"&gt;Help me keep
the shell people&amp;nbsp;alive.&lt;/a&gt;&lt;/p&gt;</content></entry><entry><title>Solaris Update, Hardware Photos, SMF Manifests, Nagios Plugins</title><link href="https://blog.jasonantman.com/2008/01/solaris-update-hardware-photos-smf-manifests-nagios-plugins/" rel="alternate"></link><published>2008-01-02T02:06:00-05:00</published><updated>2008-01-02T02:06:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-01-02:/2008/01/solaris-update-hardware-photos-smf-manifests-nagios-plugins/</id><summary type="html">&lt;p&gt;So in the past weekend, I had my first real experience with Solaris in
production. I finally setup my Sun Blade 150 running Solaris 10 as my
new mailserver, replacing a (!!!) vintage 1998 Gateway Pentium &lt;span class="caps"&gt;II&lt;/span&gt; 350MHz
desktop. Quite an upgrade, even to the still-not-new Sun workstation.
Maybe sometime in …&lt;/p&gt;</summary><content type="html">&lt;p&gt;So in the past weekend, I had my first real experience with Solaris in
production. I finally setup my Sun Blade 150 running Solaris 10 as my
new mailserver, replacing a (!!!) vintage 1998 Gateway Pentium &lt;span class="caps"&gt;II&lt;/span&gt; 350MHz
desktop. Quite an upgrade, even to the still-not-new Sun workstation.
Maybe sometime in the future I&amp;#8217;ll even upgrade some of my other old
desktops with my spare Dell PowerEdge&amp;nbsp;2550.&lt;/p&gt;
&lt;p&gt;Anyway, the whole process, from fresh Solaris install to working
mailserver, probably took me around 24 work hours. That being said, I&amp;#8217;ve
never really administered Solaris before, so that also included horribly
long stretches of doc reading and figuring out &lt;span class="caps"&gt;SMF&lt;/span&gt;, package and service
administration,&amp;nbsp;etc.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ve detailed the entire process on my
&lt;a href="http://www.jasonantman.com/wiki/index.php/Solaris_Mailserver"&gt;wiki&lt;/a&gt; in
excruciating detail. The Solaris package repository any pkg-get systems
from &lt;a href="http://www.blastwave.org/"&gt;blastwave.org&lt;/a&gt; were immensely helpful,
as were a number of &lt;a href="http://cuddletech.com/blog/"&gt;Ben Rockwood&amp;#8217;s&lt;/a&gt; blog
posts. The entire operation involved installing and configuring Dovecot
with &lt;span class="caps"&gt;IMAPS&lt;/span&gt;, Postfix with &lt;span class="caps"&gt;TLS&lt;/span&gt; and &lt;span class="caps"&gt;SASL&lt;/span&gt; to authenticate to my &lt;span class="caps"&gt;ISP&lt;/span&gt;&amp;#8217;s
mailserver (which I use to relay outgoing mail, given my dynamic &lt;span class="caps"&gt;IP&lt;/span&gt;),
Procmail, Fetchmail and SpamAssassin. I also had to setup the machine to
relay mail for other hosts on the &lt;span class="caps"&gt;LAN&lt;/span&gt;. Rounding it out, I setup
monitoring with Nagios and backups of the system and mail through
Bacula. During the process, I also had to modify some Service Management
Facility (&lt;span class="caps"&gt;SMF&lt;/span&gt;) manifests for Fetchmail, Postfix, and&amp;nbsp;Dovecot.&lt;/p&gt;
&lt;p&gt;I still have a few things to do - namely create
&lt;a href="http://www.nagios.org/"&gt;Nagios&lt;/a&gt; check scripts for processors,
temperatures, and fans (using the prtdiag command) and hard drive
status/errors (using iostat -Exn, given that I haven&amp;#8217;t been able to find
a &lt;span class="caps"&gt;SMART&lt;/span&gt; tool that supports &lt;span class="caps"&gt;IDE&lt;/span&gt; under Solaris). For everything else, I
just checked the &lt;a href="http://www.nagios-exchange.org/"&gt;NagiosExchange&lt;/a&gt;
plugin repository, using check_by_ssh for everything. The only problem
I had was that NagiosExchange didn&amp;#8217;t appear to have working default
Nagios plugins for Solaris 10. Luckily, though, Blastwave had a
&amp;#8220;nagiosp&amp;#8221; plugin&amp;nbsp;package.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ll probably update this blog with my check plugins as I develop them,
but for now I have a little
&lt;a href="http://www.jasonantman.com/wiki/index.php/Solaris_Nagios_Checks"&gt;page&lt;/a&gt;
on my &lt;a href="http://www.jasonantman.com/wiki/"&gt;wiki&lt;/a&gt;about using Nagios with&amp;nbsp;Solaris.&lt;/p&gt;
&lt;p&gt;Also, I uploaded &lt;a href="http://www.jasonantman.com/wiki/index.php/Jasonantman.com_Hardware"&gt;a few
photos&lt;/a&gt;
of the equipment that runs this blog and the rest of my site and
development network - all on a &amp;#8220;beautiful&amp;#8221; Sears shop shelf in my
basement. Nothing wonderful, but it gets the job done. I&amp;#8217;ll admit that I
could have done a better job stitching the photos together, but the
space is so tight that I can&amp;#8217;t get a wide shot of the whole&amp;nbsp;rack.&lt;/p&gt;
&lt;p&gt;The rack, in all its glory:
&lt;a href="/GFX/Tall1.jpg"&gt;&lt;img alt="image" src="/GFX/Tall1_sm.jpg"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;A closer view of (most of) the hardware:
&lt;a href="/GFX/Tall3.jpg"&gt;&lt;img alt="image" src="/GFX/Tall3_sm.jpg"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Happy New&amp;nbsp;Year!&lt;/p&gt;</content></entry><entry><title>Sun Blade 150 working!</title><link href="https://blog.jasonantman.com/2007/12/sun-blade-150-working/" rel="alternate"></link><published>2007-12-14T02:44:00-05:00</published><updated>2007-12-14T02:44:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-12-14:/2007/12/sun-blade-150-working/</id><summary type="html">&lt;p&gt;Yes, it&amp;#8217;s 3 &lt;span class="caps"&gt;AM&lt;/span&gt; here, and I&amp;#8217;ve been working since about 6 &lt;span class="caps"&gt;PM&lt;/span&gt; on this. But
I finally got one of my two surplus (and fully locked down in &lt;span class="caps"&gt;NVRAM&lt;/span&gt;) Sun
Blade 150 workstations up and running. I encountered a few problems
along the way, but managed to …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Yes, it&amp;#8217;s 3 &lt;span class="caps"&gt;AM&lt;/span&gt; here, and I&amp;#8217;ve been working since about 6 &lt;span class="caps"&gt;PM&lt;/span&gt; on this. But
I finally got one of my two surplus (and fully locked down in &lt;span class="caps"&gt;NVRAM&lt;/span&gt;) Sun
Blade 150 workstations up and running. I encountered a few problems
along the way, but managed to solve them - more or&amp;nbsp;less.&lt;/p&gt;
&lt;h2 id="problem-1-nvram-password-set-impossible-to-install-an-os"&gt;&lt;a class="toclink" href="#problem-1-nvram-password-set-impossible-to-install-an-os"&gt;Problem 1 - &lt;span class="caps"&gt;NVRAM&lt;/span&gt; password set, impossible to install an&amp;nbsp;&lt;span class="caps"&gt;OS&lt;/span&gt;.&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;I did a &lt;em&gt;lot&lt;/em&gt; of googling, and asking for advice. Eventually, I came
by a forum post expressing success with a procedure of pulling out and
then re-inserting the &lt;span class="caps"&gt;NVRAM&lt;/span&gt; *while* the system is powered on. This
left my system un-bootable. I pulled the chip again, and found two pins
bent. I straightened them, re-inserted, and rebooted using the Stop+N
Equivalent Functionality (after powering on the system, once you hear
the &lt;span class="caps"&gt;POST&lt;/span&gt; beep, click the power button twice quickly). This temporarily
resets the &lt;span class="caps"&gt;NVRAM&lt;/span&gt; to default settings. I found that the password was
gone, and was able to issue the &amp;#8220;set-defaults&amp;#8221; command at the &amp;#8220;ok&gt;&amp;#8221;
prompt. I then popped in the Solaris 10 install &lt;span class="caps"&gt;CD&lt;/span&gt;, issued the
&amp;#8220;reset-all&amp;#8221; command to reboot, and used Stop+A at boot to bring up a
boot menu, and told it to boot from &lt;span class="caps"&gt;CDROM&lt;/span&gt; (&amp;#8220;boot cdrom&amp;#8221;). Installation
then&amp;nbsp;started.&lt;/p&gt;
&lt;h2 id="problem-2-invalid-nvram"&gt;&lt;a class="toclink" href="#problem-2-invalid-nvram"&gt;Problem 2 - Invalid&amp;nbsp;&lt;span class="caps"&gt;NVRAM&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;After the above procedure, when booting, I got a message following the
Sun banner stating that there was a problem with the IDprom checksum.
When the install &lt;span class="caps"&gt;CD&lt;/span&gt; booted, I also got messages stating &amp;#8220;Invalid format
code in IDprom&amp;#8221;, &amp;#8220;Warning: IDprom checksum error&amp;#8221;, and &amp;#8220;os-io Invalid
format code in IDprom&amp;#8221;. After another five hours of work, I found that
it&amp;#8217;s essentially something I have to live with. While OpenBoot previous
to version 4 allowed use of the &amp;#8220;mkp&amp;#8221; and &amp;#8220;mkpl&amp;#8221; commands to directly
write the IDprom, version 4 and above allows no access to this. The
IDprom was reporting an ethernet (mac) address of all zeros.
Unfortunately, there seems to be no way to correct this as far as I&amp;#8217;ve
found. However, it didn&amp;#8217;t effect my &lt;span class="caps"&gt;OS&lt;/span&gt; installation&amp;#8230;&amp;nbsp;much.&lt;/p&gt;
&lt;p&gt;*There may be a way to access the IDprom through OpenBoot 4.x, but I
couldn&amp;#8217;t find any reference to it online, and couldn&amp;#8217;t figure out the
&lt;span class="caps"&gt;FORTH&lt;/span&gt; commands from the reference&amp;nbsp;docs.&lt;/p&gt;
&lt;p&gt;Some helpful links for the above problems include the OpenBoot 4.x
Command Reference Manual, currently found
&lt;a href="http://dlc.sun.com/pdf/816-1177-10/816-1177-10.pdf"&gt;here&lt;/a&gt;, as well as
the Sun Blade 150 Service Manual (from
&lt;a href="http://docs.sun.com/"&gt;docs.sun.com&lt;/a&gt;), document 816-4379-10, currently
indexed with the Sun Blade 150 docs
&lt;a href="http://docs.sun.com/app/docs/coll/sb150"&gt;here&lt;/a&gt;. It was also
interesting, in my search for help, to look at the OpenBoot 3.x Command
Manual, and see how easy it was to re-write the IDprom on older Sun
Blade&amp;nbsp;workstations.&lt;/p&gt;
&lt;p&gt;Pleaese note that the advice given in the &lt;a href="http://040.digital-bless.com/texts/Unofficial_Sun_Blade_100_FAQ.htm"&gt;Unofficial SunBlade 100
&lt;span class="caps"&gt;FAQ&lt;/span&gt;&lt;/a&gt;
and the &lt;a href="http://www.squirrel.com/sun-nvram-hostid.faq.html"&gt;squirrel.com Sun &lt;span class="caps"&gt;NVRAM&lt;/span&gt;
&lt;span class="caps"&gt;FAQ&lt;/span&gt;&lt;/a&gt; doesn&amp;#8217;t seem to
work on the 150 with OpenBoot 4.x. From what I can tell, all of that
advice applies only to OpenBoot&amp;nbsp;3.x!&lt;/p&gt;
&lt;p&gt;Some other helpful links included an ITworld.com article on &lt;a href="http://open.itworld.com/5040/nlsunixfirmware070111/page_1.html"&gt;Sun &lt;span class="caps"&gt;NVRAM&lt;/span&gt;
passwords&lt;/a&gt;,
&lt;a href="http://forum.java.sun.com/thread.jspa?threadID=5093819&amp;amp;messageID=9329080"&gt;this&lt;/a&gt;
Sun Developer Forum post, and
&lt;a href="http://forum.java.sun.com/thread.jspa?threadID=5093819&amp;amp;messageID=9329080"&gt;this&lt;/a&gt;
post on password&amp;nbsp;recovery.&lt;/p&gt;
&lt;h2 id="problem-3-mac-ethernet-address-is-000000000000"&gt;&lt;a class="toclink" href="#problem-3-mac-ethernet-address-is-000000000000"&gt;Problem 3 - &lt;span class="caps"&gt;MAC&lt;/span&gt; / Ethernet address is&amp;nbsp;00:00:00:00:00:00&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;When booting Solaris, I found that I couldn&amp;#8217;t get &lt;span class="caps"&gt;DHCP&lt;/span&gt;. When I finally
got the &lt;span class="caps"&gt;OS&lt;/span&gt; running and logged in as root, I realized something
interesting - I couldn&amp;#8217;t access or ping anything past the one switch I
was connected to. But everything on that switch was fine, pinging both
from and to the Solaris box. I ping&amp;#8217;ed from my laptop, and then thought
to run &amp;#8220;arp -a&amp;#8221;. It showed a &lt;span class="caps"&gt;MAC&lt;/span&gt; address of 00:00:00:00:00:00! Running
&amp;#8220;ifconfig -a&amp;#8221; on the Solaris box confirmed this. Luckily, the first time
I booted this box, I wrote down the ethernet address and hostID as shown
on the banner. I ran a quick ifconfig to setup the correct &lt;span class="caps"&gt;MAC&lt;/span&gt;, like
&amp;#8220;ifconfig eri0 ether xx:xx:xx:xx:xx:xx&amp;#8221;. Networking now worked
perfectly, and I could get to everything on the &lt;span class="caps"&gt;LAN&lt;/span&gt; as well as browse
the web. It would be good to somehow reset this in &lt;span class="caps"&gt;NVRAM&lt;/span&gt;, but for now
I&amp;#8217;m just going to add it to the startup scripts somewhere. One forum
post that I found suggested adding the previous ifconfig command to the
top of /etc/rc.c/init.d/network, which I&amp;#8217;ve done and will see how it
works at the next&amp;nbsp;boot.&lt;/p&gt;
&lt;h2 id="problem-4-cant-login-to-smc-solaris-management-console"&gt;&lt;a class="toclink" href="#problem-4-cant-login-to-smc-solaris-management-console"&gt;Problem 4 - Can&amp;#8217;t login to &lt;span class="caps"&gt;SMC&lt;/span&gt; (Solaris Management&amp;nbsp;Console)&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;My next task after getting the system up and running, and getting
networking working, as to give myself a user account. I was logged in
using the Java Desktop System, so I opened a terminal and ran &amp;#8220;smc &amp;amp;&amp;#8221;.
After the usual initialization wait, I loaded the toolboxes for the
local machine, and connected. When I clicked on the &amp;#8220;users&amp;#8221; module and
entered my root password, I got an invalid password / login failed
message. I tried again and again, even checking against the post-it that
I wrote the password on until I memorize it. Nothing. Searching the
forums, I came by this
&lt;a href="http://forum.java.sun.com/thread.jspa?threadID=5104081&amp;amp;messageID=9354742"&gt;post&lt;/a&gt;,
but the value in /etc/security/policy.conf was correctly set to &amp;#8221;
CRYPT_DEFAULT=__unix__&amp;#8221;. So, on a wild hunch, I used &amp;#8220;passwd&amp;#8221; to
reset my password to a shorter one, which I use on a few other
(unimportant) workstations.&amp;nbsp;Magic!&lt;/p&gt;
&lt;p&gt;I now have, after two days of work, a working Solaris box. Now that I
have a good &lt;span class="caps"&gt;OS&lt;/span&gt; install, in order to get the other box working, I
*should* just be able to swap HDDs, boot, login as root, and use the
&amp;#8220;eeprom&amp;#8221; command to set &amp;#8220;security-mode&amp;#8221; to &amp;#8220;none&amp;#8221;, bypassing all of this&amp;nbsp;bull****.&lt;/p&gt;</content><category term="nvram"></category><category term="openboot"></category><category term="password"></category><category term="smc"></category><category term="solaris"></category><category term="sun"></category><category term="sunblade"></category></entry><entry><title>SunBlade Workstations</title><link href="https://blog.jasonantman.com/2007/12/sunblade-workstations/" rel="alternate"></link><published>2007-12-12T22:51:00-05:00</published><updated>2007-12-12T22:51:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-12-12:/2007/12/sunblade-workstations/</id><summary type="html">&lt;p&gt;So today I picked up two surplus SunBlade 150 workstations. The price
seemed right, and I figure that at the very least, they&amp;#8217;d give me some
Sparc machines to play around with. The two seem slightly different.
Externally, one has a &lt;span class="caps"&gt;CD&lt;/span&gt;-&lt;span class="caps"&gt;RW&lt;/span&gt; and one has a &lt;span class="caps"&gt;DVD&lt;/span&gt;-&lt;span class="caps"&gt;ROM …&lt;/span&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;So today I picked up two surplus SunBlade 150 workstations. The price
seemed right, and I figure that at the very least, they&amp;#8217;d give me some
Sparc machines to play around with. The two seem slightly different.
Externally, one has a &lt;span class="caps"&gt;CD&lt;/span&gt;-&lt;span class="caps"&gt;RW&lt;/span&gt; and one has a &lt;span class="caps"&gt;DVD&lt;/span&gt;-&lt;span class="caps"&gt;ROM&lt;/span&gt;. The one with the &lt;span class="caps"&gt;DVD&lt;/span&gt;,
the first one I&amp;#8217;m working with, has a 650MHz Sparc IIi, 512 Mb &lt;span class="caps"&gt;RAM&lt;/span&gt;, and
&lt;span class="caps"&gt;XXXXX&lt;/span&gt; &lt;span class="caps"&gt;HDD&lt;/span&gt;. I&amp;#8217;ll figure out the specs on the second when I get it&amp;nbsp;running.&lt;/p&gt;
&lt;p&gt;They also both use simple &lt;span class="caps"&gt;EIDE&lt;/span&gt; drives, so I might put a new drive in,
after checking drive current drive information through &lt;span class="caps"&gt;SMART&lt;/span&gt;. I planned
on using one of the machines (probably this first one, the 650MHz with
the &lt;span class="caps"&gt;DVD&lt;/span&gt;) to replace my aging mailserver at home (a 350MHz Pentium &lt;span class="caps"&gt;II&lt;/span&gt;
Gateway desktop), running Solaris 10. The other one will be a
workstation/desktop for me, which will probably run either Solaris 10 or
Solaris Express Developer Edition&amp;nbsp;(&lt;span class="caps"&gt;SXDE&lt;/span&gt;).&lt;/p&gt;
&lt;p&gt;Unfortunately, the project seems to have hit a dead-end. Both systems
have hardware/&lt;span class="caps"&gt;NVRAM&lt;/span&gt; security setup, so they won&amp;#8217;t boot from &lt;span class="caps"&gt;CD&lt;/span&gt; without a
password. They also won&amp;#8217;t boot the existing Solaris installation, as
it&amp;#8217;s looking for a whole bunch of network services that don&amp;#8217;t exist. I
found a few suggestions online on how to bypass this, but none of them
worked. So, at this point, I have a few options to&amp;nbsp;consider:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Hope that as a Sun Microsystems Campus Ambassador, I can contact
    someone who can advise me on how to clear out the password or&amp;nbsp;&lt;span class="caps"&gt;NVRAM&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;Hope that as a Rutgers employee, I can track down someone on the
    Camden campus where these came from that may have the &lt;span class="caps"&gt;NVRAM&lt;/span&gt;&amp;nbsp;password.&lt;/li&gt;
&lt;li&gt;Break down and pay $40 each for *new* &lt;span class="caps"&gt;NVRAM&lt;/span&gt;&amp;nbsp;chips.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;We&amp;#8217;ll see what the next few days brings. Hopefully not resorting to a
solution that costs more than I paid for the&amp;nbsp;machines.&lt;/p&gt;</content><category term="sunblade sun solaris opensolaris install firmware boot"></category></entry><entry><title>The Death of a Disk</title><link href="https://blog.jasonantman.com/2007/09/the-death-of-a-disk/" rel="alternate"></link><published>2007-09-07T11:34:00-04:00</published><updated>2007-09-07T11:34:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-09-07:/2007/09/the-death-of-a-disk/</id><summary type="html">&lt;p&gt;A few months ago, a disk on my Compaq Proliant &lt;span class="caps"&gt;ML370&lt;/span&gt; went down. The
machine has 6 Ultra3 Wide &lt;span class="caps"&gt;SCSI&lt;/span&gt; 15k &lt;span class="caps"&gt;RPM&lt;/span&gt; drives, 18 Gb each, in a &lt;span class="caps"&gt;RAID&lt;/span&gt;
0+1, so I figured that between such a configuration and weekly complete
tape backups, I&amp;#8217;d be pretty much set …&lt;/p&gt;</summary><content type="html">&lt;p&gt;A few months ago, a disk on my Compaq Proliant &lt;span class="caps"&gt;ML370&lt;/span&gt; went down. The
machine has 6 Ultra3 Wide &lt;span class="caps"&gt;SCSI&lt;/span&gt; 15k &lt;span class="caps"&gt;RPM&lt;/span&gt; drives, 18 Gb each, in a &lt;span class="caps"&gt;RAID&lt;/span&gt;
0+1, so I figured that between such a configuration and weekly complete
tape backups, I&amp;#8217;d be pretty much set. At least for a &amp;#8220;home&amp;#8221; user. I
powered down the system (eek! downtime!), feeling lucky that it didn&amp;#8217;t
host any critical services. At a loss for a spare drive, and hoping that
the decade-old &lt;span class="caps"&gt;SCSI&lt;/span&gt; controller was just having a bad morning, I let the
system sit for a few hours and then powered up. It rebuilt any lost data
and came back&amp;nbsp;fine.&lt;/p&gt;
&lt;p&gt;Unfortunately, a week ago, the same problem happened. The good news is
that there wasn&amp;#8217;t much important &amp;#8220;data&amp;#8221; on the disk. The bad news is
that the disk was the root partition, and that I lost *both* mirrored
drives in a 42 minute window. The system is now down indefinitely,
pending my winning the lottery and getting the money for two 15k &lt;span class="caps"&gt;SCSI&lt;/span&gt;&amp;nbsp;disks.&lt;/p&gt;
&lt;p&gt;Now, I originally wasn&amp;#8217;t too worried. The system is mainly used for
storing unimportant data. However, I quickly remembered three facts
about&amp;nbsp;&lt;span class="caps"&gt;STOR1&lt;/span&gt;:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;My two and &lt;em&gt;only&lt;/em&gt; tape drives are hooked up to this&amp;nbsp;box.&lt;/li&gt;
&lt;li&gt;This box is my &lt;span class="caps"&gt;CVS&lt;/span&gt; server, so now not only are my nightly builds
    stopped, but I don&amp;#8217;t have &lt;span class="caps"&gt;CVS&lt;/span&gt;&amp;nbsp;access.&lt;/li&gt;
&lt;li&gt;The To-Do list item stating &amp;#8220;fix &lt;span class="caps"&gt;STOR1&lt;/span&gt; backup script and re-enable
    cron job&amp;#8221; should have been a higher&amp;nbsp;priority.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;So, in the future, you will not only read about data recovery operations
using a LiveCD, bare metal recovery of the system, but you can also
expect my &lt;a href="http://wiki.jasonantman.com"&gt;wiki&lt;/a&gt; to include a page on
implementation of&amp;nbsp;Bacula.&lt;/p&gt;</content></entry><entry><title>APC AP9605 PowerNet SNMP Card</title><link href="https://blog.jasonantman.com/2007/03/apc-ap9605-powernet-snmp-card/" rel="alternate"></link><published>2007-03-01T17:09:00-05:00</published><updated>2007-03-01T17:09:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-03-01:/2007/03/apc-ap9605-powernet-snmp-card/</id><summary type="html">&lt;p&gt;In the theme of upgrades, I also purchased two &lt;span class="caps"&gt;APC&lt;/span&gt; SmartUPS1000 units
from refurbUPS.com. Now, I know that a lot of people are perfectly happy
with serial connectivity. And it has its positives. But I&amp;#8217;m running 2-3
servers per &lt;span class="caps"&gt;UPS&lt;/span&gt;, older servers, wanted to be able to monitor …&lt;/p&gt;</summary><content type="html">&lt;p&gt;In the theme of upgrades, I also purchased two &lt;span class="caps"&gt;APC&lt;/span&gt; SmartUPS1000 units
from refurbUPS.com. Now, I know that a lot of people are perfectly happy
with serial connectivity. And it has its positives. But I&amp;#8217;m running 2-3
servers per &lt;span class="caps"&gt;UPS&lt;/span&gt;, older servers, wanted to be able to monitor the UPSs,
and perhaps control server shutdown, over the network.. So, I found that
refurbUPS.com also sells &lt;span class="caps"&gt;SNMP&lt;/span&gt; management cards for them. They sell a
refurbished &lt;span class="caps"&gt;AP9605&lt;/span&gt; - it&amp;#8217;s an old 10BaseT PowerNet &lt;span class="caps"&gt;SNMP&lt;/span&gt;-only card (with
telnet management). Seemed good, and the price of $15 was&amp;nbsp;right.&lt;/p&gt;
&lt;p&gt;They showed up, but I couldn&amp;#8217;t find much about them online, let alone
anything&amp;nbsp;useful.&lt;/p&gt;
&lt;p&gt;After a phone call to &lt;span class="caps"&gt;APC&lt;/span&gt;, I managed to get the user&amp;#8217;s manual emailed to
me. The few instructions I found online were totally&amp;nbsp;wrong.&lt;/p&gt;
&lt;p&gt;The general setup goes like&amp;nbsp;this:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Connect network cable to&amp;nbsp;card.&lt;/li&gt;
&lt;li&gt;Connect serial cable between a computer and the &lt;span class="caps"&gt;UPS&lt;/span&gt;&amp;#8217;s serial&amp;nbsp;port.&lt;/li&gt;
&lt;li&gt;Get a terminal emulator, like
    &lt;a href="http://alioth.debian.org/projects/minicom"&gt;minicom&lt;/a&gt;. Speed is&amp;nbsp;2400bps.&lt;/li&gt;
&lt;li&gt;connect and press enter. You&amp;#8217;ll be asked for a username and
    password. Use &amp;#8220;apc&amp;#8221; for&amp;nbsp;both.&lt;/li&gt;
&lt;li&gt;5) Setup the network - &lt;span class="caps"&gt;IP&lt;/span&gt;, mask, gateway,&amp;nbsp;etc.&lt;/li&gt;
&lt;li&gt;Ready-to-go!&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I also have some information about the card on my wiki at:
&lt;a href="http://wiki.jasonantman.com/index.php/AP9605"&gt;&lt;span class="caps"&gt;AP9605&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;</content><category term="ap9605"></category><category term="apc"></category><category term="powernet"></category><category term="snmp"></category><category term="UPS"></category></entry><entry><title>Managing G1 Proliant Servers with modern Linux</title><link href="https://blog.jasonantman.com/2007/03/managing-g1-proliant-servers-with-modern-linux/" rel="alternate"></link><published>2007-03-01T16:27:00-05:00</published><updated>2007-03-01T16:27:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-03-01:/2007/03/managing-g1-proliant-servers-with-modern-linux/</id><summary type="html">&lt;p&gt;Not much of an &amp;#8220;upgrade&amp;#8221; for anyone who&amp;#8217;s in &lt;span class="caps"&gt;IT&lt;/span&gt;, but jasonantman.com is
currently being upgraded from old desktops used as servers to a pile of
generation-1 (G1) &lt;span class="caps"&gt;HP&lt;/span&gt;/Compaq Proliants. I know that there are utilities
for Linux to manage the servers, specifically control fan speed and …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Not much of an &amp;#8220;upgrade&amp;#8221; for anyone who&amp;#8217;s in &lt;span class="caps"&gt;IT&lt;/span&gt;, but jasonantman.com is
currently being upgraded from old desktops used as servers to a pile of
generation-1 (G1) &lt;span class="caps"&gt;HP&lt;/span&gt;/Compaq Proliants. I know that there are utilities
for Linux to manage the servers, specifically control fan speed and
monitor hardware-level health for Linux. However, the most recent
download on &lt;span class="caps"&gt;HP&lt;/span&gt;&amp;#8217;s site is for &lt;span class="caps"&gt;SLES9&lt;/span&gt;. All of my boxes will be running
openSuSE 10.2, and the &lt;span class="caps"&gt;SLES9&lt;/span&gt; version wouldn&amp;#8217;t install on&amp;nbsp;them.&lt;/p&gt;
&lt;p&gt;After an hour long phone call to &lt;span class="caps"&gt;HP&lt;/span&gt; support, I ended up speaking with
Paulo, the third support person I was transferred to. #1 read off the
web site, #2 knew what Linux was, but Paulo (#3) actually told me that
he was experimenting with installing &lt;span class="caps"&gt;HPASM&lt;/span&gt; (&lt;span class="caps"&gt;HP&lt;/span&gt;&amp;#8217;s server
administration/management utility) on an older Proliant as well. He
spent about half an hour walking me through it. Here&amp;#8217;s what I&amp;nbsp;found:&lt;/p&gt;
&lt;p&gt;The most compatible version of &lt;span class="caps"&gt;HPASM&lt;/span&gt; (I guess it&amp;#8217;s some hidden feature
for people who know it) is the version for the &lt;span class="caps"&gt;DL380&lt;/span&gt; G4. Paulo
instructed me to download this &lt;span class="caps"&gt;RPM&lt;/span&gt; from their site. I did, choosing the
&lt;span class="caps"&gt;SLES10&lt;/span&gt; (x86) download (hpasm-7.7.0-115.sles10.i586.rpm). This installed
fine. Running &lt;code&gt;hpasm status&lt;/code&gt; from the command line asks us to activate
it first. Do the activation. Now, running &lt;code&gt;hpasm status&lt;/code&gt; still asks us
to activate. Paulo confirmed this as happening on his machine too. Try
&lt;code&gt;/etc/init.d/hpasm status&lt;/code&gt; and you should see that all of the modules
are&amp;nbsp;working.&lt;/p&gt;
&lt;p&gt;Now, the install is complete. I&amp;#8217;m not sure if the &lt;span class="caps"&gt;SNMP&lt;/span&gt; works, but it
should as long as your snmpd is running. The &lt;code&gt;hpasm activate&lt;/code&gt; command
modifies snmpd.conf appropriately. and you will be queried for the
currect configuration&amp;nbsp;information.&lt;/p&gt;
&lt;p&gt;To give it a test, run &lt;code&gt;hplog -f&lt;/code&gt; or &lt;code&gt;hplog -p&lt;/code&gt; and you should see fan
and power status,&amp;nbsp;respectively.&lt;/p&gt;
&lt;p&gt;Paulo also told me that I could download the hpadu package (also &lt;span class="caps"&gt;DL380&lt;/span&gt;
G4 / &lt;span class="caps"&gt;SLES10&lt;/span&gt;) to get array diagnostics, He warned me that some of the
install scripts in &lt;span class="caps"&gt;HPADU&lt;/span&gt; look for the web management homepage, which we
haven&amp;#8217;t installed. To get around this, install the &lt;span class="caps"&gt;HPADU&lt;/span&gt; &lt;span class="caps"&gt;RPM&lt;/span&gt; file
(hpadu-7.70-12.linux.rpm)
&lt;code&gt;rpm -ivh --force --nodeps --noscripts hpadu-7.70-12.linux.rpm&lt;/code&gt;. Be
aware, though, that this package is supposed to be web-based. It
installs to&amp;nbsp;/opt/hp/hpadu.&lt;/p&gt;
&lt;p&gt;The web interface, luckily for me, is written in &lt;span class="caps"&gt;PHP&lt;/span&gt;. It is pretty
complex so it might take me a while to figure out the workings, but when
I do, I&amp;#8217;ll post as much info as I can on how to make a &lt;span class="caps"&gt;CLI&lt;/span&gt; interface, or
where one exists if I can find&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;Also, I&amp;#8217;ll most likely develop a Python check script to use with
&lt;a href="http://www.nagios.org"&gt;Nagios&lt;/a&gt; to monitor most of the hpasm-enabled&amp;nbsp;components.&lt;/p&gt;
&lt;p&gt;For the use of anyone else, here are some of the links that &lt;span class="caps"&gt;HP&lt;/span&gt; Support
sent me after the&amp;nbsp;call:&lt;/p&gt;
&lt;p&gt;Link for users guide for Proliant Support Pack, which includes
documentation on &lt;span class="caps"&gt;HPASM&lt;/span&gt; from the&amp;nbsp;&lt;span class="caps"&gt;CLI&lt;/span&gt;:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://h18000.www1.hp.com/support/files/server/us/WebDoc/720/psp-users-guide.pdf"&gt;http://h18000.www1.hp.com/support/files/server/us/WebDoc/720/psp-users-guide.pdf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Product&amp;nbsp;manuals:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://h20180.www2.hp.com/apps/Nav?h_pagetype=s-003&amp;amp;h_lang=en&amp;amp;h_cc=us&amp;amp;h_product=241435&amp;amp;h_page=hpcom&amp;amp;h_client=z-a-r1002-3&amp;amp;cc=us〈=en"&gt;http://h20180.www2.hp.com/apps/Nav?h_pagetype=s-003&amp;amp;h_lang=en&amp;amp;h_cc=us&amp;amp;h_product=241435&amp;amp;h_page=hpcom&amp;amp;h_client=z-a-r1002-3&amp;amp;cc=us〈=en&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class="caps"&gt;ML370&lt;/span&gt;&amp;nbsp;G1&lt;/p&gt;
&lt;p&gt;&lt;a href="http://h20000.www2.hp.com/bc/docs/support/UCR/SupportManual/TPM_143091-004/TPM_143091-004.pdf"&gt;http://h20000.www2.hp.com/bc/docs/support/&lt;span class="caps"&gt;UCR&lt;/span&gt;/SupportManual/TPM_143091-004/TPM_143091-004.pdf&lt;/a&gt;&lt;/p&gt;</content><category term="compaq"></category><category term="hp"></category><category term="hpadu"></category><category term="hpasm"></category><category term="linux"></category><category term="management"></category><category term="proliant"></category><category term="psp"></category></entry></feed>