<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Jason Antman's Blog</title><link href="http://blog.jasonantman.com/" rel="alternate"></link><link href="http://blog.jasonantman.com/feeds/all-en.atom.xml" rel="self"></link><id>http://blog.jasonantman.com/</id><updated>2014-01-01T15:15:00-05:00</updated><entry><title>Planning Migration from WordPress to Static Site</title><link href="http://blog.jasonantman.com/2014/01/planning-migration-from-wordpress-to-static-site/" rel="alternate"></link><updated>2014-01-01T15:15:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2014-01-01:2014/01/planning-migration-from-wordpress-to-static-site/</id><summary type="html">&lt;p&gt;Right now, this blog, my email, and a whole bunch of other services are
hosted on a &lt;a href="http://linode.com"&gt;Linode&lt;/a&gt; Xen &lt;span class="caps"&gt;VM&lt;/span&gt;. I don&amp;#8217;t really keep up
to date with administration and upgrades the way I used to, and
honestly, I&amp;#8217;d rather spend my time working on other things (like
actually writing all of the blog posts that I&amp;#8217;ve been planning to. The
first thing I&amp;#8217;ve identified for migration is this blog itself. It&amp;#8217;s
currently on WordPress and, frankly, I don&amp;#8217;t either need nor like it.
But there are some features I like. I&amp;#8217;d like to end up with a static
site generator, hosted from either S3 or GitHub Pages. I know that means
I&amp;#8217;ll lost comments (unless I move to a third-party, &lt;span class="caps"&gt;JS&lt;/span&gt;-based comment
system like &lt;a href="http://disqus.com/"&gt;Disqus&lt;/a&gt;, which means I&amp;#8217;ll lose
&lt;em&gt;control&lt;/em&gt; over my comments) but I suppose I can live with that. What I
really want is something simple, static, cheap or free (that I&amp;#8217;ll likely
put behind a small ec2 instance running nginx for&amp;nbsp;redirects/rewrites).&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m still in the planning phase, and trying to come up with a
feature-by-feature comparison of my options. I&amp;#8217;ll likely post that when
I finally have it done (at the moment it&amp;#8217;s in a very rough &lt;a href="https://docs.google.com/spreadsheet/ccc?key=0AnHh-ye5DNiNdF9DWkJrT2kzSkNsNVp6cjMzLXJ6VEE&amp;amp;usp=sharing"&gt;Google Docs
spreadsheet&lt;/a&gt;).
I&amp;#8217;m trying to round up my static site generator options and see which
ones will do most, if not all, of what I want (though I still haven&amp;#8217;t
discounted using hosted wordpress if it comes down to it). Here are the
features I currently &amp;#8220;use&amp;#8221; (have) on my WordPress&amp;nbsp;blog:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;User-defined permalinks to&amp;nbsp;posts&lt;/li&gt;
&lt;li&gt;Overall &lt;span class="caps"&gt;RSS&lt;/span&gt; feed of blog (currently powered by FeedBurner) and of&amp;nbsp;comments)&lt;/li&gt;
&lt;li&gt;Categories (a post can be in multiple&amp;nbsp;categories)&lt;/li&gt;
&lt;li&gt;Tags&lt;/li&gt;
&lt;li&gt;Category and Tag&amp;nbsp;pages&lt;/li&gt;
&lt;li&gt;per-Category and per-Tag feeds&amp;nbsp;(&lt;span class="caps"&gt;RSS&lt;/span&gt;)&lt;/li&gt;
&lt;li&gt;Tag cloud &amp;#8220;widget&amp;#8221; in&amp;nbsp;sidebar&lt;/li&gt;
&lt;li&gt;Themes. I actually like my current &lt;span class="caps"&gt;WP&lt;/span&gt;&amp;nbsp;theme&amp;#8230;&lt;/li&gt;
&lt;li&gt;Visitor statistics (currently self-hosted
    &lt;a href="http://piwik.org/"&gt;Piwik&lt;/a&gt;, formerly Google&amp;nbsp;Analytics)&lt;/li&gt;
&lt;li&gt;Post publishing via cron&amp;#8217;ed script (&lt;em&gt;see below&lt;/em&gt;)&lt;/li&gt;
&lt;li&gt;Draft/Pending status (i.e. let me save a partial post, and let me
    save a complete post but mark it &amp;#8220;pending&amp;#8221; so I can just publish it&amp;nbsp;later)&lt;/li&gt;
&lt;li&gt;Commenting (this will probably be the big sticking&amp;nbsp;point)&lt;/li&gt;
&lt;li&gt;Syntax&amp;nbsp;hilighting&lt;/li&gt;
&lt;li&gt;As &amp;#8220;weird&amp;#8221; as this is, I write all my posts in raw &lt;span class="caps"&gt;HTML&lt;/span&gt;, and am
    perfectly happy doing&amp;nbsp;that.&lt;/li&gt;
&lt;li&gt;&lt;span class="dquo"&gt;&amp;#8220;&lt;/span&gt;Subscribe via Email&amp;#8221; FeedBurner&amp;nbsp;widget&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;XML&lt;/span&gt;&amp;nbsp;Sitemap&lt;/li&gt;
&lt;li&gt;Twitter&amp;nbsp;box/widget&lt;/li&gt;
&lt;li&gt;Pingbacks (not that these are really useful for anything other than
    spam these&amp;nbsp;days)&lt;/li&gt;
&lt;li&gt;Automatic or manual post excerpts for feeds,&amp;nbsp;etc.&lt;/li&gt;
&lt;li&gt;Remote publishing via &lt;span class="caps"&gt;XML&lt;/span&gt;-&lt;span class="caps"&gt;RPC&lt;/span&gt;/Android app (not that I&amp;#8217;ve used it
    more than once or&amp;nbsp;twice)&lt;/li&gt;
&lt;li&gt;Advertising - I currently use Google AdSense on my blog. The revenue
    from my tiny hit count isn&amp;#8217;t enough to offset the cost of a Linode,
    but if I moved to a much less expensive hosting service, it might be
    worth considering (you can&amp;#8217;t run ads on the free hosted WordPress,
    and I doubt you can on GitHub Pages&amp;nbsp;either).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I should be updating this post when I do some more research and have a
comparison of the&amp;nbsp;options.&lt;/p&gt;
&lt;p&gt;Note on &amp;#8220;Post publishing via cron&amp;#8217;ed script&amp;#8221; - sometimes I sit down and
write half a dozen or so blog posts at a time. But I don&amp;#8217;t want them all
to show up immediately, and spam the few people who still use &lt;span class="caps"&gt;RSS&lt;/span&gt;
readers after the death of Google Reader. So I set the posts to
&amp;#8220;Pending&amp;#8221; status, and I have a cron&amp;#8217;ed script that runs every weekday
morning and publishes the one oldest &amp;#8220;pending&amp;#8221; post. Who knows if this
actually does any good or&amp;nbsp;not&amp;#8230;&lt;/p&gt;</summary><category term="blog"></category><category term="jekyll"></category><category term="pelican"></category><category term="python"></category><category term="static site"></category><category term="wordpress"></category></entry><entry><title>Testing GPG Key Passphrases</title><link href="http://blog.jasonantman.com/2013/08/testing-gpg-key-passphrases/" rel="alternate"></link><updated>2013-08-26T06:00:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2013-08-26:2013/08/testing-gpg-key-passphrases/</id><summary type="html">&lt;p&gt;So hypothetically, you have a &lt;span class="caps"&gt;GPG&lt;/span&gt; public/private keypair (from a backup
or old computer), but you don&amp;#8217;t remember the passphrase. Here&amp;#8217;s a
relatively simple way to find it from a number of possible options. This
&lt;em&gt;requires&lt;/em&gt; that you have a computer secure enough to store the possible
options in a text file. I&amp;#8217;d recommend storing that file on a
ramdisk/tmpfs, and using a temporary &lt;span class="caps"&gt;VM&lt;/span&gt; for this, which you&amp;#8217;ll wipe away
when you&amp;#8217;re&amp;nbsp;done.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Preparation:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;You have an appropriately secure place to do this with &lt;span class="caps"&gt;GPG&lt;/span&gt;
    installed, and a safe place to store a text file of sample
    passphrases (i.e. a&amp;nbsp;ramdisk).&lt;/li&gt;
&lt;li&gt;Copy your backed up public and private keys to &lt;code&gt;~/.gnupg&lt;/code&gt; on that
    host. Let&amp;#8217;s assume they&amp;#8217;re called &lt;code&gt;TestUser_public.key&lt;/code&gt; and
    &lt;code&gt;TestUser_private.key&lt;/code&gt;. We&amp;#8217;re assuming that you &lt;span class="caps"&gt;KNOW&lt;/span&gt;, &lt;span class="caps"&gt;BEYOND&lt;/span&gt; A &lt;span class="caps"&gt;DOUBT&lt;/span&gt;
    that these are your keys (i.e. you got them from a secure offline
    backup medium, you&amp;#8217;ve verified against a printed key fingerprint,
    you&amp;#8217;ve verified the fingerprints against a
    &lt;a href="http://pgp.mit.edu/"&gt;keyserver&lt;/a&gt; that you know is authoritative for
    your keys,&amp;nbsp;etc.).&lt;/li&gt;
&lt;li&gt;First, we import the public and private keys to&amp;nbsp;&lt;span class="caps"&gt;GPG&lt;/span&gt;:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="gp"&gt;testuser:~$&lt;/span&gt; &lt;span class="nb"&gt;cd&lt;/span&gt; .gnupg
&lt;span class="gp"&gt;testuser:~/.gnupg$&lt;/span&gt; gpg --import TestUser_public.key 
&lt;span class="go"&gt;gpg: keyring `/home/testuser/.gnupg/secring.gpg` created&lt;/span&gt;
&lt;span class="go"&gt;gpg: key &lt;span class="caps"&gt;17AD8D3D&lt;/span&gt;: public key &amp;quot;Test User (Test User) &amp;quot; imported&lt;/span&gt;
&lt;span class="go"&gt;gpg: Total number processed: 1&lt;/span&gt;
&lt;span class="go"&gt;gpg:               imported: 1  (&lt;span class="caps"&gt;RSA&lt;/span&gt;: 1)&lt;/span&gt;

&lt;span class="gp"&gt;testuser:~/.gnupg$&lt;/span&gt; gpg --allow-secret-key-import --import TestUser_secret.key 
&lt;span class="go"&gt;gpg: key &lt;span class="caps"&gt;17AD8D3D&lt;/span&gt;: secret key imported&lt;/span&gt;
&lt;span class="go"&gt;gpg: key &lt;span class="caps"&gt;17AD8D3D&lt;/span&gt;: &amp;quot;Test User (Test User) &amp;quot; not changed&lt;/span&gt;
&lt;span class="go"&gt;gpg: Total number processed: 1&lt;/span&gt;
&lt;span class="go"&gt;gpg:              unchanged: 1&lt;/span&gt;
&lt;span class="go"&gt;gpg:       secret keys read: 1&lt;/span&gt;
&lt;span class="go"&gt;gpg:   secret keys imported: 1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Check that the keys are&amp;nbsp;there:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="gp"&gt;testuser:~/.gnupg$&lt;/span&gt; gpg --list-keys
&lt;span class="go"&gt;/home/testuser/.gnupg/pubring.gpg&lt;/span&gt;
&lt;span class="go"&gt;--------------------------------&lt;/span&gt;
&lt;span class="go"&gt;pub   2048R/&lt;span class="caps"&gt;17AD8D3D&lt;/span&gt; 2013-08-24&lt;/span&gt;
&lt;span class="go"&gt;uid                  Test User (Test User) &lt;/span&gt;
&lt;span class="go"&gt;sub   2048R/&lt;span class="caps"&gt;40D9F35E&lt;/span&gt; 2013-08-24&lt;/span&gt;

&lt;span class="gp"&gt;testuser:~/.gnupg$&lt;/span&gt; gpg --list-secret-keys
&lt;span class="go"&gt;/home/testuser/.gnupg/secring.gpg&lt;/span&gt;
&lt;span class="go"&gt;--------------------------------&lt;/span&gt;
&lt;span class="go"&gt;sec   2048R/&lt;span class="caps"&gt;17AD8D3D&lt;/span&gt; 2013-08-24&lt;/span&gt;
&lt;span class="go"&gt;uid                  Test User (Test User) &lt;/span&gt;
&lt;span class="go"&gt;ssb   2048R/&lt;span class="caps"&gt;40D9F35E&lt;/span&gt; 2013-08-24&lt;/span&gt;

&lt;span class="gp"&gt;testuser:~/.gnupg$&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Note the fingerprint of the key which is, in this case, &lt;code&gt;17AD8D3D&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Testing&amp;nbsp;Passphrases:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Now that we have the keys imported, we&amp;#8217;re ready to test some
    passphrases. Enter your passphrases, one per line, in a text file.
    We&amp;#8217;re assuming that we&amp;#8217;re working on a totally secured host
    (ideally, a &lt;span class="caps"&gt;VM&lt;/span&gt; running on a standalone, non-networked machine) that
    will be destroyed when we&amp;#8217;re done. For added security, I&amp;#8217;d put this
    file on a ramdisk. In this example, the actual passphrase for the
    key is &amp;#8220;test&amp;#8221;. Here&amp;#8217;s our text&amp;nbsp;file:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="gp"&gt;testuser:~/.gnupg$&lt;/span&gt; cat /tmp/passphrases 
&lt;span class="go"&gt;bad&lt;/span&gt;
&lt;span class="go"&gt;notgood&lt;/span&gt;
&lt;span class="go"&gt;notright&lt;/span&gt;
&lt;span class="go"&gt;test&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Next, create a test data file to try to&amp;nbsp;sign/encrypt:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="gp"&gt;testuser:~/.gnupg$&lt;/span&gt; &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;test input&amp;quot;&lt;/span&gt; &amp;gt; /tmp/test.in
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Now we run the actual test (see below for more&amp;nbsp;information&amp;#8230;)&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="gp"&gt;testuser:~/.gnupg$&lt;/span&gt; &lt;span class="k"&gt;for &lt;/span&gt;p in &lt;span class="sb"&gt;`&lt;/span&gt;cat /tmp/passphrases&lt;span class="sb"&gt;`&lt;/span&gt;; &lt;span class="k"&gt;do &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;$p&amp;quot;&lt;/span&gt; | gpg -q --sign --local-user &lt;span class="caps"&gt;17AD8D3D&lt;/span&gt; --passphrase-fd 0 --output /dev/null --yes /tmp/test.in &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;span class="caps"&gt;CORRECT&lt;/span&gt; passphrase: $p&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="nb"&gt;break&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;; &lt;span class="k"&gt;done&lt;/span&gt;
&lt;span class="go"&gt;Reading passphrase from file descriptor 0    &lt;/span&gt;

&lt;span class="go"&gt;You need a passphrase to unlock the secret key for&lt;/span&gt;
&lt;span class="go"&gt;user: &amp;quot;Test User (Test User) &amp;quot;&lt;/span&gt;
&lt;span class="go"&gt;2048-bit &lt;span class="caps"&gt;RSA&lt;/span&gt; key, &lt;span class="caps"&gt;ID&lt;/span&gt; &lt;span class="caps"&gt;17AD8D3D&lt;/span&gt;, created 2013-08-24&lt;/span&gt;

&lt;span class="go"&gt;gpg: skipped &amp;quot;&lt;span class="caps"&gt;17AD8D3D&lt;/span&gt;&amp;quot;: bad passphrase&lt;/span&gt;
&lt;span class="go"&gt;gpg: signing failed: bad passphrase&lt;/span&gt;
&lt;span class="go"&gt;Reading passphrase from file descriptor 0    &lt;/span&gt;

&lt;span class="go"&gt;You need a passphrase to unlock the secret key for&lt;/span&gt;
&lt;span class="go"&gt;user: &amp;quot;Test User (Test User) &amp;quot;&lt;/span&gt;
&lt;span class="go"&gt;2048-bit &lt;span class="caps"&gt;RSA&lt;/span&gt; key, &lt;span class="caps"&gt;ID&lt;/span&gt; &lt;span class="caps"&gt;17AD8D3D&lt;/span&gt;, created 2013-08-24&lt;/span&gt;

&lt;span class="go"&gt;gpg: skipped &amp;quot;&lt;span class="caps"&gt;17AD8D3D&lt;/span&gt;&amp;quot;: bad passphrase&lt;/span&gt;
&lt;span class="go"&gt;gpg: signing failed: bad passphrase&lt;/span&gt;
&lt;span class="go"&gt;Reading passphrase from file descriptor 0    &lt;/span&gt;

&lt;span class="go"&gt;You need a passphrase to unlock the secret key for&lt;/span&gt;
&lt;span class="go"&gt;user: &amp;quot;Test User (Test User) &amp;quot;&lt;/span&gt;
&lt;span class="go"&gt;2048-bit &lt;span class="caps"&gt;RSA&lt;/span&gt; key, &lt;span class="caps"&gt;ID&lt;/span&gt; &lt;span class="caps"&gt;17AD8D3D&lt;/span&gt;, created 2013-08-24&lt;/span&gt;

&lt;span class="go"&gt;gpg: skipped &amp;quot;&lt;span class="caps"&gt;17AD8D3D&lt;/span&gt;&amp;quot;: bad passphrase&lt;/span&gt;
&lt;span class="go"&gt;gpg: signing failed: bad passphrase&lt;/span&gt;
&lt;span class="go"&gt;Reading passphrase from file descriptor 0    &lt;/span&gt;

&lt;span class="go"&gt;You need a passphrase to unlock the secret key for&lt;/span&gt;
&lt;span class="go"&gt;user: &amp;quot;Test User (Test User) &amp;quot;&lt;/span&gt;
&lt;span class="go"&gt;2048-bit &lt;span class="caps"&gt;RSA&lt;/span&gt; key, &lt;span class="caps"&gt;ID&lt;/span&gt; &lt;span class="caps"&gt;17AD8D3D&lt;/span&gt;, created 2013-08-24&lt;/span&gt;

&lt;span class="go"&gt;&lt;span class="caps"&gt;CORRECT&lt;/span&gt; passphrase: test&lt;/span&gt;
&lt;span class="gp"&gt;testuser:~/.gnupg$&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;And there we have it, the working passphrase. I&amp;#8217;m sure there&amp;#8217;s a
    more efficient way to do this, and probably a more secure way, but
    I&amp;#8217;m not trying to brute-force someone&amp;#8217;s &lt;span class="caps"&gt;GPG&lt;/span&gt; key, I&amp;#8217;m trying to
    remember which one of my (many, many) passwords I used for a &lt;span class="caps"&gt;GPG&lt;/span&gt; key
    that I generated a decade&amp;nbsp;ago.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The actual command that we ran, rewritten with some linebreaks for
legibility,&amp;nbsp;is:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="k"&gt;for &lt;/span&gt;p in &lt;span class="sb"&gt;`&lt;/span&gt;cat /tmp/passphrases&lt;span class="sb"&gt;`&lt;/span&gt;
&lt;span class="k"&gt;do&lt;/span&gt;
&lt;span class="k"&gt;    &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;$p&amp;quot;&lt;/span&gt; | gpg -q --sign --local-user &lt;span class="caps"&gt;17AD8D3D&lt;/span&gt; --passphrase-fd 0 --output /dev/null --yes /tmp/test.in &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;span class="caps"&gt;CORRECT&lt;/span&gt; passphrase: $p&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="nb"&gt;break&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;done&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This loops over each line in the passphrases file (each passphrase that
we want to try), and for each one, echoes the password and pipes it to
&lt;span class="caps"&gt;STDIN&lt;/span&gt; of &lt;code&gt;gpg&lt;/code&gt;, which tries to sign /tmp/test.in (sending the output
to /dev/null) using the key with &lt;span class="caps"&gt;ID&lt;/span&gt; &lt;code&gt;17AD8D3D&lt;/code&gt; (from #5 in the
Preparation steps above) and a password provided on &lt;span class="caps"&gt;STDIN&lt;/span&gt;. If the &lt;span class="caps"&gt;GPG&lt;/span&gt;
command succeeds, we echo the passphrase and stop looping through the
passphrases&amp;nbsp;file.&lt;/p&gt;
&lt;p&gt;I hope I wouldn&amp;#8217;t have to say this for anyone who&amp;#8217;s reading my blog, but
this information (as easy as it is to be figured out), is not to be used
for unethical&amp;nbsp;purposes.&lt;/p&gt;</summary><category term="encryption"></category><category term="gnupg"></category><category term="gpg"></category><category term="key"></category><category term="passphrase"></category><category term="pgp"></category></entry><entry><title>Quick Tip: Timestamping bash history</title><link href="http://blog.jasonantman.com/2013/06/quick-tip-timestamping-bash-history/" rel="alternate"></link><updated>2013-06-11T07:09:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2013-06-11:2013/06/quick-tip-timestamping-bash-history/</id><summary type="html">&lt;p&gt;Here&amp;#8217;s a tiny little snippet that I have in my &lt;code&gt;.bashrc&lt;/code&gt; which really
comes in handy when trying to figure out what I did on a system when.
One of the first things I do when (eek) building out or working on a
one-off machine (or setting up a new laptop/desktop, as I am right now)
is set this in bashrc for my user and root, so I can go back and
document the setup process with a little more ease and sanity. Just add
this (it&amp;#8217;s just a &lt;a href="http://linux.die.net/man/3/strftime"&gt;strftime (3)&lt;/a&gt;
format string &lt;a href="http://www.gnu.org/software/bash/manual/bashref.html#index-HISTTIMEFORMAT"&gt;according to the
docs&lt;/a&gt;,
so adjust as desired) to &lt;code&gt;.bashrc&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="nb"&gt;export &lt;/span&gt;&lt;span class="nv"&gt;&lt;span class="caps"&gt;HISTTIMEFORMAT&lt;/span&gt;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;%F %T &amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;and bash will store commented-out integer timestamps before each line in
&lt;code&gt;.bash_history&lt;/code&gt; like&amp;nbsp;so:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="gp"&gt;#&lt;/span&gt;1370950005
&lt;span class="go"&gt;less .bashrc&lt;/span&gt;
&lt;span class="gp"&gt;#&lt;/span&gt;1370950017
&lt;span class="go"&gt;history &lt;/span&gt;
&lt;span class="gp"&gt;#&lt;/span&gt;1370950279
&lt;span class="go"&gt;tail -30 .bash_history &lt;/span&gt;
&lt;span class="gp"&gt;#&lt;/span&gt;1370950293
&lt;span class="go"&gt;exit&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;the output of &lt;code&gt;history&lt;/code&gt; now uses the specified time&amp;nbsp;format:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt; 997  2013-06-11 07:26:45 less .bashrc
 998  2013-06-11 07:26:57 history 
 999  2013-06-11 07:31:19 tail -30 .bash_history 
1000  2013-06-11 07:31:33 exit
&lt;/pre&gt;&lt;/div&gt;</summary><category term="bash"></category><category term="history"></category><category term="shell"></category><category term="timestamp"></category></entry><entry><title>Python script to check a list of URLs for return code, and final return code if redirected</title><link href="http://blog.jasonantman.com/2013/06/python-script-to-check-a-list-of-urls-for-return-code-and-final-return-code-if-redirected/" rel="alternate"></link><updated>2013-06-10T06:00:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2013-06-10:2013/06/python-script-to-check-a-list-of-urls-for-return-code-and-final-return-code-if-redirected/</id><summary type="html">&lt;p&gt;Every once in a while I need to add a bunch of redirects in Apache.
Here&amp;#8217;s a handy, dead simple Python script which takes a list of URLs on
&lt;span class="caps"&gt;STDIN&lt;/span&gt;, and for each one prints out either the response code, or, if the
response is a redirect, the response code of what is redirected to.
Pretty useful when you&amp;#8217;ve just added a bunch of redirects and want to
make sure none of them&amp;nbsp;404.&lt;/p&gt;
&lt;p&gt;The latest source of this script lives at
&lt;a href="https://github.com/jantman/misc-scripts/blob/master/check_url_list.py"&gt;https://github.com/jantman/misc-scripts/blob/master/check_url_list.py&lt;/a&gt;.&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="c"&gt;#!/usr/bin/env python&lt;/span&gt;
&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="sd"&gt;Script to check a list of URLs (passed on stdin) for response code, and for response code of the final path in a series of redirects.&lt;/span&gt;
&lt;span class="sd"&gt;Outputs (to stdout) a list of count of a given &lt;span class="caps"&gt;URL&lt;/span&gt;, response code, and if redirected, the final &lt;span class="caps"&gt;URL&lt;/span&gt; and its response code&lt;/span&gt;

&lt;span class="sd"&gt;Optionally, with verbose flag, report on all &lt;span class="caps"&gt;URL&lt;/span&gt; checks on &lt;span class="caps"&gt;STDERR&lt;/span&gt;&lt;/span&gt;

&lt;span class="sd"&gt;Copyright 2013 Jason Antman  all rights reserved&lt;/span&gt;
&lt;span class="sd"&gt;This script is distributed under the terms of the GPLv3, as per the&lt;/span&gt;
&lt;span class="sd"&gt;&lt;span class="caps"&gt;LICENSE&lt;/span&gt; file in this repository.&lt;/span&gt;

&lt;span class="sd"&gt;The canonical version of this script can be found at:&lt;/span&gt;

&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;sys&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;urllib2&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_url_nofollow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;urllib2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;urlopen&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;code&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getcode&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;code&lt;/span&gt;
    &lt;span class="k"&gt;except&lt;/span&gt; &lt;span class="n"&gt;urllib2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;HTTPError&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;code&lt;/span&gt;
    &lt;span class="k"&gt;except&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="n"&gt;urls&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;

    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;stdin&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;readlines&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
        &lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strip&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;urls&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;stderr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;+ checking &lt;span class="caps"&gt;URL&lt;/span&gt;: &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;urls&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;code&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;get_url_nofollow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;count&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
            &lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;stderr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;++ &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;urls&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt;
        &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;urls&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;count&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;urls&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;count&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;

    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;url&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;urls&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;urls&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;code&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="mi"&gt;200&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="se"&gt;\t&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="se"&gt;\t&lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;urls&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;count&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;urls&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;code&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;__main__&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="http"></category><category term="python"></category><category term="redirect"></category><category term="urllib"></category></entry><entry><title>Modern (0.10.x+) NodeJS RPMs on CentOS/REHL 5 and 6</title><link href="http://blog.jasonantman.com/2013/06/modern-0-10-x-nodejs-rpms-on-centosrehl-5-and-6/" rel="alternate"></link><updated>2013-06-06T20:47:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2013-06-06:2013/06/modern-0-10-x-nodejs-rpms-on-centosrehl-5-and-6/</id><summary type="html">&lt;p&gt;I posted back in January about &lt;a href="/2013/01/rpm-spec-files-for-nodejs-0-9-5-and-v8-on-centos-5/"&gt;&lt;span class="caps"&gt;RPM&lt;/span&gt; Spec Files for nodejs 0.9.5 and v8
on CentOS
6&lt;/a&gt;. In
that post I also said that I was unable to get recent NodeJS to build on
CentOS 5 because of a long chain of dependencies including node-gyp, v8,
http-parser, glibc, etc. I said I couldn&amp;#8217;t get it to build. Well, I have
good news for both distro&amp;nbsp;versions.&lt;/p&gt;
&lt;p&gt;On the CentOS/&lt;span class="caps"&gt;RHEL&lt;/span&gt; 6 side, thanks to a lot of work by &lt;span class="caps"&gt;T. C.
&lt;/span&gt;Hollingsworth and others, NodeJS 0.10.5 is currently in the official
&lt;a href="http://fedoraproject.org/wiki/EPEL"&gt;&lt;span class="caps"&gt;EPEL&lt;/span&gt;&lt;/a&gt; repositories. They seem to be
keeping the packages pretty current, but if you need newer, you can
always grab the SRPMs from &lt;span class="caps"&gt;EPEL&lt;/span&gt; and build the newer versions. This is
great, because it means I no longer need to maintain the spec files and
do my own builds. I don&amp;#8217;t think I really did anything to help get this
package in &lt;span class="caps"&gt;EPEL&lt;/span&gt;, other than ping a few people and comment on a few&amp;nbsp;tickets.&lt;/p&gt;
&lt;p&gt;For CentOS/&lt;span class="caps"&gt;RHEL&lt;/span&gt; 5, I finally have packages, but they&amp;#8217;re not exactly
pretty. The dependency solving issues still stand; they&amp;#8217;re rooted at the
dependency of node-gyp which requires the v8 C++ JavaScript library, and
is required to compile shared object addons. The best solution that I
(and a few others) could find is simply not to build node-gyp, and not
to have support for addons or package any addons; we just have the
binaries that NodeJS&amp;#8217;s Makefile creates, and everything else is
interpreted. A &lt;a href="https://twitter.com/toxigenicpoem"&gt;coworker&lt;/a&gt; found
&lt;a href="https://github.com/kazuhisya/nodejs-rpm"&gt;https://github.com/kazuhisya/nodejs-rpm&lt;/a&gt;
which contains a configure patch and specfile for a dead-simple CentOS
5/6 &lt;span class="caps"&gt;RPM&lt;/span&gt; of NodeJS 0.10.9, which essentially just uses &lt;span class="caps"&gt;EPEL&lt;/span&gt;&amp;#8217;s python26
packages to power the NodeJS build process, configures and uses the
Makefile&amp;#8217;s &lt;code&gt;make binary&lt;/code&gt; command to spit out a NodeJS binary tarball,
and then packages that. That whole process way out of line from the
&lt;a href="http://fedoraproject.org/wiki/Packaging:Guidelines"&gt;Fedora Packaging
Guidelines&lt;/a&gt;, and
also only dumps out nodejs, nodejs-binary and nodejs-debuginfo packages,
so I also can&amp;#8217;t just substitute in a different package name in my puppet
manifests (which install nodejs, nodejs-devel and npm packages). So I
&lt;a href="https://github.com/jantman/nodejs-rpm-centos5"&gt;forked that repository&lt;/a&gt;
and made some changes to the specfile: I gave the package name a prefix
(&amp;#8220;cmgd_&amp;#8221;, since that&amp;#8217;s where I work these days) and some warnings in
the description, to make it abundantly clear that these packages are
very far from what you find in &lt;span class="caps"&gt;EPEL&lt;/span&gt; and other repositories, and broke
npm and the devel files out into their own subpackages. Hopefully this
spec file will be of use to someone else who also has the unfortunate
need of supporting recent NodeJS on CentOS 5. If there&amp;#8217;s enough
interest, I&amp;#8217;ll consider building the packages and putting them in a
repository&amp;nbsp;somewhere.&lt;/p&gt;
&lt;p&gt;You can see the NodeJS 0.10.9 on CentOS 5 spec file, a patch, and the
READMEs at
&lt;a href="https://github.com/jantman/nodejs-rpm-centos5"&gt;https://github.com/jantman/nodejs-rpm-centos5&lt;/a&gt;.
Patches and/or pull requests are greatly appreciated, especially from
anyone who wants to make the spec file more Fedora guidelines&amp;nbsp;compliant.&lt;/p&gt;</summary><category term="build"></category><category term="centos"></category><category term="EPEL"></category><category term="node"></category><category term="nodejs"></category><category term="package"></category><category term="packaging"></category><category term="redhat"></category><category term="RHEL"></category><category term="rpm"></category><category term="specfile"></category></entry><entry><title>Script to easily rebuild a SRPM</title><link href="http://blog.jasonantman.com/2013/05/script-to-easily-rebuild-a-srpm/" rel="alternate"></link><updated>2013-05-28T10:26:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2013-05-28:2013/05/script-to-easily-rebuild-a-srpm/</id><summary type="html">&lt;p&gt;Between &lt;span class="caps"&gt;RHEL&lt;/span&gt;/CentOS 5 and 6 the default &lt;span class="caps"&gt;RPM&lt;/span&gt; compression format was
changed to xz. As such, trying to build a recent Fedora or Cent6 &lt;span class="caps"&gt;SRPM&lt;/span&gt; on
Cent5 will error out with a message like
&lt;code&gt;error: unpacking of archive failed on file foo;51a4c2a5: cpio: MD5 sum mismatch&lt;/code&gt;
because tar on CentOS 5 doesn&amp;#8217;t support&amp;nbsp;xz.&lt;/p&gt;
&lt;p&gt;Here&amp;#8217;s a quick and dirty little script to use &lt;code&gt;rpm2cpio&lt;/code&gt; to rebuild a
&lt;span class="caps"&gt;SRPM&lt;/span&gt; using the host&amp;#8217;s native &lt;span class="caps"&gt;RPM&lt;/span&gt; compression. The latest version will
live at
&lt;a href="https://github.com/jantman/misc-scripts/blob/master/rebuild_srpm.sh"&gt;https://github.com/jantman/misc-scripts/blob/master/rebuild_srpm.sh&lt;/a&gt;&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="c"&gt;#!/bin/bash&lt;/span&gt;
&lt;span class="c"&gt;#&lt;/span&gt;
&lt;span class="c"&gt;# Script to rebuild a &lt;span class="caps"&gt;SRPM&lt;/span&gt; 1:1, useful when you want to build a &lt;span class="caps"&gt;RHEL&lt;/span&gt;/CentOS 6&lt;/span&gt;
&lt;span class="c"&gt;# &lt;span class="caps"&gt;SRPM&lt;/span&gt; on a &lt;span class="caps"&gt;RHEL&lt;/span&gt;/CentOS 5 system that doesn&amp;#39;t support newer compression (cpio: &lt;span class="caps"&gt;MD5&lt;/span&gt; sum mismatch)&lt;/span&gt;
&lt;span class="c"&gt;#&lt;/span&gt;
&lt;span class="c"&gt;# by Jason Antman &lt;/span&gt;
&lt;span class="c"&gt;# The latest version of this script will always live at:&lt;/span&gt;
&lt;span class="c"&gt;# &lt;/span&gt;
&lt;span class="c"&gt;#&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[[&lt;/span&gt; -z &lt;span class="s2"&gt;&amp;quot;$1&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;$1&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;-h&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;$1&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;--help&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;]]&lt;/span&gt;
&lt;span class="k"&gt;then&lt;/span&gt;
&lt;span class="k"&gt;    &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;span class="caps"&gt;USAGE&lt;/span&gt;: rebuild_srpm.sh  &amp;quot;&lt;/span&gt;
    &lt;span class="nb"&gt;exit &lt;/span&gt;1
&lt;span class="k"&gt;fi&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[[&lt;/span&gt; -z &lt;span class="s2"&gt;&amp;quot;$2&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;]]&lt;/span&gt;
&lt;span class="k"&gt;then&lt;/span&gt;
&lt;span class="k"&gt;    &lt;/span&gt;&lt;span class="nv"&gt;&lt;span class="caps"&gt;OUTDIR&lt;/span&gt;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="nb"&gt;pwd&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;
&lt;span class="k"&gt;else&lt;/span&gt;
&lt;span class="k"&gt;    &lt;/span&gt;&lt;span class="nv"&gt;&lt;span class="caps"&gt;OUTDIR&lt;/span&gt;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;$2&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;fi&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[[&lt;/span&gt; ! -e &lt;span class="s2"&gt;&amp;quot;$1&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;]]&lt;/span&gt;
&lt;span class="k"&gt;then&lt;/span&gt;
&lt;span class="k"&gt;    &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;span class="caps"&gt;ERROR&lt;/span&gt;: &lt;span class="caps"&gt;SRPM&lt;/span&gt; file not found: $1&amp;quot;&lt;/span&gt;
    &lt;span class="nb"&gt;exit &lt;/span&gt;1
&lt;span class="k"&gt;fi&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; ! which rpmbuild &amp;amp;&amp;gt; /dev/null
&lt;span class="k"&gt;then&lt;/span&gt;
&lt;span class="k"&gt;    &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;rpmbuild could not be found. please install. (sudo yum install rpm-build)&amp;quot;&lt;/span&gt;
    &lt;span class="nb"&gt;exit &lt;/span&gt;1
&lt;span class="k"&gt;fi&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; ! which rpm2cpio &amp;amp;&amp;gt; /dev/null
&lt;span class="k"&gt;then&lt;/span&gt;
&lt;span class="k"&gt;    &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;rpm2cpio could not be found. please install. (sudo yum install rpm)&amp;quot;&lt;/span&gt;
    &lt;span class="nb"&gt;exit &lt;/span&gt;1
&lt;span class="k"&gt;fi&lt;/span&gt;

&lt;span class="nv"&gt;&lt;span class="caps"&gt;SRPM&lt;/span&gt;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;dirname &lt;span class="s2"&gt;&amp;quot;$1&amp;quot;&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;basename &lt;span class="s2"&gt;&amp;quot;$1&amp;quot;&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;
&lt;span class="nv"&gt;&lt;span class="caps"&gt;TEMPDIR&lt;/span&gt;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;mktemp -d&lt;span class="sb"&gt;`&lt;/span&gt;
&lt;span class="nv"&gt;&lt;span class="caps"&gt;STARTPWD&lt;/span&gt;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="nb"&gt;pwd&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;

&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Rebuilding $&lt;span class="caps"&gt;SRPM&lt;/span&gt;...&amp;quot;&lt;/span&gt;

&lt;span class="c"&gt;# copy srpm into tempdir&lt;/span&gt;
cp &lt;span class="nv"&gt;$&lt;span class="caps"&gt;SRPM&lt;/span&gt;&lt;/span&gt; &lt;span class="nv"&gt;$&lt;span class="caps"&gt;TEMPDIR&lt;/span&gt;&lt;/span&gt;

&lt;span class="nb"&gt;pushd&lt;/span&gt; &lt;span class="nv"&gt;$&lt;span class="caps"&gt;TEMPDIR&lt;/span&gt;&lt;/span&gt; &amp;amp;&amp;gt;/dev/null

&lt;span class="c"&gt;# setup local build dir structure&lt;/span&gt;
mkdir -p rpm rpm/&lt;span class="caps"&gt;BUILD&lt;/span&gt; rpm/&lt;span class="caps"&gt;RPMS&lt;/span&gt; rpm/&lt;span class="caps"&gt;SOURCES&lt;/span&gt; rpm/&lt;span class="caps"&gt;SPECS&lt;/span&gt; rpm/&lt;span class="caps"&gt;SRPMS&lt;/span&gt; rpm/&lt;span class="caps"&gt;RPMS&lt;/span&gt;/athlon rpm/&lt;span class="caps"&gt;RPMS&lt;/span&gt;/i&lt;span class="se"&gt;\[&lt;/span&gt;3456&lt;span class="se"&gt;\]&lt;/span&gt;86 rpm/&lt;span class="caps"&gt;RPMS&lt;/span&gt;/i386 rpm/&lt;span class="caps"&gt;RPMS&lt;/span&gt;/noarch rpm/&lt;span class="caps"&gt;RPMS&lt;/span&gt;/x86_64

&lt;span class="c"&gt;# setup rpmmacros file&lt;/span&gt;
cat /dev/null &amp;gt; &lt;span class="nv"&gt;$&lt;span class="caps"&gt;TEMPDIR&lt;/span&gt;&lt;/span&gt;/.rpmmacros
&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;%_topdir        $&lt;span class="caps"&gt;TEMPDIR&lt;/span&gt;/rpm&amp;quot;&lt;/span&gt; &amp;gt;&amp;gt; ~/.rpmmacros

&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Extracting &lt;span class="caps"&gt;SRPM&lt;/span&gt;...&amp;quot;&lt;/span&gt;
&lt;span class="nb"&gt;pushd&lt;/span&gt; &lt;span class="nv"&gt;$&lt;span class="caps"&gt;TEMPDIR&lt;/span&gt;&lt;/span&gt;/rpm/&lt;span class="caps"&gt;SOURCES&lt;/span&gt;/ &amp;amp;&amp;gt;/dev/null
rpm2cpio &lt;span class="nv"&gt;$&lt;span class="caps"&gt;SRPM&lt;/span&gt;&lt;/span&gt; | cpio -idmv &amp;amp;&amp;gt;/dev/null
&lt;span class="nb"&gt;popd&lt;/span&gt; &amp;amp;&amp;gt;/dev/null

&lt;span class="c"&gt;# build the &lt;span class="caps"&gt;SRPM&lt;/span&gt; from the spec and sources&lt;/span&gt;
&lt;span class="c"&gt;# we&amp;#39;re just building a &lt;span class="caps"&gt;SRPM&lt;/span&gt; so we can ignore dependencies&lt;/span&gt;
&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Rebuilding &lt;span class="caps"&gt;SRPM&lt;/span&gt;...&amp;quot;&lt;/span&gt;
&lt;span class="nv"&gt;NEW_SRPM&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;rpmbuild -bs --nodeps --macros&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$&lt;span class="caps"&gt;TEMPDIR&lt;/span&gt;&lt;/span&gt;/.rpmmacros &lt;span class="nv"&gt;$&lt;span class="caps"&gt;TEMPDIR&lt;/span&gt;&lt;/span&gt;/rpm/&lt;span class="caps"&gt;SOURCES&lt;/span&gt;/*.spec | grep &lt;span class="s2"&gt;&amp;quot;^Wrote: &amp;quot;&lt;/span&gt; | awk &lt;span class="s1"&gt;&amp;#39;{print $2}&amp;#39;&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;

&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Copying to $&lt;span class="caps"&gt;OUTDIR&lt;/span&gt;&amp;quot;&lt;/span&gt;
cp &lt;span class="nv"&gt;$NEW_SRPM&lt;/span&gt; &lt;span class="nv"&gt;$&lt;span class="caps"&gt;OUTDIR&lt;/span&gt;&lt;/span&gt;/

&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Wrote file to $&lt;span class="caps"&gt;OUTDIR&lt;/span&gt;/`basename $NEW_SRPM`&amp;quot;&lt;/span&gt;

&lt;span class="c"&gt;# cleanup&lt;/span&gt;
&lt;span class="nb"&gt;cd&lt;/span&gt; &lt;span class="nv"&gt;$&lt;span class="caps"&gt;STARTPWD&lt;/span&gt;&lt;/span&gt;
rm -Rf &lt;span class="nv"&gt;$&lt;span class="caps"&gt;TEMPDIR&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="lzma"></category><category term="packaging"></category><category term="rpm"></category><category term="rpm2cpio"></category><category term="rpmbuild"></category><category term="srpm"></category><category term="xz"></category></entry><entry><title>Git Cheat Sheet</title><link href="http://blog.jasonantman.com/2013/05/git-cheat-sheet/" rel="alternate"></link><updated>2013-05-14T05:00:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2013-05-14:2013/05/git-cheat-sheet/</id><summary type="html">&lt;p&gt;I use &lt;a href="http://git-scm.com/"&gt;git&lt;/a&gt; quite a bit these days, both with an
internal server at work and with a bunch of my projects and random code
that now live on &lt;a href="https://github.com/jantman/"&gt;my github account&lt;/a&gt;. The
transition from &lt;span class="caps"&gt;SVN&lt;/span&gt; hasn&amp;#8217;t always been easy. Here&amp;#8217;s a quick cheat sheet
of some of the things that I usually&amp;nbsp;forget.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Show diff of the last&amp;nbsp;commit:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git diff HEAD^..HEAD
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Roll back to version xyz of a specific file &lt;em&gt;(where xyz is a &lt;span class="caps"&gt;SHA1&lt;/span&gt;
    commit ref)&lt;/em&gt;:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git checkout xyz path/to/file
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Undo any &lt;em&gt;unstaged&lt;/em&gt; changes to your&amp;nbsp;branch:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git checkout -f
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Undo any staged and working directory&amp;nbsp;changes:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git reset --hard
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Update submodules after cloning a&amp;nbsp;repository:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git submodule update --init
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Rebase on current master to pull in new&amp;nbsp;changes:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git rebase master
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Rebase on current master, but for files that changed, take our
    version &lt;em&gt;(for some reason, a plain rebase seems to sometimes show
    conflicts on files that haven&amp;#8217;t changed in ages on master)&lt;/em&gt;:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git rebase -s recursive -Xtheirs master
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Delete a local&amp;nbsp;branch:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git branch -d BranchName
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Delete a remote branch from&amp;nbsp;origin:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git push origin --delete BranchName
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Roll back your branch to the same state as the branch in&amp;nbsp;origin:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git reset --hard origin/BranchName
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Revert a specific&amp;nbsp;commit:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git revert COMMIT_HASH
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Track an upstream branch (i.e. in a project you&amp;nbsp;forked):&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git remote add --track master upstream https://github.com/user/project.git
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Pull in upstream&amp;nbsp;changes:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git checkout master &amp;amp;&amp;amp; git fetch upstream &amp;amp;&amp;amp; git merge upstream/master
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Merge &amp;#8220;stuff&amp;#8221; from someone else&amp;#8217;s fork into&amp;nbsp;yours:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git remote add other-guys-repo URL_TO_REPO
git fetch other-guys-repo
git checkout my_new_branch
git merge other-guys-repo/master
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Prune local branches that have been deleted in the remote&amp;nbsp;(origin):&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git remote prune origin
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ul&gt;</summary><category term="git"></category></entry><entry><title>Search for a small-scale but automated RPM build system</title><link href="http://blog.jasonantman.com/2013/05/search-for-a-small-scale-but-automated-rpm-build-system/" rel="alternate"></link><updated>2013-05-13T05:00:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2013-05-13:2013/05/search-for-a-small-scale-but-automated-rpm-build-system/</id><summary type="html">&lt;p&gt;&lt;strong&gt;This post is part of a series of older draft posts from a few months
ago that I&amp;#8217;m just getting around to publishing. Unfortunately, I have
yet to find a build system that meets my requirements (see the last&amp;nbsp;paragraph).&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;At work, we have a handful - currently a really small number - of &lt;span class="caps"&gt;RPM&lt;/span&gt;
packages that we need to build and deploy internally for our CentOS
server infrastructure. A number of them are just pulled down from
specific third-party repositories and rebuilt to have the vendor set as
us, and some are internally patched or developed software. We run
websites, and on the product side, we&amp;#8217;re a
Python/&lt;a href="https://www.djangoproject.com/"&gt;Django&lt;/a&gt; shop (in fact, probably
one of the largest Django apps out there). We don&amp;#8217;t deploy our Django
apps via &lt;span class="caps"&gt;RPM&lt;/span&gt;, so building and distributing RPMs is definitely not one of
our core competencies. In fact, we really only want to do it when we&amp;#8217;re
testing/deploying a new distro, or when an upstream package is&amp;nbsp;updated.&lt;/p&gt;
&lt;p&gt;Last week I pulled a ticket to deploy &lt;a href="http://nodejs.org/"&gt;node.js&lt;/a&gt; to
one of our build hosts, and we&amp;#8217;ve got a few things in the pipeline that
also rely on it. I found the
&lt;a href="https://github.com/puppetlabs/puppetlabs-nodejs"&gt;puppetlabs-nodejs&lt;/a&gt;
module on Github that&amp;#8217;s supposed to install it on &lt;span class="caps"&gt;RHEL&lt;/span&gt;/CentOS, but it
pulls packages from
&lt;a href="http://patches.fedorapeople.org/oldnode/stable/"&gt;http://patches.fedorapeople.org/oldnode/stable/&lt;/a&gt;,
and the newest version of nodejs there is 0.6.18, which is quite old. I
can&amp;#8217;t find any actively maintained sources of newer nodejs packages for
&lt;span class="caps"&gt;RHEL&lt;/span&gt;/CentOS (yeah, I know, that&amp;#8217;s one down side to the
distributions&amp;#8230;). However, I did find that nodejs 0.9.5 is being &lt;a href="http://koji.fedoraproject.org/koji/packageinfo?packageID=15154"&gt;built
for Fedora 18/19 in the Fedora build
system&lt;/a&gt;,
is already in the Fedora 18 Testing and Fedora Rawhide repos, but is
failing its &lt;span class="caps"&gt;EL6&lt;/span&gt; builds in their system. The decision I&amp;#8217;ve come to is to
use the puppetlabs-nodejs module to install it, but try and rebuild the
Fedora 18 RPMs under CentOS 5 and&amp;nbsp;6.&lt;/p&gt;
&lt;p&gt;So that&amp;#8217;s the background. Now, my current task: to search for an &lt;span class="caps"&gt;RPM&lt;/span&gt;
build system for my current job. My core requirements, in no specific
order,&amp;nbsp;are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Be relatively easy and quick to use for people who have a specfile
    or &lt;span class="caps"&gt;SRPM&lt;/span&gt; and want to be able to &amp;#8220;ensure =&gt; present&amp;#8221; the finished &lt;span class="caps"&gt;RPM&lt;/span&gt;
    on a system. i.e., require as little per-package configuration as&amp;nbsp;possible.&lt;/li&gt;
&lt;li&gt;Be able to handle rebuilding &amp;#8220;all&amp;#8221; of our RPMs when we roll out a
    new distro version. Doesn&amp;#8217;t necessarily need to be automatic, but
    should be relatively&amp;nbsp;simple.&lt;/li&gt;
&lt;li&gt;Ideally, not need to be running constantly - i.e. something that
    will cope well with build hosts being VMs that are shut down when
    they&amp;#8217;re not&amp;nbsp;needed.&lt;/li&gt;
&lt;li&gt;Handle automatically putting successfully built packages into a
    repository, ideally with some sort of (manual) promotion process
    from staging to&amp;nbsp;stable.&lt;/li&gt;
&lt;li&gt;Have minimal external (infrastructure) dependencies that we can&amp;#8217;t
    satisfy with existing&amp;nbsp;systems.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;So, the first step was to research existing &lt;span class="caps"&gt;RPM&lt;/span&gt; build systems and how
others do this. Here&amp;#8217;s a list of what I could find online, though most
of these are from distributions and software vendors/projects, not
end-user companies that are only building for internal&amp;nbsp;use.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://fedorahosted.org/koji/wiki"&gt;Koji&lt;/a&gt; is the build system used
    by &lt;a href="http://fedoraproject.org/wiki/Koji"&gt;Fedora&lt;/a&gt; and RedHat. It&amp;#8217;s
    about as full-featured as any can be, and I&amp;#8217;m familiar with it from
    my time at &lt;a href="http://koji.rutgers.edu/koji/"&gt;Rutgers University&lt;/a&gt;, as
    it&amp;#8217;s used to maintain their CentOS/&lt;span class="caps"&gt;RHEL&lt;/span&gt; packages. It&amp;#8217;s based largely
    on Mock. However, &lt;a href="http://fedoraproject.org/wiki/Koji/ServerHowTo"&gt;setting up the build
    server&lt;/a&gt; is no
    trivial task; there are few installations outside of Fedora/RedHat,
    and it relies on either Kerberos or an &lt;span class="caps"&gt;SSL&lt;/span&gt; &lt;span class="caps"&gt;CA&lt;/span&gt; infrastructure to
    authenticate machines and clients. So, it&amp;#8217;s designed for too large a
    scale and too much infrastructure for&amp;nbsp;me.&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;PLD&lt;/span&gt; Linux has a &lt;a href="https://www.pld-linux.org/developingpld/builderscript"&gt;builder
    script&lt;/a&gt; that
    seems to automate &lt;code&gt;rpmbuild&lt;/code&gt; as well as fetching sources and
    resolving/building dependencies. I haven&amp;#8217;t looked at the script yet,
    but apparently it&amp;#8217;s in &lt;span class="caps"&gt;PLD&lt;/span&gt;&amp;#8217;s &amp;#8220;rpm-build-tools&amp;#8221;&amp;nbsp;package.&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;PLD&lt;/span&gt; Linux also has a &lt;span class="caps"&gt;CVS&lt;/span&gt; repository for something called
    &lt;a href="http://cvs.pld-linux.org/cgi-bin/cvsweb/pld-builder.new"&gt;pld-builder.new&lt;/a&gt;.
    The
    &lt;a href="http://cvs.pld-linux.org/cgi-bin/cvsweb/pld-builder.new/doc/README?rev=1.5"&gt;&lt;span class="caps"&gt;README&lt;/span&gt;&lt;/a&gt;
    and
    &lt;a href="http://cvs.pld-linux.org/cgi-bin/cvsweb/pld-builder.new/doc/ARCHITECTURE?rev=1.6"&gt;&lt;span class="caps"&gt;ARCHITECTURE&lt;/span&gt;&lt;/a&gt;
    files make it sound like a relatively simple mainly-Python system
    that builds &lt;span class="caps"&gt;SRPMS&lt;/span&gt; and binary packages when requested, and most
    importantly, seems like a simple system that uses little more than
    shared filesystem access for communication and&amp;nbsp;coordination.&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;ALT&lt;/span&gt; Linux has &lt;a href="http://en.altlinux.org/Sisyphus"&gt;Sisyphus&lt;/a&gt;, which
    combines repository management and web interface tools, package
    building and testing tools, and&amp;nbsp;more.&lt;/li&gt;
&lt;li&gt;The Dries &lt;span class="caps"&gt;RPM&lt;/span&gt; repository uses (or at least used&amp;#8230; my reference is
    quite old) &lt;a href="http://dries.ulyssis.org/rpm/pydar2/index.html"&gt;pydar2&lt;/a&gt;,
    &amp;#8220;a distributed client/server program which allows you to build
    multiple spec files on multiple distribution/architecture
    combinations automatically.&amp;#8221; That sounds like it could be what I
    need, but the last update says that it isn&amp;#8217;t finished yet, and that
    was in &lt;strong&gt;2005&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Mandriva Linux has pretty extensive information on their build
    system &lt;a href="http://wiki.mandriva.com/en/Category:Build_System"&gt;on their
    wiki&lt;/a&gt; and a
    &lt;a href="http://wiki.mandriva.com/en/Development/Packaging/BuildSystem/Theory"&gt;build system theory
    page&lt;/a&gt;,
    but it seems to be largely a hodgepodge of shell scripts and
    cronjobs, and is likely not a candidate for use by anyone other than
    its&amp;nbsp;designers.&lt;/li&gt;
&lt;li&gt;Argeo provides the &lt;a href="https://www.argeo.org/wiki/SLC"&gt;&lt;span class="caps"&gt;SLC&lt;/span&gt; framework&lt;/a&gt;
    which has a &amp;#8220;&lt;span class="caps"&gt;RPM&lt;/span&gt; Factory&amp;#8221; component, but I can&amp;#8217;t seem to find much
    more than a wiki page, and can&amp;#8217;t tell if it&amp;#8217;s a build automation
    system or just handles mocking packages and putting them in a repo
    on a single&amp;nbsp;host.&lt;/li&gt;
&lt;li&gt;Dag Wieers&amp;#8217; repositories use (or used) a set of python scripts
    called &lt;a href="http://dag.wieers.com/home-made/dar/"&gt;&lt;span class="caps"&gt;DAR&lt;/span&gt;, &amp;#8220;Dynamic Apt Repository
    builder&amp;#8221;&lt;/a&gt;. They&amp;#8217;re on
    &lt;a href="https://github.com/dagwieers/dar"&gt;github&lt;/a&gt; but are listed as &amp;#8220;old&amp;#8221;
    and haven&amp;#8217;t been updated in at least 2 years. The features sound
    quite interesting, and though it&amp;#8217;s based on the Apt repo format, it
    might provide some good ideas for implementing a similar&amp;nbsp;system.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Update four months later:&lt;/strong&gt; I&amp;#8217;ve yet to find a build system that meets
my requirements above. For the moment I&amp;#8217;m only managing \~20 packages,
so my &amp;#8220;build system&amp;#8221; is a single shell script that reads in some
environment variables and runs through using
&lt;a href="http://fedoraproject.org/wiki/Projects/Mock"&gt;mock&lt;/a&gt; to build them in the
correct order (including pushing the finished RPMs back into the local
repository that mock reads from) and then pushing the finished packages
to our internal repository. Maybe when I have some spare time, I&amp;#8217;ll
consider a project to either make a slightly better (but simple) &lt;span class="caps"&gt;RPM&lt;/span&gt;
build system based on Python, or get our
&lt;a href="http://jenkins-ci.org/"&gt;Jenkins&lt;/a&gt; install to handle this for&amp;nbsp;me.&lt;/p&gt;</summary><category term="build"></category><category term="linux"></category><category term="nodejs"></category><category term="package"></category><category term="packaging"></category><category term="repository"></category><category term="rpm"></category><category term="rpmbuild"></category><category term="software"></category><category term="sysadmin"></category><category term="yum"></category></entry><entry><title>Environment Variable Substitution in Apache httpd Configs</title><link href="http://blog.jasonantman.com/2013/05/environment-variable-substitution-in-apache-httpd-configs/" rel="alternate"></link><updated>2013-05-11T12:01:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2013-05-11:2013/05/environment-variable-substitution-in-apache-httpd-configs/</id><summary type="html">&lt;p&gt;I&amp;#8217;ve been configuring Apache httpd for over a decade, from a single
personal web server to web farms running thousands of vhosts. In most of
the &amp;#8220;real&amp;#8221; environments I&amp;#8217;ve worked in, we&amp;#8217;ve had some variation of
production, stage/test/&lt;span class="caps"&gt;QA&lt;/span&gt; and development hosts; and usually some method
of managing configurations between them, whether it&amp;#8217;s source control or
generating them from template. And in all of these environments, there
has invariably been drift between the configurations in the various
environments, whether it&amp;#8217;s because of poor tools to maintain a unified
configuration or many of those emergency redirect requests that make it
into production but are never backported. This is made all the worse
because everywhere I&amp;#8217;ve worked, the real difference between what
production and other environments &lt;em&gt;should&lt;/em&gt; be is really just a string
replacement in Apache configurations - &lt;code&gt;/prod/&lt;/code&gt; to &lt;code&gt;/test/&lt;/code&gt; or
&lt;code&gt;www.example.com&lt;/code&gt; to &lt;code&gt;www.dev.example.com&lt;/code&gt; or something along those&amp;nbsp;lines.&lt;/p&gt;
&lt;p&gt;Well a few days ago I was having a discussion with some co-workers that
dovetailed into this topic, and when I started some research, I found
(&lt;em&gt;finally after using httpd for years&lt;/em&gt;) that the &lt;a href="http://httpd.apache.org/docs/2.2/configuring.html#syntax"&gt;Apache httpd 2.2
configuration file syntax
documentation&lt;/a&gt;
states that httpd supports environment variable interpolation anywhere
in the config files (and &lt;a href="http://httpd.apache.org/docs/2.4/configuring.html#syntax"&gt;httpd
2.4&lt;/a&gt; supports
it with Defines as&amp;nbsp;well).&lt;/p&gt;
&lt;p&gt;Yup, that&amp;#8217;s right. All those different Apache configs I&amp;#8217;ve worked with
for years that define separate vhosts, document roots, rewrite targets,
ServerAliases, etc. for &lt;code&gt;www.example.com&lt;/code&gt; and &lt;code&gt;www.qa.example.com&lt;/code&gt; and
&lt;code&gt;www.dev.example.com&lt;/code&gt; really only had to be
&lt;code&gt;www.${ENV_URL_PART}example.com&lt;/code&gt;, and set &lt;code&gt;ENV_URL_PART&lt;/code&gt; in the init
script or sysconfig file. (Of course this all assumes that you have your
different environments served by different httpd instances, which you
do, of&amp;nbsp;course&amp;#8230;)&lt;/p&gt;
&lt;p&gt;For me, this is a very big deal. It means that finally, instead of
maintaining separate sets of configs for different environments which
are (theoretically, except for those emergencies) kept identical by
hand, or updating templates and then re-generating each environment&amp;#8217;s
configs, we can finally follow the same
commit/merge/promotion-between-environments workflow that we use for
other production code and Puppet configuration. It also means that those
pesky little rewrites and other minor tweaks will make it all the way
back to development&amp;nbsp;environments.&lt;/p&gt;
&lt;p&gt;So, here&amp;#8217;s a little example of how this would work in reality. Let&amp;#8217;s
assume that we have 3 main environments, &lt;code&gt;prod&lt;/code&gt;, &lt;code&gt;qa&lt;/code&gt; and &lt;code&gt;dev&lt;/code&gt; (though
this should work for N environments) and that domains are prefixed with
&amp;#8220;qa.&amp;#8221; or &amp;#8220;dev.&amp;#8221; for the respective internal environments. We set
environment variables before httpd is started, on a per-host basis,
depending on what environment that host is in. On RedHat based systems,
we&amp;#8217;d add the variables to &lt;code&gt;/etc/sysconfig/httpd&lt;/code&gt; for&amp;nbsp;production:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="nv"&gt;HTTPD_ENV_NAME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;prod&amp;quot;&lt;/span&gt;
&lt;span class="nv"&gt;HTTPD_ENV_URL_PART&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;or for&amp;nbsp;&lt;span class="caps"&gt;QA&lt;/span&gt;:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="nv"&gt;HTTPD_ENV_NAME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;qa&amp;quot;&lt;/span&gt;
&lt;span class="nv"&gt;HTTPD_ENV_URL_PART&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;qa.&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Those variables will now be available to httpd within the configurations
(and also to any applications or scripts that have access to the web
server&amp;#8217;s environment&amp;nbsp;variables).&lt;/p&gt;
&lt;p&gt;Now let&amp;#8217;s look at an example vhost configuration file that uses the
environment&amp;nbsp;variables:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="nb"&gt;ServerName&lt;/span&gt; example.com
&lt;span class="nb"&gt;ServerAlias&lt;/span&gt; www.example.com
&lt;span class="c"&gt;# Aliases including proper environment name&lt;/span&gt;
&lt;span class="nb"&gt;ServerAlias&lt;/span&gt; www.${HTTPD_ENV_NAME}.example.com ${HTTPD_ENV_NAME}.example.com

&lt;span class="nb"&gt;ErrorLog&lt;/span&gt; &lt;span class="sx"&gt;/var/log/httpd/example.com-error_log&lt;/span&gt;
&lt;span class="nb"&gt;CustomLog&lt;/span&gt; &lt;span class="sx"&gt;/var/log/httpd/example.com-access_log&lt;/span&gt; combined

&lt;span class="nb"&gt;DocumentRoot&lt;/span&gt; &lt;span class="sx"&gt;/sites/example.com/&lt;/span&gt;${HTTPD_ENV_NAME}/

&lt;span class="c"&gt;# Environment-specific configuration, if we absolutely need it:&lt;/span&gt;
&lt;span class="nb"&gt;Include&lt;/span&gt; &lt;span class="sx"&gt;/etc/httpd/sites/&lt;/span&gt;${HTTPD_ENV_NAME}/env.conf


&lt;span class="nb"&gt;RewriteEngine&lt;/span&gt; &lt;span class="k"&gt;on&lt;/span&gt;
&lt;span class="nb"&gt;RewriteRule&lt;/span&gt; &lt;span class="sx"&gt;/foobar/.&lt;/span&gt;* http://www.${HTTPD_ENV_URL_PART}example.com/baz/ [R=302,L]
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Every instance of &lt;code&gt;${HTTPD_ENV_NAME}&lt;/code&gt; will be replaced with the value
set in the sysconfig file, and likewise with every instance of
&lt;code&gt;${HTTPD_ENV_URL_PART}&lt;/code&gt;. This way, we can have one set of configurations
and use our normal source control branch/promotion process to both test
and promote changes through the environments along with application
code, and ensure that any straight-to-production emergency changes
(everyone has customer-ordered rewrites like that, right?) make it back
to development and&amp;nbsp;qa.&lt;/p&gt;
&lt;p&gt;One caveat is that, if the environment variable is not defined, the
&lt;code&gt;${VAR_NAME}&lt;/code&gt; will be left as a literal string in the configuration
file. There doesn&amp;#8217;t seem to be any way to protect against this in httpd
2.2, other than making sure the variables are set before the server
starts (and maybe setting logical default values, like an empty string,
in your init script which should be overridden by the sysconfig&amp;nbsp;file).&lt;/p&gt;
&lt;p&gt;If you&amp;#8217;re running httpd 2.4+, you can turn on
&lt;a href="http://httpd.apache.org/docs/2.4/mod/mod_info.html"&gt;mod_info&lt;/a&gt; and
browse to &lt;code&gt;http://servername/server-info?config&lt;/code&gt; to dump the current
configuration, which will show the variable&amp;nbsp;substitution.&lt;/p&gt;</summary><category term="apache"></category><category term="environment"></category><category term="httpd"></category><category term="variable"></category></entry><entry><title>RPM Spec Files for nodejs 0.9.5 and v8 on CentOS 6</title><link href="http://blog.jasonantman.com/2013/01/rpm-spec-files-for-nodejs-0-9-5-and-v8-on-centos-5/" rel="alternate"></link><updated>2013-01-31T14:13:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2013-01-31:2013/01/rpm-spec-files-for-nodejs-0-9-5-and-v8-on-centos-5/</id><summary type="html">&lt;p&gt;The latest version of nodejs that I could find as an &lt;span class="caps"&gt;RPM&lt;/span&gt; for CentOS was
0.6.16, from
&lt;a href="http://patches.fedorapeople.org/oldnode/stable/"&gt;http://patches.fedorapeople.org/oldnode/stable/&lt;/a&gt;.
That&amp;#8217;s the one that puppetlabs currently uses in their
&lt;a href="https://github.com/puppetlabs/puppetlabs-nodejs"&gt;puppetlabs-nodejs&lt;/a&gt;
module. There is, however, a nodejs 0.9.5 &lt;span class="caps"&gt;RPM&lt;/span&gt; in the Fedora Rawhide (19)
repository. Below are some patches to that specfile, and the specfile
for its v8 dependency, to get them to build on CentOS 6. You can also
find the full specfiles on my &lt;a href="https://github.com/jantman/specfiles"&gt;github specfile
repository&lt;/a&gt;. I had originally
wanted to get them built on CentOS 5 as well, but after following the
dependency tree from nodejs to http-parser to gyp, and then finding
issues in the gyp source that are incompatible with CentOS 5&amp;#8217;s python
2.4, I gave up on that&amp;nbsp;target.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;nodejs.spec&lt;/strong&gt;, diff from Fedora Rawhide nodejs-0.9.5-9.fc18.src.rpm,
buildID=377755 (&lt;a href="https://raw.github.com/jantman/specfiles/master/nodejs.spec"&gt;full
specfile&lt;/a&gt;)&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="gh"&gt;diff --git a/nodejs.spec b/nodejs.spec&lt;/span&gt;
&lt;span class="gh"&gt;index 050ed86..86c0f4b 100644&lt;/span&gt;
&lt;span class="gd"&gt;--- a/nodejs.spec&lt;/span&gt;
&lt;span class="gi"&gt;+++ b/nodejs.spec&lt;/span&gt;
&lt;span class="gu"&gt;@@ -1,6 +1,6 @@&lt;/span&gt;
 Name: nodejs
 Version: 0.9.5
&lt;span class="gd"&gt;-Release: 9%{?dist}&lt;/span&gt;
&lt;span class="gi"&gt;+Release: 10%{?dist}&lt;/span&gt;
 Summary: JavaScript runtime
 License: &lt;span class="caps"&gt;MIT&lt;/span&gt; and &lt;span class="caps"&gt;ASL&lt;/span&gt; 2.0 and &lt;span class="caps"&gt;ISC&lt;/span&gt; and &lt;span class="caps"&gt;BSD&lt;/span&gt;
 Group: Development/Languages
&lt;span class="gu"&gt;@@ -25,7 +25,7 @@ Source6: nodejs-fixdep&lt;/span&gt;
 BuildRequires: v8-devel &amp;gt;= %{v8_ge}
 BuildRequires: http-parser-devel &amp;gt;= 2.0
 BuildRequires: libuv-devel
&lt;span class="gd"&gt;-BuildRequires: c-ares-devel&lt;/span&gt;
&lt;span class="gi"&gt;+BuildRequires: c-ares-devel &amp;gt;= 1.9.0&lt;/span&gt;
 BuildRequires: zlib-devel
 # Node.js requires some features from openssl 1.0.1 for &lt;span class="caps"&gt;SPDY&lt;/span&gt; support
 BuildRequires: openssl-devel &amp;gt;= 1:1.0.1
&lt;span class="gu"&gt;@@ -165,9 +165,13 @@ cp -p common.gypi %{buildroot}%{_datadir}/node&lt;/span&gt;

 %files docs
 %{_defaultdocdir}/%{name}-docs-%{version}
&lt;span class="gd"&gt;-%doc &lt;span class="caps"&gt;LICENSE&lt;/span&gt;&lt;/span&gt;

 %changelog
&lt;span class="gi"&gt;+* Thu Jan 31 2013 Jason Antman  - 0.9.5-10&lt;/span&gt;
&lt;span class="gi"&gt;+- specify build requirement of c-ares-devel &amp;gt;= 1.9.0&lt;/span&gt;
&lt;span class="gi"&gt;+- specify build requirement of libuv-devel 0.9.4&lt;/span&gt;
&lt;span class="gi"&gt;+- remove duplicate %doc &lt;span class="caps"&gt;LICENSE&lt;/span&gt; that was causing cpio &amp;#39;Bad magic&amp;#39; error on CentOS6&lt;/span&gt;
&lt;span class="gi"&gt;+&lt;/span&gt;
 * Sat Jan 12 2013 &lt;span class="caps"&gt;T.C.&lt;/span&gt; Hollingsworth  - 0.9.5-9
 - fix brown paper bag bug in requires generation script
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;v8.spec&lt;/strong&gt;, diff from Fedora Rawhide 3.13.7.5-2 (&lt;a href="https://raw.github.com/jantman/specfiles/master/v8.spec"&gt;full
specfile&lt;/a&gt;)&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="gd"&gt;--- v8.spec.orig       2013-01-26 16:03:18.000000000 -0500&lt;/span&gt;
&lt;span class="gi"&gt;+++ v8.spec     2013-01-31 09:04:51.068029459 -0500&lt;/span&gt;
&lt;span class="gu"&gt;@@ -21,9 +21,11 @@&lt;/span&gt;

 # %%global svnver 20110721svn8716

&lt;span class="gi"&gt;+%{!?python_sitelib: %define python_sitelib %(%{__python} -c &amp;quot;import distutils.sysconfig as d; print d.get_python_lib()&amp;quot;)}&lt;/span&gt;
&lt;span class="gi"&gt;+&lt;/span&gt;
 Name:          v8
 Version:       %{somajor}.%{sominor}.%{sobuild}.%{sotiny}
&lt;span class="gd"&gt;-Release:       2%{?dist}&lt;/span&gt;
&lt;span class="gi"&gt;+Release:       5%{?dist}&lt;/span&gt;
 Epoch:         1
 Summary:       JavaScript Engine
 Group:         System Environment/Libraries
&lt;span class="gu"&gt;@@ -32,7 +34,7 @@&lt;/span&gt;
 Source0:       http://commondatastorage.googleapis.com/chromium-browser-official/v8-%{version}.tar.bz2
 BuildRoot:     %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
 ExclusiveArch: %{ix86} x86_64 %{arm}
&lt;span class="gd"&gt;-BuildRequires: scons, readline-devel, libicu-devel&lt;/span&gt;
&lt;span class="gi"&gt;+BuildRequires: scons, readline-devel, libicu-devel, ncurses-devel&lt;/span&gt;

 %description
 V8 is Google&amp;#39;s open source JavaScript engine. V8 is written in C++ and is used 
&lt;span class="gu"&gt;@@ -51,8 +53,13 @@&lt;/span&gt;
 %setup -q -n %{name}-%{version}

 # -fno-strict-aliasing is needed with gcc 4.4 to get past some ugly code
&lt;span class="gd"&gt;-PARSED_OPT_FLAGS=`echo \&amp;#39;$RPM_OPT_FLAGS -fPIC -fno-strict-aliasing -Wno-unused-parameter -Wno-error=strict-overflow -Wno-error=unused-local-typedefs -Wno-unused-but-set-variable\&amp;#39;| sed &amp;quot;s/ /&amp;#39;,/g&amp;quot; | sed &amp;quot;s/&amp;#39;,/&amp;#39;, &amp;#39;/g&amp;quot;`&lt;/span&gt;
&lt;span class="gi"&gt;+%if 0%{?el5}&lt;/span&gt;
&lt;span class="gi"&gt;+PARSED_OPT_FLAGS=`echo \&amp;#39;$RPM_OPT_FLAGS -fPIC -fno-strict-aliasing -Wno-unused-parameter -lncurses\&amp;#39;| sed &amp;quot;s/ /&amp;#39;,/g&amp;quot; | sed &amp;quot;s/&amp;#39;,/&amp;#39;, &amp;#39;/g&amp;quot;`&lt;/span&gt;
&lt;span class="gi"&gt;+sed -i &amp;quot;s|&amp;#39;-O3&amp;#39;,|$PARSED_OPT_FLAGS,|g&amp;quot; SConstruct&lt;/span&gt;
&lt;span class="gi"&gt;+%else&lt;/span&gt;
&lt;span class="gi"&gt;+PARSED_OPT_FLAGS=`echo \&amp;#39;$RPM_OPT_FLAGS -fPIC -fno-strict-aliasing -Wno-unused-parameter -Wno-error=strict-overflow -Wno-unused-but-set-variable\&amp;#39;| sed &amp;quot;s/ /&amp;#39;,/g&amp;quot; | sed &amp;quot;s/&amp;#39;,/&amp;#39;, &amp;#39;/g&amp;quot;`&lt;/span&gt;
 sed -i &amp;quot;s|&amp;#39;-O3&amp;#39;,|$PARSED_OPT_FLAGS,|g&amp;quot; SConstruct
&lt;span class="gi"&gt;+%endif&lt;/span&gt;

 # clear spurious executable bits
 find . \( -name \*.cc -o -name \*.h -o -name \*.py \) -a -executable   
&lt;span class="gu"&gt;@@ -198,6 +205,17 @@&lt;/span&gt;
 %{python_sitelib}/j*.py*

 %changelog
&lt;span class="gi"&gt;+* Thu Jan 31 2013 Jason Antman  - 1:3.13.7.5-5&lt;/span&gt;
&lt;span class="gi"&gt;+- remove -Werror=unused-local-typedefs on cent6&lt;/span&gt;
&lt;span class="gi"&gt;+&lt;/span&gt;
&lt;span class="gi"&gt;+* Wed Jan 30 2013 Jason Antman  - 1:3.13.7.5-4&lt;/span&gt;
&lt;span class="gi"&gt;+- define python_sitelib if it isn&amp;#39;t already (CentOS 5)&lt;/span&gt;
&lt;span class="gi"&gt;+&lt;/span&gt;
&lt;span class="gi"&gt;+* Wed Jan 30 2013 Jason Antman  - 1:3.13.7.5-3&lt;/span&gt;
&lt;span class="gi"&gt;+- pull 3.13.7.5-2 &lt;span class="caps"&gt;SRPM&lt;/span&gt; from Fedora 19 Koji most recent build&lt;/span&gt;
&lt;span class="gi"&gt;+- add ncurses-devel BuildRequires&lt;/span&gt;
&lt;span class="gi"&gt;+- modify PARSED_OPT_FLAGS to work with g++ 4.1.2 on CentOS 5&lt;/span&gt;
&lt;span class="gi"&gt;+ &lt;/span&gt;
 * Sat Jan 26 2013 &lt;span class="caps"&gt;T.C.&lt;/span&gt; Hollingsworth  - 1:3.13.7.5-2
 - rebuild for icu-50
 - ignore new &lt;span class="caps"&gt;GCC&lt;/span&gt; 4.8 warning
&lt;/pre&gt;&lt;/div&gt;</summary><category term="build"></category><category term="centos"></category><category term="node"></category><category term="nodejs"></category><category term="package"></category><category term="packaging"></category><category term="redhat"></category><category term="RHEL"></category><category term="rpm"></category><category term="specfile"></category></entry><entry><title>Fedora Linux and OSX Dual Boot on Mid-2010 (6,2) 15” MacBook Pro Laptop</title><link href="http://blog.jasonantman.com/2013/01/fedora-linux-and-osx-dual-boot-on-mid-2010-62-15-macbook-pro-laptop/" rel="alternate"></link><updated>2013-01-21T12:13:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2013-01-21:2013/01/fedora-linux-and-osx-dual-boot-on-mid-2010-62-15-macbook-pro-laptop/</id><summary type="html">&lt;p&gt;As part of the transition from a contractor to a full-time employee of
&lt;a href="http://www.cmgdigital.com"&gt;Cox Media Group Digital &lt;span class="amp"&gt;&amp;amp;&lt;/span&gt; Strategy&lt;/a&gt; (check
out our &lt;a href="https://github.com/cmgdigital"&gt;github&lt;/a&gt;), I&amp;#8217;ve been issued a
&lt;a href="http://support.apple.com/kb/SP582"&gt;Mid-2010 (6,2)&lt;/a&gt; 15&amp;#8221; &lt;a href="http://en.wikipedia.org/wiki/Macbook_pro#Technical_specifications_2"&gt;MacBook
Pro&lt;/a&gt;
laptop, to replace my current &lt;a href="http://support.apple.com/kb/SP11"&gt;Early-2008
(3,1)&lt;/a&gt; MacPro desktop. The desktop is
currently running &lt;a href="http://fedoraproject.org/"&gt;Fedora&lt;/a&gt; 17, dual-boot with
with Mac &lt;span class="caps"&gt;OS&lt;/span&gt; X (left in place for firmware updates and emergencies) using
the &lt;a href="http://www.rodsbooks.com/refind/index.html"&gt;rEFInd boot manager&lt;/a&gt; to
choose between the two OSes. It took me two days to get this working
right on my desktop, but it had been my plan to duplicate this setup on
my laptop. I found a lot of conflicting information online, but I
decided to give it a&amp;nbsp;try.&lt;/p&gt;
&lt;p&gt;Well, I have Fedora 18 and &lt;span class="caps"&gt;OS&lt;/span&gt; X 10.8 dual-booting on the laptop, but not
as planned. After a day and a half of research, troubleshooting and
re-installs, here&amp;#8217;s what I found to actually work, in the hope that
nobody else will go through the ordeal I went through. Following that
are some notes about the new Fedora 18 installer (Anaconda 18),
especially important for anyone who&amp;#8217;s used Linux for a while. To those
who are new to Linux, don&amp;#8217;t be dissuaded by the above. Most of the
frustration I experienced is because I&amp;#8217;ve been using Linux for a
relatively long time (about 10 years), had my own ideas about exactly
how I wanted things setup (which are decidedly &lt;em&gt;not&lt;/em&gt; supported by
Fedora), and had some assumptions about the installation process based
on earlier&amp;nbsp;versions.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;How to get it&amp;nbsp;working:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Forget about rEFInd. This had been the original advice from &lt;a href="http://mjg59.dreamwidth.org/"&gt;Matthew
Garrett&lt;/a&gt;,
&lt;a href="https://twitter.com/mjg59"&gt;@mjg59&lt;/a&gt;, kernel coder, contributor to the
Anaconda project, and all-around authority on booting Linux on &lt;span class="caps"&gt;EFI&lt;/span&gt;/&lt;span class="caps"&gt;UEFI&lt;/span&gt;
hardware. My advice, and the method that worked for&amp;nbsp;me:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Shrink your Mac partitions and leave as much free space as you want
    for Fedora. using the Disk Utility tool in &lt;span class="caps"&gt;OS&lt;/span&gt; X (I also created an
    &lt;span class="caps"&gt;8GB&lt;/span&gt; &lt;span class="caps"&gt;VFAT&lt;/span&gt; partition that both OSes can read/write&amp;nbsp;to).&lt;/li&gt;
&lt;li&gt;&lt;a href="http://fedoraproject.org/en/get-fedora"&gt;Download Fedora 18&lt;/a&gt; 64-bit
    &lt;span class="caps"&gt;DVD&lt;/span&gt; image, I chose the &lt;span class="caps"&gt;KDE&lt;/span&gt; version. Verify the sha256 sum if you
    want (they don&amp;#8217;t have a readily visible link to the checksum file.
    Copy the download link, paste it into your address bar and remove
    the filename. You should get a directory index that includes a
    &lt;code&gt;-CHECKSUM&lt;/code&gt; file.&lt;/li&gt;
&lt;li&gt;Per the Installation Guide&amp;#8217;s &lt;a href="http://docs.fedoraproject.org/en-US/Fedora/18/html/Installation_Guide/Making_USB_Media-UNIX_Linux.html"&gt;Making Fedora &lt;span class="caps"&gt;USB&lt;/span&gt; Media
    page&lt;/a&gt;,
    use &lt;code&gt;liveusb-creator&lt;/code&gt; to setup the installation image on the &lt;span class="caps"&gt;USB&lt;/span&gt;
    flash drive (I needed to start it with the &lt;code&gt;--reset-mbr&lt;/code&gt; option).
    You can also use other tools (dd if you&amp;#8217;re not on a Fedora-based
    distro), or a &lt;span class="caps"&gt;DVD&lt;/span&gt;, but this is the method I&amp;nbsp;chose.&lt;/li&gt;
&lt;li&gt;Due to a &lt;a href="https://fedorahosted.org/liveusb-creator/ticket/810"&gt;bug in
    liveusb-creator&lt;/a&gt;,
    you may need to manually edit &lt;code&gt;/EFI/boot/grub.cfg&lt;/code&gt; on the created
    &lt;span class="caps"&gt;USB&lt;/span&gt; stick if grub gives you a file not found error. If that happens,
    please see my bug report above for the action to take (in short, you
    need to mount the &lt;span class="caps"&gt;USB&lt;/span&gt; stick, &lt;code&gt;chmod u+w /EFI/boot/grub.cfg&lt;/code&gt; then
    edit that file and replace every occurrence of &amp;#8220;isolinux&amp;#8221; with
    &amp;#8220;syslinux&amp;#8221; and every occurrence of
    &amp;#8220;root=live:&lt;span class="caps"&gt;LABEL&lt;/span&gt;=Fedora-18-x86_64-Live-&lt;span class="caps"&gt;KDE&lt;/span&gt;.iso&amp;#8221; with&amp;nbsp;&amp;#8220;root=live:&lt;span class="caps"&gt;LABEL&lt;/span&gt;=&lt;span class="caps"&gt;LIVE&lt;/span&gt;&amp;#8221;).&lt;/li&gt;
&lt;li&gt;Boot the &lt;span class="caps"&gt;USB&lt;/span&gt; drive (use the alt key when you turn on the laptop to
    select the &lt;span class="caps"&gt;USB&lt;/span&gt; drive) and just install Fedora normally, letting it
    do its thing. Select a boot disk and let it put &lt;span class="caps"&gt;GRUB2&lt;/span&gt; on the &lt;span class="caps"&gt;EFI&lt;/span&gt;&amp;nbsp;partition.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;When you boot, it will boot to &lt;span class="caps"&gt;GRUB&lt;/span&gt;. There will be some options for Mac
&lt;span class="caps"&gt;OS&lt;/span&gt; there, but they don&amp;#8217;t work (more on that below). If you want to boot
Mac, hold down the alt/option key when you power on the laptop, which
will bring you to the boot disk selector and you can pick the Mac disk.
I know it&amp;#8217;s not pretty or ideal, but it&amp;#8217;s the best option right&amp;nbsp;now.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Making it&amp;nbsp;Better:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class="caps"&gt;GRUB2&lt;/span&gt; tries to automatically detect other OSes and configure them in the
boot loader (this is done through &lt;code&gt;/etc/grub.d/30_os-prober&lt;/code&gt;, commonly
just referred to as &lt;code&gt;os-prober&lt;/code&gt;). It tries to boot Mac directly through
the xnu_kernel64 module, which not only isn&amp;#8217;t installed on the boot
partition by default, but just doesn&amp;#8217;t work with at least Mountain Lion
(10.8). So getting &lt;span class="caps"&gt;GRUB&lt;/span&gt; to boot Mac means either having the bugs in the
xnu module fixed, or figuring out how to setup a chainloader to boot
from &lt;span class="caps"&gt;GRUB&lt;/span&gt; to Mac. The latter is probably the method I&amp;#8217;ll investigate,
but for now, since I rarely use Mac, I&amp;#8217;m happy having to use the alt key
at boot to get there. To remove the annoying, broken Mac &lt;span class="caps"&gt;OS&lt;/span&gt; options from
the grub screen, run the following commands as root (they assume you
have your &lt;span class="caps"&gt;EFI&lt;/span&gt; partition mounted at &lt;code&gt;/boot/efi&lt;/code&gt; which I believe Fedora
should do by&amp;nbsp;default:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;cp /boot/efi/EFI/fedora/grub.cfg /boot/efi/EFI/fedora/grub.cfg.bak
&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;GRUB_DISABLE_OS_PROBER=&amp;quot;true&amp;quot;&amp;#39;&lt;/span&gt; &amp;gt;&amp;gt; /etc/default/grub
grub2-mkconfig &amp;gt; /boot/efi/&lt;span class="caps"&gt;EFI&lt;/span&gt;/fedora/grub.cfg
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;Thoughts on the Fedora 18 Anaconda&amp;nbsp;Installer&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I found a couple of issues with the new Anaconda 18 installer that were
either unweildy or confusing for someone who&amp;#8217;s been installing Linux for
a long time. Overall, the new installer is very nice. It has a clean,
even elegant &lt;span class="caps"&gt;UI&lt;/span&gt;, a relatively nice flow from start to completion, and is
certainly beginner-friendly. It has fewer options than any Linux
installer I&amp;#8217;ve ever used before - not even options for package
selection, firewall or SELinux configuration, etc. - but I guess this is
in line with the goal of making Fedora a desktop &lt;span class="caps"&gt;OS&lt;/span&gt; for the masses. I
would have appreciated an &amp;#8220;advanced mode&amp;#8221; installer that was more like
Fedora 17 (or even much older versions), but I guess I&amp;#8217;m an edge case,
at least in the Fedora community. However, I did find two things
especially difficult, both related to the fact that my laptop has two
main drives (a &lt;span class="caps"&gt;500GB&lt;/span&gt; hard drive and a &lt;span class="caps"&gt;120GB&lt;/span&gt;&amp;nbsp;&lt;span class="caps"&gt;SSD&lt;/span&gt;):&lt;/p&gt;
&lt;p&gt;First, the installer prompted me to select a &amp;#8220;boot disk&amp;#8221;. I guess I
should have read the installation guide, but I assumed that nomenclature
translated to either &amp;#8220;which disk should the automatic partitiioning put
yout &lt;code&gt;/boot&lt;/code&gt; partition on&amp;#8221; or &amp;#8220;which disk should I set the bootable flag
on in the partition table&amp;#8221;. In fact, it means &amp;#8220;which disk should I put
&lt;span class="caps"&gt;GRUB&lt;/span&gt; on the &lt;span class="caps"&gt;EFI&lt;/span&gt; partition of&amp;#8221;. I installed, rebooted, and was shocked -
and somewhat distressed - to boot directly to &lt;span class="caps"&gt;GRUB2&lt;/span&gt; instead of the
rEFInd installation I had setup. The installer didn&amp;#8217;t have any of the
previously-customary &amp;#8220;warning: this will overwrite your &lt;span class="caps"&gt;MBR&lt;/span&gt;/&lt;span class="caps"&gt;EFI&lt;/span&gt; boot
partition&amp;#8221; notices, so I felt safe letting it continue. It turned out
that this was the way I ended up going, and it also turns out that
there&amp;#8217;s a bug in Anaconda that makes it fail installation if you tell it
not to write a bootloader to disk (though it&amp;#8217;s patched by one line of
Python code). But I was deeply distressed that - contrary to the
experience of every, admittedly more complicated, Linux installer I&amp;#8217;d
used before - the Fedora 18 installer overwrote my &lt;span class="caps"&gt;EFI&lt;/span&gt; bootloader
(analogous to overwriting the &lt;span class="caps"&gt;MBR&lt;/span&gt; on a &lt;span class="caps"&gt;BIOS&lt;/span&gt; boot machine) without ever
warning me or asking for a&amp;nbsp;confirmation.&lt;/p&gt;
&lt;p&gt;Secondly, the partitioning tool is clearly designed for only one
destination disk. The overview screen lists configured partitions by
label and mount point, but not by physical device, so figuring out which
partitions are on which physical disks takes a click on each and every
partition to view that information in the detail panel. When you create
a new partition, it&amp;#8217;s automatically put in a &lt;span class="caps"&gt;LVM&lt;/span&gt; volume group spanning
all disks. Changing the target of the automatically created volume group
requires a few clicks, as does changing the physical disks backing any
new volume groups. To assign a newly created partition to a specific
disk, you have to click on an unlabeled &amp;#8220;tool&amp;#8221; icon under the list of
partitions, far away from the information on the partition in question.
It&amp;#8217;s a nice interface for someone who clicks the &amp;#8220;partition
automatically&amp;#8221; button, or who just knows they want to add &amp;#8220;an extra
partition&amp;#8221;, but for anyone who has a specific layout in mind (like
having &lt;code&gt;/&lt;/code&gt;, &lt;code&gt;/boot&lt;/code&gt; and &lt;code&gt;/var&lt;/code&gt;, specifically sized, on the &lt;span class="caps"&gt;SSD&lt;/span&gt; and
&lt;code&gt;/home&lt;/code&gt; on the rotating disk) it takes about 4-5 more clicks and dialogs
to add a partition than the last Fedora installer did. Mainly, it&amp;#8217;s
lacking any sort of Advanced Mode for partitioning that allows the user
to quickly and accurately layout a more complex partitioning&amp;nbsp;scheme.&lt;/p&gt;
&lt;p&gt;Below are some screenshots from the Fedora 17 and Fedora 18 Installation
Guides, which contrast both the overview of all partitions and the
individual partition&amp;nbsp;settings:&lt;/p&gt;
&lt;p&gt;Fedora 18 Overview, from &lt;a href="http://docs.fedoraproject.org/en-US/Fedora/18/html/Installation_Guide/s1-diskpartitioning-x86.html"&gt;9.13. Creating a Custom Partition
Layout&lt;/a&gt;:  &lt;/p&gt;
&lt;p&gt;&lt;img alt="image" src="http://www.dedoimedo.com/images/computers_years/2013_1/fedora-18-installer-configure-partitions.jpg" /&gt;  &lt;/p&gt;
&lt;p&gt;Fedora 17 Overview, from &lt;a href="http://docs.fedoraproject.org/en-US/Fedora/17/html/Installation_Guide/s1-diskpartitioning-x86.html"&gt;9.14. Creating a Custom Layout or Modifying
the Default
Layout&lt;/a&gt;:  &lt;/p&gt;
&lt;p&gt;&lt;img alt="image" src="http://docs.fedoraproject.org/en-US/Fedora/17/html/Installation_Guide/images/diskpartitioning/ddmain.png" /&gt;  &lt;/p&gt;
&lt;p&gt;Fedora 18 Partition Creation/Editing, from &lt;a href="http://docs.fedoraproject.org/en-US/Fedora/18/html/Installation_Guide/Create_LVM-x86.html"&gt;9.13.3. Create &lt;span class="caps"&gt;LVM&lt;/span&gt; Logical
Volume&lt;/a&gt;:  &lt;/p&gt;
&lt;p&gt;&lt;img alt="image" src="http://docs.fedoraproject.org/en-US/Fedora/18/html/Installation_Guide/images/diskpartitioning/lvm-pv.png" /&gt;  &lt;/p&gt;
&lt;p&gt;Fedora 17 Partition Creation/Editing, from &lt;a href="http://docs.fedoraproject.org/en-US/Fedora/17/html/Installation_Guide/Adding_Partitions-x86.html"&gt;9.14.2. Adding
Partitions&lt;/a&gt;:  &lt;/p&gt;
&lt;p&gt;&lt;img alt="image" src="http://docs.fedoraproject.org/en-US/Fedora/17/html/Installation_Guide/images/diskpartitioning/part-add.png" /&gt;&lt;/p&gt;</summary><category term="bootloader"></category><category term="efi"></category><category term="fedora"></category><category term="gpt"></category><category term="grub"></category><category term="installation"></category><category term="laptop"></category><category term="mac"></category><category term="macbook"></category><category term="os x"></category></entry><entry><title>Fedora Init Script Specification Summary</title><link href="http://blog.jasonantman.com/2013/01/fedora-init-script-specification-summary/" rel="alternate"></link><updated>2013-01-03T11:30:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2013-01-03:2013/01/fedora-init-script-specification-summary/</id><summary type="html">&lt;p&gt;I&amp;#8217;ve been deploying some new software lately (specifically
&lt;a href="https://github.com/marisaseal/selenesse"&gt;selenesse&lt;/a&gt;, which combines
&lt;a href="http://seleniumhq.org/"&gt;Selenium&lt;/a&gt; and &lt;a href="http://fitnesse.org/"&gt;fitnesse&lt;/a&gt;,
&lt;a href="http://en.wikipedia.org/wiki/Xvfb"&gt;xvfb&lt;/a&gt;). None of these seem to come
with init scripts to run as daemons, and the quality of the few
Fedora/RedHat/CentOS init scripts I was able to find was quite poor. The
Fedora project has a &lt;a href="http://fedoraproject.org/wiki/Packaging:SysVInitScript"&gt;Specification for SysV-style Init Scripts in their
Packaging wiki&lt;/a&gt;,
which specifies what a Fedora/RedHat/CentOS init script should look
like, in excruciating detail. What follows is an overview of the more
important points, which I&amp;#8217;m using to develop or modify the scripts I&amp;#8217;m
currently working&amp;nbsp;on.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Scripts must be put in &lt;code&gt;/etc/rc.d/init.d&lt;/code&gt;, not in the &lt;code&gt;/etc/init.d&lt;/code&gt;
    symlink. They should have 0755&amp;nbsp;permissions.&lt;/li&gt;
&lt;li&gt;Scripts must have a Fedora-style &lt;a href="http://fedoraproject.org/wiki/Packaging:SysVInitScript#Chkconfig_Header"&gt;chkconfig
    header&lt;/a&gt;
    (&amp;#8220;chkconfig:&amp;#8221;, &amp;#8220;description:&amp;#8221; lines), and may have an &lt;a href="http://fedoraproject.org/wiki/Packaging:SysVInitScript#LSB_Header"&gt;&lt;span class="caps"&gt;LSB&lt;/span&gt;-style
    header&lt;/a&gt;
    (&lt;span class="caps"&gt;BEGIN&lt;/span&gt; &lt;span class="caps"&gt;INIT&lt;/span&gt; &lt;span class="caps"&gt;INFO&lt;/span&gt;/&lt;span class="caps"&gt;END&lt;/span&gt; &lt;span class="caps"&gt;INIT&lt;/span&gt; &lt;span class="caps"&gt;INFO&lt;/span&gt;). See &lt;a href="http://fedoraproject.org/wiki/Packaging:SysVInitScript#Initscript_template"&gt;Initscript
    template&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Scripts &lt;strong&gt;must&lt;/strong&gt; make use of a lockfile in &lt;code&gt;/var/lock/subsys/&lt;/code&gt;, and
    the name of the lockfile must be the same as the name of the init
    script. (There is a technical reason for this relating to how sysv
    init terminates daemons at shutdown). The lockfile should be touched
    when the daemon successfully starts, and removed when it
    successfully&amp;nbsp;stops.&lt;/li&gt;
&lt;li&gt;Init scripts should not depend on any environment variables set
    outside the script. They should operate gracefully with an
    empty/uninitialized environment (or only &lt;span class="caps"&gt;LANG&lt;/span&gt; and &lt;span class="caps"&gt;TERM&lt;/span&gt; set and a &lt;span class="caps"&gt;CWD&lt;/span&gt;
    of &lt;code&gt;/&lt;/code&gt;, as enforced by &lt;code&gt;service(8)&lt;/code&gt;, or with a full environment if
    they are called directly by a&amp;nbsp;user.&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://fedoraproject.org/wiki/Packaging:SysVInitScript#Required_Actions"&gt;Required&amp;nbsp;actions&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;all of the following actions are required, and have specific&amp;nbsp;definitions:&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;start&lt;/strong&gt;: starts the&amp;nbsp;service&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;stop&lt;/strong&gt;: stops the&amp;nbsp;service&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;restart&lt;/strong&gt;: stop and restart the service if the service is
    already running, otherwise just start the&amp;nbsp;service&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;condrestart (and try-restart)&lt;/strong&gt;: restart the service if the
    service is already running, if not, do&amp;nbsp;nothing&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;reload&lt;/strong&gt;: reload the configuration of the service without
    actually stopping and restarting the service (if the service
    does not support this, do&amp;nbsp;nothing)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;force-reload&lt;/strong&gt;: reload the configuration of the service and
    restart it so that it takes&amp;nbsp;effect&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;status&lt;/strong&gt;: print the current status of the&amp;nbsp;service&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;usage&lt;/strong&gt;: by default, if the initscript is run without any
    action, it should list a &amp;#8220;usage message&amp;#8221; that has all actions
    (intended for&amp;nbsp;use)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;There are specified exit codes for &lt;a href="http://fedoraproject.org/wiki/Packaging:SysVInitScript#Exit_Codes_for_the_Status_Action"&gt;status
    actions&lt;/a&gt;
    and &lt;a href="http://fedoraproject.org/wiki/Packaging:SysVInitScript#Exit_Codes_for_non-Status_Actions"&gt;non-status
    actions&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;They must &amp;#8220;behave sensibly&amp;#8221;. I&amp;#8217;ve found this to be one of the
    biggest problems with homegrown init scripts. If &lt;code&gt;servicename start&lt;/code&gt;
    is called while the service is already running, it should simply
    exit 0. Likewise if the service is already stopped. Init scripts
    &lt;strong&gt;must not kill unrelated processes&lt;/strong&gt;. I don&amp;#8217;t know how many times
    I&amp;#8217;ve seen scripts that kill every java or python process on a&amp;nbsp;machine.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I intend to use this as a quick checklist when developing or evaluating
init scripts for RedHat/Fedora based systems. In my experience, the
biggest problems with most init scripts revolve around poor handling of
&lt;span class="caps"&gt;PID&lt;/span&gt; files and lockfiles,&amp;nbsp;mainly:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Killing processes other than the one that the script started (i.e.
    killing all java or python processes), usually because the &lt;span class="caps"&gt;PID&lt;/span&gt; isn&amp;#8217;t
    tracked at&amp;nbsp;start&lt;/li&gt;
&lt;li&gt;Starting a second instance of the subsystem because lockfiles aren&amp;#8217;t
    used, or the status function is&amp;nbsp;broken.&lt;/li&gt;
&lt;li&gt;improper exit&amp;nbsp;codes&lt;/li&gt;
&lt;li&gt;either explicitly relying on environment variables (and therefore
    breaking when called through &lt;code&gt;service(8)&lt;/code&gt;), or conversely, not
    cleaning/resetting environment variables that are used by dependent
    code or&amp;nbsp;processes.&lt;/li&gt;
&lt;/ul&gt;</summary><category term="centos"></category><category term="fedora"></category><category term="init"></category><category term="redhat"></category><category term="startup"></category></entry><entry><title>Random Links for Wednesday, October 24th</title><link href="http://blog.jasonantman.com/2012/10/random-links-for-wednesday-october-24th/" rel="alternate"></link><updated>2012-10-24T12:01:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-10-24:2012/10/random-links-for-wednesday-october-24th/</id><summary type="html">&lt;p&gt;Some random interesting links from Slashdot for&amp;nbsp;today:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://news.slashdot.org/story/12/10/23/2038220/the-greatest-battle-of-the-personal-computing-revolution-lies-ahead"&gt;The Greatest Battle of the Personal Computing Revolution Lies Ahead
    -
    Slashdot&lt;/a&gt;.
    A bit of a rant, but makes some good points that are close to my
    heart, and unfortunately far from the thoughts of many&amp;nbsp;non-techies.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://tos-dr.info/"&gt;Terms of Service; Didn&amp;#8217;t Read&lt;/a&gt; - an
    interesting&amp;nbsp;project&lt;/li&gt;
&lt;li&gt;&lt;a href="http://yro.slashdot.org/story/12/10/21/208206/how-patent-trolls-harm-the-economy"&gt;How Patent Trolls Harm the Economy -
    Slashdot&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;another issue close to my&amp;nbsp;heart&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.datacenterknowledge.com/archives/2012/10/17/how-google-cools-its-armada-of-servers/"&gt;How Google Cools Its Armada of Servers » Data Center&amp;nbsp;Knowledge&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.google.com/about/datacenters/gallery/#/"&gt;Data centers – Google Data
    centers&lt;/a&gt; - A
    photo tour of Google data centers, by Google, along with a &lt;a href="https://plus.google.com/+google/posts/Gk8ScjPX23n"&gt;Google+
    post&lt;/a&gt; about the
    architecture photographer who did this&amp;nbsp;work.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://tech.slashdot.org/story/12/10/22/0518231/darpa-funds-a-300-software-defined-radio-for-hackers"&gt;&lt;span class="caps"&gt;DARPA&lt;/span&gt; Funds a $300 Software-Defined Radio For Hackers -
    Slashdot&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;way&amp;nbsp;cool.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="http://map.honeynet.org/"&gt;Honeynet Map&lt;/a&gt; - &amp;#8220;realtime&amp;#8221; map of
    cybersecurity incidents, from the Honeynet&amp;nbsp;Project.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://science.slashdot.org/story/12/10/17/1741225/malware-is-rampant-on-medical-devices-in-hospitals"&gt;Malware Is &amp;#8216;Rampant&amp;#8217; On Medical Devices In Hospitals -
    Slashdot&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;a bit scary, but unfortunately not that hard to guess. I&amp;#8217;ve seen
(probably unpatched) Windows 2000 workstations on hospital&amp;nbsp;networks.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;To top off the scary posts: &lt;a href="http://news.slashdot.org/story/12/10/17/0325236/researcher-reverse-engineers-pacemaker-transmitter-to-deliver-deadly-shocks"&gt;Researcher Reverse-Engineers Pacemaker
    Transmitter To Deliver Deadly Shocks -&amp;nbsp;Slashdot&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary><category term="appliancization"></category><category term="cooling"></category><category term="datacenter"></category><category term="google"></category><category term="healthcare"></category><category term="legal"></category><category term="links"></category><category term="malware"></category><category term="pacemaker"></category><category term="patents"></category><category term="radio"></category><category term="SDR"></category><category term="security"></category></entry><entry><title>Readable Nagios Log Timestamps</title><link href="http://blog.jasonantman.com/2012/10/readable-nagios-log-timestamps/" rel="alternate"></link><updated>2012-10-17T05:00:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-10-17:2012/10/readable-nagios-log-timestamps/</id><summary type="html">&lt;p&gt;If you&amp;#8217;re like me and most humans, the Nagios logfile timestamp (a unix
timestamp) isn&amp;#8217;t terribly useful when trying to grep through the logs
and correlate&amp;nbsp;events:  &lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="gp"&gt;#&lt;/span&gt; head -2 nagios.log
&lt;span class="go"&gt;[1350360000] &lt;span class="caps"&gt;LOG&lt;/span&gt; &lt;span class="caps"&gt;ROTATION&lt;/span&gt;: &lt;span class="caps"&gt;DAILY&lt;/span&gt;&lt;/span&gt;
&lt;span class="go"&gt;[1350360000] &lt;span class="caps"&gt;LOG&lt;/span&gt; &lt;span class="caps"&gt;VERSION&lt;/span&gt;: 2.0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Here&amp;#8217;s a nifty Perl one-liner that you can pipe your logs&amp;nbsp;through:  &lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="n"&gt;perl&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;pe&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;s/(\\d+)/localtime($1)/e&amp;#39;&lt;/span&gt;  
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;to get nicer output&amp;nbsp;like:  &lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="c1"&gt;# head -2 nagios.log&lt;/span&gt;
&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;Tue&lt;/span&gt; &lt;span class="n"&gt;Oct&lt;/span&gt; &lt;span class="mi"&gt;16&lt;/span&gt; &lt;span class="mo"&gt;00&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mo"&gt;00&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mo"&gt;00&lt;/span&gt; &lt;span class="mi"&gt;2012&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="n"&gt;&lt;span class="caps"&gt;LOG&lt;/span&gt;&lt;/span&gt; &lt;span class="n"&gt;&lt;span class="caps"&gt;ROTATION&lt;/span&gt;:&lt;/span&gt; &lt;span class="n"&gt;&lt;span class="caps"&gt;DAILY&lt;/span&gt;&lt;/span&gt;
&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;Tue&lt;/span&gt; &lt;span class="n"&gt;Oct&lt;/span&gt; &lt;span class="mi"&gt;16&lt;/span&gt; &lt;span class="mo"&gt;00&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mo"&gt;00&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mo"&gt;00&lt;/span&gt; &lt;span class="mi"&gt;2012&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="n"&gt;&lt;span class="caps"&gt;LOG&lt;/span&gt;&lt;/span&gt; &lt;span class="n"&gt;&lt;span class="caps"&gt;VERSION&lt;/span&gt;:&lt;/span&gt; &lt;span class="mf"&gt;2.0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="icinga"></category><category term="Nagios"></category><category term="perl"></category><category term="timestamp"></category></entry><entry><title>Custom Tombstone and Road Sign Pictures</title><link href="http://blog.jasonantman.com/2012/10/custom-tombstone-and-road-sign-pictures/" rel="alternate"></link><updated>2012-10-16T07:02:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-10-16:2012/10/custom-tombstone-and-road-sign-pictures/</id><summary type="html">&lt;p&gt;On the lighter side, I found a few web sites by &lt;a href="http://www.pixbytom.com/"&gt;Tom
Blackwell&lt;/a&gt; that do some fun stuff with text
overlays on images. seems like a nice little tool for those
end-of-project powerpoints, or to send out the monthly &amp;#8220;most rolled-back
commits&amp;#8221;&amp;nbsp;medal&amp;#8230;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.tombstonebuilder.com/index.php"&gt;Custom Tombstone&amp;nbsp;Maker&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Image of tombstone, with 'Your Text Goes Here' carved into it" src="/GFX/my_tombstone.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.customroadsign.com/"&gt;CustomRoadSign.com&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Highway sign with 'Your Text Goes Here' written on it" src="/GFX/menusign.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.custommotelsign.com/"&gt;CustomMotelSign.com&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Motel-style sign with 'Your Text Goes Here' written on it" src="/GFX/motelsign.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.getamedal.com/"&gt;GetAMedal.com&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Gold medal with 'Your Text Goes Here' written on it" src="/GFX/medal.jpg" /&gt;&lt;/p&gt;</summary><category term="graphics"></category><category term="humor"></category><category term="road sign"></category><category term="sign"></category><category term="tombstone"></category></entry><entry><title>All-Mechanical Computer Instructional Video</title><link href="http://blog.jasonantman.com/2012/10/all-mechanical-computer-instructional-video/" rel="alternate"></link><updated>2012-10-12T20:54:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-10-12:2012/10/all-mechanical-computer-instructional-video/</id><summary type="html">&lt;p&gt;I saw a link to &lt;a href="http://www.youtube.com/watch?v=s1i-dnAH9Y4"&gt;this YouTube
video&lt;/a&gt; shared on &lt;a href="http://everythingsysadmin.com/2012/10/mechanical-computer-instructio.html"&gt;Tom
Limoncelli&amp;#8217;s
blog&lt;/a&gt;.
It&amp;#8217;s a 1953 &lt;span class="caps"&gt;US&lt;/span&gt; Navy instructional video about an all-mechanical fire
control computer. Yes, I really mean a &lt;em&gt;computer&lt;/em&gt; that can solve
continuously changing 25-variable fire control problems using only
mechanical means (gears, cams, etc.). Think about it for a minute - it&amp;#8217;s
truly mind-boggling. And really gives one an amazing appreciation for
the power of a simple pocket calculator, and the amazing engineering
that went into solving these problems before electronic computers. I&amp;#8217;m
usually not much of a math geek, but I watched the whole 40 minute video
and was in awe of both the simple ability to use three arms and a pin to
multiply numbers, and the amazingly precise engineering and machining it
would take to translate various rotation inputs into landing a shell on
a moving ship miles away. It&amp;#8217;s a really good watch, and will probably
leave you astonished by both how far technology has come (and what we
take for granted every day), and by the fact that feats of engineering
like this one worked quite&amp;nbsp;well.&lt;/p&gt;</summary><category term="mechanical computer"></category></entry><entry><title>Pretty-Print a JSON response at the command line</title><link href="http://blog.jasonantman.com/2012/10/pretty-print-a-json-response-at-the-command-line/" rel="alternate"></link><updated>2012-10-09T14:44:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-10-09:2012/10/pretty-print-a-json-response-at-the-command-line/</id><summary type="html">&lt;p&gt;I&amp;#8217;ve been doing some work with &lt;a href="http://www.rabbitmq.com/"&gt;RabbitMQ&lt;/a&gt;
lately, and have been doing some testing against its &lt;span class="caps"&gt;HTTP&lt;/span&gt;-based &lt;span class="caps"&gt;API&lt;/span&gt;,
which returns results in &lt;span class="caps"&gt;JSON&lt;/span&gt;. If you&amp;#8217;re looking to pretty-print a &lt;span class="caps"&gt;JSON&lt;/span&gt;
response for easier viewing, here&amp;#8217;s a nice way to do it at the command
line using Python and
&lt;a href="http://docs.python.org/library/json.html"&gt;json.tool&lt;/a&gt;:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;curl http://username:pass@hostname:55672/api/overview | python -m json.tool&lt;/code&gt;&lt;/p&gt;</summary><category term="curl"></category><category term="json"></category><category term="python"></category><category term="rabbitmq"></category></entry><entry><title>Nagstamon on Fedora 17</title><link href="http://blog.jasonantman.com/2012/10/nagstamon-on-fedora-17/" rel="alternate"></link><updated>2012-10-05T07:37:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-10-05:2012/10/nagstamon-on-fedora-17/</id><summary type="html">&lt;p&gt;Since I started my last job, I&amp;#8217;ve been using
&lt;a href="http://nagstamon.ifw-dresden.de/"&gt;Nagstamon&lt;/a&gt; on my workstation; it&amp;#8217;s a
really handy little system tray application that monitors a
Nagios/Icinga instance and shows status updates/summary in a handy
fashion, including flashing and (optionally) a sound alert when
something changes. Unfortunately, there doesn&amp;#8217;t seem to be a Fedora 17
package for it, though there is an entry on the &lt;a href="http://fedoraproject.org/wiki/Package_maintainers_wishlist#N-O"&gt;Fedora package
maintainers
wishlist&lt;/a&gt;.
The closest I was able to find is a
&lt;a href="http://pkgs.org/centos-6-rhel-6/repoforge-i386/nagstamon-0.9.7.1-2.el6.rf.noarch.rpm.html"&gt;repoforge/RPMforge&lt;/a&gt;
package of Nagstamon 0.9.7.1, along with a &lt;a href="http://apt.sw.be/source/nagstamon-0.9.7.1-2.rf.src.rpm"&gt;source
&lt;span class="caps"&gt;RPM&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Here are the steps to build that package on&amp;nbsp;F17:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Download and install
    &lt;a href="http://apt.sw.be/source/rpm-macros-rpmforge-0-6.rf.src.rpm"&gt;rpm-macros-rpmforge&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;As root, edit &lt;code&gt;/etc/rpm/macros.rpmforge&lt;/code&gt; and comment out the &lt;code&gt;%dist&lt;/code&gt;
    macro, so we&amp;#8217;ll still have the default &amp;#8220;fc17&amp;#8221; dist&amp;nbsp;tag.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;wget http://apt.sw.be/source/nagstamon-0.9.7.1-2.rf.src.rpm&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;rpmbuild &amp;#8212;rebuild&amp;nbsp;nagstamon-0.9.7.1-2.rf.src.rpm&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Hopefully this will help someone else as well. At the moment, Nagstamon
is actually up to version 0.9.9, so hopefully I&amp;#8217;ll build a newer package
sometime&amp;nbsp;soon.&lt;/p&gt;</summary><category term="fedora"></category><category term="nagios. icinga"></category><category term="nagstamon"></category><category term="package"></category><category term="rpm"></category></entry><entry><title>New Job</title><link href="http://blog.jasonantman.com/2012/09/new-job/" rel="alternate"></link><updated>2012-09-28T12:36:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-09-28:2012/09/new-job/</id><summary type="html">&lt;p&gt;Today is my last day in my almost-year-long stint as a System
Administrator at &lt;a href="http://www.techtarget.com/"&gt;TechTarget&lt;/a&gt;. Monday, I
start a new contract-to-perm position as a Linux Engineer with &lt;a href="http://cmgdigital.com/"&gt;Cox
Media Group Digital &lt;span class="amp"&gt;&amp;amp;&lt;/span&gt; Strategy&lt;/a&gt;. I can&amp;#8217;t say a
whole lot about the new job, other than it will hopefully be a great
change for me, and they make heavy use of
&lt;a href="https://www.djangoproject.com/"&gt;Django&lt;/a&gt;. If you want to get a bit of an
idea of what they&amp;#8217;re about, here&amp;#8217;s a &lt;a href="https://github.com/coxmediagroup/jobs/blob/master/ethos.rst"&gt;document on their departmental
ethos&lt;/a&gt;.
Hopefully I&amp;#8217;ll be able to post more useful information here, and post
more often, in the future. I&amp;#8217;m really psyched about the new&amp;nbsp;gig.&lt;/p&gt;</summary><category term="cmg"></category><category term="coxmedia"></category><category term="job"></category><category term="techtarget"></category></entry><entry><title>Some questions from a tech interview with a big Internet company</title><link href="http://blog.jasonantman.com/2012/09/some-questions-from-a-tech-interview-with-a-big-internet-company/" rel="alternate"></link><updated>2012-09-12T05:00:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-09-12:2012/09/some-questions-from-a-tech-interview-with-a-big-internet-company/</id><summary type="html">&lt;p&gt;A while back, I did a technical phone screen with a big online &amp;#8220;social&amp;#8221;
company (I won&amp;#8217;t say who, but they&amp;#8217;re a household name, growing fast,
and doing cool things; that doesn&amp;#8217;t leave &lt;em&gt;too&lt;/em&gt; many options). I rarely
remember to write down interview questions, but I was cleaning out my
desk this morning and came by a ripped-out sheet of notebook paper with
a handful of the interview questions written on it. Most of them weren&amp;#8217;t
terribly difficult, or terribly unusual for competent technical
interviewers, but since I happen to actually have the list written down,
I though I&amp;#8217;d share it. I don&amp;#8217;t remember why the programming questions
are all Python; likely, I was asked to choose between Python (which I&amp;#8217;ve
used, though not lately), Ruby (which I can barely muddle my way through
reading on a good day), and something else I don&amp;#8217;t know. Here are some
of&amp;nbsp;them&amp;#8230;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;What is an inode? What does it&amp;nbsp;store?&lt;/li&gt;
&lt;li&gt;What is a hard&amp;nbsp;link?&lt;/li&gt;
&lt;li&gt;What is the difference between a hard link and a soft&amp;nbsp;link?&lt;/li&gt;
&lt;li&gt;What is a list in&amp;nbsp;Python?&lt;/li&gt;
&lt;li&gt;Name some data structures that you&amp;#8217;d use in Python. Describe them,
    and tell me why you would use&amp;nbsp;them.&lt;/li&gt;
&lt;li&gt;How would you list all the man pages containing the keyword&amp;nbsp;&amp;#8220;date&amp;#8221;?&lt;/li&gt;
&lt;li&gt;If the &lt;code&gt;chmod&lt;/code&gt; binary had its permissions set to &lt;code&gt;000&lt;/code&gt;, how would
    you fix&amp;nbsp;it?&lt;/li&gt;
&lt;/ul&gt;</summary><category term="hiring"></category><category term="interview"></category><category term="questions"></category><category term="sysadmin"></category></entry><entry><title>Dumping all Macros from an RPM Spec File</title><link href="http://blog.jasonantman.com/2012/09/dumping-all-macros-from-an-rpm-spec-file/" rel="alternate"></link><updated>2012-09-10T10:00:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-09-10:2012/09/dumping-all-macros-from-an-rpm-spec-file/</id><summary type="html">&lt;p&gt;I&amp;#8217;ve been doing a lot of &lt;span class="caps"&gt;RPM&lt;/span&gt; packaging lately, and on different (and
very old) distros and versions. Sometimes I lose track of all of the
macros used in specfiles (&lt;code&gt;_bindir _sbindir dist _localstatedir&lt;/code&gt;, etc).
There&amp;#8217;s no terribly easy way to dump a list of all of the available
macros. There is, however, a bit of a kludge. Insert the following code
in your specfile before the &lt;code&gt;%prep&lt;/code&gt; or &lt;code&gt;%setup&lt;/code&gt; lines:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;%dump
exit 1
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The &lt;code&gt;%dump&lt;/code&gt; macro will dump all defined macros to &lt;span class="caps"&gt;STDERR&lt;/span&gt;. The &lt;code&gt;exit 1&lt;/code&gt;
will prevent rpmbuild from going on and trying to build the package. If
you want to view the output nicely, you can pipe it through a pager like
less: &lt;code&gt;rpmbuild -ba filename.spec 2&amp;gt;&amp;amp;1 | less&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Just make sure to remove those two lines when you want to actually build
the&amp;nbsp;package.&lt;/p&gt;</summary><category term="packaging"></category><category term="rpm"></category><category term="rpmbuild"></category></entry><entry><title>Getting oVirt up and running</title><link href="http://blog.jasonantman.com/2012/09/getting-ovirt-up-and-running/" rel="alternate"></link><updated>2012-09-07T05:00:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-09-07:2012/09/getting-ovirt-up-and-running/</id><summary type="html">&lt;p&gt;The bulk of this post was written way back in April 2012. If you&amp;#8217;re just
coming here, and looking to setup oVirt, you should probably &lt;a href="#postscript"&gt;skip down
to the postscript&lt;/a&gt; for an update, and ignore most of the
content here (as it&amp;#8217;s applicable to an older oVirt&amp;nbsp;version).&lt;/p&gt;
&lt;p&gt;I recently started setting up &lt;a href="http://www.ovirt.org"&gt;oVirt&lt;/a&gt;, the
community version of Red Hat Enterprise Virtualization, at work for some
testing (mainly a &amp;#8220;sandbox&amp;#8221; &lt;span class="caps"&gt;VM&lt;/span&gt; environment, and because
&lt;a href="http://theforeman.org/"&gt;Foreman&lt;/a&gt;
&lt;a href="http://blog.theforeman.org/2012/03/vnc-support-built-in-foreman.html"&gt;supports&lt;/a&gt;
it). To start with, I had two nodes, each with two dual-core Xeon
processors (&lt;span class="caps"&gt;VT&lt;/span&gt;-x capable) with &lt;span class="caps"&gt;20GB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt;, one with &lt;span class="caps"&gt;600GB&lt;/span&gt; internal storage
and one with &lt;span class="caps"&gt;140GB&lt;/span&gt; internal. While oVirt&amp;#8217;s documentation isn&amp;#8217;t exactly
wonderful, I found a blgo post by Jason Brooks, &lt;a href="http://blog.jebpages.com/archives/how-to-get-up-and-running-with-ovirt/"&gt;How to Get Up and
Running with
oVirt&lt;/a&gt;,
which gives a great walkthrough of getting the oVirt Engine setup on a
machine, and also setting up that same machine as a &lt;span class="caps"&gt;VM&lt;/span&gt; host. As oVirt is
still fairly young, this is all done on Fedora. I performed my
installation via Cobbler, though I&amp;#8217;m afraid to admit it was an entirely
manual, interactive&amp;nbsp;install.&lt;/p&gt;
&lt;p&gt;I did run into a few bumps during Jason&amp;#8217;s tutorial. In step 15, adding
the data &lt;span class="caps"&gt;NFS&lt;/span&gt; export as a Storage Domain, I was unable to add the &lt;span class="caps"&gt;NFS&lt;/span&gt;
export. I found the &lt;a href="http://www.ovirt.org/wiki/Troubleshooting_NFS_Storage_Issues"&gt;Troubleshooting &lt;span class="caps"&gt;NFS&lt;/span&gt; Storage Issues page on the
oVirt
wiki&lt;/a&gt;,
ensured that SELinux was disabled and that the export had the correct
permissions, confirmed that &lt;code&gt;/etc/nfsmount.conf&lt;/code&gt; specified &lt;code&gt;Nfsvers=3&lt;/code&gt;,
rebooted, and then ran the &lt;code&gt;nfs-check.py&lt;/code&gt; script. At this point, I was
able to add the other storage domains in steps 15 and&amp;nbsp;16.&lt;/p&gt;
&lt;p&gt;My second issue was that even on Fedora 16, I simply can&amp;#8217;t get the spice
client (through the &lt;code&gt;spice-xpi&lt;/code&gt; browser plugin) to work. As far as I can
tell from the logs, it looks like &lt;code&gt;spicec&lt;/code&gt; is being sent a value of
&amp;#8220;None&amp;#8221; for the secured port parameter, instead of the correct port
number. I assume this is a bug in oVirt, but I&amp;#8217;ll revisit this problem
when I have time. In the mean time, I changed my test &lt;span class="caps"&gt;VM&lt;/span&gt; to use &lt;span class="caps"&gt;VNC&lt;/span&gt;,
which is launched by installing the &lt;code&gt;ovirt-engine-cli&lt;/code&gt; package (see
below) on your client computer, connecting to the oVirt &lt;span class="caps"&gt;API&lt;/span&gt; with&amp;nbsp;ovirt-shell:  &lt;/p&gt;
&lt;p&gt;&lt;code&gt;ovirt-shell --connect --url=https://ovirt-engine.example.com:8443/api --user=admin@internal --password adminpassword&lt;/code&gt;&lt;br /&gt;
and then running &lt;code&gt;console vm_name&lt;/code&gt;. This launches the &lt;code&gt;vncviewer&lt;/code&gt;
binary, which is in the &amp;#8220;tigervnc&amp;#8221; package on&amp;nbsp;Fedora.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Installing&amp;nbsp;ovirt-engine-cli&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;To run &lt;code&gt;ovirt-shell&lt;/code&gt; on your workstation (Fedora 16, of course&amp;#8230;)
you&amp;#8217;ll need the ovirt-engine-cli and ovirt-engine-sdk packages. I
manually downloaded them from
&lt;a href="http://www.ovirt.org/releases/nightly/fedora/16/"&gt;http://www.ovirt.org/releases/nightly/fedora/16/&lt;/a&gt;,
versions 2.1.3 and 1.6.2, respecitively. The &lt;span class="caps"&gt;SDK&lt;/span&gt; and &lt;span class="caps"&gt;CLI&lt;/span&gt; are python
based, so there are a few Python dependencies, all of which were
automatically solved by yum. I know there are &lt;span class="caps"&gt;SDK&lt;/span&gt; and &lt;span class="caps"&gt;CLI&lt;/span&gt; packages out
there for other distros, but haven&amp;#8217;t tried them&amp;nbsp;yet.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Installing Linux&amp;nbsp;Guests&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Installing a CentOS 6.2 x86_64 guest was relatively straightforward,
and my usual kickstart infrastructure worked fine. The only catch was
the VirtIO storage interface, which shows up as &lt;code&gt;/dev/vdx&lt;/code&gt; instead of
&lt;code&gt;/dev/sdx&lt;/code&gt;; I just added another kickstart metadata option in Cobbler
that allows me to use &lt;code&gt;sdx&lt;/code&gt; by specifying &amp;#8220;virtual=yes&amp;#8221; (for our VMWare
hosts), or &lt;code&gt;vdx&lt;/code&gt; by specifying&amp;nbsp;&amp;#8220;virtual=ovirt&amp;#8221;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Setting up&amp;nbsp;Authentication&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;As installed, oVirt only has one user, &amp;#8220;admin@internal&amp;#8221;; it requires an
external directory service for user authentication. Currently, it
supports &lt;span class="caps"&gt;IPA&lt;/span&gt;, Red Hat&amp;#8217;s Enterprise Identity Management tool (combines
&lt;span class="caps"&gt;RHEL&lt;/span&gt;, oVirt Directory Server, Kerberos and &lt;span class="caps"&gt;NTP&lt;/span&gt;; perhaps
&lt;a href="http://freeipa.org"&gt;FreeIPA&lt;/a&gt; would work as well?) and Microsoft Active
Directory. As much as I&amp;#8217;d like to give &lt;span class="caps"&gt;IPA&lt;/span&gt; or FreeIPA a try, my company
already has an &lt;span class="caps"&gt;AD&lt;/span&gt; infrastructure, so I opted to go that route.
Documentation is given in the &lt;a href="http://www.ovirt.org/wiki/File:OVirt-3.0-Installation_Guide-en-US.pdf"&gt;oVirt 3.0 Installation
Guide&lt;/a&gt;,
starting on page 96. Unfortunately, I was never about to get &lt;span class="caps"&gt;AD&lt;/span&gt; auth
working correctly, so I just worked with the one admin&amp;nbsp;user.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Adding a&amp;nbsp;Node&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The biggest issue I had was adding the second node to oVirt. I attempted
to use the &lt;span class="caps"&gt;DVD&lt;/span&gt; Import feature of Cobbler on the &lt;a href="http://www.ovirt.org/get-ovirt/"&gt;oVirt Node Image
&lt;span class="caps"&gt;ISO&lt;/span&gt;&lt;/a&gt;, but that failed. I then found the
image&amp;#8217;s &lt;code&gt;LiveOS/livecd-iso-to-pxeboot&lt;/code&gt; script and used that to make a
kernerl and initrd, and kernel parameters, for Cobbler. &lt;span class="caps"&gt;PXE&lt;/span&gt; works&amp;nbsp;fine.&lt;/p&gt;
&lt;p&gt;&lt;a name="postscript"&gt;&lt;/a&gt;&lt;strong&gt;Postscript:&lt;/strong&gt; I ended up blowing away my
oVirt installation in favor of testing other things. At some point, the
engine install got corrupted in a way that I just couldn&amp;#8217;t fix; even
though I spent all day one Saturday working on it, it took more time
than I could allocate to a personal project. So this post is really
semi-complete at best. However, there is some good news. Jason Brooks&amp;#8217;
original post, &lt;a href="http://blog.jebpages.com/archives/how-to-get-up-and-running-with-ovirt/"&gt;How to Get Up and Running with
oVirt&lt;/a&gt;,
was written for oVirt 3.0, as was this post. Since then, there has been
a new release, &lt;a href="http://wiki.ovirt.org/wiki/OVirt_3.1_release_notes"&gt;oVirt
3.1&lt;/a&gt;, which
apparently has a better &lt;span class="caps"&gt;UI&lt;/span&gt; and a better installer. Jason Brooks has a
new post, &lt;a href="http://blog.jebpages.com/archives/up-and-running-with-ovirt-3-1-edition/"&gt;Up and Running with oVirt, 3.1
Edition&lt;/a&gt;,
which covers installation and configuration of both an all-in-one
machine and a separate node. If you&amp;#8217;re looking to try oVirt, I&amp;#8217;d
recommend you give that a shot. Unfortunately (and strangely, given that
this is supposed to be the &amp;#8220;upstream&amp;#8221; of RedHat&amp;#8217;s proprietary &lt;span class="caps"&gt;RHEV&lt;/span&gt;) it&amp;#8217;s
still all based on&amp;nbsp;Fedora.&lt;/p&gt;</summary><category term="fedora"></category><category term="kvm"></category><category term="ovirt"></category><category term="qemu"></category><category term="redhat"></category><category term="rhev"></category><category term="spice"></category><category term="virtualization"></category></entry><entry><title>Project - Storing and Analyzing Apache httpd Logs from Many Hosts</title><link href="http://blog.jasonantman.com/2012/09/project-storing-and-analyzing-apache-httpd-logs-from-many-hosts/" rel="alternate"></link><updated>2012-09-06T05:00:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-09-06:2012/09/project-storing-and-analyzing-apache-httpd-logs-from-many-hosts/</id><summary type="html">&lt;p&gt;I&amp;#8217;ve recently started casual work on a side-project to collect, store,
and analyze apache logs from a bunch of servers - for the initial
implementation, I&amp;#8217;m looking to handle about 15M access_log lines per
day (that works out to 173 lines/second assuming an even distribution,
which there certainly isn&amp;#8217;t). Here is a selection of links that I&amp;#8217;ve
been using for ideas and inspiration, both for the technical side (data
collection, transport, storage and analysis) and&amp;nbsp;visualization:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://oss.oetiker.ch/rrdtool/gallery/index.en.html"&gt;RRDtool - RRDtool
    Gallery&lt;/a&gt; - I&amp;#8217;m
    starting a graphing/log analysis project, and looked here for some
    inspiration for my proof-of-concept&amp;nbsp;code&lt;/li&gt;
&lt;li&gt;&lt;a href="http://aplawrence.com/Girish/gv-rrdtool.html"&gt;Creating pretty graphs with
    &lt;span class="caps"&gt;RRDTOOL&lt;/span&gt;&lt;/a&gt; from &lt;a href=""&gt;Girish
    Venkatachalam&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;There&amp;#8217;s some good information on RRDtool&amp;#8217;s &amp;#8220;Abberant Behavior
    Detection&amp;#8221; (Holt-Winters prediction, deviation and failure
    detection) on the
    &lt;a href="http://oss.oetiker.ch/rrdtool/doc/rrdtool.en.html"&gt;rrdtool&lt;/a&gt;,
    &lt;a href="http://oss.oetiker.ch/rrdtool/doc/rrdgraph_examples.en.html"&gt;rrdgraph_examples&lt;/a&gt;
    and &lt;a href="http://oss.oetiker.ch/rrdtool/doc/rrdcreate.en.html"&gt;rrdcreate&lt;/a&gt;
    documentation pages, but unfortunately no anchors to link directly&amp;nbsp;to.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://square.github.com/cube/"&gt;Cube&lt;/a&gt; - &amp;#8220;Cube is a system for
    collecting timestamped events and deriving metrics. By collecting
    events rather than metrics, Cube lets you compute aggregate
    statistics post hoc. It also enables richer analysis, such as
    quantiles and histograms of arbitrary event sets. Cube is built on
    MongoDB and available under the Apache License on&amp;nbsp;GitHub.&amp;#8221;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://square.github.com/cubism/"&gt;Cubism.js&lt;/a&gt; - &amp;#8220;Cubism.js is a D3
    plugin for visualizing time series. Use Cubism to construct better
    realtime dashboards, pulling data from Graphite, Cube and other
    sources. Cubism is available under the Apache License on GitHub.&amp;#8221;
    The demo on that page looks pretty&amp;nbsp;cool.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.highcharts.com/demo/"&gt;Highcharts Demo Gallery&lt;/a&gt; - &lt;span class="caps"&gt;JS&lt;/span&gt;
    chart/graph library. It requires a paid license for commercial use
    (though it&amp;#8217;s a bit unclear to me whether an internal ops dashboard
    would fall under this license provision) so I probably wouldn&amp;#8217;t go
    with this one. They have some cool charts, including a &lt;a href="http://www.highcharts.com/demo/dynamic-update/gray"&gt;dynamic line
    chart updating every
    second&lt;/a&gt;, a
    &lt;a href="http://www.highcharts.com/demo/scatter/gray"&gt;scatter plot&lt;/a&gt; and a
    nice &lt;a href="http://www.highcharts.com/demo/line-time-series/gray"&gt;zoomable time-series
    graph&lt;/a&gt;, though
    &lt;span class="caps"&gt;IMHO&lt;/span&gt; it&amp;#8217;s not as nice as the Google Chart Tools (formerly Google
    Visualization) &lt;a href="https://developers.google.com/chart/interactive/docs/gallery/annotatedtimeline"&gt;annotated
    timeline&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://forums.cacti.net/viewtopic.php?t=29963"&gt;[ &lt;span class="caps"&gt;HOWTO&lt;/span&gt; ] Graphing Holt-Winters Predictive
    Analysis&lt;/a&gt; - Cacti&amp;nbsp;forums&lt;/li&gt;
&lt;li&gt;&lt;a href="http://dygraphs.com/"&gt;dygraphs&lt;/a&gt; - an impressive permissive-license
    &lt;span class="caps"&gt;JS&lt;/span&gt; chart library dedicated to visualizing dense time-series data.
    Developed by Google and now used by them (Google Correlate, Google
    Latitude) as well as &lt;span class="caps"&gt;NASA&lt;/span&gt;, 10gen and others. There are some very
    cool demos on that main page, and also on the &lt;a href="http://dygraphs.com/tests/"&gt;tests
    page&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.planetdevops.net/?p=12289"&gt;Graphite, JMXTrans, Ganglia, Logster, Collectd, say what ? « Planet&amp;nbsp;DevOps&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://auxesis.github.com/visage/"&gt;Visage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/kgorman/mongo_graph"&gt;kgorman/mongo_graph&lt;/a&gt; - a
    tool to pull data from MongoDB and put it in &lt;span class="caps"&gt;RRD&lt;/span&gt;&amp;nbsp;files&lt;/li&gt;
&lt;li&gt;&lt;a href="http://web.taranis.org/drraw/"&gt;drraw&lt;/a&gt; - a perl-based graphing
    frontend (web &lt;span class="caps"&gt;UI&lt;/span&gt;) for&amp;nbsp;RRDtool&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/etsy/logster"&gt;etsy/logster · GitHub&lt;/a&gt; - Etsy&amp;#8217;s
    Python tool to maintain a pointer on a log file, and parse at a
    regular rate feeding the data into a tool like Graphite or&amp;nbsp;Ganglia.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/cebailey59/charcoal"&gt;cebailey59/charcoal&lt;/a&gt; - a
    Sinatra app that allows creation of dashboards from Graphite,
    collectd, or any other service that creates images from &lt;span class="caps"&gt;URL&lt;/span&gt;&amp;nbsp;calls.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/etsy/dashboard"&gt;etsy/dashboard&lt;/a&gt; - some examples
    of how Etsy builds monitoring&amp;nbsp;dashboards.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.devco.net/archives/2011/10/08/gdash-graphite-dashboard.php"&gt;GDash – Graphite Dashboard |
    &lt;span class="caps"&gt;R.I.&lt;/span&gt;Pienaar&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;a Sinatra dashboard app for Graphite, using Twitter bootstrap for&amp;nbsp;visualization.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/paperlesspost/graphiti"&gt;paperlesspost/graphiti&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;a Ruby and JavaScript front-end for&amp;nbsp;Graphite.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="http://graphite.wikidot.com/screen-shots"&gt;Graphite Screenshots&lt;/a&gt; -
    just two, but they get the idea across pretty&amp;nbsp;well.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://graylog2.org/"&gt;Graylog2&lt;/a&gt; - a centralized log management
    application with a powerful web interface. Stores logs in
    &lt;a href="http://www.elasticsearch.org/"&gt;ElasticSearch&lt;/a&gt; (which is built on
    Lucene, a Java-based index and search server) and statistics/graphs
    in MongoDB. It does analytics, alerting, monitoring/graphing and
    searching all through a web interface, and accepts log data via
    syslog, &lt;span class="caps"&gt;AMQP&lt;/span&gt; and &lt;span class="caps"&gt;GELF&lt;/span&gt; (its own log format). Java server and Ruby on
    Rails web&amp;nbsp;&lt;span class="caps"&gt;UI&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://logstash.net/"&gt;Logstash&lt;/a&gt; - another centralized log project
    that stores and indexes logs, with search via a web &lt;span class="caps"&gt;UI&lt;/span&gt;. &amp;#8220;Ship any
    event to anywhere over any protocol.&amp;#8221; Takes many inputs including
    files, syslog, &lt;span class="caps"&gt;AMQP&lt;/span&gt;, Flume, &lt;span class="caps"&gt;STOMP&lt;/span&gt;, &lt;span class="caps"&gt;HTTP&lt;/span&gt; and even twitter, performs a
    number of filters including timestamp checks, parsing, dropping,
    joins, etc, and then sends logs back on an output including &lt;span class="caps"&gt;AMQP&lt;/span&gt;,
    Graylog2 &lt;span class="caps"&gt;GELF&lt;/span&gt;, &lt;span class="caps"&gt;STOMP&lt;/span&gt;, MongoDB, ElasticSearch, syslog, WebSockets and
    to Nagios. One particularly cool feature is its &amp;#8220;file&amp;#8221; input, which
    continuously tails a file and claims to be log rotation safe. Just&amp;nbsp;cool.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.google.com/present/view?id=dcmwwd94_16dfdxgpw8"&gt;jordansissel&amp;#8217;s Logstash intro
    slides&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://rashidkpc.github.com/Kibana/"&gt;Kibana&lt;/a&gt; - an alternative
    interface for Logstash and
    &lt;a href="http://www.elasticsearch.org/"&gt;ElasticSearch&lt;/a&gt; that allows
    searching, graphing and analysis of log data stored in&amp;nbsp;Logstash.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://pivotallabs.com/talks/139-metrics-metrics-everywhere"&gt;Pivotal Labs: Talks - Metrics Metrics
    Everywhere&lt;/a&gt;
    (Coda&amp;nbsp;Hale)&lt;/li&gt;
&lt;li&gt;&lt;a href="http://aq.iriscouch.com/swinger/_design/swinger/index.html#/preso/aq-mdd/display/1"&gt;PaperlessPost - @quirkey&amp;#8217;s talk on
    metrics&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;very good high level stuff, but slides&amp;nbsp;only&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/paperlesspost/graphiti"&gt;paperlesspost/graphiti&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;graphiti, a &lt;span class="caps"&gt;JS&lt;/span&gt;/Ruby frontend for Graphite that does graphs,
dashboards, and point-in-time snapshots of graphs. Lots of&amp;nbsp;functionality.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="http://redis.io/"&gt;Redis&lt;/a&gt; - a distributed key/value store that&amp;#8217;s
    really popular with the cool kids. &lt;a href="http://nosql.mypopescu.com/post/8652869828/another-redis-use-case-centralized-logging"&gt;Another Redis Use Case:
    Centralized Logging •&amp;nbsp;myNoSQL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/cebailey59/charcoal"&gt;Charcoal&lt;/a&gt; - a
    &lt;a href="http://www.sinatrarb.com/"&gt;Sinatra&lt;/a&gt; (Ruby) dashboard app (ready for
    use on &lt;a href="http://www.heroku.com/"&gt;Heroku&lt;/a&gt; but usable anywhere).
    Graphite-oriented but will work with any tool that generates images
    from&amp;nbsp;URLs.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/etsy/logster"&gt;etsy/logster&lt;/a&gt; - etsy&amp;#8217;s Logster
    tool, which keeps a tail on log files, parses them, and ships
    metrics to Graphite or&amp;nbsp;Ganglia.&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>Some PowerDNS Links and Interesting Features</title><link href="http://blog.jasonantman.com/2012/09/some-powerdns-links-and-interesting-features/" rel="alternate"></link><updated>2012-09-05T05:00:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-09-05:2012/09/some-powerdns-links-and-interesting-features/</id><summary type="html">&lt;p&gt;At $&lt;span class="caps"&gt;WORK&lt;/span&gt; we lost a disk in the &lt;span class="caps"&gt;RAID1&lt;/span&gt; of one of our external nameservers,
and it rekindled an occasional discussion of migration from &lt;a&gt;&lt;span class="caps"&gt;ISC&lt;/span&gt;
&lt;span class="caps"&gt;BIND&lt;/span&gt;&lt;/a&gt; to &lt;a href="http://powerdns.com/content/products.html"&gt;PowerDNS&lt;/a&gt;.
PowerDNS has separate authoritative and recursive servers, and doesn&amp;#8217;t
seem to natively support views or split-horizon the way &lt;span class="caps"&gt;BIND&lt;/span&gt; does, but
it has some really cool features including very mature database
backends, load balancing, Lua scripting support to modify how recursive
queries are answered, and geolocation or &lt;span class="caps"&gt;IP&lt;/span&gt;-range based query&amp;nbsp;results.&lt;/p&gt;
&lt;p&gt;While this project is still just casual research, I thought I&amp;#8217;d share
some of the useful links and information I&amp;#8217;ve&amp;nbsp;found:&lt;/p&gt;
&lt;p&gt;PowerDNS&amp;nbsp;Front-ends:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.nicmus.com/community.html"&gt;JPowerAdmin&lt;/a&gt; - One of the two
    most popular, a GPLv3 Java (JBoss &lt;span class="caps"&gt;SEAM&lt;/span&gt;) based web &lt;span class="caps"&gt;UI&lt;/span&gt; with a RESTful
    &lt;span class="caps"&gt;API&lt;/span&gt;, with support for &amp;#8220;multiple&amp;#8221; database backends. Sponsored by
    Nicmus, Inc. &lt;a href="http://www.nicmus.com/JPowerAdmin"&gt;Online demo&lt;/a&gt;
    (demo:demo). Looks nice, simple &lt;span class="caps"&gt;UI&lt;/span&gt;, but no support for&amp;nbsp;split-horizon.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.poweradmin.org"&gt;PowerAdmin&lt;/a&gt; - the other most popular,
    though it seems to be undergoing a large overhaul at the moment. Has
    full support for most of PowerDNS&amp;#8217;s features, written in &lt;span class="caps"&gt;PHP&lt;/span&gt;,
    supports &amp;#8220;large&amp;#8221; databases, fine-grained user permissions, &lt;span class="caps"&gt;RFC&lt;/span&gt;
    validation, zone templates. &lt;a href="http://demo.poweradmin.org/"&gt;Online
    demo&lt;/a&gt; (demo:demo). I don&amp;#8217;t really like
    that it manages the SOAs as full text (without any templating,
    dropdowns or default values), and that it doesn&amp;#8217;t prepopulate
    default values for &lt;span class="caps"&gt;TTL&lt;/span&gt; in the new record form, but it looks like a
    good starting place for someone (like me) who&amp;#8217;s handy with&amp;nbsp;&lt;span class="caps"&gt;PHP&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://code.google.com/p/pdns-gui/"&gt;pdns-gui - PowerDNS &lt;span class="caps"&gt;GUI&lt;/span&gt; - Google Project
    Hosting&lt;/a&gt; - &lt;span class="caps"&gt;PHP&lt;/span&gt;/MySQL &lt;span class="caps"&gt;GUI&lt;/span&gt;.
    &lt;a href="http://www.powerdns-gui.org/"&gt;Online demo&lt;/a&gt;. Handles templates
    nicely but won&amp;#8217;t scale to too many of them. Window-based &lt;span class="caps"&gt;UI&lt;/span&gt; is
    visually pleasing but will probably be a problem for big&amp;nbsp;zones.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://code.google.com/p/powerdns-webinterface/"&gt;powerdns-webinterface - PowerDNS Webinterface - Google Project
    Hosting&lt;/a&gt; - A nice
    but relatively simplistic &lt;span class="caps"&gt;UI&lt;/span&gt; written in &lt;span class="caps"&gt;PHP&lt;/span&gt;. It has some nice
    features like multi-user authentication (and logging, though I
    haven&amp;#8217;t looked into how detailed it is), automatic &lt;span class="caps"&gt;SOA&lt;/span&gt; serial
    update, automatic &lt;span class="caps"&gt;PTR&lt;/span&gt; creation, etc. Unfortunately not geared
    towards people with lots of domains and multiple records; it has
    only one template for new domains (and no way to update domains
    created from a template), no easy filtering, and still treats &lt;span class="caps"&gt;SOA&lt;/span&gt;
    like a single text&amp;nbsp;record.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://sourceforge.net/projects/zoneadmin/"&gt;ZoneAdmin |
    SourceForge.net&lt;/a&gt; and
    &lt;a&gt;Project website&lt;/a&gt; - Maybe not the fastest tool to use in bulk,
    but a nice, relatively intuitive and full-featured admin tool.
    &lt;a href="http://open.megabit.net/demos/ZoneAdmin/"&gt;Online demo&lt;/a&gt;&amp;nbsp;(demo:demo).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Some links on PowerDNS&amp;nbsp;split-horizon&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://old.nabble.com/Split-Horizon-Scripts-td32843045.html"&gt;Old Nabble - PowerDNS - Split Horizon&amp;nbsp;Scripts&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;It looks to me that split-horizon is going to be the hardest part for
us, at least to also have a web &lt;span class="caps"&gt;UI&lt;/span&gt; to manage it. It looks like with
PowerDNS, the most common way to run split horizon &lt;span class="caps"&gt;DNS&lt;/span&gt; (views) is to run
two separate sets of servers or instances, either on different boxes or
multi-homed; one for internal and one for external. While that sounds
like quite a bit of overhead beyond what &lt;span class="caps"&gt;BIND&lt;/span&gt; does, the real problem is
finding a web &lt;span class="caps"&gt;UI&lt;/span&gt; that supports it; I don&amp;#8217;t care if it&amp;#8217;s in two separate
databases, but what I want is a logical (web &lt;span class="caps"&gt;UI&lt;/span&gt;) view that has zones
made up of resource names (i.e. the leftmost column in a zone file) with
one or two RRs (type, ttl, priority, value) - one for each view. That&amp;#8217;s
the real catch - all of our machines are in private &lt;span class="caps"&gt;IP&lt;/span&gt; space behind a
firewall, so I need to be able to manage the internal and external
records on one screen. While it&amp;#8217;s not exactly scalable, and the code
stagnated quite a bit once I got it to a point that was usable for me,
this was the main goal of my &lt;a href="http://multibindadmin.jasonantman.com/"&gt;MultiBIND
Admin&lt;/a&gt;&amp;nbsp;project.&lt;/p&gt;</summary><category term="bind"></category><category term="dns"></category><category term="multibindadmin"></category><category term="powerdns"></category></entry><entry><title>Wordpress - Automatically publish a pending post each weekday morning from a PHP script</title><link href="http://blog.jasonantman.com/2012/09/wordpress-automatically-publish-a-pending-post-each-weekday-morning-from-a-php-script/" rel="alternate"></link><updated>2012-09-04T05:00:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-09-04:2012/09/wordpress-automatically-publish-a-pending-post-each-weekday-morning-from-a-php-script/</id><summary type="html">&lt;p&gt;In an earlier post, &lt;a href="/2012/08/piwik-web-analytics-and-some-unfortunate-stats-about-my-blog/"&gt;Piwik Web Analytics, and some unfortunate stats
about my
blog&lt;/a&gt;,
I mentioned that the &lt;a href="http://feedburner.google.com/"&gt;Feedburner&lt;/a&gt; stats
for this blog show a relatively high subscribe/unsubscribe rate for this
blog. I think a large part of that is my tendency to blog in spurts, and
even worse, my tendency to write drafts and not publish them. In an
effort to combat this, I&amp;#8217;ve been trying to finish blog posts and then
set them to &amp;#8220;Pending&amp;#8221; status, and go back and publish one every day
(well, every day that I have some still sitting unpublished). Of course,
that counts on me logging in to Wordpress every day, which isn&amp;#8217;t
something I do. The following script is, at least for now, the answer
for&amp;nbsp;me.&lt;/p&gt;
&lt;p&gt;This script (a standalone &lt;span class="caps"&gt;PHP&lt;/span&gt; script) uses
&lt;a href="http://core.trac.wordpress.org/browser/trunk/wp-load.php"&gt;&lt;code&gt;wp-load.php&lt;/code&gt;&lt;/a&gt;
to load the wordpress environment, and then finds the oldest post with a
given status (&amp;#8220;pending&amp;#8221; in my case) and attempts to publish it. It only
does this if there has not been another post published in the last 24
hours. The following script can be found in Git at
&lt;a href="https://github.com/jantman/misc-scripts/blob/master/wordpress_daily_post.php"&gt;https://github.com/jantman/misc-scripts/blob/master/wordpress_daily_post.php&lt;/a&gt;&lt;/p&gt;
&lt;!---
sourceinclude
---&gt;

&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="x"&gt;#!/usr/bin/php&lt;/span&gt;
&lt;span class="cp"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class="sd"&gt;/**&lt;/span&gt;
&lt;span class="sd"&gt; * wordpress_daily_post.php&lt;/span&gt;
&lt;span class="sd"&gt; * Script to publish the oldest post with a given status, if no&lt;/span&gt;
&lt;span class="sd"&gt; * other post has been published in 24 hours. Intended to be run&lt;/span&gt;
&lt;span class="sd"&gt; * via cron on weekdays.&lt;/span&gt;
&lt;span class="sd"&gt; *&lt;/span&gt;
&lt;span class="sd"&gt; * Copyright 2012 Jason Antman &lt;/span&gt;
&lt;span class="sd"&gt; *&lt;/span&gt;
&lt;span class="sd"&gt; * Licensed under the Apache License, Version 2.0 &lt;/span&gt;
&lt;span class="sd"&gt; *&lt;/span&gt;
&lt;span class="sd"&gt; * use it anywhere you want, however you want, provided that this header is left intact,&lt;/span&gt;
&lt;span class="sd"&gt; * and that if redistributed, credit is given to me.&lt;/span&gt;
&lt;span class="sd"&gt; *&lt;/span&gt;
&lt;span class="sd"&gt; * It is strongly requested, but not technically required, that any changes/improvements&lt;/span&gt;
&lt;span class="sd"&gt; * be emailed to the above address.&lt;/span&gt;
&lt;span class="sd"&gt; *&lt;/span&gt;
&lt;span class="sd"&gt; * The latest version of this script will always be available at:&lt;/span&gt;
&lt;span class="sd"&gt; * $HeadURL: http://svn.jasonantman.com/misc-scripts/wordpress_daily_post.php $&lt;/span&gt;
&lt;span class="sd"&gt; * $LastChangedRevision: 40 $&lt;/span&gt;
&lt;span class="sd"&gt; *&lt;/span&gt;
&lt;span class="sd"&gt; * Changelog:&lt;/span&gt;
&lt;span class="sd"&gt; * 2012-09-03 Jason Antman  - 1.0&lt;/span&gt;
&lt;span class="sd"&gt; *  - first version&lt;/span&gt;
&lt;span class="sd"&gt; */&lt;/span&gt;

&lt;span class="c1"&gt;# &lt;span class="caps"&gt;BEGIN&lt;/span&gt; &lt;span class="caps"&gt;CONFIGURATION&lt;/span&gt;&lt;/span&gt;
&lt;span class="nb"&gt;define&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;WP_LOAD_LOC&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;/var/www/vhosts/blog.jasonantman.com/wp-load.php&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt; &lt;span class="c1"&gt;// Configure this to the full path of your Wordpress wp-load.php&lt;/span&gt;
&lt;span class="nb"&gt;define&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;SOURCE_POST_STATUS&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;pending&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt; &lt;span class="c1"&gt;// post status to publish&lt;/span&gt;
&lt;span class="c1"&gt;# &lt;span class="caps"&gt;END&lt;/span&gt; &lt;span class="caps"&gt;CONFIGURATION&lt;/span&gt;&lt;/span&gt;

&lt;span class="nv"&gt;$&lt;span class="caps"&gt;VERBOSE&lt;/span&gt;&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;false&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="nv"&gt;$DRY_RUN&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;false&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="nb"&gt;array_shift&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$argv&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="k"&gt;while&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;count&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$argv&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;isset&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$argv&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="nv"&gt;$argv&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;-d&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="nv"&gt;$argv&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;--dry-run&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
    &lt;span class="nv"&gt;$DRY_RUN&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;true&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="nb"&gt;fwrite&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;&lt;span class="caps"&gt;STDERR&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;span class="caps"&gt;DRY&lt;/span&gt; &lt;span class="caps"&gt;RUN&lt;/span&gt; &lt;span class="caps"&gt;ONLY&lt;/span&gt; - &lt;span class="caps"&gt;NOT&lt;/span&gt; &lt;span class="caps"&gt;ACTUALLY&lt;/span&gt; &lt;span class="caps"&gt;PUBLISHING&lt;/span&gt;.&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
  &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;isset&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$argv&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="nv"&gt;$argv&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;-v&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="nv"&gt;$argv&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;--verbose&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
    &lt;span class="nv"&gt;$&lt;span class="caps"&gt;VERBOSE&lt;/span&gt;&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;true&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="nb"&gt;fwrite&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;&lt;span class="caps"&gt;STDERR&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;WP_LOAD_LOC=&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;WP_LOAD_LOC&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="nb"&gt;fwrite&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;&lt;span class="caps"&gt;STDERR&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;SOURCE_POST_STATUS=&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;SOURCE_POST_STATUS&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
  &lt;span class="nb"&gt;array_shift&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$argv&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="nv"&gt;$_SERVER&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;HTTP_HOST&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;localhost&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="c1"&gt;// needed for wp-includes/ms-settings.php:100&lt;/span&gt;
&lt;span class="k"&gt;require_once&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;WP_LOAD_LOC&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="c1"&gt;# check that we&amp;#39;re running on a weekday&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;date&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;N&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;=&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="c1"&gt;#  if($&lt;span class="caps"&gt;VERBOSE&lt;/span&gt;){ fwrite(&lt;span class="caps"&gt;STDERR&lt;/span&gt;, &amp;quot;today is a saturday or sunday, dieing.\n&amp;quot;); }&lt;/span&gt;
&lt;span class="c1"&gt;#  exit(1);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="c1"&gt;# find the publish date/time of the last published post&lt;/span&gt;
&lt;span class="nv"&gt;$published&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;get_posts&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;numberposts&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;orderby&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;post_date&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;order&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&lt;span class="caps"&gt;DESC&lt;/span&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;post_status&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;publish&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
&lt;span class="nv"&gt;$post&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$published&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
&lt;span class="nv"&gt;$pub_date&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$post&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;post_date&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="nv"&gt;$pub_id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$post&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;&lt;span class="caps"&gt;ID&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;strtotime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$pub_date&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;time&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;86400&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$&lt;span class="caps"&gt;VERBOSE&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt; &lt;span class="nb"&gt;fwrite&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;&lt;span class="caps"&gt;STDERR&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;last post (&lt;span class="caps"&gt;ID&lt;/span&gt; &lt;/span&gt;&lt;span class="si"&gt;$pub_id&lt;/span&gt;&lt;span class="s2"&gt;) within last day (&lt;/span&gt;&lt;span class="si"&gt;$pub_date&lt;/span&gt;&lt;span class="s2"&gt;). Nothing to do. Exiting.&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
  &lt;span class="k"&gt;exit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$&lt;span class="caps"&gt;VERBOSE&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt; &lt;span class="nb"&gt;fwrite&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;&lt;span class="caps"&gt;STDERR&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Found last post (&lt;span class="caps"&gt;ID&lt;/span&gt; &lt;/span&gt;&lt;span class="si"&gt;$pub_id&lt;/span&gt;&lt;span class="s2"&gt;) with post date &lt;/span&gt;&lt;span class="si"&gt;$pub_date&lt;/span&gt;&lt;span class="s2"&gt;.&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;


&lt;span class="c1"&gt;# find the earliest post of status SOURCE_POST_STATUS, if there is one.&lt;/span&gt;
&lt;span class="nv"&gt;$to_post&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;get_posts&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;numberposts&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;orderby&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;post_date&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;order&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&lt;span class="caps"&gt;ASC&lt;/span&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;post_status&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="nx"&gt;SOURCE_POST_STATUS&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;count&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$to_post&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="nx"&gt;&lt;span class="caps"&gt;ID&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="nv"&gt;$to_pub_date&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$post&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;post_date&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="nv"&gt;$to_pub_title&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$post&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;post_title&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="nv"&gt;$now&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;time&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="nv"&gt;$new_date&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;date&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Y-m-d H:i:s&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$now&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="nv"&gt;$new_date_gmt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;gmdate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Y-m-d H:i:s&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$now&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$&lt;span class="caps"&gt;VERBOSE&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt; &lt;span class="nb"&gt;fwrite&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;&lt;span class="caps"&gt;STDERR&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Post to publish: &lt;span class="caps"&gt;ID&lt;/span&gt;=&lt;/span&gt;&lt;span class="si"&gt;$to_pub_id&lt;/span&gt;&lt;span class="s2"&gt; &lt;span class="caps"&gt;DATE&lt;/span&gt;=&lt;/span&gt;&lt;span class="si"&gt;$to_pub_date&lt;/span&gt;&lt;span class="s2"&gt; NEW_DATE=&lt;/span&gt;&lt;span class="si"&gt;$new_date&lt;/span&gt;&lt;span class="s2"&gt; &lt;span class="caps"&gt;TITLE&lt;/span&gt;=&lt;/span&gt;&lt;span class="si"&gt;$to_pub_title&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="c1"&gt;# actually publish it&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="nv"&gt;$DRY_RUN&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
  &lt;span class="nv"&gt;$arr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;span class="caps"&gt;ID&lt;/span&gt;&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="nv"&gt;$to_pub_id&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;post_status&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;publish&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;post_date&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="nv"&gt;$new_date&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;post_date_gmt&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="nv"&gt;$new_date_gmt&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
  &lt;span class="nv"&gt;$ret&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;wp_update_post&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$arr&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt; &lt;span class="c1"&gt;// publish the post&lt;/span&gt;
  &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$ret&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nb"&gt;fwrite&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;&lt;span class="caps"&gt;STDERR&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;span class="caps"&gt;ERROR&lt;/span&gt;: Post &lt;/span&gt;&lt;span class="si"&gt;$to_pub_id&lt;/span&gt;&lt;span class="s2"&gt; was not successfully published.&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;exit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
  &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$&lt;span class="caps"&gt;VERBOSE&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt; &lt;span class="nb"&gt;fwrite&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;&lt;span class="caps"&gt;STDERR&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Published post. New &lt;span class="caps"&gt;ID&lt;/span&gt;: &lt;/span&gt;&lt;span class="si"&gt;$ret&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="nb"&gt;fwrite&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;&lt;span class="caps"&gt;STDERR&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Dry run only, not publishing post.&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="c1"&gt;# check that the post really was published&lt;/span&gt;
&lt;span class="nv"&gt;$published&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;get_posts&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;numberposts&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;orderby&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;post_date&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;order&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&lt;span class="caps"&gt;DESC&lt;/span&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;post_status&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;publish&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
&lt;span class="nv"&gt;$post&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$published&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
&lt;span class="nv"&gt;$pub_date&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$post&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;post_date&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="nv"&gt;$pub_id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$post&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;&lt;span class="caps"&gt;ID&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="nv"&gt;$pub_title&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$post&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;post_title&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="nv"&gt;$pub_guid&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$post&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;guid&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$pub_title&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="nv"&gt;$to_pub_title&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="nb"&gt;fwrite&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;&lt;span class="caps"&gt;STDERR&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;span class="caps"&gt;ERROR&lt;/span&gt;: title of most recent post does not match title of what we wanted to post.&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
  &lt;span class="k"&gt;exit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="nb"&gt;fwrite&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;&lt;span class="caps"&gt;STDOUT&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Published post &lt;/span&gt;&lt;span class="si"&gt;$pub_id&lt;/span&gt;&lt;span class="s2"&gt; at &lt;/span&gt;&lt;span class="si"&gt;$pub_date&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="nb"&gt;fwrite&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;&lt;span class="caps"&gt;STDOUT&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Title: &lt;/span&gt;&lt;span class="si"&gt;$pub_title&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="nb"&gt;fwrite&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;&lt;span class="caps"&gt;STDOUT&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="se"&gt;\n\n\n&lt;/span&gt;&lt;span class="s2"&gt; &lt;span class="caps"&gt;GUID&lt;/span&gt;/Link: &lt;/span&gt;&lt;span class="si"&gt;$pub_guid&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="nb"&gt;fwrite&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;&lt;span class="caps"&gt;STDOUT&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="se"&gt;\n\n&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="k"&gt;__FILE__&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot; on &amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;trim&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;shell_exec&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;hostname --fqdn&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot; running as &amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;get_current_user&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="cp"&gt;?&amp;gt;&lt;/span&gt;&lt;span class="x"&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;You&amp;#8217;ll need to set &lt;code&gt;WP_LOAD_LOC&lt;/code&gt; (line 29) to the full path of your
Wordpress installation&amp;#8217;s &lt;code&gt;wp-load.php&lt;/code&gt; (it should be in the top-level
directory of your Wordpress installation. I run this script from cron&amp;nbsp;like:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;0 6 * * 1-5 /home/jantman/bin/wordpress_daily_post.php --verbose # publish WP pending posts daily
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;so that it runs at &lt;span class="caps"&gt;6AM&lt;/span&gt; (local time) each weekday. Assuming you have cron
setup to send you mail, you&amp;#8217;ll get a daily message saying what was (or
wasn&amp;#8217;t)&amp;nbsp;done.&lt;/p&gt;</summary><category term="cron"></category><category term="PHP"></category><category term="wordpress"></category></entry><entry><title>Interesting Systems Links for September 3, 2012</title><link href="http://blog.jasonantman.com/2012/09/interesting-systems-links-for-september-3-2012/" rel="alternate"></link><updated>2012-09-03T09:42:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-09-03:2012/09/interesting-systems-links-for-september-3-2012/</id><summary type="html">&lt;p&gt;Here is a small selection of sysadmin links that I recently found, and
wanted to&amp;nbsp;share:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://codeascraft.etsy.com/2012/05/22/blameless-postmortems/"&gt;Blameless PostMortems and a Just Culture - Code as
    Craft&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;some really good ideas about a culture that recognizes and seeks
to remedy human errors, rather than punishing and generating&amp;nbsp;fear.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="http://agilesysadmin.net/pillar-one"&gt;The first pillar: We alert on what we draw - Agile&amp;nbsp;Sysadmin&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.masterzen.fr/2010/11/14/puppet-ssl-explained/"&gt;Puppet &lt;span class="caps"&gt;SSL&lt;/span&gt; explained - Masterzen&amp;#8217;s&amp;nbsp;Blog&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.infoq.com/news/2011/05/unix-orchestration"&gt;Unix Orchestration Roundup: Tools for Programmatic Systems&amp;nbsp;Administration&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary><category term="devops"></category><category term="links"></category><category term="portmortem"></category><category term="sysadmin"></category></entry><entry><title>RVM and Ruby 1.9 to test logstash grok patterns on Fedora/CentOS</title><link href="http://blog.jasonantman.com/2012/09/rvm-and-ruby-1-9-to-test-logstash-grok-patterns-on-fedoracentos/" rel="alternate"></link><updated>2012-09-03T08:37:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-09-03:2012/09/rvm-and-ruby-1-9-to-test-logstash-grok-patterns-on-fedoracentos/</id><summary type="html">&lt;p&gt;I&amp;#8217;ve been working on a personal project with
&lt;a href="http://logstash.net/"&gt;Logstash&lt;/a&gt; lately, and it relies relatively
heavily on &lt;a href="https://github.com/jordansissel/grok"&gt;grok&lt;/a&gt; filters for
matching text and extracting matched parts. Today, I&amp;#8217;ve been parsing
syslog from &lt;a href="http://puppetlabs.com/puppet/puppet-open-source/"&gt;Puppet&lt;/a&gt;
to extract various metrics and timings, which will then be passed on
from Logstash to &lt;a href="https://github.com/etsy/statsd"&gt;Etsy&amp;#8217;s statsd&lt;/a&gt; and
then to &lt;a href="http://graphite.wikidot.com/"&gt;graphite&lt;/a&gt; for display.
Unfortunately, a few of my patterns are showing the &amp;#8220;_grokparsefailure&amp;#8221;
tag and I just can&amp;#8217;t seem to find the&amp;nbsp;problem.&lt;/p&gt;
&lt;p&gt;The logstash wiki provides a page on &lt;a href="https://github.com/logstash/logstash/wiki/Testing-your-Grok-patterns-(--logstash-1.1.0-and-above-)"&gt;Testing your Grok
patterns&lt;/a&gt;,
as does Sean Laurent on his blog: &lt;a href="http://blog.bealetech.com/content/testing-logstash-grok-filters"&gt;Testing Logstash grok
filters&lt;/a&gt;.
Unfortunately, I work in a CentOS/&lt;span class="caps"&gt;RHEL&lt;/span&gt; shop, and we&amp;#8217;re decidedly &lt;em&gt;not&lt;/em&gt; a
Ruby shop. Our Logstash install is using the monolithic/standalone Java
&lt;span class="caps"&gt;JAR&lt;/span&gt;. We run Puppet, which is currently under ruby 1.8.7, and the
&lt;a href="http://rubygems.org/gems/jls-grok"&gt;jls-grok rubygem&lt;/a&gt; requires ruby 1.9.
There&amp;#8217;s no way I&amp;#8217;d feel safe installing 1.9 on any of our machines, as
they all run (and require) Puppet. So, I found out about
&lt;a href="https://rvm.io/"&gt;&lt;span class="caps"&gt;RVM&lt;/span&gt;&lt;/a&gt;, the Ruby Version Manager, which allows you to
run and switch between multiple ruby versions, and all of it is
installed on a per-user basis. So, I created a new user on my Fedora 16
desktop called &amp;#8220;rvmtest&amp;#8221; and went about the process of setting up what&amp;#8217;s
needed to test grok patterns in the user&amp;#8217;s local environment. I imagine
this would work similarly under CentOS or &lt;span class="caps"&gt;RHEL&lt;/span&gt;, but the following is
only tested on Fedora 16. If you have any issues, you should probably
refer back to the &lt;span class="caps"&gt;RVM&lt;/span&gt;&amp;nbsp;documentation.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Create the isolated user, just to be extra careful. Login as that&amp;nbsp;user.&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;As per &lt;a href="https://rvm.io/rvm/install/"&gt;Installing &lt;span class="caps"&gt;RVM&lt;/span&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;curl https://raw.github.com/wayneeseguin/rvm/master/binscripts/rvm-installer | bash -s stable
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;edit your &lt;code&gt;~/.bashrc&lt;/code&gt; and&amp;nbsp;add:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="o"&gt;[[&lt;/span&gt; -s &lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;HOME&lt;/span&gt;/.rvm/scripts/rvm&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;]]&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; . &lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;HOME&lt;/span&gt;/.rvm/scripts/rvm&amp;quot;&lt;/span&gt;
&lt;span class="o"&gt;[[&lt;/span&gt; -r &lt;span class="nv"&gt;$rvm_path&lt;/span&gt;/scripts/completion &lt;span class="o"&gt;]]&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; . &lt;span class="nv"&gt;$rvm_path&lt;/span&gt;/scripts/completion
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The first line sets up &lt;span class="caps"&gt;RVM&lt;/span&gt; for your sessions, and the second sources
in tab-completion for the &lt;code&gt;rvm&lt;/code&gt; command.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;source .bashrc&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;If you&amp;#8217;re interested, you can see a list of all known rubies with:
    &lt;code&gt;rvm list known&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby (&lt;span class="caps"&gt;MRI&lt;/span&gt;) 1.9.2: &lt;code&gt;rvm install 1.9.2&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="dquo"&gt;&amp;#8220;&lt;/span&gt;switch&amp;#8221; to that ruby: &lt;code&gt;rvm use 1.9.2&lt;/code&gt; and confirm it by running
    &lt;code&gt;ruby -v&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Make it the default ruby for us: &lt;code&gt;rvm use 1.9.2 --default&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Create a &amp;#8220;gemset&amp;#8221; (set of rubygems for our environment):
    &lt;code&gt;rvm gemset create groktest&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Use it, and set it as default: &lt;code&gt;rvm use 1.9.2@groktest --default&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;for grok testing, &lt;code&gt;gem install jls-grok&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;check that it&amp;#8217;s there: &lt;code&gt;gem list&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Download Logstash&amp;#8217;s default grok patterns &lt;a href="https://raw.github.com/logstash/logstash/master/patterns/grok-patterns"&gt;from&amp;nbsp;github&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;You should now be ready to test some grok&amp;nbsp;patterns.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;While the two howto&amp;#8217;s linked above use &lt;code&gt;irb&lt;/code&gt; to interactively test the
patterns, I prefer something easier to move to production, more
reliable, and more repeatable. The following quick little ruby script
takes test to match against on &lt;span class="caps"&gt;STDIN&lt;/span&gt; (log files, messages, etc.) and
prints the matches to &lt;span class="caps"&gt;STDOUT&lt;/span&gt;. The script is based on
&lt;a href="https://github.com/jordansissel/ruby-grok/blob/master/examples/test.rb"&gt;test.rb&lt;/a&gt;
from &lt;a href="https://github.com/jordansissel/ruby-grok"&gt;jordansissel&amp;#8217;s
ruby-grok&lt;/a&gt;. Note one
important thing here, I couldn&amp;#8217;t get the shebang (&lt;code&gt;#!&lt;/code&gt;) to work with
anything other than the explicit path to my &lt;span class="caps"&gt;RVM&lt;/span&gt; ruby install
(&lt;code&gt;which ruby&lt;/code&gt;) so you&amp;#8217;ll need to manually update this&amp;nbsp;yourself.&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="c1"&gt;#!.rvm/rubies/ruby-1.9.2-320bin/ruby&lt;/span&gt;

&lt;span class="nb"&gt;require&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;rubygems&amp;#39;&lt;/span&gt;
&lt;span class="nb"&gt;require&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;grok-pure&amp;#39;&lt;/span&gt;
&lt;span class="nb"&gt;require&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;pp&amp;#39;&lt;/span&gt;

&lt;span class="n"&gt;grok&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="no"&gt;Grok&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;new&lt;/span&gt;
&lt;span class="n"&gt;grok&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_patterns_from_file&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;grok-patterns&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;pattern&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;your_grok_pattern_here&amp;#39;&lt;/span&gt;
&lt;span class="n"&gt;grok&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;compile&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pattern&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;puts&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;span class="caps"&gt;PATTERN&lt;/span&gt;: &lt;/span&gt;&lt;span class="si"&gt;#{&lt;/span&gt;&lt;span class="n"&gt;pattern&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;

&lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;gets&lt;/span&gt;
  &lt;span class="nb"&gt;puts&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;span class="caps"&gt;IN&lt;/span&gt;: &lt;/span&gt;&lt;span class="si"&gt;#{&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
  &lt;span class="n"&gt;match&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;grok&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;match&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;match&lt;/span&gt;
    &lt;span class="nb"&gt;puts&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;span class="caps"&gt;MATCH&lt;/span&gt;:&amp;quot;&lt;/span&gt;
    &lt;span class="n"&gt;pp&lt;/span&gt; &lt;span class="n"&gt;match&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;captures&lt;/span&gt;
  &lt;span class="k"&gt;else&lt;/span&gt;
    &lt;span class="nb"&gt;puts&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;No Match.&amp;quot;&lt;/span&gt;
  &lt;span class="k"&gt;end&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Here&amp;#8217;s an example using a pattern to capture information from custom
syslog messages triggered by updating puppet configs. Here&amp;#8217;s some sample&amp;nbsp;messages:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="go"&gt;[rvmtest@jantmanwork ~]$ cat puppet.log&lt;/span&gt;
&lt;span class="go"&gt;Updated 2 files in puppet svn (environment prod) to revision 754&lt;/span&gt;
&lt;span class="go"&gt;Updated 3 files in puppet svn (environment prod) to revision 756&lt;/span&gt;
&lt;span class="go"&gt;Updated 1 files in puppet svn (environment prod) to revision 757&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;And the pattern that I&amp;nbsp;use:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;Updated%{SPACE}%{NUMBER:puppet_svn_num_files}%{SPACE}files%{SPACE}in%{SPACE}puppet%{SPACE}svn%{SPACE}\(environment%{SPACE}%{WORD:puppet_svn_env}\)%{SPACE}to%{SPACE}revision%{SPACE}%{NUMBER:puppet_svn_revision}
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;And the output of the&amp;nbsp;script:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="go"&gt;[rvmtest@jantmanwork ~]$ cat puppet.log | ./puppet-update-test.rb &lt;/span&gt;
&lt;span class="go"&gt;&lt;span class="caps"&gt;PATTERN&lt;/span&gt;: Updated%{&lt;span class="caps"&gt;SPACE&lt;/span&gt;}%{&lt;span class="caps"&gt;NUMBER&lt;/span&gt;:puppet_svn_num_files}%{&lt;span class="caps"&gt;SPACE&lt;/span&gt;}files%{&lt;span class="caps"&gt;SPACE&lt;/span&gt;}in%{&lt;span class="caps"&gt;SPACE&lt;/span&gt;}puppet%{&lt;span class="caps"&gt;SPACE&lt;/span&gt;}svn%{&lt;span class="caps"&gt;SPACE&lt;/span&gt;}\(environment%{&lt;span class="caps"&gt;SPACE&lt;/span&gt;}%{&lt;span class="caps"&gt;WORD&lt;/span&gt;:puppet_svn_env}\)%{&lt;span class="caps"&gt;SPACE&lt;/span&gt;}to%{&lt;span class="caps"&gt;SPACE&lt;/span&gt;}revision%{&lt;span class="caps"&gt;SPACE&lt;/span&gt;}%{&lt;span class="caps"&gt;NUMBER&lt;/span&gt;:puppet_svn_revision}&lt;/span&gt;
&lt;span class="go"&gt;&lt;span class="caps"&gt;IN&lt;/span&gt;: Updated 2 files in puppet svn (environment prod) to revision 754&lt;/span&gt;
&lt;span class="go"&gt;&lt;span class="caps"&gt;MATCH&lt;/span&gt;:&lt;/span&gt;
&lt;span class="go"&gt;{&amp;quot;&lt;span class="caps"&gt;SPACE&lt;/span&gt;&amp;quot;=&amp;gt;[&amp;quot; &amp;quot;, &amp;quot; &amp;quot;, &amp;quot; &amp;quot;, &amp;quot; &amp;quot;, &amp;quot; &amp;quot;, &amp;quot; &amp;quot;, &amp;quot; &amp;quot;, &amp;quot; &amp;quot;, &amp;quot; &amp;quot;, &amp;quot; &amp;quot;],&lt;/span&gt;
&lt;span class="go"&gt; &amp;quot;&lt;span class="caps"&gt;NUMBER&lt;/span&gt;:puppet_svn_num_files&amp;quot;=&amp;gt;[&amp;quot;2&amp;quot;],&lt;/span&gt;
&lt;span class="go"&gt; &amp;quot;&lt;span class="caps"&gt;BASE10NUM&lt;/span&gt;&amp;quot;=&amp;gt;[&amp;quot;2&amp;quot;, &amp;quot;754&amp;quot;],&lt;/span&gt;
&lt;span class="go"&gt; &amp;quot;&lt;span class="caps"&gt;WORD&lt;/span&gt;:puppet_svn_env&amp;quot;=&amp;gt;[&amp;quot;prod&amp;quot;],&lt;/span&gt;
&lt;span class="go"&gt; &amp;quot;&lt;span class="caps"&gt;NUMBER&lt;/span&gt;:puppet_svn_revision&amp;quot;=&amp;gt;[&amp;quot;754&amp;quot;]}&lt;/span&gt;
&lt;span class="go"&gt;&lt;span class="caps"&gt;IN&lt;/span&gt;: Updated 3 files in puppet svn (environment prod) to revision 756&lt;/span&gt;
&lt;span class="go"&gt;&lt;span class="caps"&gt;MATCH&lt;/span&gt;:&lt;/span&gt;
&lt;span class="go"&gt;{&amp;quot;&lt;span class="caps"&gt;SPACE&lt;/span&gt;&amp;quot;=&amp;gt;[&amp;quot; &amp;quot;, &amp;quot; &amp;quot;, &amp;quot; &amp;quot;, &amp;quot; &amp;quot;, &amp;quot; &amp;quot;, &amp;quot; &amp;quot;, &amp;quot; &amp;quot;, &amp;quot; &amp;quot;, &amp;quot; &amp;quot;, &amp;quot; &amp;quot;],&lt;/span&gt;
&lt;span class="go"&gt; &amp;quot;&lt;span class="caps"&gt;NUMBER&lt;/span&gt;:puppet_svn_num_files&amp;quot;=&amp;gt;[&amp;quot;3&amp;quot;],&lt;/span&gt;
&lt;span class="go"&gt; &amp;quot;&lt;span class="caps"&gt;BASE10NUM&lt;/span&gt;&amp;quot;=&amp;gt;[&amp;quot;3&amp;quot;, &amp;quot;756&amp;quot;],&lt;/span&gt;
&lt;span class="go"&gt; &amp;quot;&lt;span class="caps"&gt;WORD&lt;/span&gt;:puppet_svn_env&amp;quot;=&amp;gt;[&amp;quot;prod&amp;quot;],&lt;/span&gt;
&lt;span class="go"&gt; &amp;quot;&lt;span class="caps"&gt;NUMBER&lt;/span&gt;:puppet_svn_revision&amp;quot;=&amp;gt;[&amp;quot;756&amp;quot;]}&lt;/span&gt;
&lt;span class="go"&gt;&lt;span class="caps"&gt;IN&lt;/span&gt;: Updated 1 files in puppet svn (environment prod) to revision 757&lt;/span&gt;
&lt;span class="go"&gt;&lt;span class="caps"&gt;MATCH&lt;/span&gt;:&lt;/span&gt;
&lt;span class="go"&gt;{&amp;quot;&lt;span class="caps"&gt;SPACE&lt;/span&gt;&amp;quot;=&amp;gt;[&amp;quot; &amp;quot;, &amp;quot; &amp;quot;, &amp;quot; &amp;quot;, &amp;quot; &amp;quot;, &amp;quot; &amp;quot;, &amp;quot; &amp;quot;, &amp;quot; &amp;quot;, &amp;quot; &amp;quot;, &amp;quot; &amp;quot;, &amp;quot; &amp;quot;],&lt;/span&gt;
&lt;span class="go"&gt; &amp;quot;&lt;span class="caps"&gt;NUMBER&lt;/span&gt;:puppet_svn_num_files&amp;quot;=&amp;gt;[&amp;quot;1&amp;quot;],&lt;/span&gt;
&lt;span class="go"&gt; &amp;quot;&lt;span class="caps"&gt;BASE10NUM&lt;/span&gt;&amp;quot;=&amp;gt;[&amp;quot;1&amp;quot;, &amp;quot;757&amp;quot;],&lt;/span&gt;
&lt;span class="go"&gt; &amp;quot;&lt;span class="caps"&gt;WORD&lt;/span&gt;:puppet_svn_env&amp;quot;=&amp;gt;[&amp;quot;prod&amp;quot;],&lt;/span&gt;
&lt;span class="go"&gt; &amp;quot;&lt;span class="caps"&gt;NUMBER&lt;/span&gt;:puppet_svn_revision&amp;quot;=&amp;gt;[&amp;quot;757&amp;quot;]}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Hopefully this will make the process a bit simpler for someone&amp;nbsp;else&amp;#8230;&lt;/p&gt;</summary><category term="grok"></category><category term="grokparsefailure"></category><category term="jruby"></category><category term="kibana"></category><category term="logstash"></category><category term="ruby"></category><category term="rvm"></category></entry><entry><title>Piwik Web Analytics, and some unfortunate stats about my blog</title><link href="http://blog.jasonantman.com/2012/08/piwik-web-analytics-and-some-unfortunate-stats-about-my-blog/" rel="alternate"></link><updated>2012-08-26T13:18:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-08-26:2012/08/piwik-web-analytics-and-some-unfortunate-stats-about-my-blog/</id><summary type="html">&lt;p&gt;Back in March when I selected a new template for this blog, I
&lt;a href="/2012/03/new-blog-theme/"&gt;posted&lt;/a&gt; that I was looking into open source
self-hosted web analytics tools to replace &lt;a href="http://www.google.com/analytics/"&gt;Google
Analytics&lt;/a&gt;. There were a few reasons
for this; most importantly, it started from a discussion with some
privacy-conscious coworkers, who said that they use
&lt;a href="http://noscript.net/"&gt;NoScript&lt;/a&gt; and specifically block Google from
tracking them (which also breaks Google Analytics). This was a serious
issue for me, as I no longer process server-side logs but relied solely
on Google Analytics for traffic information. So, I decided to try
something other than Google and ended up settling on
&lt;a href="http://piwik.org/"&gt;Piwik&lt;/a&gt; as my solution. I will say, in full
disclosure, that the amount of information Piwki gives is a bit scary; I
can watch users navigate this blog in realtime, and even the initial
dashboard page gives a list of the most recent visitors, with their &lt;span class="caps"&gt;IP&lt;/span&gt;
address, country of origin, browser, &lt;span class="caps"&gt;OS&lt;/span&gt;, and the pages they visited.
However my decision was made on two main points: first, that I wanted
something withich could use server-side &lt;span class="caps"&gt;PHP&lt;/span&gt; to log visits (albeit with a
lot less information) of people who had JavaScript or tracking disabled,
and second, that if &lt;em&gt;someone&lt;/em&gt; is going to have such amazingly detailed
information on my visitors, it should be me, so I can ensure that I&amp;#8217;m
the only person who has access to it and that it isn&amp;#8217;t used for the
wrong&amp;nbsp;purposes.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Aside: The only revenue I get from this site is through &lt;a href=""&gt;Google
AdSense&lt;/a&gt;, which isn&amp;#8217;t a whole lot given the low traffic (certainly
not enough to pay for the hosting). Other than that, I keep this blog
to try and share my knowledge with others, and hope that someone else
can find the solution to their problem here instead of doing the work
that I did. So, I find analytics very helpful; I check my stats now
and then, go back and update or add to the most popular posts, and try
to write relevant posts if it seems like a lot of people are finding
their way here for something slightly different than the actual post
they landed on. Unfortunately, that last point isn&amp;#8217;t as easy since
&lt;a href="http://googleblog.blogspot.com/2011/10/making-search-more-secure.html"&gt;Google switched to &lt;span class="caps"&gt;HTTPS&lt;/span&gt; Search for logged-in users on October 18th,
2011&lt;/a&gt;
- I can no longer use Piwik see the search keywords that got Google
users to my site. Luckily, these are still available through &lt;a href="https://www.google.com/webmasters/tools/"&gt;Google
Webmaster Tools&lt;/a&gt; (via
Traffic -&gt; Search Queries on the left menu), though it adds an
additional step and removes some of my motivation to check regularly
and make sure people are getting useful content. Also, perhaps most
importantly, it doesn&amp;#8217;t let me associate search query with other stats
like time on page, so even if one search query was very popular, I
have no way of knowing whether all those people actually read the
page, or took one look at it and&amp;nbsp;left.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I really like Piwki. I don&amp;#8217;t use most of it terribly often, but it gives
me a nice overview visits graph on the WordPress dashboard (via the
&lt;a href="http://wordpress.org/extend/plugins/wp-piwik/"&gt;&lt;span class="caps"&gt;WP&lt;/span&gt;-Piwik&lt;/a&gt; plugin),
infinitely detailed information (most of which I haven&amp;#8217;t even looked at)
in the Piwki web interface, and nightly email reports of visits to the
site. It also supports multiple sites, so I have it on my ancient
&lt;a href="http://wiki.jasonantman.com"&gt;wiki&lt;/a&gt;, my
&lt;a href="http://redmine.jasonantman.com"&gt;Redmine&lt;/a&gt; instance, and even
&lt;a href="/2012/03/adding-piwik-web-analytics-integration-to-viewvc/"&gt;ViewVC&lt;/a&gt;.
I&amp;#8217;d highly recommend it; it&amp;#8217;s full-featured (beyond anything I can even
comprehend,&amp;nbsp;really)&lt;/p&gt;
&lt;p&gt;I was recently looking through the stats for this blog, and came by some
unfortunate, though not surprising, trends. Below is the graph of visits
per day, from April 1, 2012 through today (August 26,&amp;nbsp;2012):&lt;/p&gt;
&lt;p&gt;&lt;img alt="blog visits chart" src="/GFX/blog_visits.png" /&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;It&amp;#8217;s probably not terribly unusual for a site with as much technical
    content as mine (and mostly professional stuff, not just for
    hobbyists), my weekend traffic is usually a full 50% lower than
    weekday traffic. This can also be seen in the graph of visits by
    visitor&amp;#8217;s local time, which is decidedly biased towards the 9am-5pm
    window:&lt;br /&gt;
&lt;img alt="blog visits chart by visitor local
    time" src="/GFX/blog_visits_localtime.png" /&gt;&lt;br /&gt;
    I guess there&amp;#8217;s nothing I can really do about that, and it just
    gives me a nice maintenance window at 4am on Sunday mornings&amp;nbsp;:)&lt;/li&gt;
&lt;li&gt;Looking at the overall graph, there also appears to be quite a bit
    of oscillation of the average visits over time. It&amp;#8217;s nothing
    terribly large, but at a guess, I&amp;#8217;d attribute it to my sporadic&amp;nbsp;posting.&lt;/li&gt;
&lt;li&gt;Though it&amp;#8217;s not visible in these graphs, this site has an 80% bounce
    rate (the percent of visitors that viewed only one page and then
    left the site). I guess that&amp;#8217;s also not terribly unusual for a site
    with mostly how-to information on a wide variety of&amp;nbsp;topics.&lt;/li&gt;
&lt;li&gt;To add a little more information to some of the previous items, here
    is the chart of my &lt;a href="http://feedburner.google.com"&gt;Feedburner&lt;/a&gt;
    &lt;span class="caps"&gt;RSS&lt;/span&gt;/Atom feed, since I started using Feedburner in February. The
    number of subscribers is in green, and the reach (number of people
    who actually clicked through to a post) is in blue:&lt;br /&gt;
&lt;img alt="Feedburner stats" src="/GFX/feedburner_stats.png" /&gt;&lt;br /&gt;
    This is a clear indication of something even stronger than the
    &amp;#8220;bounce rate&amp;#8221;; the apparently high number of people who subscribe to
    and then unsubscribe from my feed (if these stats are accurate). To
    me, this is an even stronger indication that what I really need to
    do is post useful content on a more regular basis - I have a
    tendency to blog in spurts, and either start a draft and never
    finish it, or write a few posts and set them to &amp;#8220;pending&amp;#8221; status
    with the intent of publishing them over a few days&amp;#8230; and then
    forget the last&amp;nbsp;part.&lt;/li&gt;
&lt;/ol&gt;</summary><category term="blog"></category><category term="google analytics"></category><category term="piwik"></category></entry><entry><title>Puppet facter facts for syslog daemon type and version, symantec netbackup</title><link href="http://blog.jasonantman.com/2012/08/puppet-facter-facts-for-syslog-daemon-type-and-version-symantec-netbackup/" rel="alternate"></link><updated>2012-08-25T11:33:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-08-25:2012/08/puppet-facter-facts-for-syslog-daemon-type-and-version-symantec-netbackup/</id><summary type="html">&lt;p&gt;I have a few more custom facts that I&amp;#8217;ve added to my
&lt;a href="https://github.com/jantman/puppet-facter-facts"&gt;puppet-facter-facts&lt;/a&gt;
github&amp;nbsp;repository:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/jantman/puppet-facter-facts/blob/master/syslog_bin.rb"&gt;syslog_bin&lt;/a&gt;,
    &lt;a href="https://github.com/jantman/puppet-facter-facts/blob/master/syslog_type.rb"&gt;syslog_type&lt;/a&gt;,
    and
    &lt;a href="https://github.com/jantman/puppet-facter-facts/blob/master/syslog_version.rb"&gt;syslog_version&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;tell the absolute path to the &lt;em&gt;running&lt;/em&gt; syslog binary, its short
name (basename), and its version as a string. Currently only know
about &lt;code&gt;/sbin/syslogd&lt;/code&gt; and &lt;code&gt;/sbin/rsyslogd&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jantman/puppet-facter-facts/blob/master/has_netbackup.rb"&gt;has_netbackup&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;tests for presence of the &lt;code&gt;/usr/openv/netbackup/bin&lt;/code&gt; directory,
created by installation of &lt;a href="http://www.symantec.com/netbackup"&gt;Symantec
Netbackup&lt;/a&gt;. Useful for making
generation of include/exclude files conditional on having NetBackup&amp;nbsp;installed.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Hopefully some of these will be of use to someone else as&amp;nbsp;well.&lt;/p&gt;</summary><category term="facter"></category><category term="nbu"></category><category term="netbackup"></category><category term="puppet"></category><category term="rsyslog"></category><category term="syslog"></category></entry><entry><title>Puppet facter fact for all applied classes, returned as a CSV list</title><link href="http://blog.jasonantman.com/2012/08/puppet-facter-fact-for-all-applied-classes-returned-as-a-csv-list/" rel="alternate"></link><updated>2012-08-22T07:05:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-08-22:2012/08/puppet-facter-fact-for-all-applied-classes-returned-as-a-csv-list/</id><summary type="html">&lt;p&gt;I&amp;#8217;m unfortunatey stuck, at least for the time being, using flat-file
manifests to configure my puppet nodes. Without an &lt;span class="caps"&gt;ENC&lt;/span&gt;, it&amp;#8217;s pretty
difficult to get a good ovewview of what classes are used on each node,
and what nodes use a given class. I know I could write up a simple web
tool to do this (unfortunately, given my limited Ruby knowledge, it
would have to be in &lt;span class="caps"&gt;PHP&lt;/span&gt; or Perl, not a real modification to Dashboard in
Ruby). But where to get the data&amp;nbsp;from?&lt;/p&gt;
&lt;p&gt;After some research, I found a &lt;a href="http://sjoeboo.github.com/blog/2012/07/31/updated-puppet-facts-for-puppet-classes/"&gt;puppet fact for puppet
classes&lt;/a&gt;
on &lt;a href="http://sjoeboo.github.com/"&gt;Matthew Nicholson&amp;#8217;s Coffee &lt;span class="amp"&gt;&amp;amp;&lt;/span&gt; Beer blog&lt;/a&gt;.
It parses &lt;code&gt;/var/lib/puppet/classes.txt&lt;/code&gt; and returns the list of classes
found as a &lt;span class="caps"&gt;JSON&lt;/span&gt; array. Great base, but I wanted something easier, that
would be more easily parsed from its direct storage in MySQL. My
modification to his code is onlty a few characters; I dropped out the
&lt;span class="caps"&gt;JSON&lt;/span&gt; require, and return the classes as a &lt;span class="caps"&gt;CSV&lt;/span&gt; list. This lets me to easy
&lt;code&gt;LIKE '%,classname,%'&lt;/code&gt; SELECTs in MySQL, and also gives me the fact
value stored in the puppet &lt;span class="caps"&gt;DB&lt;/span&gt;, so I can build a separate tool around
that data. Thanks,&amp;nbsp;Matt.&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# facter fact for puppet classes on node, pulled from /var/lib/puppet/classes.txt&lt;/span&gt;
&lt;span class="c1"&gt;# from &lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;

&lt;span class="nb"&gt;require&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;facter&amp;#39;&lt;/span&gt;
&lt;span class="k"&gt;begin&lt;/span&gt;
        &lt;span class="no"&gt;Facter&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hostname&lt;/span&gt;
        &lt;span class="no"&gt;Facter&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fqdn&lt;/span&gt;
&lt;span class="k"&gt;rescue&lt;/span&gt;
        &lt;span class="no"&gt;Facter&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;loadfacts&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;
&lt;span class="n"&gt;hostname&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="no"&gt;Facter&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;hostname&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;fqdn&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="no"&gt;Facter&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;fqdn&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;classes_txt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;/var/lib/puppet/classes.txt&amp;quot;&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="no"&gt;File&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exists?&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;classes_txt&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;
        &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="no"&gt;File&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;new&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;classes_txt&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;classes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;Array&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;new&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;readlines&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;each&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;
                &lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;chomp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;to_s&lt;/span&gt;
                &lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sub&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot; &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;_&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                &lt;span class="n"&gt;classes&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;push&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;end&lt;/span&gt;
        &lt;span class="n"&gt;classes&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;delete&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;settings&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;classes&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;delete&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;#{&lt;/span&gt;&lt;span class="n"&gt;hostname&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;classes&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;delete&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;#{&lt;/span&gt;&lt;span class="n"&gt;fqdn&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="no"&gt;Facter&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;puppet_classes_csv&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt;
                &lt;span class="n"&gt;setcode&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt;
                        &lt;span class="n"&gt;classes&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;,&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                &lt;span class="k"&gt;end&lt;/span&gt;
        &lt;span class="k"&gt;end&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;All of my facts are now available in a GitHub repository:
&lt;a href="https://github.com/jantman/puppet-facter-facts"&gt;https://github.com/jantman/puppet-facter-facts&lt;/a&gt;.&lt;/p&gt;</summary><category term="classes"></category><category term="csv"></category><category term="fact"></category><category term="facter"></category><category term="node"></category><category term="puppet"></category></entry><entry><title>Puppet facter fact for last applied configuration version</title><link href="http://blog.jasonantman.com/2012/08/puppet-facter-fact-for-last-applied-configuration-version/" rel="alternate"></link><updated>2012-08-21T08:55:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-08-21:2012/08/puppet-facter-fact-for-last-applied-configuration-version/</id><summary type="html">&lt;p&gt;For anyone else who sets the Puppet &lt;code&gt;config_version&lt;/code&gt; paramater to return
the current &lt;span class="caps"&gt;SVN&lt;/span&gt; or Git version of your configuration, here&amp;#8217;s a fact that
grabs that version (by parsing the cached &lt;span class="caps"&gt;YAML&lt;/span&gt; catalog) and sets it as a
fact called &amp;#8220;catalog_config_version&amp;#8221;. It can then be used for
sanity-checking your nodes, looking up via the Inventory Service, or you
can display it in the Dashboard using my patch: &lt;a href="http://blog.jasonantman.com/2012/08/patch-to-puppet-dashboard-1-2-10-to-show-arbitrary-facts-in-the-main-node-table/"&gt;Patch to Puppet
Dashboard 1.2.10 to show arbitrary facts in the main node
table&lt;/a&gt;.&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# facter fact for last applied config version, skeleton from /var/lib/puppet/client_yaml/catalog/fqdn.yaml&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;

&lt;span class="nb"&gt;require&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;puppet&amp;#39;&lt;/span&gt;
&lt;span class="nb"&gt;require&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;yaml&amp;#39;&lt;/span&gt;
&lt;span class="nb"&gt;require&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;facter&amp;#39;&lt;/span&gt;

&lt;span class="n"&gt;localconfig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="no"&gt;&lt;span class="caps"&gt;ARGV&lt;/span&gt;&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;#{&lt;/span&gt;&lt;span class="no"&gt;Puppet&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="ss"&gt;:clientyamldir&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;/catalog/&lt;/span&gt;&lt;span class="si"&gt;#{&lt;/span&gt; &lt;span class="no"&gt;Facter&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fqdn&lt;/span&gt; &lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;.yaml&amp;quot;&lt;/span&gt;

&lt;span class="k"&gt;unless&lt;/span&gt; &lt;span class="no"&gt;File&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exist?&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;localconfig&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="nb"&gt;puts&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Can&amp;#39;t find &lt;/span&gt;&lt;span class="si"&gt;#{&lt;/span&gt; &lt;span class="no"&gt;Facter&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fqdn&lt;/span&gt; &lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;.yaml&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="nb"&gt;exit&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;

&lt;span class="n"&gt;lc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="no"&gt;File&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;localconfig&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;begin&lt;/span&gt;
  &lt;span class="n"&gt;pup&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="no"&gt;Marshal&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;load&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lc&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;rescue&lt;/span&gt; &lt;span class="no"&gt;TypeError&lt;/span&gt;
  &lt;span class="n"&gt;pup&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="no"&gt;&lt;span class="caps"&gt;YAML&lt;/span&gt;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;load&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lc&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;rescue&lt;/span&gt; &lt;span class="no"&gt;Exception&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;
  &lt;span class="k"&gt;raise&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;pup&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;class&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="ss"&gt;Puppet&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="ss"&gt;:Resource&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="no"&gt;Catalog&lt;/span&gt;
        &lt;span class="no"&gt;Facter&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;catalog_config_version&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt;
                &lt;span class="n"&gt;setcode&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt;
                        &lt;span class="n"&gt;pup&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;version&lt;/span&gt;
                &lt;span class="k"&gt;end&lt;/span&gt;
        &lt;span class="k"&gt;end&lt;/span&gt;
&lt;span class="k"&gt;else&lt;/span&gt;
        &lt;span class="no"&gt;Facter&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;catalog_config_version&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt;
                &lt;span class="n"&gt;setcode&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt;
                        &lt;span class="s2"&gt;&amp;quot;unknown&amp;quot;&lt;/span&gt;
                &lt;span class="k"&gt;end&lt;/span&gt;
        &lt;span class="k"&gt;end&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;All of my facts are now available in a GitHub repository:
&lt;a href="https://github.com/jantman/puppet-facter-facts"&gt;https://github.com/jantman/puppet-facter-facts&lt;/a&gt;.&lt;/p&gt;</summary><category term="config_version"></category><category term="fact"></category><category term="facter"></category><category term="puppet"></category></entry><entry><title>Setting emacs zone-mode based on path</title><link href="http://blog.jasonantman.com/2012/08/setting-emacs-zone-mode-based-on-path/" rel="alternate"></link><updated>2012-08-15T08:00:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-08-15:2012/08/setting-emacs-zone-mode-based-on-path/</id><summary type="html">&lt;p&gt;At work, we do a fair amount of &lt;span class="caps"&gt;DNS&lt;/span&gt; updates. Our zone files are stored
in subversion, and are named according to the domain (with no .zone
extension). It&amp;#8217;s a real pain when updating a few (or a few dozen) zones
in Emacs, since I have to remember to &amp;#8220;M-x zone-mode&amp;#8221; so the serial gets
automatically updated. Here&amp;#8217;s a lisp snippet to put in your &lt;code&gt;.emacs&lt;/code&gt;
file that will set zone-mode for all files in any path matching the
regex &lt;code&gt;svn/named/zones-internal&lt;/code&gt;. I deliberately made it a relative path
(or, really, any path containing that) so it would work for all of my
team&amp;#8217;s workstations, no matter where we have the svn repo checked&amp;nbsp;out:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;add-to-list&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;auto-mode-alist&lt;/span&gt; &lt;span class="o"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;svn/named/zones-internal/&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="nv"&gt;zone-mode&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Many thanks to &lt;code&gt;taylanub&lt;/code&gt; on #emacs on irc.freenode.net for helping
with&amp;nbsp;this.&lt;/p&gt;</summary><category term="bind"></category><category term="emacs"></category><category term="lisp"></category><category term="named"></category><category term="zone-mode"></category></entry><entry><title>Patch to Puppet Dashboard 1.2.10 to show arbitrary facts in the main node table</title><link href="http://blog.jasonantman.com/2012/08/patch-to-puppet-dashboard-1-2-10-to-show-arbitrary-facts-in-the-main-node-table/" rel="alternate"></link><updated>2012-08-11T10:34:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-08-11:2012/08/patch-to-puppet-dashboard-1-2-10-to-show-arbitrary-facts-in-the-main-node-table/</id><summary type="html">&lt;p&gt;We use &lt;a href="http://puppetlabs.com/puppet/related-projects/dashboard/"&gt;Puppet
Dashboard&lt;/a&gt; at
work to view the status of our puppet nodes. While it&amp;#8217;s very handy,
there&amp;#8217;s one feature I really wanted: the ability to show the value of
arbitrary puppet facts in the main node table on the home page.
Specifically, the facts we use for environment (we have eng/dev, qa,
prod, and test puppet environments), zone (physical location) and last
applied configuration version. I&amp;#8217;m not terribly experience with Ruby,
but I managed to muddle my way through a working patch to do this, along
with options in the settings file to enable it and configure the facts.
You&amp;#8217;ll need to restart dashboard (or your web server) to change the
facts, of course. The commit is currently &lt;a href="https://github.com/jantman/puppet-dashboard/commit/5364e2b0188d18ae62c355279e58c7ce6d7db654"&gt;available on
github&lt;/a&gt;,
but it doesn&amp;#8217;t strictly follow the &lt;a href="https://github.com/puppetlabs/puppet-dashboard/blob/master/CONTRIBUTING.md"&gt;puppet-dashboard contributing
checklist&lt;/a&gt;
so I may have to redo&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;Here&amp;#8217;s a&amp;nbsp;screenshot:&lt;/p&gt;
&lt;p&gt;&lt;a href="/GFX/dashboard_after_patch.png"&gt;&lt;img alt="Dashboard screenshot after
patch" src="/GFX/dashboard_after_patch_sm.png" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;And here&amp;#8217;s that the configuration section added to settings.yml looks&amp;nbsp;like:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="c1"&gt;# Enables display of arbitrary node facts in &amp;quot;home&amp;quot; page node table, between node name and latest report time&lt;/span&gt;
&lt;span class="l-Scalar-Plain"&gt;enable_home_facts&lt;/span&gt;&lt;span class="p-Indicator"&gt;:&lt;/span&gt; &lt;span class="l-Scalar-Plain"&gt;true&lt;/span&gt;

&lt;span class="c1"&gt;# If enable_home_facts is true, the fact names and column headings to display. Simply repeat the following two line pairs&lt;/span&gt;
&lt;span class="c1"&gt;# as needed:&lt;/span&gt;
&lt;span class="c1"&gt;#- name: &amp;#39;factname&amp;#39;&lt;/span&gt;
&lt;span class="c1"&gt;#  heading: &amp;#39;heading text&amp;#39;&lt;/span&gt;
&lt;span class="l-Scalar-Plain"&gt;home_facts&lt;/span&gt;&lt;span class="p-Indicator"&gt;:&lt;/span&gt; 
&lt;span class="p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l-Scalar-Plain"&gt;name&lt;/span&gt;&lt;span class="p-Indicator"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;environment&amp;#39;&lt;/span&gt;
  &lt;span class="l-Scalar-Plain"&gt;heading&lt;/span&gt;&lt;span class="p-Indicator"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;Env&amp;#39;&lt;/span&gt;
&lt;span class="p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l-Scalar-Plain"&gt;name&lt;/span&gt;&lt;span class="p-Indicator"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;zone&amp;#39;&lt;/span&gt;
  &lt;span class="l-Scalar-Plain"&gt;heading&lt;/span&gt;&lt;span class="p-Indicator"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;Zone&amp;#39;&lt;/span&gt;
&lt;span class="p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l-Scalar-Plain"&gt;name&lt;/span&gt;&lt;span class="p-Indicator"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;catalog_config_version&amp;#39;&lt;/span&gt;
  &lt;span class="l-Scalar-Plain"&gt;heading&lt;/span&gt;&lt;span class="p-Indicator"&gt;:&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;Cfg&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;Ver&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If I feel really adventurous, I&amp;#8217;d like to implement my other big wish,
some sort of pop-up list of links, based on arbitrary facts (mainly
hostname and fqdn) for each node - something where I can mouse over the
node name/table cell, and see links (static URLs with node
name/fqdn/other facts plugged in) to things like Nagios/Icinga, our
backup system,&amp;nbsp;etc.&lt;/p&gt;</summary><category term="dashboard"></category><category term="facts"></category><category term="puppet"></category><category term="ruby"></category><category term="sysadmin"></category></entry><entry><title>Workflow for contributing to GitHub projects</title><link href="http://blog.jasonantman.com/2012/08/workflow-for-contributing-to-github-projects/" rel="alternate"></link><updated>2012-08-11T09:35:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-08-11:2012/08/workflow-for-contributing-to-github-projects/</id><summary type="html">&lt;p&gt;Lately I&amp;#8217;ve been contributing to some open source projects hosted on
&lt;a href="http://github.com"&gt;github&lt;/a&gt;. I&amp;#8217;m pretty new to git, and the process is a
bit confusing for beginners. So, here&amp;#8217;s a sample workflow, based on the
&lt;a href="http://theforeman.org"&gt;The Foreman&lt;/a&gt;&amp;#8216;s &lt;a href="https://github.com/theforeman/foreman"&gt;foreman github
repository&lt;/a&gt;. Note that I&amp;#8217;m
developing against the &amp;#8220;develop&amp;#8221; branch of that repository, not the
master, so that throws in a little difference that isn&amp;#8217;t documented in
most introductions. To throw in another wrench, I maintan a branch with
the code that I&amp;#8217;m currently actually using (i.e. the application code
that I have checked out on the production server), called &amp;#8220;jantman&amp;#8221;.
This is more or less composed of the upstream &amp;#8220;develop&amp;#8221; branch, with all
of my finished (but not yet merged in the upstream) topic branches. I&amp;#8217;m
pretty sure all this is correct, but honestly, I&amp;#8217;m still new enough at
git that I can&amp;#8217;t make any promises. Unfortunatelty, I haven&amp;#8217;t had the
time to &lt;em&gt;really&lt;/em&gt; learn git, and I also can&amp;#8217;t find a simple enough
tutorial that covers all&amp;nbsp;this&amp;#8230;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Fork the original repository through the GitHub&amp;nbsp;interface.&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;On your machine, clone your&amp;nbsp;fork:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git clone git@github.com:username/reponame.git &amp;amp;&amp;amp; cd reponame
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Make sure you&amp;#8217;ve&amp;nbsp;setup&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git config --global branch.autosetupmerge true
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Add your upstream&amp;nbsp;repo:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git remote add upstream git://github.com/upstream_user/upstream_repo.git
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Fetch it and initialize any&amp;nbsp;submodules:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git fetch upstream &amp;amp;&amp;amp; git submodule update --init
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Check the current branch (&lt;code&gt;git branch&lt;/code&gt;, let&amp;#8217;s assume it&amp;#8217;s called
    &amp;#8220;develop&amp;#8221;) and rebase to its&amp;nbsp;upstream:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git rebase upstream/develop develop
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Create my &amp;#8220;jantman&amp;#8221; branch, which will be the upstream &amp;#8220;develop&amp;#8221;,
    plus my finished work merged into&amp;nbsp;it:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git checkout -b jantman origin/develop
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Create a topic branch to do some&amp;nbsp;work:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git checkout -b NewBranchName jantman
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Periodically, push the topic branch to&amp;nbsp;github:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git push origin NewBranchName
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If you commit to this branch from another computer (or someone else
    commits to it), periodically update your local tracking&amp;nbsp;branch:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git pull origin NewBranchName
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Periodically, you want to pull in the upstream&amp;nbsp;changes:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;switch to the develop&amp;nbsp;branch:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git checkout develop
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;grab the latest version of the upstream git&amp;nbsp;repo:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git fetch upstream
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;rebase develop to mirror the upstream develop&amp;nbsp;branch:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git rebase upstream/develop develop
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;switch to our personal&amp;nbsp;branch:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git checkout jantman
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;rebase our personal branch onto develop (pull all the new
    commits from develop into our personal&amp;nbsp;branch):&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git rebase develop jantman
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If we want those new upstream changes to continue down to our
    topic&amp;nbsp;branches:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git rebase develop topicBranchName
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When we&amp;#8217;re done with a topic branch, we want to merge it into our
    &amp;#8220;personal&amp;#8221;&amp;nbsp;branch:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;    git checkout jantman; git merge --squash node-table-facts
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;and then&amp;nbsp;commit:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;    git commit
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The &lt;code&gt;--squash&lt;/code&gt; will squash all the history of that branch down to
one commit. This is generally easier for integration into upstream,
and assuming the topic branch was created for a single feature or
bug, should be&amp;nbsp;logical.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If we&amp;#8217;re sure we don&amp;#8217;t need it anymore, delete the topic branch from
    our local&amp;nbsp;machine:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git branch -d topicBranchName
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;and from&amp;nbsp;github:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git push origin --delete topicBranchName
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Finally, make sure we push our &amp;#8220;personal&amp;#8221; branch back to&amp;nbsp;origin:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;git push origin jantman
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Assuming all went well, you&amp;#8217;ll see the new commit on github, and
    have a nice pull request&amp;nbsp;button.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;References:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://www.doctrine-project.org/contribute.html"&gt;Contribute -&amp;nbsp;Doctrine-Project&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://qsapp.com/wiki/Github"&gt;Github - Quicksilver&amp;nbsp;Wiki&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/carmaa/inception/wiki/Contributor-Workflow-with-Github"&gt;Contributor Workflow with Github · carmaa/inception&amp;nbsp;Wiki&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://help.github.com/fork-a-repo/"&gt;Help.GitHub - Fork A&amp;nbsp;Repo&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;</summary><category term="foreman"></category><category term="git"></category><category term="github"></category><category term="workflow"></category></entry><entry><title>Easily comparing a bunch of files in one directory</title><link href="http://blog.jasonantman.com/2012/08/easily-comparing-a-bunch-of-files-in-one-directory/" rel="alternate"></link><updated>2012-08-10T09:50:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-08-10:2012/08/easily-comparing-a-bunch-of-files-in-one-directory/</id><summary type="html">&lt;p&gt;So I pulled a specific configuration file (rsyslog.conf) off of a &lt;span class="caps"&gt;LOT&lt;/span&gt; of
hosts. I&amp;#8217;m going to be managing it with &lt;a href=""&gt;Puppet&lt;/a&gt;, but before I do, I
need to know what&amp;#8217;s out there already lest it get overwritten. I used
&lt;a href="http://code.google.com/p/parallel-ssh/"&gt;pssh&lt;/a&gt; with &lt;code&gt;cat&lt;/code&gt; and an output
directory to grab the file from all 30 servers in question. Now, I&amp;#8217;ve
got a directory with 30 files in it, and I need to figure out how many
different files (by contents) there are, and which ones&amp;nbsp;differ.&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;find . -type f -exec md5sum &lt;span class="s1"&gt;&amp;#39;{}&amp;#39;&lt;/span&gt; &lt;span class="se"&gt;\;&lt;/span&gt; | sort | uniq -d -w 36
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This will check the contents of each file by &lt;span class="caps"&gt;MD5&lt;/span&gt; checksum, and print out
the (lexographically) first file in each group, along with its &lt;span class="caps"&gt;MD5&lt;/span&gt; sum.
You can also strip off the uniq command, and see the list sorted by&amp;nbsp;md5.&lt;/p&gt;
&lt;p&gt;A &lt;span class="caps"&gt;GUI&lt;/span&gt; alternative would be to use
&lt;a href="http://www.pixelbeat.org/fslint/"&gt;fslint&lt;/a&gt;, which is a graphical tool
that can (among other things) display a list of the duplicate files
within a path or set of&amp;nbsp;paths.&lt;/p&gt;</summary><category term="compare"></category><category term="diff"></category></entry><entry><title>Dear Mom and Dad - or, a book about what I actually do</title><link href="http://blog.jasonantman.com/2012/08/dear-mom-and-dad-or-a-book-about-what-i-actually-do/" rel="alternate"></link><updated>2012-08-05T08:52:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-08-05:2012/08/dear-mom-and-dad-or-a-book-about-what-i-actually-do/</id><summary type="html">&lt;p&gt;I&amp;#8217;ve followed &lt;a href="http://everythingsysadmin.com/"&gt;Tom Limoncelli&amp;#8217;s blog&lt;/a&gt;
for quite a while; his books &lt;a href="http://everythingsysadmin.com/aboutbook.html"&gt;The Practice of System and Network
Administration&lt;/a&gt; and &lt;a href="http://www.tomontime.com/"&gt;Time
Management for System Administrators&lt;/a&gt; were
infinitely helpful in the early days of my professional life, and are
among the few (literally, 4 or 5) books that live on my desk. His
insight and information into the soft skills of &lt;span class="caps"&gt;SA&lt;/span&gt; work - time
management, hiring, working in teams, etc. - is not only excellent, but
also all too rare in a largely technical&amp;nbsp;field.&lt;/p&gt;
&lt;p&gt;Anyway, Tom posted the below article to his blog about a book that
recently came out, &lt;a href="http://www.amazon.com/dp/0195374126/tomontime-20"&gt;&amp;#8220;Taming Information Technology: Lessons from Studies
of System Administrators&amp;#8221; by Eser Kandogan, Paul Maglio, Eben Haber and
John Bailey&lt;/a&gt;. I
haven&amp;#8217;t read the book yet, and at $56, it&amp;#8217;s going to be a while before
my book budget recovers enough to justify it. But going on what I&amp;#8217;ve
read from Tom and others, I want it. Not only do I want to read it, but
I want to pass it around to my parents and in-laws and everyone else who
has asked what I do for a living, and I found myself at a loss for a
less-than-6-hour-long explanation. So, here&amp;#8217;s what Tom wrote on&amp;nbsp;it:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Dear Mom And&amp;nbsp;Dad,&lt;/p&gt;
&lt;p&gt;Many times I&amp;#8217;ve tried to explain to you what I do for a living.
&amp;#8220;Computer system administrator&amp;#8221; or &amp;#8220;sysadmin&amp;#8221; is a career that is
difficult to explain and I&amp;#8217;m sure my attempts have left you even more
confused. I have good news. Oxford University Press has just published
a book by 4 scientists who video taped sysadmins doing their job,
analysed what they do, and explains it to the non-computer person.
They do it by telling compelling stories of sysadmins at work plus
they give interesting analysis with great&amp;nbsp;insight.&lt;/p&gt;
&lt;p&gt;Why did they do this? Because businesses depend on technology more and
more and that means they depend on sysadmins more and more. Yet most
CEOs don&amp;#8217;t understand what we do. The scientists made some interesting
discoveries: that our jobs are high-stress, high-risk, and highly
collaborative. We invent our own tools, often on the spot, to solve
complex problems. We are men and women of every age group. It is a
career unlike any other. These are things that most people don&amp;#8217;t know
about our profession. The book is very engaging: Some of the chapters
read like the opening scene of &amp;#8220;Indiana Jones&amp;#8221;; others like &amp;#8220;Gorillas
in the Mist.&amp;#8221; Kandogan, Maglio, Haber and Bailey have put together a
very serious, scientific book with care and&amp;nbsp;compassion.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m not one of the sysadmins they studied but every story they tell
reminds me of real experiences I have&amp;nbsp;had.&lt;/p&gt;
&lt;p&gt;I hope you enjoy reading this book. I know I&amp;nbsp;did.&lt;/p&gt;
&lt;p&gt;Pre-order it here:
&lt;a href="http://www.amazon.com/dp/0195374126/tomontime-20"&gt;http://www.amazon.com/dp/0195374126/tomontime-20&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Sincerely your son,&lt;br /&gt;&amp;nbsp;Tom&lt;/p&gt;
&lt;p&gt;&lt;span class="caps"&gt;P.S.&lt;/span&gt; In all seriousness, I read a preview copy of this book and highly
recommend it to others. You may have seen the authors speak at Usenix
&lt;span class="caps"&gt;LISA&lt;/span&gt; or &lt;span class="caps"&gt;LOPSA&lt;/span&gt; &lt;span class="caps"&gt;PICC&lt;/span&gt; conferences where they showed clips of the video
tapes they made. The book conveys the same stories, plus many more,
with interesting analysis. If you think that the profession of system
administration would benefit from non-sysadmins better understanding
what we do, I highly recommend you pre-order this book and share it.
You can pre-order it here: &lt;a href="http://www.amazon.com/dp/0195374126/tomontime-20"&gt;&amp;#8220;Taming Information Technology: Lessons
from Studies of System Administrators&amp;#8221; by Eser Kandogan, Paul Maglio,
Eben Haber and John&amp;nbsp;Bailey&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;More about the book here:
&lt;a href="http://everythingsysadmin.com/2012/07/kandogan.html"&gt;http://everythingsysadmin.com/2012/07/kandogan.html&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;If you have any interest, I encourage you to go out and buy the book. If
you know someone who&amp;#8217;s an &lt;span class="caps"&gt;SA&lt;/span&gt;, you should buy them the book. If you can
justify any sort of book budget at work, you should buy the book. And
while you&amp;#8217;re at it, if you haven&amp;#8217;t read Tom&amp;#8217;s other books, you should
buy those too. You might be in the unfortunate position - like I am - of
probably never being able to implement most of his suggestions at work,
but at least you&amp;#8217;ll be aware of&amp;nbsp;them&amp;#8230;&lt;/p&gt;</summary><category term="books"></category><category term="limoncelli"></category><category term="sysadmin"></category></entry><entry><title>Logging OpenSSH SFTP Transactions</title><link href="http://blog.jasonantman.com/2012/07/logging-openssh-sftp-transactions/" rel="alternate"></link><updated>2012-07-16T08:47:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-07-16:2012/07/logging-openssh-sftp-transactions/</id><summary type="html">&lt;p&gt;I just came across a really handy post on &lt;a href="https://plus.google.com/117561367404774597588/posts"&gt;David
Busby&lt;/a&gt;&amp;#8216;s blog:
&lt;a href="http://blog.oneiroi.co.uk/linux/enable-logging-in-the-sftp-subsystem/"&gt;Enable logging in the &lt;span class="caps"&gt;SFTP&lt;/span&gt; subsystem -
Oneiroi&lt;/a&gt;.
From OpenSSH 4.4 on, you can pass arguments to Subsystem calls, and the
sftp subsystem supports logging to an aribtrary syslog facility and
priority. Simply adding a line&amp;nbsp;like:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;Subsystem       sftp    /usr/libexec/openssh/sftp-server -f LOCAL5 -l INFO
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;and the appropriate lines to your syslog config will give you a handy
transfer log&amp;nbsp;like:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;Jul 16 09:22:25 hostname sftp-server[2058]: session opened for local user jantman from [A.B.C.D]
Jul 16 09:22:26 hostname sftp-server[2058]: open &amp;quot;/home/jantman/temp/sftp_test&amp;quot; flags WRITE,CREATE,TRUNCATE mode 0666
Jul 16 09:22:45 hostname sftp-server[2058]: close &amp;quot;/home/jantman/temp/sftp_test&amp;quot; bytes read 0 written 1464813
Jul 16 09:23:08 hostname sftp-server[2058]: session closed for local user jantman from [A.B.C.D]
Jul 16 09:27:50 hostname sftp-server[2309]: session opened for local user jantman from [A.B.C.D]
Jul 16 09:27:50 hostname sftp-server[2309]: open &amp;quot;/home/jantman/temp/sftp_test&amp;quot; flags READ mode 0666
Jul 16 09:27:54 hostname sftp-server[2309]: close &amp;quot;/home/jantman/temp/sftp_test&amp;quot; bytes read 1464813 written 0
Jul 16 09:27:54 hostname sftp-server[2309]: session closed for local user jantman from [A.B.C.D]
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If you have syslog write these logs to their own file, remember to setup
log rotation for&amp;nbsp;them.&lt;/p&gt;
&lt;p&gt;Unfortunately, I&amp;#8217;m not aware of any way to log &lt;span class="caps"&gt;SCP&lt;/span&gt; file&amp;nbsp;transfers.&lt;/p&gt;</summary><category term="logging"></category><category term="openssh"></category><category term="sftp"></category><category term="ssh"></category></entry><entry><title>Nagios Check Plugin for Rsnapshot Backups</title><link href="http://blog.jasonantman.com/2012/07/nagios-check-plugin-for-rsnapshot-backups/" rel="alternate"></link><updated>2012-07-07T06:34:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-07-07:2012/07/nagios-check-plugin-for-rsnapshot-backups/</id><summary type="html">&lt;p&gt;In a previous post, I described how I do &lt;a href="/2012/01/secure-rsnapshot-backups-over-the-wan-via-ssh/"&gt;Secure rsnapshot backups over
the &lt;span class="caps"&gt;WAN&lt;/span&gt; via
&lt;span class="caps"&gt;SSH&lt;/span&gt;&lt;/a&gt;. While my
layout of rsnapshot configuration files, data, and log files is a bit
esoteric, I monitor all this with a Nagios check plugin that runs on my
backup host. It Assumes that the output of
&lt;a href="http://rsnapshot.org/"&gt;rsnapshot&lt;/a&gt; is written to a text log file, one
file per host, at a path that matches
&lt;code&gt;/path_to_log_directory/log_HOSTNAME_YYYYMMDD-HHMMSS.log&lt;/code&gt; where
&lt;code&gt;HOSTNAME&lt;/code&gt; is the name of the host, and &lt;code&gt;YYYYMMDD-HHMMSS&lt;/code&gt; is a datestamp
(actually, the script just finds the newest file matching
&lt;code&gt;log_HOSTNAME_*.log&lt;/code&gt; in that directory). In order to obtain correct
timing of the runs, which rsnapshot doesn&amp;#8217;t offer, it assumes that you
trigger rsnapshot through a wrapper script, which runs it once per host
(inside a loop?) with per-host log files and some logging information
added,&amp;nbsp;like:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="k"&gt;for &lt;/span&gt;h in 
&lt;span class="k"&gt;do&lt;/span&gt;
&lt;span class="k"&gt;    &lt;/span&gt;&lt;span class="nv"&gt;&lt;span class="caps"&gt;LOGFILE&lt;/span&gt;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/mnt/backup/rsnapshot/logs/log_${h}_`date +%Y%m%d-%H%M%S`.txt&amp;quot;&lt;/span&gt;
    &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;# Starting backup at `date` (`date +%s`)&amp;quot;&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;LOGFILE&lt;/span&gt;&amp;quot;&lt;/span&gt;
    /usr/bin/rsnapshot -c /etc/rsnapshot-&lt;span class="nv"&gt;$h&lt;/span&gt;.conf daily &amp;amp;&amp;gt;&amp;gt; &lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;LOGFILE&lt;/span&gt;&amp;quot;&lt;/span&gt;
    &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;# Finished backup at `date` (`date +%s`)&amp;quot;&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;LOGFILE&lt;/span&gt;&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;done&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The &lt;code&gt;check_rsnapshot.pl&lt;/code&gt; plugin uses &lt;code&gt;utils.pm&lt;/code&gt; from Nagios, as well as
&lt;a href="http://search.cpan.org/~jv/Getopt-Long-2.38/lib/Getopt/Long.pm"&gt;Getopt::Long&lt;/a&gt;,
&lt;a href="http://search.cpan.org/~makoto/File-Stat-0.01/Stat.pm"&gt;File::stat&lt;/a&gt;,
&lt;a href="http://search.cpan.org/~flora/perl-5.14.2/lib/File/Basename.pm"&gt;File::Basename&lt;/a&gt;,
&lt;a href="http://search.cpan.org/~smueller/PathTools-3.33/lib/File/Spec.pm"&gt;File::Spec&lt;/a&gt;
and
&lt;a href="http://search.cpan.org/~ferreira/Number-Bytes-Human-0.07/Human.pm"&gt;Number::Bytes::Human&lt;/a&gt;.
This was one of my first Perl plugins, but seems to be rather
acceptable. It makes the following checks based on the rsnapshot&amp;nbsp;log:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Backup run in the last X seconds (warning and crit&amp;nbsp;thresholds)&lt;/li&gt;
&lt;li&gt;Maximum time from start to finish (warning and crit&amp;nbsp;thresholds)&lt;/li&gt;
&lt;li&gt;Minimum size of backup (warning and crit&amp;nbsp;thresholds)&lt;/li&gt;
&lt;li&gt;Minimum number of files in backup (warning and crit&amp;nbsp;thresholds)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;In addition to &lt;code&gt;check_file_age&lt;/code&gt; checks on a number of files that are
included in backups and I know are modified before each backup run, this
seems to handle monitoring quite well for me. I certainly preferred
running &lt;a href="http://www.bacula.org/"&gt;Bacula&lt;/a&gt; and using my MySQL-based
&lt;a href="https://github.com/jantman/nagios-scripts/blob/master/check_bacula_job.php"&gt;check_bacula_job.php&lt;/a&gt;,
but as I&amp;#8217;m now backing up 4 machines to my desktop, I no longer have a
need for Bacula (or&amp;nbsp;tapes).&lt;/p&gt;
&lt;p&gt;The script itself can be found at
&lt;a href="https://github.com/jantman/nagios-scripts/blob/master/check_rsnapshot.pl"&gt;github&lt;/a&gt;.&lt;/p&gt;</summary><category term="backups"></category><category term="monitoring"></category><category term="Nagios"></category><category term="rsnapshot"></category><category term="rsync"></category></entry><entry><title>What I Look For When Interviwing SysAdmin Candidates</title><link href="http://blog.jasonantman.com/2012/07/what-i-look-for-when-interviwing-sysadmin-candidates/" rel="alternate"></link><updated>2012-07-05T11:07:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-07-05:2012/07/what-i-look-for-when-interviwing-sysadmin-candidates/</id><summary type="html">&lt;p&gt;I recently came by a question on ServerFault, &lt;a href="http://serverfault.com/questions/210218/listing-side-projects-in-a-jr-sysadmin-resume/405054#405054"&gt;Listing side projects in
a jr. sysadmin
resume&lt;/a&gt;
asking whether people (hiring managers) think it&amp;#8217;s appropriate to put
&amp;#8220;side projects&amp;#8221; (running your own web and mail servers, freelance web
work, etc.) on your resume. Since I&amp;#8217;ve been interviewing candidates for
a few SysAdmin positions lately, I thought I&amp;#8217;d take the time to write
down a few of my ideas on this. Two disclaimers first, though. (1) I tend
to be pretty geeky, progressive, and very open source/DevOps focused at
heart. Not everyone I work with will agree with what I say here. As a
candidate, remember that you&amp;#8217;ll probably interview with all types, and
what I say here won&amp;#8217;t be the best advice with Enterprise types. I&amp;#8217;m very
open source centric, and have always held &lt;span class="caps"&gt;SA&lt;/span&gt; jobs where the majority of
the software I run is open source and not vendor supported. (2) If you
happen to actually interview with me, don&amp;#8217;t make the mistake of reading
this and tailoring your resume/responses to fit if that&amp;#8217;s not accurate.
I&amp;#8217;m not a manager, I&amp;#8217;m a line&amp;nbsp;&lt;span class="caps"&gt;SA&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;First, my response to the ServerFault&amp;nbsp;question:&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Not a hiring manager, but an &lt;span class="caps"&gt;SA&lt;/span&gt; doing technical interviews and hiring
recommendations, and also have only been with my current employer for
7 months (so I&amp;#8217;ve been on both sides of the table recently). My
current employer is a pretty big company and pays well, so we&amp;#8217;re quite&amp;nbsp;selective.&lt;/p&gt;
&lt;p&gt;&lt;span class="caps"&gt;SA&lt;/span&gt; candidates with 5-10 years experience and a laundry list of
certifications, software and hardware names, protocols, etc. are a
dime a dozen. I&amp;#8217;m looking for people who really love what they do. I
have an instant bias against resumes that don&amp;#8217;t have either a personal
website/&lt;span class="caps"&gt;URL&lt;/span&gt;, or some personal projects/experience other than 9-5 job
on them. There are lots of people who meet the technical
qualifications. I want someone truly passionate, and that means
learning and experimenting outside of&amp;nbsp;work.&lt;/p&gt;
&lt;p&gt;Personally, on my resume, I have a few personal projects listed
(mainly programming projects and volunteer &lt;span class="caps"&gt;IT&lt;/span&gt; work I did for
non-profits), and I also have a link to my personal resume site that
has links to my &lt;span class="caps"&gt;SVN&lt;/span&gt; repo, and a bunch of other&amp;nbsp;projects.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;Some things I look&amp;nbsp;for:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Not in all cases, but I like to see a website or blog listed on a
    resume. It&amp;#8217;s a big plus. I have
    &lt;a href="http://resume.jasonantman.com"&gt;resume.jasonantman.com&lt;/a&gt; with copies
    of my resume in various formats, as well as a bunch of links I&amp;#8217;d
    like employers to&amp;nbsp;see.&lt;/li&gt;
&lt;li&gt;If you&amp;#8217;re a working &lt;span class="caps"&gt;SA&lt;/span&gt;, I should be able to find you on Google.
    Either by name or email address, I expect to google the contact
    information I find on your resume and find at least some mailing
    list/forum posts, bug reports, or software&amp;nbsp;projects.&lt;/li&gt;
&lt;li&gt;I can&amp;#8217;t stress this enough, &lt;strong&gt;do not overstate your experience&lt;/strong&gt;.
    I&amp;#8217;ve been an &lt;span class="caps"&gt;SA&lt;/span&gt; for 5 years, a hobbyist for much longer, and I&amp;#8217;ve
    never used the word &amp;#8220;expert&amp;#8221;. I list software, protocols, languages
    on my resume as beginner/basic, intermediate, and &amp;#8220;strongest&amp;#8221;. If
    you list something as &amp;#8220;advanced&amp;#8221; or &amp;#8220;expert&amp;#8221;, be prepared to answer
    expert-level questions. If you can&amp;#8217;t explain a 3-way handshake,
    don&amp;#8217;t list &lt;span class="caps"&gt;TCP&lt;/span&gt;/&lt;span class="caps"&gt;IP&lt;/span&gt; on your resume. If you list &amp;#8220;strong knowledge of
    Linux internals&amp;#8221;, you should be able to at least explain &lt;code&gt;open()&lt;/code&gt;
    and &lt;code&gt;close()&lt;/code&gt;. If you list advanced &lt;span class="caps"&gt;RADIUS&lt;/span&gt; experience, I &lt;em&gt;will&lt;/em&gt; ask
    you to explain &lt;span class="caps"&gt;CSID&lt;/span&gt;, &lt;span class="caps"&gt;WPA&lt;/span&gt; key exchange, and what attributes are valid
    in an Access-Reject. In short, don&amp;#8217;t say you&amp;#8217;re a genius in
    something unless you are; you never know when your interviewer may
    have spent the last 6 months immersed in&amp;nbsp;it.&lt;/li&gt;
&lt;li&gt;All SAs should have some programming skills. If you&amp;#8217;re a recent
    graduate (let&amp;#8217;s say any time in the last 5-8 years) I&amp;#8217;d expect at
    the very least a vague memory of C++, &lt;span class="caps"&gt;VB&lt;/span&gt; or Java. If you&amp;#8217;re a
    working &lt;span class="caps"&gt;SA&lt;/span&gt;, I expect to see either strong Bash skills, or at least a
    functional knowledge of Perl. Python, &lt;span class="caps"&gt;PHP&lt;/span&gt; or Ruby; preferably both.
    If you&amp;#8217;re a &amp;#8220;senior&amp;#8221; Linux &lt;span class="caps"&gt;SA&lt;/span&gt;, you should know enough C to be able
    to make sense of &lt;code&gt;strace&lt;/code&gt; output.&lt;/li&gt;
&lt;li&gt;As stated above, non-full-time-job projects are a big plus. When I
    took my first &lt;span class="caps"&gt;SA&lt;/span&gt; job, the majority of my experience had been doing
    volunteer work for a non-profit ambulance corps (which I was also a
    volunteer &lt;span class="caps"&gt;EMT&lt;/span&gt; on). If I said that I did 40 hours a week for them, it
    would be an understatement. I wrote a few 10,000+ line &lt;span class="caps"&gt;PHP&lt;/span&gt;
    applications for them, and designed the infrastructure to run them
    24x7x365. Small shop? Sure. But I learned a &lt;span class="caps"&gt;LOT&lt;/span&gt;, especially about
    how to make things resilient enough that I didn&amp;#8217;t get paged&amp;nbsp;often.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I&amp;#8217;m sure I&amp;#8217;ll update this over time as I distill more of my&amp;nbsp;ideas.&lt;/p&gt;</summary></entry><entry><title>Tools for watching apache httpd and memcached</title><link href="http://blog.jasonantman.com/2012/06/tools-for-watching-apache-httpd-and-memcached/" rel="alternate"></link><updated>2012-06-26T13:46:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-06-26:2012/06/tools-for-watching-apache-httpd-and-memcached/</id><summary type="html">&lt;p&gt;Recently I was working on a code release on a site running &lt;span class="caps"&gt;PHP&lt;/span&gt; on
&lt;a href="http://httpd.apache.org/"&gt;Apache httpd&lt;/a&gt;, and using
&lt;a href="http://memcached.org/"&gt;memcached&lt;/a&gt;. Without getting into specifics, we
had a number of issues that were both Apache and memcached problems, and
little visibility into them as it was running on an older server without
much monitoring in place. I started looking around for simple tools that
could provide a bit more insight, without many dependencies (as the
machine is a relatively minimalist install). Here are some of the
options I&amp;nbsp;found:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://code.google.com/p/memcache-top/"&gt;memcache-top&lt;/a&gt; - A top-like
    script that pulls stats from memcached instances and can show both
    per-instance, total and average usage %, hit rate, number of
    connections, time to run the stats query, evictions, gets, sets, and
    read and write amounts. Best of all, it&amp;#8217;s a very small perl script
    that requires only &lt;span class="caps"&gt;IO&lt;/span&gt;::Socket and Time::HiRes. Here&amp;#8217;s a small
    example of the&amp;nbsp;output:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;memcache-top v0.6       (default port: 11211, color: on, refresh: 3 seconds)

INSTANCE                USAGE   HIT %   CONN    TIME    EVICT   GETS    SETS    READ    WRITE
127.0.0.1:11211         86.6%   99.4%   115     0.6ms   0.0     4114    1669    1.3M    24.2M
127.0.0.1:11212         85.5%   59.9%   2       0.4ms   0.0     0       0       90      8055

AVERAGE:                86.0%   79.6%   58      0.5ms   0.0     2057    834     682.4K  12.1M

TOTAL:          0.9GB/  1.0GB           117     1.0ms   0.0     4114    1669    1.3M    24.2M
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/dormando/damemtop"&gt;damemtop&lt;/a&gt; is also a nice
    top-like memcached tool. On the positive side, you can specify any
    column from &amp;#8220;stats&amp;#8221;, &amp;#8220;stats items&amp;#8221; or &amp;#8220;stats slabs&amp;#8221; in the
    configuration file, and can choose between average or one-second
    snapshots for each column. On the down side, it requires the &lt;span class="caps"&gt;YAML&lt;/span&gt;
    and AnyEvent Perl modules, so it has some uncommon&amp;nbsp;dependencies.&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;damemtop: Tue Jun 26 14:02:24 2012 [sort: hostname asc] [delay: 3s]
hostname           all_version  all_fill_rate  hit_rate  evictions  curr_items  curr_connections   cmd_get  cmd_set  bytes_written  bytes_read  get_hits  get_misses  
TOTAL:             
NA                 NA           NA             NA        NA         NA          NA                 87       32       491,735        30,894      86        1           
AVERAGE:           
NA                 NA           86.00%         99.00%    NA         NA          NA                 43       16       122,933        7,723       43        1           
10.200.1.78:11211  1.2.6        86.63%         98.04%    0          0           -1.00204024880524  51       19       386,492        21,613      50        1           
10.200.1.78:11212  1.2.6        85.46%         NA        0          0           0                  0        0        11,373         31          0         0           
10.200.1.79:11211  1.2.6        87.31%         100.00%   0          0           -1.00204024880524  36       13       82,479         9,219       36        0           
10.200.1.79:11212  1.2.6        85.08%         NA        0          0           0                  0        0        11,389         31          0         0           
loop took: 0.305617094039917
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I&amp;#8217;m still looking around for something for apache that uses mod_status
and isn&amp;#8217;t too verbose; ideally I&amp;#8217;d like to be able to watch memcached,
apache response codes/times, and apache mod_status all in the same
terminal&amp;nbsp;window.&lt;/p&gt;</summary><category term="apache"></category><category term="memcached"></category><category term="perl"></category><category term="top"></category><category term="troubleshooting"></category></entry><entry><title>Emacs Mode Variable for HTML</title><link href="http://blog.jasonantman.com/2012/06/emacs-mode-variable-for-html/" rel="alternate"></link><updated>2012-06-26T08:43:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-06-26:2012/06/emacs-mode-variable-for-html/</id><summary type="html">&lt;p&gt;Unfortunately, I often find myself editing files that are mixed &lt;span class="caps"&gt;PHP&lt;/span&gt; and
&lt;span class="caps"&gt;HTML&lt;/span&gt;, and ending with a &amp;#8220;.php&amp;#8221; extension. For most smaller
projects/tasks, I use &lt;a href="http://www.gnu.org/software/emacs/"&gt;emacs&lt;/a&gt; at the
command line (nox) and my .emacs settings for
&lt;a href="http://php-mode.sourceforge.net/"&gt;php-mode&lt;/a&gt; will latch onto the &amp;#8220;.php&amp;#8221;
extension and open it with &lt;span class="caps"&gt;PHP&lt;/span&gt; mode. Unfortunately, &lt;span class="caps"&gt;PHP&lt;/span&gt; mode really
doesn&amp;#8217;t like embedded &lt;span class="caps"&gt;HTML&lt;/span&gt; (let alone mostly &lt;span class="caps"&gt;HTML&lt;/span&gt; with some inline &lt;span class="caps"&gt;PHP&lt;/span&gt;),
and the indentation gets very messy, among other&amp;nbsp;problems.&lt;/p&gt;
&lt;p&gt;The simple solution is to add the following (&lt;span class="caps"&gt;XHTML&lt;/span&gt; 1.0
Transitional-compliant) comment to the first line of the file, which
tells emacs to load&amp;nbsp;html-mode:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="c"&gt;&amp;lt;!-- -*- mode: html; -*- --&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;You can also get emacs to do this for you, as per the &lt;a href="http://www.gnu.org/software/emacs/manual/html_node/emacs/Specifying-File-Variables.html"&gt;Specifying File
Variables&lt;/a&gt;
documentation page. Once in html-mode, simply &lt;code&gt;M-x
add-file-local-variable-prop-line&lt;/code&gt;, enter &amp;#8220;mode&amp;#8221; for the variable
name and use the default of the current&amp;nbsp;mode.&lt;/p&gt;</summary><category term="emacs"></category><category term="html. php"></category></entry><entry><title>Script to Chart Intervals Between Problem and Recovery from Nagios/Icinga Log Files</title><link href="http://blog.jasonantman.com/2012/05/script-to-chart-intervals-between-problem-and-recovery-from-nagiosicinga-log-files/" rel="alternate"></link><updated>2012-05-31T13:54:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-05-31:2012/05/script-to-chart-intervals-between-problem-and-recovery-from-nagiosicinga-log-files/</id><summary type="html">&lt;p&gt;At work, we use &lt;a href="http://www.icinga.org"&gt;Icinga&lt;/a&gt; (a fork of
&lt;a href="http://nagios.org/"&gt;Nagios&lt;/a&gt;) for monitoring. We have a few services
which are restarted or otherwise poked by event handlers, but the
recovery takes a while - so we often get paged for problems which
recover in a few minutes. I wrote a small perl script that greps through
the archived log files for a given regex (service and/or host name) and
then calculates the time from problem to recovery and graphs those&amp;nbsp;times.&lt;/p&gt;
&lt;p&gt;The script is called &lt;code&gt;nagios_log_problem_interval.pl&lt;/code&gt; and can be
downloaded from &lt;a href="https://github.com/jantman/nagios-scripts/blob/master/nagios_log_problem_interval.pl"&gt;my
github&lt;/a&gt;.
Below is some sample output, the number of minutes from problem to
recovery are along the Y axis and the count is along the X&amp;nbsp;axis:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="gp"&gt;&amp;gt;&lt;/span&gt; nagios_log_problem_interval.pl --archivedir&lt;span class="o"&gt;=&lt;/span&gt;/var/icinga/archive --match&lt;span class="o"&gt;=&lt;/span&gt;myhost --backtrack&lt;span class="o"&gt;=&lt;/span&gt;10 myhost;&lt;span class="caps"&gt;HTTP&lt;/span&gt;
&lt;span class="go"&gt;Count&lt;/span&gt;
&lt;span class="go"&gt;1:########(8)&lt;/span&gt;
&lt;span class="go"&gt;2:##(2)&lt;/span&gt;
&lt;span class="go"&gt;3:#(1)&lt;/span&gt;
&lt;span class="go"&gt;4:##(2)&lt;/span&gt;
&lt;span class="go"&gt;5:#######(7)&lt;/span&gt;
&lt;span class="go"&gt;6:(0)&lt;/span&gt;
&lt;span class="go"&gt;7:(0)&lt;/span&gt;
&lt;span class="go"&gt;8:#(1)&lt;/span&gt;
&lt;span class="go"&gt;9:(0)&lt;/span&gt;
&lt;span class="go"&gt;10:(0)&lt;/span&gt;
&lt;span class="go"&gt;11:#(1)&lt;/span&gt;
&lt;span class="go"&gt;12:(0)&lt;/span&gt;
&lt;span class="go"&gt;13:#(1)&lt;/span&gt;
&lt;span class="go"&gt;14:(0)&lt;/span&gt;
&lt;span class="go"&gt;15:(0)&lt;/span&gt;
&lt;span class="go"&gt;16-29:(0)&lt;/span&gt;
&lt;span class="go"&gt;30-59:(0)&lt;/span&gt;
&lt;span class="go"&gt;60+:(0)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="chart"></category><category term="icinga"></category><category term="monitoring"></category><category term="Nagios"></category><category term="perl"></category></entry><entry><title>Apache httpd - logging for sites with and without load balancing</title><link href="http://blog.jasonantman.com/2012/05/apache-httpd-logging-for-sites-with-and-without-load-balancing/" rel="alternate"></link><updated>2012-05-30T09:46:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-05-30:2012/05/apache-httpd-logging-for-sites-with-and-without-load-balancing/</id><summary type="html">&lt;p&gt;There are a few unfortunate places where I have an Apache httpd server
serving multiple vhosts, some behind a F5 BigIp load balancer and some
with direct traffic. For sites behind the &lt;span class="caps"&gt;LB&lt;/span&gt;, the remote &lt;span class="caps"&gt;IP&lt;/span&gt;/host will
always show up as the &lt;span class="caps"&gt;LB&lt;/span&gt;&amp;#8217;s &lt;span class="caps"&gt;IP&lt;/span&gt;/host, not that of the actual client. Using
the default configuration with LogFormat directives in &lt;code&gt;httpd.conf&lt;/code&gt;,
this means that either we need to define log formats per-vhost or lose
the client &lt;span class="caps"&gt;IP&lt;/span&gt; in one of our scenarios (&lt;span class="caps"&gt;LB&lt;/span&gt; or no&amp;nbsp;&lt;span class="caps"&gt;LB&lt;/span&gt;).&lt;/p&gt;
&lt;p&gt;I came by a simple solution to this on &lt;a href="http://www.maretmanu.org/homepage/inform/apache-forwarded.php"&gt;Emmanuel
Chantréau&lt;/a&gt;&amp;#8216;s
blog, and here is my condensed version of it. It sets an environment
variable (&amp;#8220;bigip-request&amp;#8221;) if the BIOrigClientAddr request header is set
(this header holds the client&amp;#8217;s &lt;span class="caps"&gt;IP&lt;/span&gt;; it&amp;#8217;s the BigIp proprietary version
of the X-Forwarded-For header. You could easily substitute that more
standard header in the following snippet) and then sets the &amp;#8220;combined&amp;#8221;
LogFormat based on that variable - a version using BIOrigClientAddr if
it is set, and a version using the normal &amp;#8220;%h&amp;#8221; remote host&amp;nbsp;otherwise.&lt;/p&gt;
&lt;p&gt;In&amp;nbsp;httpd.conf:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="c"&gt;# set the &amp;quot;bigip-request&amp;quot; env variable to &amp;quot;1&amp;quot; if there is a BIOrigClientAddr header in the request                                                                                                   &lt;/span&gt;
&lt;span class="nb"&gt;SetEnvIf&lt;/span&gt; BIOrigClientAddr . bigip-request
&lt;span class="c"&gt;# we&amp;#39;ll use this following LogFormat (BIOrigClientAddr in place of remote host) as &amp;quot;combined&amp;quot; &lt;span class="caps"&gt;IF&lt;/span&gt; the bigip-request env variable is set                                                                     &lt;/span&gt;
&lt;span class="nb"&gt;LogFormat&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;%{BIOrigClientAddr}i %l %u %t %v \&amp;quot;%r\&amp;quot; %&amp;gt;s %b \&amp;quot;%{Referer}i\&amp;quot; \&amp;quot;%{User-Agent}i\&amp;quot;&amp;quot;&lt;/span&gt; combined_lb
&lt;span class="c"&gt;# else we&amp;#39;ll use this one (remote host &lt;span class="caps"&gt;IP&lt;/span&gt; address) as &amp;quot;combined&amp;quot; &lt;span class="caps"&gt;IF&lt;/span&gt; the bigip-request env variable is &lt;span class="caps"&gt;NOT&lt;/span&gt; set                                                                                   &lt;/span&gt;
&lt;span class="nb"&gt;LogFormat&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;%h %l %u %t %v \&amp;quot;%r\&amp;quot; %&amp;gt;s %b \&amp;quot;%{Referer}i\&amp;quot; \&amp;quot;%{User-Agent}i\&amp;quot;&amp;quot;&lt;/span&gt; combined
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;And then in our vhost&amp;nbsp;configuration:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="c"&gt;# use this log format if we&amp;#39;re behind an &lt;span class="caps"&gt;LB&lt;/span&gt;&lt;/span&gt;
&lt;span class="nb"&gt;CustomLog&lt;/span&gt; logs/&amp;lt;%= domain %&amp;gt;_access_log combined env=!bigip-request
&lt;span class="c"&gt;# or this format if we&amp;#39;re not&lt;/span&gt;
&lt;span class="nb"&gt;CustomLog&lt;/span&gt; logs/&amp;lt;%= domain %&amp;gt;_access_log combined_lb env=bigip-request
&lt;/pre&gt;&lt;/div&gt;</summary><category term="apache"></category><category term="bigip"></category><category term="f5"></category><category term="httpd"></category><category term="load balancer"></category><category term="logging"></category></entry><entry><title>Creating RPMs from Perl CPAN Modules</title><link href="http://blog.jasonantman.com/2012/05/creating-rpms-from-perl-cpan-modules/" rel="alternate"></link><updated>2012-05-15T15:01:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-05-15:2012/05/creating-rpms-from-perl-cpan-modules/</id><summary type="html">&lt;p&gt;I try my absolute best to always install software on my Linux boxes as
&lt;a href="http://en.wikipedia.org/wiki/RPM_Package_Manager"&gt;&lt;span class="caps"&gt;RPM&lt;/span&gt;&lt;/a&gt;s, installed
through &lt;a href="http://yum.baseurl.org/"&gt;Yum&lt;/a&gt; (yes, I use
&lt;a href="http://www.centos.org"&gt;CentOS&lt;/a&gt; on servers and
&lt;a href="http://fedoraproject.org/"&gt;Fedora&lt;/a&gt; on my desktops/laptops). Not only is
this more-or-less required to sanely manage configuration through
Puppet, but it also lets me recreate a machine, or install dependencies
for something, in one simple command line. Unfortunately, I run quite a
bit of Perl code, and there are a lot of &lt;a href="http://www.cpan.org/"&gt;&lt;span class="caps"&gt;CPAN&lt;/span&gt;&lt;/a&gt;
Perl modules that aren&amp;#8217;t in any of the usual CentOS/Fedora&amp;nbsp;repositories.&lt;/p&gt;
&lt;p&gt;Enter cpan2rpm: a Perl script that, in its simplest invocation,
downloads a specified &lt;span class="caps"&gt;CPAN&lt;/span&gt; module and automatically builds RPMs and
SRPMs for it. The &lt;a href="http://perl.arix.com/cpan2rpm/"&gt;original version&lt;/a&gt; by
&lt;a href="http://www.arix.com/ec/"&gt;Erick Calder&lt;/a&gt; hasn&amp;#8217;t been touched since 2005,
but there&amp;#8217;s &lt;a href="http://www.mediaburst.co.uk/blog/creating-perl-module-rpms/"&gt;a newer version from
Mediaburst&lt;/a&gt;,
&lt;a href="http://www2.mbstatic.co.uk/wp-content/uploads/2009/09/cpan2rpmmb"&gt;cpan2rpmmb&lt;/a&gt;,
that seems to incorporate some nice improvements and worked quite well
for&amp;nbsp;me.&lt;/p&gt;</summary><category term="cpan"></category><category term="cpan2rpm"></category><category term="perl"></category><category term="rpm"></category><category term="yum"></category></entry><entry><title>Perl script to convert F5 BigIp VIP address to list of internal pool member addresses</title><link href="http://blog.jasonantman.com/2012/04/perl-script-to-convert-f5-bigip-vip-address-to-list-of-internal-pool-member-addresses/" rel="alternate"></link><updated>2012-04-24T22:04:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-04-24:2012/04/perl-script-to-convert-f5-bigip-vip-address-to-list-of-internal-pool-member-addresses/</id><summary type="html">&lt;p&gt;I often find myself logging in to the web &lt;span class="caps"&gt;UI&lt;/span&gt; of &lt;a href="http://www.f5.com/products/big-ip/"&gt;F5
BigIp&lt;/a&gt; load balancers and tracing
down a &lt;span class="caps"&gt;VIP&lt;/span&gt; address to the servers that actually back it. This is an
arduous, repetitive task of tracing from the &lt;span class="caps"&gt;VIP&lt;/span&gt; list to the &lt;span class="caps"&gt;VIP&lt;/span&gt; details
page to find the default pool, then matching up that in the pool list
and checking the pool members page. Luckily, the F5 boxes have a &lt;a href="https://devcentral.f5.com/"&gt;web
service &lt;span class="caps"&gt;API&lt;/span&gt;&lt;/a&gt; that can be used for tasks like
this. They have &lt;span class="caps"&gt;GPL&lt;/span&gt; sample code in Perl that uses only
&lt;a href="http://search.cpan.org/~mkutter/SOAP-Lite-0.714/lib/SOAP/Lite.pm"&gt;&lt;span class="caps"&gt;SOAP&lt;/span&gt;::Lite&lt;/a&gt;
(as well as Getopt::Long and Pod::Usage) to interact with an F5 BigIp. I
wrote a simple script to trace a &lt;span class="caps"&gt;VIP&lt;/span&gt; to the appropriate internal pool
member addresses, assuming you have a simple configuration of &lt;span class="caps"&gt;VIP&lt;/span&gt; -&gt;
Single default pool -&amp;gt; pool&amp;nbsp;members.&lt;/p&gt;
&lt;p&gt;Usage is quite&amp;nbsp;simple:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="gp"&gt;&amp;gt;&lt;/span&gt; ./VipToInternalHosts.pl --host&lt;span class="o"&gt;=&lt;/span&gt;prod-lb1.example.com --user&lt;span class="o"&gt;=&lt;/span&gt;myname --pass&lt;span class="o"&gt;=&lt;/span&gt;mypassword --vip&lt;span class="o"&gt;=&lt;/span&gt;128.6.30.130:80
&lt;span class="go"&gt;&lt;span class="caps"&gt;VIP&lt;/span&gt; 128.6.30.130:80 (f5_vip_name) -&amp;gt; Pool &amp;#39;pool_name&amp;#39;&lt;/span&gt;
&lt;span class="go"&gt;Members of Pool &amp;#39;pool_name&amp;#39;:&lt;/span&gt;
&lt;span class="go"&gt;    10.145.15.10:80&lt;/span&gt;
&lt;span class="go"&gt;    10.145.15.11:80&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The code can be found at
&lt;a href="https://github.com/jantman/misc-scripts/blob/master/VipToInternalHosts.pl"&gt;https://github.com/jantman/misc-scripts/blob/master/VipToInternalHosts.pl&lt;/a&gt;. I hope it&amp;#8217;s of use to someone else as&amp;nbsp;well.&lt;/p&gt;</summary><category term="bigip"></category><category term="f5"></category><category term="load balancer"></category><category term="perl"></category></entry><entry><title>SysAdmin Links of The Day</title><link href="http://blog.jasonantman.com/2012/04/sysadmin-links-of-the-day/" rel="alternate"></link><updated>2012-04-24T21:18:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-04-24:2012/04/sysadmin-links-of-the-day/</id><summary type="html">&lt;p&gt;A few links that I&amp;#8217;ve had in my &amp;#8220;mention in a blog post&amp;#8221; category for a&amp;nbsp;while:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://blogs.msdn.com/b/windowsazure/archive/2012/03/09/summary-of-windows-azure-service-disruption-on-feb-29th-2012.aspx"&gt;Summary of Windows Azure Service Disruption on Feb 29th, 2012 -
    Windows Azure - Site Home - &lt;span class="caps"&gt;MSDN&lt;/span&gt;
    Blogs&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;a &lt;em&gt;very&lt;/em&gt; detailed and interesting post on what caused the Windows
Azure cloud outage on February 29th, 2012. &lt;span class="caps"&gt;IMHO&lt;/span&gt; many of these
failures were predictable, and the bulk of the outage was caused by
a combination of inputs not being checked for validity in code, or
the invalid case not being handled&amp;nbsp;properly.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="http://highscalability.com/blog/2012/3/12/google-taming-the-long-latency-tail-when-more-machines-equal.html"&gt;High Scalability - High Scalability - Google: Taming the Long
    Latency Tail - When More Machines Equals Worse&amp;nbsp;Results&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://everythingsysadmin.com/2012/03/fear-of-rebooting.html"&gt;Everything Sysadmin: Fear of&amp;nbsp;Rebooting&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://everythingsysadmin.com/2012/03/using-statements-of-undeniable.html"&gt;Everything Sysadmin: Using statements of &amp;#8220;Undeniable&amp;nbsp;Value&amp;#8221;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary><category term="azure"></category><category term="failure"></category><category term="microsoft"></category><category term="sysadmin"></category></entry><entry><title>Instagram - Scaling a Startup</title><link href="http://blog.jasonantman.com/2012/04/instagram-scaling-a-startup/" rel="alternate"></link><updated>2012-04-24T19:31:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-04-24:2012/04/instagram-scaling-a-startup/</id><summary type="html">&lt;p&gt;If you keep up with news on the &amp;#8216;net, you may have heard about photo
sharing startup &lt;a href="http://instagr.am"&gt;Instagram&lt;/a&gt;, which was &lt;a href="http://finance.fortune.cnn.com/2012/04/09/breaking-facebook-buying-instagram-for-1-billion/?section=magazines_fortune"&gt;purchased by
Facebook for $1
Billion&lt;/a&gt;
just 9 days after they released their Android app. Well, not only are
they based mostly on open source software (well, yeah, pretty much a
given for web startups these days), but they&amp;#8217;ve dealt with scaling
issues like a million new users in 12 hours, and they&amp;#8217;re &lt;a href="http://instagram-engineering.tumblr.com/post/20541814340/keeping-instagram-up-with-over-a-million-new-users-in"&gt;talking about
it&lt;/a&gt;.
There&amp;#8217;s the &lt;a href="http://techcrunch.com/2012/04/12/how-to-scale-a-1-billion-startup-a-guide-from-instagram-co-founder-mike-krieger/"&gt;slide deck to a talk that co-founder Mike Krieger
gave&lt;/a&gt;
on TechCrunch and
&lt;a href="http://www.scribd.com/doc/89025069/Mike-Krieger-Instagram-at-the-Airbnb-tech-talk-on-Scaling-Instagram"&gt;Scribd&lt;/a&gt;,
along with a &lt;a href="http://highscalability.com/blog/2012/4/16/instagram-architecture-update-whats-new-with-instagram.html"&gt;High Scalability article about
it&lt;/a&gt;,
and an &lt;a href="http://highscalability.com/blog/2012/4/9/the-instagram-architecture-facebook-bought-for-a-cool-billio.html"&gt;earlier High Scalability article that gives an overview of the
company and some details of what and how they&amp;#8217;re
running&lt;/a&gt;.
Instagram Engineering also has a
&lt;a href="http://instagram-engineering.tumblr.com/"&gt;tumblr&lt;/a&gt; account, with a bunch
of cool posts like &lt;a href="http://instagram-engineering.tumblr.com/post/20541814340/keeping-instagram-up-with-over-a-million-new-users-in"&gt;Keeping Instagram up with over a million new users
in twelve
hours&lt;/a&gt;
(which specifically mentions &lt;a href="http://github.com/etsy/statsd/"&gt;statsd&lt;/a&gt;,
&lt;a href="http://blog.bitbucket.org/2011/05/17/tracking-slow-requests-with-dogslow/"&gt;dogslow&lt;/a&gt;,
&lt;a href="http://pgfouine.projects.postgresql.org/"&gt;PGFouine&lt;/a&gt;,
&lt;a href="http://github.com/Instagram/node2dm"&gt;node2dm&lt;/a&gt; and some database stuff)
and &lt;a href="http://instagram-engineering.tumblr.com/post/13649370142/what-powers-instagram-hundreds-of-instances-dozens-of"&gt;What Powers Instagram: Hundreds of Instances, Dozens of
Technologies&lt;/a&gt;
which talks about their &lt;span class="caps"&gt;OS&lt;/span&gt; and hosting (Ubuntu 11.04 on &lt;span class="caps"&gt;EC2&lt;/span&gt;), load
balancing (nginx, &lt;span class="caps"&gt;DNS&lt;/span&gt; and Amazon Elastic Load Balancer), Django, Redis,
Solr, Munin,&amp;nbsp;etc.&lt;/p&gt;
&lt;p&gt;This is a really cool company, doing some &lt;em&gt;really&lt;/em&gt; cool stuff, at a
&lt;em&gt;really&lt;/em&gt; large scale, and growing&amp;nbsp;fast.&lt;/p&gt;
&lt;p&gt;On another note, I&amp;#8217;m continuing my attempt to read all of the excellent
Puppet articles on &lt;a href="http://www.masterzen.fr/blog/archives/"&gt;Brice Figureau&amp;#8217;s (aka masterzen)
blog&lt;/a&gt;. It&amp;#8217;s taking a while, as
it&amp;#8217;s really good, in-depth information that I want to rememeber, but I&amp;#8217;d
highly recommend it for anyone working with&amp;nbsp;Puppet.&lt;/p&gt;</summary><category term="dogslow"></category><category term="facebook"></category><category term="high scalability"></category><category term="instagram"></category><category term="node2dm"></category><category term="pgfouine"></category><category term="puppet"></category><category term="scaling"></category><category term="statsd"></category></entry><entry><title>A Collection of Great Links on Monitoring, SysAdmin, Scaling, etc.</title><link href="http://blog.jasonantman.com/2012/04/a-collection-of-great-links-on-monitoring-sysadmin-scaling-etc/" rel="alternate"></link><updated>2012-04-21T10:24:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-04-21:2012/04/a-collection-of-great-links-on-monitoring-sysadmin-scaling-etc/</id><summary type="html">&lt;p&gt;I&amp;#8217;ve had a bunch of tabs open in my browser for a while - stuff that I
read, thought was wonderful, and wanted to comment on. At risk of
letting it pile up forever, here&amp;#8217;s a collection of links that I thought
were really interesting or&amp;nbsp;insightful&amp;#8230;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://blog.mongodb.org/post/172254834/mongodb-is-fantastic-for-logging"&gt;MongoDB is Fantastic for
    Logging&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;I was looking into some log storage ideas, and came by this post
(on the MongoDB blog) about why Mongo is well-suited to storing&amp;nbsp;logs.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.sonian.com/cloud-monitoring-sensu/"&gt;Sensu&lt;/a&gt; - a
    Ruby-based cloud-oriented monitoring system. It uses &lt;span class="caps"&gt;AMQP&lt;/span&gt;/RabbitMQ
    to communicate between the clients and server, which is a really big
    part of what I think monitoring should&amp;nbsp;be.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://highscalability.com/"&gt;High Scalability&lt;/a&gt; - this is one of the
    few blogs I follow on a regular basis. Some really wonderful stuff,
    and great food for&amp;nbsp;thought.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://everythingsysadmin.com/2012/03/fear-of-rebooting.html"&gt;Everything Sysadmin: Fear of
    Rebooting&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;A great article on Tom Limoncelli&amp;#8217;s blog about why we fear
rebooting machines and why this is bad - moreover, why we should
reboot&amp;nbsp;often.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="http://techblog.netflix.com/2012/02/fault-tolerance-in-high-volume.html"&gt;The Netflix Tech Blog: Fault Tolerance in a High Volume,
    Distributed
    System&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;This is a &lt;em&gt;really, really&lt;/em&gt; cool post NetFlix about how latency
increases in a single subsystem can bring down their whole &lt;span class="caps"&gt;API&lt;/span&gt; in
seconds, and how they combat this. Really cool&amp;nbsp;stuff.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="http://arstechnica.com/business/news/2012/04/exclusive-a-behind-the-scenes-look-at-facebook-release-engineering.ars/1"&gt;Ars Technica - Exclusive: a behind-the-scenes look at Facebook
    release
    engineering&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;Ars Technical is more or less &amp;#8220;mainstream media&amp;#8221; to me, but this
is a really interesting writeup on Facebook&amp;#8217;s release engineering
process, albeit at a higher level. Specifically, it talks about
their automation, phased rollouts, rollbacks, and how they release
the Facebook codebase as a single giant binary, sent out via&amp;nbsp;BitTorrent.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/monitoringsucks/blog-posts"&gt;Monitoring Sucks blog posts
    (github)&lt;/a&gt; - The
    &amp;#8220;monitoing sucks&amp;#8221; movement really speaks to me, having worked
    extensively with Nagios, Cacti, and similar technologies.
    Specifically, having rolled out monitoring in a variety of &amp;#8220;weird&amp;#8221;
    scenarios (a lot of monitoring devices or whole networks behind &lt;span class="caps"&gt;NAT&lt;/span&gt;,
    on dynamic &lt;span class="caps"&gt;IP&lt;/span&gt; connections, or otherwise unreachable from a central
    server), I&amp;#8217;ve felt a lot of pain in the current want of doing
    things. There are a lot of &lt;strong&gt;really&lt;/strong&gt; good thoughts linked here,
    especially the &lt;a href="http://jedi.be/blog/2012/01/03/monitoring-wonderland-survey-introduction"&gt;&amp;#8220;wonderland&amp;#8221; series by Patrick
    Debois&lt;/a&gt;
    and the &lt;a href="http://holmwood.id.au/~lindsay/2012/01/09/monitoring-sucks-latency-sucks-more"&gt;&amp;#8220;Latency sucks&amp;#8221; series by Lindsay
    Holmwood&lt;/a&gt;.
    This really got me thinking about my ideal monitoring system, which
    among other things, would integrate the &amp;#8220;alerting&amp;#8221; functions of
    Nagios with graphing/trending and correlation, would be based on
    some sort of message queue architecture (that supports multiple
    levels of proxies that could gracefully support &lt;span class="caps"&gt;NAT&lt;/span&gt; and multiple
    hops), and would be configured almost totally on the originating
    &amp;#8220;client&amp;#8221; (unlike the pain of distributed&amp;nbsp;Nagios/Icinga).&lt;/li&gt;
&lt;li&gt;&lt;a href="http://assets.en.oreilly.com/1/event/65/Metrics-driven%20Engineering%20at%20Etsy%20Presentation.pdf"&gt;Mike Brittain - Metrics Driven Engineering at Etsy (3.&lt;span class="caps"&gt;2MB&lt;/span&gt;
    &lt;span class="caps"&gt;PDF&lt;/span&gt;)&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;presentation slides. I&amp;#8217;d &lt;em&gt;love&lt;/em&gt; to see the video. Some really good
ideas about putting the science back into being a SysAdmin. Also
mentions a few tools I really want to play around with (including
ganglia, graphite, logster and StatsD). Also mentions adding &lt;span class="caps"&gt;PHP&lt;/span&gt;
memory usage and time to Apache logs, which I don&amp;#8217;t believe I never
thought&amp;nbsp;of.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Some really thoughtful posts from &lt;span class="caps"&gt;R. I.&lt;/span&gt; Pienaar on &lt;a href="http://www.devco.net/archives/2011/03/19/thinking_about_monitoring_frameworks.php"&gt;Thinking about
    monitoring
    frameworks&lt;/a&gt;
    and &lt;a href="http://www.devco.net/archives/2011/04/04/monitoring_framework_composable_architectures.php"&gt;Composable
    Architectures&lt;/a&gt;.
    Some really good stuff, but what else would you expect from someone
    &lt;a href="https://github.com/ripienaar/"&gt;like this&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</summary><category term="amqp"></category><category term="etsy"></category><category term="facebook"></category><category term="limoncelli"></category><category term="links"></category><category term="mongodb"></category><category term="monitoring"></category><category term="monitoringsucks"></category><category term="netflix"></category><category term="sensu"></category></entry><entry><title>What Does a Sysadmin Look Like in 10 Years?</title><link href="http://blog.jasonantman.com/2012/04/what-does-a-sysadmin-look-like-in-10-years/" rel="alternate"></link><updated>2012-04-15T22:29:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-04-15:2012/04/what-does-a-sysadmin-look-like-in-10-years/</id><summary type="html">&lt;p&gt;I just read a wondeful blog post by Adam Fletcher, &lt;a href="http://www.thesimplelogic.com/2011/03/22/what-does-a-sysadmin-look-like-in-10-years/"&gt;What Does A Sysadmin
Look Like In 10
Years?&lt;/a&gt;.
This almost totally describes what I see as the future of system
administors/engineers/architects, and DevOps. And what I try, or want,
to do. It&amp;#8217;s the most accurate and succinct description I&amp;#8217;ve ever&amp;nbsp;read.&lt;/p&gt;</summary><category term="engineer"></category><category term="sysadmin"></category></entry><entry><title>CentOS/Fedora Install on SuperMicro Servers via IPMI Card KVM Over IP</title><link href="http://blog.jasonantman.com/2012/04/centosfedora-install-on-supermicro-servers-via-ipmi-card-kvm-over-ip/" rel="alternate"></link><updated>2012-04-13T15:19:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-04-13:2012/04/centosfedora-install-on-supermicro-servers-via-ipmi-card-kvm-over-ip/</id><summary type="html">&lt;p&gt;I recently had to setup Fedora 16 to test something on a &lt;a href="http://www.supermicro.com/products/system/1U/6015/SYS-6015T-T.cfm"&gt;SuperMicro
6015T-&lt;span class="caps"&gt;TV&lt;/span&gt;&lt;/a&gt;
1U &amp;#8220;dual&amp;#8221; server. This is a 1U enclosure with two separate servers in it
- based on the &lt;a href="http://www.supermicro.com/products/motherboard/Xeon1333/5000P/X7DBT.cfm"&gt;SuperMicro
&lt;span class="caps"&gt;X7DBT&lt;/span&gt;&lt;/a&gt;
motherboards - each with an
&lt;a href="http://www.supermicro.com/products/accessories/addon/SIM.cfm"&gt;&lt;span class="caps"&gt;AOC&lt;/span&gt;-&lt;span class="caps"&gt;SIMSO&lt;/span&gt;+&lt;/a&gt;
&lt;span class="caps"&gt;IPMI&lt;/span&gt; and &lt;span class="caps"&gt;KVM&lt;/span&gt;-over-&lt;span class="caps"&gt;IP&lt;/span&gt; management card. Every time I tried different
options for the kernel parameters (I was using Cobbler), I could get the
&lt;span class="caps"&gt;OS&lt;/span&gt; to boot, but once Anaconda started, I&amp;#8217;d lose image (&amp;#8220;No Signal&amp;#8221;) on
the &lt;span class="caps"&gt;IP&lt;/span&gt; &lt;span class="caps"&gt;KVM&lt;/span&gt;, and the serial console would go quiet. It took me about a
dozen tries before I found a mailing list reference to the &amp;#8220;nomodeset&amp;#8221;
option. This did the trick perfectly, and kept Anaconda&amp;nbsp;working.&lt;/p&gt;</summary><category term="anaconda"></category><category term="centos"></category><category term="fedora"></category><category term="ipmi"></category><category term="kvm"></category><category term="linux"></category><category term="raritan"></category><category term="supermicro"></category></entry><entry><title>Adjusting the VirtualBox F12 BIOS Boot Prompt Timeout</title><link href="http://blog.jasonantman.com/2012/04/adjusting-the-virtualbox-f12-bios-boot-prompt-timeout/" rel="alternate"></link><updated>2012-04-09T13:52:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-04-09:2012/04/adjusting-the-virtualbox-f12-bios-boot-prompt-timeout/</id><summary type="html">&lt;p&gt;I&amp;#8217;m working from home today, connected by &lt;span class="caps"&gt;VPN&lt;/span&gt;. I&amp;#8217;m in the process of
testing a bunch of Puppet stuff, and needed to re-image a bunch of
&lt;a href="https://www.virtualbox.org/"&gt;VirtualBox&lt;/a&gt; VMs on my desktop at work,
using &lt;span class="caps"&gt;PXE&lt;/span&gt; boot to &lt;a href="https://fedorahosted.org/cobbler/"&gt;Cobbler&lt;/a&gt;. I&amp;#8217;m only
connected to the desktop by &lt;span class="caps"&gt;SSH&lt;/span&gt;, and running the VMs with &lt;code&gt;VBoxHeadless&lt;/code&gt;
and connecting to them via &lt;span class="caps"&gt;RDP&lt;/span&gt; (well, &lt;span class="caps"&gt;VRDP&lt;/span&gt;). The problem with this is
that if I start a &lt;span class="caps"&gt;VM&lt;/span&gt; on my console window, then switch to my &lt;span class="caps"&gt;RDP&lt;/span&gt; client
and connect, by the time the &lt;span class="caps"&gt;VM&lt;/span&gt; gets keyboard focus, it&amp;#8217;s already past
the VBox &amp;#8220;Press F12 to select boot device&amp;#8221; prompt and booting from disk.
I could modify the boot order on the &lt;span class="caps"&gt;VM&lt;/span&gt;, but then that becomes a pain
when it reboots after the&amp;nbsp;install.&lt;/p&gt;
&lt;p&gt;Thanks to some of the guys on the &lt;a href="https://www.virtualbox.org/wiki/IRC"&gt;VirtualBox &lt;span class="caps"&gt;IRC&lt;/span&gt;
channel&lt;/a&gt;, I found out about the
&lt;code&gt;--bioslogodisplaytime&lt;/code&gt; option for VMs, which controls the length of
time (in milliseconds) that the boot splash screen is shown (the default
value seems to be 0). It&amp;#8217;s included in the &lt;a href="http://www.virtualbox.org/manual/ch08.html#vboxmanage-modifyvm"&gt;reference guide to
VBoxManage&lt;/a&gt;
in the modifyvm section. Setting this to a value of 10 seconds or so, as
shown below, is more than enough for me to start the &lt;span class="caps"&gt;VM&lt;/span&gt;, Alt-Tab to my
&lt;span class="caps"&gt;RDP&lt;/span&gt; client, connect to the &lt;span class="caps"&gt;VM&lt;/span&gt;, and hit &amp;#8216;F12&amp;#8217; to select a one-time
network&amp;nbsp;boot:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;VBoxManage modifyvm VMNAME --bioslogodisplaytime 10000
&lt;/pre&gt;&lt;/div&gt;</summary><category term="provisioning"></category><category term="pxe"></category><category term="rdp"></category><category term="sysadmin"></category><category term="vbox"></category><category term="virtualbox"></category><category term="virtualization"></category><category term="vm"></category></entry><entry><title>Rsync on an Android phone</title><link href="http://blog.jasonantman.com/2012/04/rsync-on-an-android-phone/" rel="alternate"></link><updated>2012-04-04T20:40:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-04-04:2012/04/rsync-on-an-android-phone/</id><summary type="html">&lt;p&gt;Every once in a while, there are some files that I want kept in sync
between my Android-based phone and one of my Linux (or Mac, or any Unix,
or maybe Windows too, but I use Linux&amp;#8230;) boxes. Yeah, I can copy them
over manually via &lt;span class="caps"&gt;USB&lt;/span&gt; or even something a bit simpler like
&lt;a href="https://market.android.com/details?id=lysesoft.andftp"&gt;AndFTP&lt;/a&gt;
(assuming you can &lt;span class="caps"&gt;SCP&lt;/span&gt; to the target machine). But that&amp;#8217;s a real pain for
anything like my &lt;a href="http://keepass.info/"&gt;KeePass&lt;/a&gt; (well, actually
&lt;a href="http://www.keepassx.org/"&gt;KeePassX&lt;/a&gt; and
&lt;a href="https://market.android.com/details?id=com.android.keepass"&gt;KeePassDroid&lt;/a&gt;)
password database, that I might add something to at any time and forget
to sync. I also try to occasionally (waiting in line?) backup &lt;span class="caps"&gt;SMS&lt;/span&gt;, call
logs, etc. on my phone, and like to have those synced back to the
desktop&amp;nbsp;automatically.&lt;/p&gt;
&lt;p&gt;Enter the solution: &lt;a href="https://market.android.com/details?id=eu.kowalczuk.rsync4android"&gt;rsync backup for
Android&lt;/a&gt;,
a &lt;a href="http://rsync.samba.org/"&gt;rsync&lt;/a&gt; client for Android that includes
Tasker plugins (there are a few things about the app that I don&amp;#8217;t like,
but it seems to be the only option at the moment), and
&lt;a href="https://market.android.com/details?id=net.dinglisch.android.taskerm"&gt;Tasker&lt;/a&gt;,
an automation framework for Android.Tasker is one of the few Android
apps that I&amp;#8217;ve actually bought (i.e. not free/no-cost), and is currently
selling for $6.49. It&amp;#8217;s an incredibly capable task automator, very much
akin to &lt;a href="http://www.twofortyfouram.com/"&gt;Locale&lt;/a&gt; on steroids. On the
down side, Tasker can eat up battery life if you don&amp;#8217;t configure it
intelligently, and it&amp;#8217;s not &lt;em&gt;always&lt;/em&gt; 100% reliable when interacting with
the system. On the positive side, Tasker can identify practically any
combination of states in the android system (from hardware and software
events to &lt;span class="caps"&gt;GPS&lt;/span&gt; location, time, signal status, etc.) and perform almost
any task on the system based on this information. Sure, this specific
problem could be solved with a cron replacement (which Android lacks, of
course), but Tasker can do things like play specific audio files when
you get an &lt;span class="caps"&gt;SMS&lt;/span&gt; from a specific number, mute audio at certain &lt;span class="caps"&gt;GPS&lt;/span&gt;
locations, or turn WiFi on when I get home and off when I leave the
house. It also has a plugin architecture, and rsync backup for Android
happens to have a plugin that works with&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;So, our goal is to have a daily, bi-directional, newest-file-wins sync
between a directory on our Android phone and a directory on a computer.
I&amp;#8217;m not going to go into a lot of the computer-side stuff, mainly
because that varies quite a bit between operating systems, and also
because my personal setup is a bit paranoid in terms of security. For
the computer side, we&amp;#8217;ll need a machine that can be SSHed to from the
Internet (either a static &lt;span class="caps"&gt;IP&lt;/span&gt; or a known hostname/dynamic &lt;span class="caps"&gt;DNS&lt;/span&gt;), a user
that can run rsync over &lt;span class="caps"&gt;SSH&lt;/span&gt;, and a directory that&amp;#8217;s writable&amp;nbsp;(obviously).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Setup:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Buy and install the
    &lt;a href="https://play.google.com/store/apps/details?id=net.dinglisch.android.taskerm"&gt;Tasker&lt;/a&gt;&amp;nbsp;app.&lt;/li&gt;
&lt;li&gt;Install the &lt;a href="https://play.google.com/store/apps/details?id=eu.kowalczuk.rsync4android"&gt;rsync backup for
    Android&lt;/a&gt;&amp;nbsp;app.&lt;/li&gt;
&lt;li&gt;Configure the rsync stuff on the computer. In the simplest form,
    we&amp;#8217;ll just need a user that can login and run rsync, and a directory
    to sync from/to &lt;em&gt;(note: this should be a directory used only for
    syncing the&amp;nbsp;phone&amp;#8230;).&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;Open the rsync backup for Android app. Use Menu -&gt; Generate Keys to
    generate a new pair of &lt;span class="caps"&gt;SSH&lt;/span&gt; keys, and then get the public key setup
    on the target computer. See &lt;a href="http://android.kowalczuk.eu/rsync4android/"&gt;the developer&amp;#8217;s web
    site&lt;/a&gt; for&amp;nbsp;instructions.&lt;/li&gt;
&lt;li&gt;Once keys are setup, create a new profile called &amp;#8220;&lt;span class="caps"&gt;PC&lt;/span&gt;-droid&amp;#8221;. Set the
    local directory to a new empty directory (I used &lt;code&gt;/sdcard/sync&lt;/code&gt;),
    enter the remote host address, port, username, and remote directory,
    and select the private &lt;span class="caps"&gt;SSH&lt;/span&gt; key that you created. Check off &amp;#8220;rsync on
    reverse direction&amp;#8221;. As this program is just a &lt;span class="caps"&gt;GUI&lt;/span&gt; wrapper around
    normal rsync binaries, you can specify additional options to the
    rsync command; my string ended up being
    &lt;code&gt;-vHrltDuO --chmod=Du+rwx,go-rwx,Fu+rw,go-rw --no-perms&lt;/code&gt;. If it
    helps, at the bottom of the screen you can see the actual rsync
    command line that will be run. Save when&amp;nbsp;done.&lt;/li&gt;
&lt;li&gt;Save the profile, then long-press it and select &amp;#8220;Duplicate&amp;#8221;. Change
    the name to &amp;#8220;droid-&lt;span class="caps"&gt;PC&lt;/span&gt;&amp;#8221;, uncheck &amp;#8220;rsync in reverse direction&amp;#8221;, and
    change your additional options as needed (mine became
    &lt;code&gt;-vHrltDu --chmod=Dug+rwx,o-rwx,Fug+rw,o-rw --no-perms&lt;/code&gt;). Save when&amp;nbsp;done.&lt;/li&gt;
&lt;li&gt;Create a test file in the sync directory on the &lt;span class="caps"&gt;PC&lt;/span&gt;, and a different
    one in the sync directory on the&amp;nbsp;droid.&lt;/li&gt;
&lt;li&gt;One at a time, in the rsync backup app, tap on the profile names. If
    all goes well, the syncs should run, and both files will now be in
    both places. If there are any problems, the output should help; the
    most likely issues are probably permissions, rsync command options,
    or &lt;span class="caps"&gt;SSH&lt;/span&gt;&amp;nbsp;keys.&lt;/li&gt;
&lt;li&gt;Long-press each profile, select &amp;#8220;Edit&amp;#8221;, and check off &amp;#8220;Close log
    window after job is done&amp;#8221;. Save&amp;nbsp;profile.&lt;/li&gt;
&lt;li&gt;Now fire up Tasker. Click the &amp;#8220;+&amp;#8221; at the bottom of the screen to
    create a new profile, call it &amp;#8220;sync&amp;#8221;, and click the check&amp;nbsp;mark.&lt;/li&gt;
&lt;li&gt;On the First Context panel, tap Time, and select when you want the
    jobs to run; I chose 03:01. Tap the check&amp;nbsp;mark.&lt;/li&gt;
&lt;li&gt;On the Task Selection panel, tap New Task. Give it a name, like&amp;nbsp;&amp;#8220;sync2&amp;#8221;.&lt;/li&gt;
&lt;li&gt;On the Task Edit panel, tap the &amp;#8220;+&amp;#8221; button at the bottom left, tap
    Plugin, tap &amp;#8220;rsync backup for Android&amp;#8221;, click the &amp;#8220;Edit&amp;#8221; button on
    the Configuration line, and select the &lt;span class="caps"&gt;PC&lt;/span&gt;-droid rsync profile. Tap
    the check mark in the lower left to&amp;nbsp;save.&lt;/li&gt;
&lt;li&gt;Repeat the last step for the droid-&lt;span class="caps"&gt;PC&lt;/span&gt; rsync&amp;nbsp;profile.&lt;/li&gt;
&lt;li&gt;Tap the check box in the lower left. This saves the&amp;nbsp;profile.&lt;/li&gt;
&lt;li&gt;In the main Tasker screen, make sure there&amp;#8217;s a green check to the
    right of the profile you just added, and that the button at the
    bottom right of the screen is set to&amp;nbsp;&amp;#8220;On&amp;#8221;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Assuming this all went well, the next time the time you specified rolls
around, your sync should run. If you gave the task a name in step 12,
you can setup additional profiles to run it at other times (or use the
repeat logic&amp;nbsp;builtin).&lt;/p&gt;</summary><category term="android"></category><category term="rsync"></category><category term="tasker"></category></entry><entry><title>Python script to find dependency cycles in GraphViz dot files</title><link href="http://blog.jasonantman.com/2012/03/python-script-to-find-dependency-cycles-in-graphviz-dot-files/" rel="alternate"></link><updated>2012-03-28T22:05:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-03-28:2012/03/python-script-to-find-dependency-cycles-in-graphviz-dot-files/</id><summary type="html">&lt;p&gt;Using &lt;a href="http://www.graphviz.org/"&gt;GraphViz&lt;/a&gt; to describe configurations is
relatively popular in the software and systems architecture world; the
simple text-based format makes it quiet simple, and the directed graph
(dot file) is a simple method to store a graph of information flow or
component relationships. &lt;a href="http://puppetlabs.com"&gt;Puppet&lt;/a&gt; includes
builtin support for &lt;a href="http://docs.puppetlabs.com/guides/faq.html#how-do-i-use-puppets-graphing-support"&gt;generating dot
graphs&lt;/a&gt;
of its configuration resources and relationships (both those specified
by the user, and all relationships including ones generated by Puppet&amp;nbsp;itself).&lt;/p&gt;
&lt;p&gt;One of the common uses for puppet&amp;#8217;s graphs is to identify dependency
cycles, as cyclic dependencies cause an error condition. However,
Puppet&amp;#8217;s own
&lt;a href="http://docs.puppetlabs.com/guides/faq.html#how-do-i-use-puppets-graphing-support"&gt;&lt;span class="caps"&gt;FAQ&lt;/span&gt;&lt;/a&gt;
only mentions using the &lt;code&gt;dot&lt;/code&gt; command to generate a &lt;span class="caps"&gt;PNG&lt;/span&gt; graphical
representation of the the graph. When debugging a recent problem with
puppet, I ended up with a message&amp;nbsp;like:  &lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;Could not apply complete catalog: Found dependency cycles in the following relationships: Service[puppet] =&amp;gt; File[/var/lib/puppet/yaml/foreman], File[/var/lib/puppet/yaml] =&amp;gt; File[/var/lib/puppet/yaml/foreman], Service[puppet] =&amp;gt; File[/etc/puppet/node.rb], File[fileserver.conf] =&amp;gt; Service[apache], File[namespaceauth.conf] =&amp;gt; Service[apache], File[puppet.conf] =&amp;gt; Service[apache], File[puppet.conf] =&amp;gt; Service[puppet], Service[puppet] =&amp;gt; File[foreman-report.rb], File[/var/lib/puppet/yaml/foreman] =&amp;gt; Package[puppet-server], Service[foreman-proxy] =&amp;gt; Package[puppet-server], File[foreman-proxy-settings.yml] =&amp;gt; Package[puppet-server], Package[foreman-proxy] =&amp;gt; Package[puppet-server], User[foreman-proxy] =&amp;gt; Package[puppet-server], File[/var/lib/puppet/yaml] =&amp;gt; Package[puppet-server], File[foreman-report.rb] =&amp;gt; Package[puppet-server], File[/etc/puppet/node.rb] =&amp;gt; Package[puppet-server], File[/var/lib/puppet/yaml/foreman] =&amp;gt; Exec[create_puppetmaster_certs], Service[foreman-proxy] =&amp;gt; Exec[create_puppetmaster_certs], File[foreman-proxy-settings.yml] =&amp;gt; Exec[create_puppetmaster_certs], Package[foreman-proxy] =&amp;gt; Exec[create_puppetmaster_certs], User[foreman-proxy] =&amp;gt; Exec[create_puppetmaster_certs], File[/var/lib/puppet/yaml] =&amp;gt; Exec[create_puppetmaster_certs], File[foreman-report.rb] =&amp;gt; Exec[create_puppetmaster_certs], File[/etc/puppet/node.rb] =&amp;gt; Exec[create_puppetmaster_certs], File[/var/lib/puppet/yaml/foreman] =&amp;gt; File[/etc/puppet/environments], Service[foreman-proxy] =&amp;gt; File[/etc/puppet/environments], File[foreman-proxy-settings.yml] =&amp;gt; File[/etc/puppet/environments], Package[foreman-proxy] =&amp;gt; File[/etc/puppet/environments], User[foreman-proxy] =&amp;gt; File[/etc/puppet/environments], File[/var/lib/puppet/yaml] =&amp;gt; File[/etc/puppet/environments], File[foreman-report.rb] =&amp;gt; File[/etc/puppet/environments], File[/etc/puppet/node.rb] =&amp;gt; File[/etc/puppet/environments], File[foreman-proxy-settings.yml] =&amp;gt; Service[foreman-proxy], Package[foreman-proxy] =&amp;gt; Service[foreman-proxy], Service[puppet]
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Not exactly easy to follow, or to pull much meaning out of, even if I
did some slight reformatting by putting in some newlines. I then
generated the png as described in the Puppet FAQs, but even scrolling
back and forth on this for 20 minutes didn&amp;#8217;t help: &lt;em&gt;(note: link is to
the original 14405x665px png)&lt;/em&gt;&lt;br /&gt;
&lt;a href="/GFX/relationships.dot.png"&gt;&lt;img alt="dot file
png" src="/GFX/relationships.dot.small.png" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;With a little research, I managed to find the
&lt;a href="http://networkx.lanl.gov"&gt;NetworkX&lt;/a&gt; package for Python; according to
their site, &amp;#8220;NetworkX is a Python language software package for the
creation, manipulation, and study of the structure, dynamics, and
functions of complex networks.&amp;#8221; Among its features are the ability to
&lt;a href="http://networkx.lanl.gov/reference/drawing.html#module-networkx.drawing.nx_pydot"&gt;read dot
files&lt;/a&gt;
using the &lt;a href="http://code.google.com/p/pydot/"&gt;pydot&lt;/a&gt; library, and the
ability to &lt;a href="http://networkx.lanl.gov/reference/generated/networkx.algorithms.cycles.simple_cycles.html#networkx.algorithms.cycles.simple_cycles"&gt;find simple
cycles&lt;/a&gt;
within a graph. In about 20 minutes, I hacked together the dead-simple
script&amp;nbsp;below.&lt;/p&gt;
&lt;p&gt;Given a dot file (of the type generated, for example, by Puppet), this
will output all of the cycles found within the graph. I ran this script
on the &lt;code&gt;expanded_relationships.dot&lt;/code&gt; file from Puppet, which had 99 nodes
(nodes on the graph, not puppet clients), and got the following&amp;nbsp;output:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;[&amp;#39;File[foreman-report.rb]&amp;#39;, &amp;#39;File[puppet.conf]&amp;#39;, &amp;#39;Service[puppet]&amp;#39;, &amp;#39;File[foreman-report.rb]&amp;#39;]
[&amp;#39;File[foreman-report.rb]&amp;#39;, &amp;#39;Package[puppet-server]&amp;#39;, &amp;#39;File[puppet.conf]&amp;#39;, &amp;#39;Service[puppet]&amp;#39;, &amp;#39;File[foreman-report.rb]&amp;#39;]
[&amp;#39;Package[puppet-server]&amp;#39;, &amp;#39;File[puppet.conf]&amp;#39;, &amp;#39;Service[puppet]&amp;#39;, &amp;#39;Service[foreman-proxy]&amp;#39;, &amp;#39;Package[puppet-server]&amp;#39;]
[&amp;#39;Package[puppet-server]&amp;#39;, &amp;#39;File[puppet.conf]&amp;#39;, &amp;#39;Service[puppet]&amp;#39;, &amp;#39;File[/etc/puppet/node.rb]&amp;#39;, &amp;#39;Package[puppet-server]&amp;#39;]
[&amp;#39;Package[puppet-server]&amp;#39;, &amp;#39;File[puppet.conf]&amp;#39;, &amp;#39;Service[puppet]&amp;#39;, &amp;#39;File[foreman-proxy-settings.yml]&amp;#39;, &amp;#39;Service[foreman-proxy]&amp;#39;, &amp;#39;Package[puppet-server]&amp;#39;]
[&amp;#39;Package[puppet-server]&amp;#39;, &amp;#39;File[puppet.conf]&amp;#39;, &amp;#39;Service[puppet]&amp;#39;, &amp;#39;File[foreman-proxy-settings.yml]&amp;#39;, &amp;#39;Package[puppet-server]&amp;#39;]
[&amp;#39;Package[puppet-server]&amp;#39;, &amp;#39;File[puppet.conf]&amp;#39;, &amp;#39;Service[puppet]&amp;#39;, &amp;#39;User[foreman-proxy]&amp;#39;, &amp;#39;File[/etc/puppet/node.rb]&amp;#39;, &amp;#39;Package[puppet-server]&amp;#39;]
[&amp;#39;Package[puppet-server]&amp;#39;, &amp;#39;File[puppet.conf]&amp;#39;, &amp;#39;Service[puppet]&amp;#39;, &amp;#39;User[foreman-proxy]&amp;#39;, &amp;#39;Package[puppet-server]&amp;#39;]
[&amp;#39;Package[puppet-server]&amp;#39;, &amp;#39;File[puppet.conf]&amp;#39;, &amp;#39;Service[puppet]&amp;#39;, &amp;#39;Package[foreman-proxy]&amp;#39;, &amp;#39;Service[foreman-proxy]&amp;#39;, &amp;#39;Package[puppet-server]&amp;#39;]
[&amp;#39;Package[puppet-server]&amp;#39;, &amp;#39;File[puppet.conf]&amp;#39;, &amp;#39;Service[puppet]&amp;#39;, &amp;#39;Package[foreman-proxy]&amp;#39;, &amp;#39;File[foreman-proxy-settings.yml]&amp;#39;, &amp;#39;Service[foreman-proxy]&amp;#39;, &amp;#39;Package[puppet-server]&amp;#39;]
[&amp;#39;Package[puppet-server]&amp;#39;, &amp;#39;File[puppet.conf]&amp;#39;, &amp;#39;Service[puppet]&amp;#39;, &amp;#39;Package[foreman-proxy]&amp;#39;, &amp;#39;File[foreman-proxy-settings.yml]&amp;#39;, &amp;#39;Package[puppet-server]&amp;#39;]
[&amp;#39;Package[puppet-server]&amp;#39;, &amp;#39;File[puppet.conf]&amp;#39;, &amp;#39;Service[puppet]&amp;#39;, &amp;#39;Package[foreman-proxy]&amp;#39;, &amp;#39;Package[puppet-server]&amp;#39;]
[&amp;#39;Package[puppet-server]&amp;#39;, &amp;#39;File[puppet.conf]&amp;#39;, &amp;#39;Service[puppet]&amp;#39;, &amp;#39;File[/var/lib/puppet/yaml/foreman]&amp;#39;, &amp;#39;Package[puppet-server]&amp;#39;]
[&amp;#39;File[/etc/puppet/node.rb]&amp;#39;, &amp;#39;File[puppet.conf]&amp;#39;, &amp;#39;Service[puppet]&amp;#39;, &amp;#39;File[/etc/puppet/node.rb]&amp;#39;]
[&amp;#39;File[/etc/puppet/node.rb]&amp;#39;, &amp;#39;File[puppet.conf]&amp;#39;, &amp;#39;Service[puppet]&amp;#39;, &amp;#39;User[foreman-proxy]&amp;#39;, &amp;#39;File[/etc/puppet/node.rb]&amp;#39;]
[&amp;#39;File[puppet.conf]&amp;#39;, &amp;#39;Service[puppet]&amp;#39;, &amp;#39;Service[foreman-proxy]&amp;#39;, &amp;#39;File[puppet.conf]&amp;#39;]
[&amp;#39;File[puppet.conf]&amp;#39;, &amp;#39;Service[puppet]&amp;#39;, &amp;#39;Package[foreman-proxy]&amp;#39;, &amp;#39;Service[foreman-proxy]&amp;#39;, &amp;#39;File[puppet.conf]&amp;#39;]
[&amp;#39;File[puppet.conf]&amp;#39;, &amp;#39;Service[puppet]&amp;#39;, &amp;#39;Package[foreman-proxy]&amp;#39;, &amp;#39;File[puppet.conf]&amp;#39;]
[&amp;#39;File[puppet.conf]&amp;#39;, &amp;#39;Service[puppet]&amp;#39;, &amp;#39;Package[foreman-proxy]&amp;#39;, &amp;#39;File[foreman-proxy-settings.yml]&amp;#39;, &amp;#39;Service[foreman-proxy]&amp;#39;, &amp;#39;File[puppet.conf]&amp;#39;]
[&amp;#39;File[puppet.conf]&amp;#39;, &amp;#39;Service[puppet]&amp;#39;, &amp;#39;Package[foreman-proxy]&amp;#39;, &amp;#39;File[foreman-proxy-settings.yml]&amp;#39;, &amp;#39;File[puppet.conf]&amp;#39;]
[&amp;#39;File[puppet.conf]&amp;#39;, &amp;#39;Service[puppet]&amp;#39;, &amp;#39;File[/var/lib/puppet/yaml/foreman]&amp;#39;, &amp;#39;File[puppet.conf]&amp;#39;]
[&amp;#39;File[puppet.conf]&amp;#39;, &amp;#39;Service[puppet]&amp;#39;, &amp;#39;File[foreman-proxy-settings.yml]&amp;#39;, &amp;#39;Service[foreman-proxy]&amp;#39;, &amp;#39;File[puppet.conf]&amp;#39;]
[&amp;#39;File[puppet.conf]&amp;#39;, &amp;#39;Service[puppet]&amp;#39;, &amp;#39;File[foreman-proxy-settings.yml]&amp;#39;, &amp;#39;File[puppet.conf]&amp;#39;]
[&amp;#39;File[puppet.conf]&amp;#39;, &amp;#39;Service[puppet]&amp;#39;, &amp;#39;User[foreman-proxy]&amp;#39;, &amp;#39;File[puppet.conf]&amp;#39;]
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;It probably would have taken me hours to come up with that by hand, let
alone realize that &lt;code&gt;Service[puppet]&lt;/code&gt; is the common item in all of them,
and hence the problem. With that little tidbit of information, I managed
to track down an extraneous &amp;#8220;require puppet&amp;#8221; that this all originated
from. I sincerely hope that this script will save someone else at least
as much time as it took me to write (I know it will for&amp;nbsp;me&amp;#8230;).&lt;/p&gt;
&lt;p&gt;You can always obtain the latest version of this script from
&lt;a href="https://github.com/jantman/misc-scripts/blob/master/dot_find_cycles.py"&gt;my github repository&lt;/a&gt;
It&amp;#8217;s free for use
and distribution, provided that you leave my copyright/attribution and
source &lt;span class="caps"&gt;URL&lt;/span&gt; notice intact, update the changelog, and send any
features/fixes back to me. The script is written in Python, and depends
on the python-networkx, graphviz-python, and pydot packages (all of
which are available as packages in the default repos of Fedora and
CentOS at least). For Puppet purposes, I&amp;#8217;d recommend running this on
&lt;code&gt;expanded_relationships.dot&lt;/code&gt; to get the full&amp;nbsp;information.&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="c"&gt;#!/usr/bin/env python&lt;/span&gt;

&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="sd"&gt;dot_find_cycles.py - uses Pydot and NetworkX to find cycles in a dot file directed graph.&lt;/span&gt;

&lt;span class="sd"&gt;Very helpful for &lt;/span&gt;

&lt;span class="sd"&gt;By Jason Antman  2012.&lt;/span&gt;

&lt;span class="sd"&gt;Free for all use, provided that you send any changes you make back to me, update the changelog, and keep this comment intact.&lt;/span&gt;

&lt;span class="sd"&gt;&lt;span class="caps"&gt;REQUIREMENTS&lt;/span&gt;:&lt;/span&gt;
&lt;span class="sd"&gt;Python&lt;/span&gt;
&lt;span class="sd"&gt;python-networkx - &lt;/span&gt;
&lt;span class="sd"&gt;graphviz-python - &lt;/span&gt;
&lt;span class="sd"&gt;pydot - &lt;/span&gt;
&lt;span class="sd"&gt;(all of these are available as native packages at least on CentOS)&lt;/span&gt;

&lt;span class="sd"&gt;&lt;span class="caps"&gt;USAGE&lt;/span&gt;:&lt;/span&gt;
&lt;span class="sd"&gt;dot_find_cycles.py /path/to/file.dot&lt;/span&gt;

&lt;span class="sd"&gt;The canonical source of this script can always be found from:&lt;/span&gt;


&lt;span class="sd"&gt;$HeadURL: http://svn.jasonantman.com/misc-scripts/dot_find_cycles.py $&lt;/span&gt;
&lt;span class="sd"&gt;$LastChangedRevision: 33 $&lt;/span&gt;

&lt;span class="sd"&gt;&lt;span class="caps"&gt;CHANGELOG&lt;/span&gt;:&lt;/span&gt;
&lt;span class="sd"&gt;    Wednesday 2012-03-28 Jason Antman :&lt;/span&gt;
&lt;span class="sd"&gt;        - initial script creation&lt;/span&gt;
&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;sys&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;access&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;R_OK&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;networkx&lt;/span&gt; &lt;span class="kn"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;nx&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;usage&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;stderr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;dot_find_cycles.py by Jason Antman &lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;stderr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;  finds cycles in dot file graphs, such as those from Puppet&lt;/span&gt;&lt;span class="se"&gt;\n\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;stderr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;span class="caps"&gt;USAGE&lt;/span&gt;: dot_find_cycles.py /path/to/file.dot&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;

    &lt;span class="n"&gt;path&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;argv&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;path&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;argv&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;usage&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;fh&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;except&lt;/span&gt; &lt;span class="ne"&gt;IOError&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;stderr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;span class="caps"&gt;ERROR&lt;/span&gt;: could not read file &amp;quot;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;usage&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="c"&gt;# read in the specified file, create a networkx DiGraph&lt;/span&gt;
    &lt;span class="n"&gt;G&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;nx&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DiGraph&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;nx&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read_dot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

    &lt;span class="n"&gt;C&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;nx&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;simple_cycles&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;G&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;C&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;C&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;

&lt;span class="c"&gt;# Run&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;__main__&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="dot"></category><category term="graph"></category><category term="graphviz"></category><category term="puppet"></category><category term="python"></category></entry><entry><title>Github as a repository in Redmine</title><link href="http://blog.jasonantman.com/2012/03/github-as-a-repository-in-redmine/" rel="alternate"></link><updated>2012-03-27T21:36:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-03-27:2012/03/github-as-a-repository-in-redmine/</id><summary type="html">&lt;p&gt;As a follow-up to my &lt;a href="/2012/03/cvs-to-svn-to-git/"&gt;&lt;span class="caps"&gt;CVS&lt;/span&gt; to &lt;span class="caps"&gt;SVN&lt;/span&gt; to Git&lt;/a&gt;
post, I have the &lt;a href="http://www.php-ems-tools.com"&gt;&lt;span class="caps"&gt;PHP&lt;/span&gt; &lt;span class="caps"&gt;EMS&lt;/span&gt; Tools&lt;/a&gt;
repository migrated from my &lt;span class="caps"&gt;SVN&lt;/span&gt; to
&lt;a href="https://github.com/jantman/php-ems-tools"&gt;github&lt;/a&gt;. Since I&amp;#8217;m moving the
website and all development to a &lt;a href="http://www.redmine.org/"&gt;Redmine&lt;/a&gt;
instance, the next step is setting up Github to work as a revision
control repository in redmine. Well, it&amp;#8217;s dead simple. I just followed
the instructions for the &lt;a href="http://mentalized.net/journal/2009/08/03/redmine_plugin_github_hook/"&gt;Redmine plugin: Github
hook&lt;/a&gt;
, with the exception that I followed the &lt;a href="http://www.redmine.org/projects/redmine/wiki/HowTo_keep_in_sync_your_git_repository_for_redmine"&gt;redmine instructions for
setting up the repository
clone&lt;/a&gt;
instead of Step #2 in the plugin instructions. All worked well, though
I&amp;#8217;ll admit I only tried it talking to redmine over plain &lt;span class="caps"&gt;HTTP&lt;/span&gt;, not&amp;nbsp;&lt;span class="caps"&gt;HTTPS&lt;/span&gt;.&lt;/p&gt;</summary><category term="git"></category><category term="github"></category><category term="redmine"></category></entry><entry><title>CVS to SVN to Git</title><link href="http://blog.jasonantman.com/2012/03/cvs-to-svn-to-git/" rel="alternate"></link><updated>2012-03-25T12:11:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-03-25:2012/03/cvs-to-svn-to-git/</id><summary type="html">&lt;p&gt;Thanks to some new interest, I&amp;#8217;ve decided to resurrect an old project of
mine, &lt;a href="http://www.php-ems-tools.com"&gt;&lt;span class="caps"&gt;PHP&lt;/span&gt; &lt;span class="caps"&gt;EMS&lt;/span&gt; Tools&lt;/a&gt;. It&amp;#8217;s a web-based
tool for small emergency services organizations, mainly aimed at
volunteer &lt;span class="caps"&gt;EMS&lt;/span&gt;/ambulance providers. The tool handles roster tracking,
scheduling, equipment maintenance and checks, and a bunch of other
administrative tasks. I first started it in 2007 for the &lt;a href="http://www.midlandparkambulance.com"&gt;Midland Park
Ambulance Corps&lt;/a&gt; (&lt;span class="caps"&gt;MPAC&lt;/span&gt;), which I
was a volunteer &lt;span class="caps"&gt;EMT&lt;/span&gt; with from 2005 through 2011. I&amp;#8217;ll admit that it&amp;#8217;s a
perfect model of how not to run a software project. The first few
releases are plain awful code. I was keeping the project in &lt;span class="caps"&gt;CVS&lt;/span&gt; at the
time, and posted some early releases on
&lt;a href="http://sourceforge.net/projects/php-ems-tools/"&gt;sourceforge&lt;/a&gt; and
FreshMeat, now &lt;a href="http://freecode.com/projects/php-ems-tools"&gt;FreeCode&lt;/a&gt;.
Sometime in 2009, I migrated the contents of the trunk of the &lt;span class="caps"&gt;CVS&lt;/span&gt; module
to a &lt;a href="http://svn.jasonantman.com/php-ems-tools/"&gt;&lt;span class="caps"&gt;SVN&lt;/span&gt; repository&lt;/a&gt;, but
discarded the history. I also setup a MediaWiki-based website for the
project, giving some information and mainly asking for feedback. Around
that time I started working on a new and heavily updated (fixed) version
for &lt;span class="caps"&gt;MPAC&lt;/span&gt;, but since it appeared that there was no interest in the
project, and there were many many local customizations and
organization-specific features, I let their codebase diverge from what
was released, and as a result, stopped keeping it in version control.
Until now, when they need to migrate to a new server, and I&amp;#8217;ve also
gotten some outside interest in the&amp;nbsp;project.&lt;/p&gt;
&lt;p&gt;So, as of this morning, I was left with at least four code&amp;nbsp;bases:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;the original &lt;a href="http://cvs.jasonantman.com/cgi-bin/viewvc.cgi/cvs/php-ems-tools-trunk/"&gt;&lt;span class="caps"&gt;CVS&lt;/span&gt;
    repository&lt;/a&gt;
    with branches and tags and some history, untouched since&amp;nbsp;2007&lt;/li&gt;
&lt;li&gt;the &lt;a href="http://svn.jasonantman.com/php-ems-tools/"&gt;&lt;span class="caps"&gt;SVN&lt;/span&gt; repository&lt;/a&gt;
    circa 2009, with only 3 commits, all related to the migration from
    &lt;span class="caps"&gt;CVS&lt;/span&gt; to&amp;nbsp;&lt;span class="caps"&gt;SVN&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;a &amp;#8220;release&amp;#8221; tarball that at least one outside organization is
    actually&amp;nbsp;using.&lt;/li&gt;
&lt;li&gt;the code that &lt;span class="caps"&gt;MPAC&lt;/span&gt; is running, which has been largely rewritten
    since 2009, but also contains a lot of organization-specific&amp;nbsp;customizations.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;As a first step, I created a new &lt;span class="caps"&gt;SVN&lt;/span&gt; repository and migrated the
original &lt;span class="caps"&gt;CVS&lt;/span&gt; repo, complete with history, branches, and tags, to it
using &lt;a href="http://cvs2svn.tigris.org/"&gt;cvs2svn&lt;/a&gt;, and then removed write
permissions on the actual module in the repository. This gave me a &lt;span class="caps"&gt;SVN&lt;/span&gt;
repository with all of the history of previous so-called releases, with
a trunk matching r1 of the &amp;#8220;current&amp;#8221; &lt;span class="caps"&gt;SVN&lt;/span&gt; repository. I then manually
applied patches to trunk/ for the two commits in the current &lt;span class="caps"&gt;SVN&lt;/span&gt;
repository, and set the svn:date revision property to the correct 2009
date for those commits. I also confirmed that the correct tag matches up
to the &amp;#8220;release&amp;#8221; tarball mentioned above. So, I&amp;#8217;m down to a &amp;#8220;current&amp;#8221;
trunk, plus the locally modified code running on &lt;span class="caps"&gt;MPAC&lt;/span&gt;&amp;#8217;s current server.
My plan of action from this point is as&amp;nbsp;follows:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Move the &lt;span class="caps"&gt;PHP&lt;/span&gt; &lt;span class="caps"&gt;EMS&lt;/span&gt; Tools website from Mediawiki to my local redmine
    installation, and update the news with a link to this&amp;nbsp;post.&lt;/li&gt;
&lt;li&gt;Migrate the &lt;span class="caps"&gt;SVN&lt;/span&gt; repository, which now contains full history, to Git
    hosted at Github. Add Github integration to&amp;nbsp;Redmine.&lt;/li&gt;
&lt;li&gt;Update freshmeat, sourceforge, and anywhere else online that knows
    about the&amp;nbsp;project.&lt;/li&gt;
&lt;li&gt;Working in a git branch, begin converging the code &lt;span class="caps"&gt;MPAC&lt;/span&gt; is currently
    running with the latest (now git) trunk, trying to provide
    configuration options for anything organization specific, and
    testing as I&amp;nbsp;go.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;If all works well, I&amp;#8217;ll end up with &lt;span class="caps"&gt;MPAC&lt;/span&gt; running the current trunk, just
some different configuration options, and a working, up-to-date release.
The biggest issues are going to be how I handle the &lt;span class="caps"&gt;MPAC&lt;/span&gt;-specific
additions and customizations (a lot of stuff hard-coded for our position
titles, plus our very custom call report and telephone-based call-in
software, which is pretty tightly linked with the &lt;span class="caps"&gt;PHP&lt;/span&gt; &lt;span class="caps"&gt;EMS&lt;/span&gt; Tools core),
and how I balance abstracting things to be configurable for other users
versus getting this all done in a reasonable amount of&amp;nbsp;time.&lt;/p&gt;
&lt;p&gt;Stay&amp;nbsp;tuned&amp;#8230;&lt;/p&gt;</summary><category term="cvs"></category><category term="git"></category><category term="svn"></category><category term="version control"></category></entry><entry><title>Adding Piwik Web Analytics Integration to ViewVC</title><link href="http://blog.jasonantman.com/2012/03/adding-piwik-web-analytics-integration-to-viewvc/" rel="alternate"></link><updated>2012-03-23T21:15:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-03-23:2012/03/adding-piwik-web-analytics-integration-to-viewvc/</id><summary type="html">&lt;p&gt;&lt;strong&gt;Update February 2014:&lt;/strong&gt; Give up the analytics, and just host your code
on &lt;a href="https://github.com"&gt;GitHub&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;All of my public &lt;a href="http://viewvc.jasonantman.com"&gt;subversion
repositories&lt;/a&gt; and &lt;a href="http://cvs.jasonantman.com"&gt;&lt;span class="caps"&gt;CVS&lt;/span&gt;
repositories&lt;/a&gt; are available online through a
great Python application called &lt;a href="http://viewvc.org/"&gt;ViewVC&lt;/a&gt;, which
provides a web-based interface to &lt;span class="caps"&gt;CVS&lt;/span&gt; and &lt;span class="caps"&gt;SVN&lt;/span&gt; repositories, as well as
history browsing, graphical diffs, etc. An amazingly large amount of the
traffic to my web server is for the vhosts that serve this, so I decided
that I should add some analytics to it. I&amp;#8217;m in the process of trying out
&lt;a href="http://piwik.org"&gt;Piwik&lt;/a&gt;, a full-featured, &lt;span class="caps"&gt;GPL&lt;/span&gt;-licensed, self-hosted
alternative to &lt;a href="http://www.google.com/analytics/"&gt;Google Analytics&lt;/a&gt;. It
gives lots of useful information like number of visits and unique visits
per page, search engine keywords, referrers, average time on page,
bounce rate (number of one-page visits),&amp;nbsp;etc.&lt;/p&gt;
&lt;p&gt;I have ViewVC installed from the &lt;a href="http://pkgs.repoforge.org/viewvc/"&gt;RPMforge
packages&lt;/a&gt;, so there&amp;#8217;s one code base
for both of my vhosts. This means that I can&amp;#8217;t simply slap the tracking
code at the bottom of the templates and call it a day. I opted to go for
a nicer solution, and what follows is a patch (diff -u) to the current
(1.1.13) version of ViewVC that adds a &amp;#8220;piwik&amp;#8221; section to viewvc.conf,
and adds the piwik tracking code with the specified base &lt;span class="caps"&gt;URL&lt;/span&gt; and site &lt;span class="caps"&gt;ID&lt;/span&gt;
into all ViewVC pages.&amp;nbsp;Enjoy.&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="gh"&gt;diff -ru viewvc-&lt;span class="caps"&gt;ORIG&lt;/span&gt;/lib/config.py viewvc/lib/config.py&lt;/span&gt;
&lt;span class="gd"&gt;--- viewvc-&lt;span class="caps"&gt;ORIG&lt;/span&gt;/lib/config.py   2012-01-25 08:31:52.000000000 -0500&lt;/span&gt;
&lt;span class="gi"&gt;+++ viewvc/lib/config.py    2012-03-23 21:57:08.000000000 -0400&lt;/span&gt;
&lt;span class="gu"&gt;@@ -108,6 +108,7 @@&lt;/span&gt;
     &amp;#39;query&amp;#39;,
     &amp;#39;templates&amp;#39;,
     &amp;#39;utilities&amp;#39;,
&lt;span class="gi"&gt;+    &amp;#39;piwik&amp;#39;,&lt;/span&gt;
     )
   _force_multi_value = (
     # Configuration values with multiple, comma-separated values.
&lt;span class="gu"&gt;@@ -127,6 +128,7 @@&lt;/span&gt;
                &amp;#39;options&amp;#39;,
                &amp;#39;templates&amp;#39;,
                &amp;#39;utilities&amp;#39;,
&lt;span class="gi"&gt;+               &amp;#39;piwik&amp;#39;,&lt;/span&gt;
                ),
     &amp;#39;root&amp;#39;  : (&amp;#39;authz-*&amp;#39;,
                &amp;#39;options&amp;#39;,
&lt;span class="gu"&gt;@@ -461,7 +463,14 @@&lt;/span&gt;
     self.cvsdb.check_database_for_root = 0

     self.query.viewvc_base_url = None
&lt;span class="gd"&gt;-    &lt;/span&gt;
&lt;span class="gi"&gt;+&lt;/span&gt;
&lt;span class="gi"&gt;+    # begin  patch for piwik integration&lt;/span&gt;
&lt;span class="gi"&gt;+    self.piwik.use_piwik = 0&lt;/span&gt;
&lt;span class="gi"&gt;+    self.piwik.base_url = &amp;#39;&amp;#39;&lt;/span&gt;
&lt;span class="gi"&gt;+    self.piwik.site_id = &amp;#39;&amp;#39;&lt;/span&gt;
&lt;span class="gi"&gt;+    self.piwik.use_jsindex = 0&lt;/span&gt;
&lt;span class="gi"&gt;+    # end  patch for piwik integration&lt;/span&gt;
&lt;span class="gi"&gt;+   &lt;/span&gt;
 def _startswith(somestr, substr):
   return somestr[:len(substr)] == substr

&lt;span class="gh"&gt;diff -ru viewvc-&lt;span class="caps"&gt;ORIG&lt;/span&gt;/templates/include/footer.ezt viewvc/templates/include/footer.ezt&lt;/span&gt;
&lt;span class="gd"&gt;--- viewvc-&lt;span class="caps"&gt;ORIG&lt;/span&gt;/templates/include/footer.ezt    2012-01-25 08:31:52.000000000 -0500&lt;/span&gt;
&lt;span class="gi"&gt;+++ viewvc/templates/include/footer.ezt 2012-03-23 22:03:04.000000000 -0400&lt;/span&gt;
&lt;span class="gu"&gt;@@ -13,5 +13,17 @@&lt;/span&gt;



&lt;span class="gi"&gt;+[is cfg.piwik.use_piwik &amp;quot;1&amp;quot;]&lt;/span&gt;
&lt;span class="gi"&gt;+&lt;/span&gt;
&lt;span class="gi"&gt;+var pkBaseURL = ((&amp;quot;https:&amp;quot; == document.location.protocol) ? &amp;quot;https://[cfg.piwik.base_url]/&amp;quot; : &amp;quot;http://[cfg.piwik.base_url]/&amp;quot;);&lt;/span&gt;
&lt;span class="gi"&gt;+document.write(unescape(&amp;quot;%3Cscript src=&amp;#39;&amp;quot; + pkBaseURL + &amp;quot;[is cfg.piwik.use_jsindex &amp;quot;1&amp;quot;]js/[else]piwik.js[end]&amp;#39; type=&amp;#39;text/javascript&amp;#39;%3E%3C/script%3E&amp;quot;));&lt;/span&gt;
&lt;span class="gi"&gt;+&lt;/span&gt;
&lt;span class="gi"&gt;+try {&lt;/span&gt;
&lt;span class="gi"&gt;+var piwikTracker = Piwik.getTracker(pkBaseURL + &amp;quot;piwik.php&amp;quot;, [cfg.piwik.site_id]);&lt;/span&gt;
&lt;span class="gi"&gt;+piwikTracker.trackPageView();&lt;/span&gt;
&lt;span class="gi"&gt;+piwikTracker.enableLinkTracking();&lt;/span&gt;
&lt;span class="gi"&gt;+} catch( err ) {}&lt;/span&gt;
&lt;span class="gi"&gt;+&lt;/span&gt;
&lt;span class="gi"&gt;+[else][end]&lt;/span&gt;


Only in viewvc-&lt;span class="caps"&gt;ORIG&lt;/span&gt;/templates/include: header.ezt~
&lt;span class="gh"&gt;diff -ru viewvc-&lt;span class="caps"&gt;ORIG&lt;/span&gt;/viewvc.conf.dist viewvc/viewvc.conf.dist&lt;/span&gt;
&lt;span class="gd"&gt;--- viewvc-&lt;span class="caps"&gt;ORIG&lt;/span&gt;/viewvc.conf.dist    2012-01-25 08:31:52.000000000 -0500&lt;/span&gt;
&lt;span class="gi"&gt;+++ viewvc/viewvc.conf.dist 2012-03-23 21:44:02.000000000 -0400&lt;/span&gt;
&lt;span class="gu"&gt;@@ -1131,3 +1131,29 @@&lt;/span&gt;
 #viewvc_base_url =

 ##---------------------------------------------------------------------------
&lt;span class="gi"&gt;+[piwik]&lt;/span&gt;
&lt;span class="gi"&gt;+&lt;/span&gt;
&lt;span class="gi"&gt;+## This section enables Piwik  web analytics tracking.&lt;/span&gt;
&lt;span class="gi"&gt;+## If piwik is enabled (use_piwik = 1) all other options must be specified.&lt;/span&gt;
&lt;span class="gi"&gt;+##&lt;/span&gt;
&lt;span class="gi"&gt;+## This is based on a patch by Jason Antman  &lt;/span&gt;
&lt;span class="gi"&gt;+## to ViewVC 1.1.13, written 2012-03-23.&lt;/span&gt;
&lt;span class="gi"&gt;+## The latest version of the patch, and information on it, can always be found at:&lt;/span&gt;
&lt;span class="gi"&gt;+## &lt;/span&gt;
&lt;span class="gi"&gt;+##&lt;/span&gt;
&lt;span class="gi"&gt;+##&lt;/span&gt;
&lt;span class="gi"&gt;+## To enable piwik, change use_piwik to 1. Set to 0 to disable&lt;/span&gt;
&lt;span class="gi"&gt;+use_piwik = 1&lt;/span&gt;
&lt;span class="gi"&gt;+##&lt;/span&gt;
&lt;span class="gi"&gt;+## Set base_url to the hostname and path to your piwik installation, with no trailing slash.&lt;/span&gt;
&lt;span class="gi"&gt;+## i.e. piwik.example.com or www.example.com/piwik&lt;/span&gt;
&lt;span class="gi"&gt;+base_url = piwik.example.com&lt;/span&gt;
&lt;span class="gi"&gt;+##&lt;/span&gt;
&lt;span class="gi"&gt;+## Set to the numeric id of your website in Piwik&lt;/span&gt;
&lt;span class="gi"&gt;+site_id = 5&lt;/span&gt;
&lt;span class="gi"&gt;+##&lt;/span&gt;
&lt;span class="gi"&gt;+## Set to 1 if you want to use js/index.php to serve the tracking code, &lt;/span&gt;
&lt;span class="gi"&gt;+## or leave at 0 if you want to call piwik.js directly&lt;/span&gt;
&lt;span class="gi"&gt;+use_jsindex = 0&lt;/span&gt;
&lt;span class="gi"&gt;+&lt;/span&gt;
&lt;span class="gi"&gt;+##---------------------------------------------------------------------------&lt;/span&gt;
\ No newline at end of file
&lt;/pre&gt;&lt;/div&gt;</summary><category term="analytics"></category><category term="piwik"></category><category term="python"></category><category term="subversion"></category><category term="svn"></category><category term="tracking"></category><category term="viewvc"></category></entry><entry><title>New Blog Theme</title><link href="http://blog.jasonantman.com/2012/03/new-blog-theme/" rel="alternate"></link><updated>2012-03-20T19:25:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-03-20:2012/03/new-blog-theme/</id><summary type="html">&lt;p&gt;In a follow-up to my &lt;a href="/2012/03/some-thoughts-on-choosing-a-new-wordpress-theme/"&gt;Some Thoughts on Choosing a New Wordpress
Theme&lt;/a&gt; post
from a few days ago, I decided on the
&lt;a href="http://wordpress.org/extend/themes/admired"&gt;Admired&lt;/a&gt;
&lt;a href="http://wp-ultra.com/themes/admired/"&gt;theme&lt;/a&gt; by &lt;a href="https://plus.google.com/103391260195864203534/posts"&gt;Brad
Thomas&lt;/a&gt;. It&amp;#8217;s
amazingly full-featured and has a good set of options. I had to manually
change a few things in the &lt;span class="caps"&gt;CSS&lt;/span&gt; (I wanted to tweak the top bar colors a
bit in a way that&amp;#8217;s not supported in the options), but overall it was a
very simple transition. While it&amp;#8217;s unfortunately very far from valid
&lt;a href="http://validator.w3.org/check?verbose=1&amp;amp;uri=http://blog.jasonantman.com/"&gt;&lt;span class="caps"&gt;HTML&lt;/span&gt;&lt;/a&gt;
or
&lt;a href="http://jigsaw.w3.org/css-validator/validator?profile=css3&amp;amp;warning=0&amp;amp;uri=http://blog.jasonantman.com/"&gt;&lt;span class="caps"&gt;CSS&lt;/span&gt;&lt;/a&gt;,
it seems quite&amp;nbsp;nice.&lt;/p&gt;
&lt;p&gt;If you happen to read this post and see anything wrong with the theme,
or it doesn&amp;#8217;t display properly for you, please leave a comment below
(with browser version and &lt;span class="caps"&gt;OS&lt;/span&gt;, if you&amp;nbsp;please).&lt;/p&gt;
&lt;p&gt;My next project, continuing on from my &lt;a href="/2012/03/inaccuracies-in-google-analytics-for-website-stats/"&gt;Inaccuracies in Google Analytics
for Website
Stats&lt;/a&gt;
post, is to compare the two self-hosted JavaScript-based open source
Google Analytics alternatives I&amp;#8217;ve identified
(&lt;a href="http://piwik.org/"&gt;Piwik&lt;/a&gt; and &lt;a href="http://www.openwebanalytics.com/"&gt;Open Web
Analytics&lt;/a&gt;) and try one out on my site
(keeping in mind that my server is pretty heavily loaded, and I don&amp;#8217;t
want to push it over the edge). Once I come to some sort of conclusion
on that, I&amp;#8217;ll get back to some useful&amp;nbsp;posts.&lt;/p&gt;</summary><category term="blog"></category><category term="theme"></category><category term="wordpress"></category></entry><entry><title>Leap Year Windows Azure Cloud Outage</title><link href="http://blog.jasonantman.com/2012/03/leap-year-windows-azure-cloud-outage/" rel="alternate"></link><updated>2012-03-20T18:12:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-03-20:2012/03/leap-year-windows-azure-cloud-outage/</id><summary type="html">&lt;p&gt;I haven&amp;#8217;t talked about Microsoft in quite a while (mainly because I
don&amp;#8217;t follow mainstream tech news as much anymore), but I happened by a
very interesting &lt;a href="http://blogs.msdn.com/b/windowsazure/archive/2012/03/09/summary-of-windows-azure-service-disruption-on-feb-29th-2012.aspx"&gt;post on the Windows Azure
blog&lt;/a&gt;
the other day. It&amp;#8217;s a very detailed postmortem of the major outage of
the Windows Azure cloud service which occurred from 4:00 &lt;span class="caps"&gt;PM&lt;/span&gt; &lt;span class="caps"&gt;PST&lt;/span&gt; on
February 28&lt;sup&gt;th&lt;/sup&gt; through 2:15 &lt;span class="caps"&gt;AM&lt;/span&gt; on March 1&lt;sup&gt;st&lt;/sup&gt;. Before I get into any of
the details, I should say that it really is a nice, well-done post. And
the fact that they&amp;#8217;re willing to do such a detailed, public postmortem -
and admit the failures that they did - is a step in the right direction
for Microsoft (a company that I don&amp;#8217;t particularly care for, to put it&amp;nbsp;lightly).&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m going to glance over the majority of the post, though I highly
recommend that anyone interested in running web-scale services,
specifically highly available ones, read it. The general overview
(really just the points that are germane to my discussion) is as
follows: An agent running inside the guest &lt;span class="caps"&gt;VM&lt;/span&gt; instances (i.e. domU)
communicates with a counterpart on the host &lt;span class="caps"&gt;OS&lt;/span&gt; (i.e. dom0) over an
encrypted channel, authenticated by certificate. The certs are generated
and passed from the guest to the host when the guest instance is first
initialized, which means when an app is first deployed, scaled out, &lt;span class="caps"&gt;OS&lt;/span&gt;
updated, or when an app is reinitialized on a new host. This cert was
generated for a 1-year validity period, by adding 1 to the integer year
- hence, the generation process failed on February 29th of a leap year,
as the cert end date wasn&amp;#8217;t valid. When the cert generation failed, the
guest agent essentially stopped cold. The host agent waited for a 25
minute timeout, then re-initialized the guest and started over. After
three of these failures, the host assumes there&amp;#8217;s a hardware error
(since the guest would have reported a more specific error otherwise),
declares itself in an error state, and tries to move its current
workload over to another host. Which re-initializes the guests on that
host, thereby causing a chain-reaction of failures in this case. Skip
forward the 2-1/2 hours it took them to identify the problem, and
further 2-1/2 hours to get a fix ready. They fast-tracked their fix to 7
clusters that had already been in the process of a software update, but
ended up with those clusters in an inconsistent state with
incompatibilities between the guest and host networking subsystems,
bringing down previously-unaffected instances on these&amp;nbsp;clusters.&lt;/p&gt;
&lt;p&gt;This whole scenario offers a few important points on both the
development and operations&amp;nbsp;sides:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Inputs need error checking, and errors need to be raised.&lt;/strong&gt; So the
first problem here was the failed cert generation. I&amp;#8217;ll leave alone the
fact that, in my opinion, doing math on a the integer year of a date is
a high school or college programming mistake, and never should have been
made by someone doing platform coding for a major company (believe it or
not, 25% of years are leap years &amp;lt;/sarcasm&gt;). If whatever code was
generating the cert was smart enough to check the cert end date validity
and error out, that error should have been pushed up the stack to
somewhere where it could be handled - or, at least, sent to a central
log server that does error&amp;nbsp;trending.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Secure communications when provisioning need an insecure error path.&lt;/strong&gt;
This is somewhat connected to the previous point. If the normal process
of creating a new instance and communicating errors up the stack relies
on certs and authentication or encryption, there should be some method
of communicating errors with &lt;em&gt;that&lt;/em&gt; process either up the stack, or to a
separate event correlation/trending system. Errors with a
certificate-based system are not unusual, and even something as simple
as a vastly incorrect time set on the guests could have caused this same
problem. In environments where management/control communication between
levels of a system are encrypted or authenticated, there should be some
way for lower levels of the system to deliver a meaningful error message
&amp;#8220;somewhere&amp;#8221;. Even if this is just a syslog server or web service that
listens for errors and can escalate a warning when the numbers spike,
it&amp;#8217;s a useful alarm and debugging&amp;nbsp;tool.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Autonomous systems shouldn&amp;#8217;t lightly assume hardware failures.&lt;/strong&gt; It&amp;#8217;s
arrogance for a host system to assume that just because it can&amp;#8217;t
instantiate new guests, a hardware failure exists. This entire incident
is a perfect example that, at least if hardware error indicators are
properly monitored, it&amp;#8217;s more likely for a software problem to be
falsely identified as a hardware problem than the other way around. All
of my points are somewhat related, but I can think of many more reasons
why a new guest can&amp;#8217;t be instantiated that are software-related rather
than&amp;nbsp;hardware-related.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Autonomous control mechanisms need historical trending, and need to
call for help if this looks wrong.&lt;/strong&gt; These host systems tried to
instantiate new guests three times, waiting 25 minutes in between, and
then declared themselves bad and tried to migrate guests to other hosts.
From what I understand, Microsoft got it right in having a &amp;#8220;kill switch&amp;#8221;
that prevented further migration of guests. What they didn&amp;#8217;t have right
was reporting of autonomous actions (guest migration) to a central
location that performs trending. The 25 minute timeout with three
attempts is a great safety feature, but if the status of guest creation
actions was reported to a central server, it would have been much more
quickly apparent that 100% of guest creations in the past, say, 10
minutes, had failed - across all clusters. I know plenty of shops that
do little, if any, real-time analysis and historical comparisons of
their log data. But when systems are designed to perform self-healing
and autonomous actions, it&amp;#8217;s imperative that these actions are tracked
in near-real-time, compared to historical averages, and that deviation
from a baseline is identified and escalated to&amp;nbsp;humans.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Release procedures are more, not less, important when the sky is
falling.&lt;/strong&gt; The extended downtime of the last seven clusters was because
of an improperly &lt;span class="caps"&gt;QA&lt;/span&gt;&amp;#8217;ed update that was pushed out bypassing the normal
release and testing procedures. As a matter of fact, it was so poorly
&lt;span class="caps"&gt;QA&lt;/span&gt;&amp;#8217;ed that the update totally broke networking for the guest VMs, and
was still pushed out. I&amp;#8217;m sure this was more of a management/executive
decision than one made by the actual engineers, but organizations (even
management) need to understand that when the sky is falling, services
are down, and everybody is stressed, it&amp;#8217;s &lt;em&gt;more&lt;/em&gt; likely for mistakes and
oversights to happen, and this is when a proper, well-documented &lt;span class="caps"&gt;QA&lt;/span&gt; and
release procedure (including phased rollout) is &lt;em&gt;most&lt;/em&gt; important.
Failure to follow these procedures results in exactly what happened in
this case - making an already bad problem much&amp;nbsp;worse.&lt;/p&gt;
&lt;p&gt;Even &lt;em&gt;I&lt;/em&gt; can&amp;#8217;t blame Microsoft specifically for all this (though the
whole thing would have been avoided if they just represented timestamps
as integers like the rest of us&amp;#8230;), but it is a good opportunity for us
all to learn from a major incident at a &amp;#8220;pretty well known&amp;#8221;&amp;nbsp;company.&lt;/p&gt;
&lt;p&gt;release procedures are most important when things are already going&amp;nbsp;wrong&lt;/p&gt;</summary><category term="azure"></category><category term="microsoft"></category><category term="outage"></category><category term="release"></category><category term="testing"></category><category term="windows"></category></entry><entry><title>Some Thoughts on Choosing a New Wordpress Theme</title><link href="http://blog.jasonantman.com/2012/03/some-thoughts-on-choosing-a-new-wordpress-theme/" rel="alternate"></link><updated>2012-03-17T11:48:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-03-17:2012/03/some-thoughts-on-choosing-a-new-wordpress-theme/</id><summary type="html">&lt;p&gt;I think I&amp;#8217;m going to choose a new theme for my blog. The current theme
is &lt;a href="http://wordpress.org/extend/themes/inove"&gt;iNove&lt;/a&gt; (albeit an older
version with some custom modifications), and I feel like it looks a bit
messy and has gotten a bit cluttered, so it&amp;#8217;s time to find something
new. I like the 2-column layout, and have a few other things I&amp;#8217;m looking
for - specifically, aside from something with advanced features like
lots of widget support and hooks, something that has good visual
separation between different posts and widgets. I also really want
something, if possible, with relative column widths. My current home and
work desktops both have dual monitors, and the minimum resolution I have
on one screen is 1920x1080. When I look at my blog in a maximized
window, about half the screen width is wasted with empty space. So,
ideally, I&amp;#8217;d like a theme that&amp;#8217;s based on relative widths, probably with
a &amp;#8220;min-width&amp;#8221; property so it wouldn&amp;#8217;t get compressed to an absurdly
narrow width on small&amp;nbsp;screens.&lt;/p&gt;
&lt;p&gt;I use &lt;a href="http://www.google.com/analytics/"&gt;Google Analytics&lt;/a&gt; (as noted in
the &lt;a href="/privacy-policy/"&gt;privacy policy&lt;/a&gt;) for visitor statistics on this
blog (more about that in a moment). So, I took a peek at the breakdown
of visitors by screen resolution, and saw that for the past year, 94% of
the 27,500 visits had a screen width of 1024px or more (and the majority
of the others looked like mobile device resolutions, so they&amp;#8217;d probably
zoom the page correctly). So, my first gut reaction was to assume that I
could use a theme approximately 1000px wide. Unfortunately, there&amp;#8217;s two
main problems with that: first, as mentioned by &lt;a href="http://css-tricks.com/screen-resolution-notequalto-browser-window/"&gt;Chris Coyier on
&lt;span class="caps"&gt;CSS&lt;/span&gt;-Tricks.com&lt;/a&gt;,
just because someone has a given screen resolution doesn&amp;#8217;t mean their
browser window (let alone the viewport) is that size. As a matter of
fact, I usually have my main browser window set at about 80% of the
width of one of my monitors, with my instant messaging client
&lt;a href="http://pidgin.im/"&gt;Pidgin&lt;/a&gt; taking up the rest of the space. So there&amp;#8217;s
one inaccuracy. There&amp;#8217;s a potentially much greater inaccuracy in my
stats as well, which I&amp;#8217;m going to discuss in a &lt;a href="/2012/03/inaccuracies-in-google-analytics-for-website-stats/"&gt;separate
post&lt;/a&gt;.&lt;/p&gt;</summary><category term="analysis"></category><category term="analytics"></category><category term="blog"></category><category term="google"></category><category term="logging"></category><category term="stats"></category><category term="theme"></category><category term="wordpress"></category></entry><entry><title>Inaccuracies in Google Analytics for Website Stats</title><link href="http://blog.jasonantman.com/2012/03/inaccuracies-in-google-analytics-for-website-stats/" rel="alternate"></link><updated>2012-03-17T11:46:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-03-17:2012/03/inaccuracies-in-google-analytics-for-website-stats/</id><summary type="html">&lt;p&gt;I use Google Analytics for visitor stats on this blog. Not because I&amp;#8217;m
trying to direct-market to my readers or become Big Brother, but for a
number of simple&amp;nbsp;reasons:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;It&amp;#8217;s simple - no software for me to update, and nothing that needs
    to run on my server and read through giant log files every night.
    Google does it all for&amp;nbsp;me.&lt;/li&gt;
&lt;li&gt;It gives a lot more information than I can get from just web server&amp;nbsp;logs.&lt;/li&gt;
&lt;li&gt;Because of Google&amp;#8217;s &amp;#8220;big brother&amp;#8221; tracking, and the vast number of
    sites that they track people on, I can tell things I&amp;#8217;d have no other
    way of knowing, like how long someone stayed on my&amp;nbsp;page.&lt;/li&gt;
&lt;li&gt;They tell me &lt;em&gt;useful&lt;/em&gt; stats like which search keywords brought the
    most people to my site and which posts are the most popular, which I
    keep in mind when writing new stuff and updating older&amp;nbsp;posts.&lt;/li&gt;
&lt;li&gt;They tell me information about client operating system and browser
    version, which I think tells quite a bit about my&amp;nbsp;audience.&lt;/li&gt;
&lt;li&gt;As far as I know, they&amp;#8217;re pretty good at filtering out anything
    other than an actual human&amp;nbsp;visitor.&lt;/li&gt;
&lt;li&gt;They tell me stats that have no real use to me, but are just cook -
    like what countries my visitors are from, what type of Internet
    connection they&amp;#8217;re on, their screen resolution,&amp;nbsp;etc.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Obviously not for google, but for me, all of these stats are totally
anonymous - I just get percentages or numbers of visits, it&amp;#8217;s not like I
can see all of the details per-&lt;span class="caps"&gt;IP&lt;/span&gt; address. The most important aspect to
me is just the ease of use - I sign up and put a little snippet of code
on my pages, and I get an amazing dashboard interface with all of this
information. Nothing to install and update on my server, and (most
importantly, since I&amp;#8217;m now running everything of mine on one virtualized
server) no massive program to run as a cron job that has to read all my
server log&amp;nbsp;files.&lt;/p&gt;
&lt;p&gt;Last week I was talking with a couple of my co-workers, specifically
about the stats that I get from Google Analytics. While I know it&amp;#8217;s not
uncommon to run &lt;a href="http://noscript.net/"&gt;NoScript&lt;/a&gt; especially among the
more security- and privacy-conscious groups of people, I was a bit
disturbed to hear that they all block Google&amp;#8217;s tracking code in their
browsers via NoScript. I assume there&amp;#8217;s also a percentage of people who
still just turn off JavaScript alltogether (although I can&amp;#8217;t imagine how
they use the modern Web), and many who use the &lt;a href="http://tools.google.com/dlpage/gaoptout?hl=en"&gt;Google Analytics
Opt-Out&lt;/a&gt; feature. So,
especially with as technical an audience as I have, I guess that means
I&amp;#8217;m likely missing a large number of visitors in my stats. On one hand,
I want to respect the privacy of my visitors, and respect their desire
to opt-out of advanced tracking. On the other hand, since I no longer
parse web server logs for statistics, these privacy-conscious visitors
aren&amp;#8217;t even showing up in what I think of as my monthly visit count, or
in my information on what posts and search keywords are most popular,
which I only use for &amp;#8220;good&amp;#8221; purposes - to make my blog more useful. So
that&amp;#8217;s a bit of a&amp;nbsp;conundrum.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ll admit that I do run &lt;a href="https://www.google.com/adsense/"&gt;Google AdSense
Ads&lt;/a&gt; on my blog, and I&amp;#8217;m sure there are
some people who block the ads. On one hand, that upsets me a bit; I run
this blog to try and share information that I find or learn with others,
and the hosting costs aren&amp;#8217;t insignificant. If I can get paid to just
show some ads, to try and help offset the cost of running the site, I
think that&amp;#8217;s good. And if other people can help support the site by just
letting the ads stay on the page, why not? On the other hand, my hosting
costs $50/month (granted the server also handles all of my email, and a
&lt;em&gt;whole bunch&lt;/em&gt; of other sites). I&amp;#8217;ve been participating in Google AdSense
since March 5, 2010 (two years and two weeks), and my &amp;#8220;estimated
earnings&amp;#8221; are currently $80. The payout is in $100 increments. So, I
haven&amp;#8217;t seen a cent from it in two years, so I&amp;#8217;ve given up being
concerned with it. If you want to be nice, and find my posts
interesting, click on one of the ads. Unfortunately, unless I get
famous, the ads aren&amp;#8217;t going to come close to offsetting even part of
the cost of running the&amp;nbsp;site.&lt;/p&gt;
&lt;p&gt;Google itself
&lt;a href="http://support.google.com/googleanalytics/bin/answer.py?hl=en&amp;amp;answer=55610"&gt;says&lt;/a&gt;,
&amp;#8220;In order for Google Analytics to record a visit, the visitor must have
JavaScript, images, and cookies enabled for your website.&amp;#8221; There seems
to be some buzz about this on the &amp;#8216;net, and I&amp;#8217;ve seen
&lt;a href="http://garmahis.com/tips/google-analytics/#use-Google-Analytics-without-JavaScript"&gt;a&lt;/a&gt;
&lt;a href="http://djangosnippets.org/snippets/2338/"&gt;number&lt;/a&gt;
&lt;a href="http://translate.google.com/translate?hl=en&amp;amp;sl=nl&amp;amp;u=http://andrescholten.nl/google-analytics-zonder-javascript/"&gt;of&lt;/a&gt;
(translated; &lt;a href="http://andrescholten.nl/google-analytics-zonder-javascript/"&gt;original post in
Dutch&lt;/a&gt;)
posts advocating building a request to a Google Analytics &lt;span class="caps"&gt;GIF&lt;/span&gt; manually
on the server side, and then including it as an image element inside a
&lt;code&gt;&amp;lt;noscript&amp;gt;&lt;/code&gt; tag in the page. While this is probably one of the nicer
solutions (and much more likely to reduce double-counting), it doesn&amp;#8217;t
capture any of the advanced data (screen resolution, etc.) that
JavaScript-based Analytics does, and more importantly, I imagine that
many of the Ad blocking extensions also block traffic to
google-analytics.com, so this is an incremental improvement at best.
There are also
&lt;a href="http://www.vdgraaf.info/google-analytics-without-javascript.html"&gt;quite&lt;/a&gt;
&lt;a href="http://blog.datalicious.com/google-analytics-without-javascript-rss-xml-e"&gt;a&lt;/a&gt;
&lt;a href="http://blogs.walkerart.org/newmedia/2009/11/12/building-walkers-mobile-site-google-analytics-without-javascript-pt2/"&gt;few&lt;/a&gt;
posts about how to make a request to Analytics purely server-side. This
has a few disadvantages as well; it bypasses the google domain
blacklisting problem that the client-side image has, but it also means
you lose the client &lt;span class="caps"&gt;IP&lt;/span&gt; address (and therefore geolocation), and that you
double-track any user who allows javascript (so you need a separate
profile, and then need to average out the results). It also means that
you track every search engine and bot that crawls your site, and
possibly every person who clicks a link and then hits &amp;#8220;back&amp;#8221; before the
page finishes loading. I found another blogger who &lt;a href="http://www.realityburst.com/battle-of-the-inaccuracies-how-accurate-is-google-analyticsawstatsstatpress"&gt;commented
about&lt;/a&gt;
the wide disparity he saw between Google Analytics, the
&lt;a href="http://wordpress.org/extend/plugins/statpress/"&gt;StatsPress&lt;/a&gt; WordPress
plugin, and &lt;a href="http://awstats.sourceforge.net/"&gt;AWstats&lt;/a&gt; (a server-side
log file&amp;nbsp;analyzer).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;So what&amp;#8217;s the&amp;nbsp;solution?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Most of the options have a down side, but I&amp;#8217;m looking for something
that&amp;#8217;s the best I can reasonably do. As much as I&amp;#8217;d rather not, I&amp;#8217;m
going to look into self-hosted alternatives to Google Analytics (a
self-hosted JavaScript-based stats provider), in the hopes that NoScript
users will be more friendly to scripts coming from my own domain, and
sending requests to my own domain, than ones from Google or other major
trackers. I don&amp;#8217;t think I want to try anything that parses web server
logs as a primary approach, as I don&amp;#8217;t think I could ever get a
meaningful comparison to Google Analytics or something else&amp;nbsp;JavaScript-based.&lt;/p&gt;
&lt;p&gt;I did have one other idea which I think is interesting, though a bit of
an overhead. I could have Apache (or, more likely, a Perl script called
in the Apache configuration) generate a random string for each request,
and save it in an Apache environment variable. The environment variable
would then be added to a field in the server logs, and also added (via
&lt;span class="caps"&gt;PHP&lt;/span&gt; or whatever else generates the pages server-side) as a custom
parameter for the &lt;span class="caps"&gt;JS&lt;/span&gt; tracking code, enabling page hits to be correlated
between the &lt;span class="caps"&gt;JS&lt;/span&gt; tracking and the server logs. Assuming the &lt;span class="caps"&gt;JS&lt;/span&gt; tacking
backend stores its data in a sane format (and as raw data, not just
aggregated), and at the cost of a serious performance penalty, a
server-side statistics program like
&lt;a href="http://awstats.sourceforge.net/"&gt;AWstats&lt;/a&gt; or
&lt;a href="http://www.webalizer.org/"&gt;Webalizer&lt;/a&gt; could be patched to lookup the
unique identifier in the &lt;span class="caps"&gt;JS&lt;/span&gt; stats data store, and ignore all hits which
were tracked that&amp;nbsp;way.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m going to start by looking into self-hosted open source alternatives
to Google Analytics, which I&amp;#8217;ll post about sometime hopefully&amp;nbsp;soon.&lt;/p&gt;</summary><category term="analytics"></category><category term="google"></category><category term="logging"></category><category term="statistics"></category><category term="stats"></category></entry><entry><title>World of Warcraft Realm Status Check Plugin for Nagios</title><link href="http://blog.jasonantman.com/2012/03/world-of-warcraft-realm-status-check-plugin-for-nagios/" rel="alternate"></link><updated>2012-03-16T07:40:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-03-16:2012/03/world-of-warcraft-realm-status-check-plugin-for-nagios/</id><summary type="html">&lt;p&gt;My wife &lt;a href="http://www.jackieantman.com/"&gt;Jackie&lt;/a&gt;
(&lt;a href="http://us.battle.net/wow/en/character/Arthas/Syrilia/simple"&gt;Syrilia&lt;/a&gt;)
is an avid &lt;a href="http://en.wikipedia.org/wiki/World_of_Warcraft"&gt;World of
Warcraft&lt;/a&gt; player (it&amp;#8217;s a
&lt;a href="http://en.wikipedia.org/wiki/Massively_multiplayer_online_role-playing_game"&gt;&lt;span class="caps"&gt;MMORPG&lt;/span&gt;&lt;/a&gt;
with over 10 million players). They have weekly server
maintenance/update windows every Tuesday morning - total downtime. The
length is never really fixed, so I looked around to see if there was a
logical way to notify when the servers came back&amp;nbsp;up.&lt;/p&gt;
&lt;p&gt;I managed to find a &lt;a href="http://exchange.nagios.org/directory/Plugins/Games/World-of-Warcraft-Realm-status/details"&gt;World of Warcraft Realm status check
plugin&lt;/a&gt;
on Nagios Exchange, but it was written to a now-discontinued &lt;span class="caps"&gt;API&lt;/span&gt;. It was
also last modified in 2008, and I can&amp;#8217;t seem to get in contact with the
author, Scott A&amp;#8217;Hearn (webmaster@scottahearn.com) - that email returns
undeliverable, there&amp;#8217;s no email link on the site that his domain now
redirects to, and the domain scottahearn.com is a (eek) private
registration in &lt;span class="caps"&gt;WHOIS&lt;/span&gt;, so I don&amp;#8217;t really have any way of finding contact
information. Regardless, I&amp;#8217;ve modified the script to use the &lt;a href="http://blizzard.github.com/api-wow-docs/#id3381933"&gt;new
Blizzard &lt;span class="caps"&gt;REST&lt;/span&gt; &lt;span class="caps"&gt;API&lt;/span&gt;&lt;/a&gt;
and it&amp;#8217;s now working. Of course, this is pulling from Blizzard&amp;#8217;s data
feed, not doing any actual monitoring itself, and be warned that they
impose query limits (at the moment, their
&lt;a href="http://blizzard.github.com/api-wow-docs/#id3379836"&gt;docs&lt;/a&gt; say 3,000
requests per day for anonymous access; to be nice to them, I only check
on Tuesdays from 3am-4pm, when I&amp;#8217;m most concerned about it). The updated
source code is shown below, but the most up-to-date version will always
live&amp;nbsp;at  &lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/jantman/nagios-scripts/blob/master/check_wow.pl"&gt;https://github.com/jantman/nagios-scripts/blob/master/check_wow.pl&lt;/a&gt;.
If you want, you can also see a diff of my changes to Scott&amp;#8217;s original
version on
&lt;a href="https://github.com/jantman/nagios-scripts/commit/f84eede5256aa6621812e91f0b3b73e91f3b11e8#check_wow.pl"&gt;github&lt;/a&gt;.&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="c1"&gt;#!/usr/bin/perl -w&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# World of Warcraft Realm detector plugin for Nagios&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# Written by Scott A&amp;#39;Hearn (webmaster@scottahearn.com), version 1.2, Last Modified: 07-21-2008&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# Modified by Jason Antman  02-22-2012, to cope with the change from&lt;/span&gt;
&lt;span class="c1"&gt;# the deprecated worldofwarcraft.com &lt;span class="caps"&gt;XML&lt;/span&gt; feed to the BattleNet &lt;span class="caps"&gt;JSON&lt;/span&gt; &lt;span class="caps"&gt;API&lt;/span&gt;.&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# Usage: ./check_wow -r &lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# Description:&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# This plugin will check the status of a World of Warcraft realm, based &lt;/span&gt;
&lt;span class="c1"&gt;# on input from the battle.net &lt;span class="caps"&gt;JSON&lt;/span&gt; realm status &lt;span class="caps"&gt;API&lt;/span&gt;.&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# Output:&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# If the realm is up, the plugin will&lt;/span&gt;
&lt;span class="c1"&gt;# return an &lt;span class="caps"&gt;OK&lt;/span&gt; state with a message containing the status of the realm as well &lt;/span&gt;
&lt;span class="c1"&gt;# as some extended information such as type (PvP, PvE, etc) and population.  &lt;/span&gt;
&lt;span class="c1"&gt;# If the realm is down, the plugin will return a &lt;span class="caps"&gt;CRITICAL&lt;/span&gt; state with a message&lt;/span&gt;
&lt;span class="c1"&gt;# containing the status of the realm as well as any available extended &lt;/span&gt;
&lt;span class="c1"&gt;# information such as type (PvP, PvE, etc) and population. If the realm is&lt;/span&gt;
&lt;span class="c1"&gt;# shown as currently having a queue, a &lt;span class="caps"&gt;WARNING&lt;/span&gt; state will be returned.&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# If the requested realm is not found, the plugin will&lt;/span&gt;
&lt;span class="c1"&gt;# return an &lt;span class="caps"&gt;UNKNOWN&lt;/span&gt; state with an appropriate warning message.&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# If there is an invalid [or no] response from the battle.net server,&lt;/span&gt;
&lt;span class="c1"&gt;# the plugin will return a &lt;span class="caps"&gt;CRITICAL&lt;/span&gt; state.&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# $HeadURL: http://svn.jasonantman.com/public-nagios/check_wow.pl $&lt;/span&gt;
&lt;span class="c1"&gt;# $LastChangedRevision: 13 $&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# Changelog:&lt;/span&gt;
&lt;span class="c1"&gt;# 2012-02-22 Jason Antman  (version 1.3):&lt;/span&gt;
&lt;span class="c1"&gt;#     * modified for new BattleNet &lt;span class="caps"&gt;JSON&lt;/span&gt; &lt;span class="caps"&gt;API&lt;/span&gt;&lt;/span&gt;
&lt;span class="c1"&gt;#     * added &lt;span class="caps"&gt;WARNING&lt;/span&gt; output if realm has queue&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# 2008-07-21 Scott A&amp;#39;Hearn  (version 1.2):&lt;/span&gt;
&lt;span class="c1"&gt;#     * version on Nagios Exchange&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;

&lt;span class="c1"&gt;# use modules&lt;/span&gt;
&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="n"&gt;strict&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;             &lt;span class="c1"&gt;# good coding practices&lt;/span&gt;
&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="nn"&gt;Getopt::&lt;/span&gt;&lt;span class="n"&gt;Long&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;           &lt;span class="c1"&gt;# command-line option parsing&lt;/span&gt;
&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="n"&gt;&lt;span class="caps"&gt;LWP&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;                &lt;span class="c1"&gt;# external content retrieval&lt;/span&gt;
&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="n"&gt;&lt;span class="caps"&gt;JSON&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;                               &lt;span class="c1"&gt;# &lt;span class="caps"&gt;JSON&lt;/span&gt; for &lt;span class="caps"&gt;API&lt;/span&gt; reply&lt;/span&gt;
&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="n"&gt;lib&lt;/span&gt;  &lt;span class="s"&gt;&amp;quot;/usr/lib/nagios/plugins&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="c1"&gt;# nagios plugins&lt;/span&gt;
&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="n"&gt;utils&lt;/span&gt; &lt;span class="sx"&gt;qw(%&lt;span class="caps"&gt;ERRORS&lt;/span&gt; &amp;amp;print_revision &amp;amp;support &amp;amp;usage )&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="c1"&gt;# nagios error and message libraries&lt;/span&gt;
&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="nn"&gt;Data::&lt;/span&gt;&lt;span class="n"&gt;Dumper&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;                       &lt;span class="c1"&gt;# debugging&lt;/span&gt;

&lt;span class="c1"&gt;# init global vars&lt;/span&gt;
&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="n"&gt;vars&lt;/span&gt; &lt;span class="sx"&gt;qw($&lt;span class="caps"&gt;PROGNAME&lt;/span&gt;)&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="nv"&gt;$&lt;span class="caps"&gt;PROGNAME&lt;/span&gt;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;check_wow&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$ver_string&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$browser&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$jsonurl&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$raw_json&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$opt_V&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$opt_h&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$opt_r&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$decoded&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;undef&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;undef&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;undef&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;undef&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;undef&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;undef&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;undef&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;undef&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="nv"&gt;$jsonurl&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;http://us.battle.net/api/wow/realm/status?realm=&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="nv"&gt;$ver_string&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;1.3&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="c1"&gt;# init subs&lt;/span&gt;
&lt;span class="k"&gt;sub &lt;/span&gt;&lt;span class="nf"&gt;print_help&lt;/span&gt; &lt;span class="p"&gt;($$);&lt;/span&gt;
&lt;span class="p"&gt;sub print_usage ($);&lt;/span&gt;

&lt;span class="p"&gt;# define command-line option handling&lt;/span&gt;
&lt;span class="p"&gt;Getopt::Long::Configure(&amp;#39;bundling&amp;#39;);&lt;/span&gt;
&lt;span class="p"&gt;GetOptions(&lt;/span&gt;
&lt;span class="p"&gt;    &amp;quot;V&amp;quot;   =&amp;gt; \$opt_V, &amp;quot;version&amp;quot; =&amp;gt; \$opt_V,&lt;/span&gt;
&lt;span class="p"&gt;    &amp;quot;h&amp;quot;   =&amp;gt; \$opt_h, &amp;quot;help&amp;quot;    =&amp;gt; \$opt_h,&lt;/span&gt;
&lt;span class="p"&gt;    &amp;quot;r=s&amp;quot; =&amp;gt; \$opt_r, &amp;quot;realm=s&amp;quot; =&amp;gt; \$opt_r);&lt;/span&gt;

&lt;span class="p"&gt;# show version info, exit&lt;/span&gt;
&lt;span class="p"&gt;if ($opt_V) {&lt;/span&gt;
    &lt;span class="n"&gt;print_revision&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$&lt;span class="caps"&gt;PROGNAME&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$ver_string&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="nb"&gt;exit&lt;/span&gt; &lt;span class="nv"&gt;$&lt;span class="caps"&gt;ERRORS&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&lt;span class="caps"&gt;OK&lt;/span&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="c1"&gt;# show help, exit&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$opt_h&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;print_help&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$&lt;span class="caps"&gt;PROGNAME&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$ver_string&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="nb"&gt;exit&lt;/span&gt; &lt;span class="nv"&gt;$&lt;span class="caps"&gt;ERRORS&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&lt;span class="caps"&gt;OK&lt;/span&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="c1"&gt;# get first command-line param&lt;/span&gt;
&lt;span class="nv"&gt;$opt_r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;shift&lt;/span&gt; &lt;span class="k"&gt;unless&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$opt_r&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="c1"&gt;# if no command-line param passed, show usage/help, exit&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="nv"&gt;$opt_r&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;print_usage&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$&lt;span class="caps"&gt;PROGNAME&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="nb"&gt;exit&lt;/span&gt; &lt;span class="nv"&gt;$&lt;span class="caps"&gt;ERRORS&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&lt;span class="caps"&gt;UNKNOWN&lt;/span&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="c1"&gt;# new browser object, with agent&lt;/span&gt;
&lt;span class="nv"&gt;$browser&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nn"&gt;&lt;span class="caps"&gt;LWP&lt;/span&gt;::&lt;/span&gt;&lt;span class="n"&gt;UserAgent&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="nv"&gt;$browser&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;agent&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;check_wow/$ver_string&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="c1"&gt;# retrieve &lt;span class="caps"&gt;JSON&lt;/span&gt; from WoW site&lt;/span&gt;
&lt;span class="nv"&gt;$jsonurl&lt;/span&gt; &lt;span class="o"&gt;.=&lt;/span&gt; &lt;span class="nv"&gt;$opt_r&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="nv"&gt;$raw_json&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$browser&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nn"&gt;&lt;span class="caps"&gt;HTTP&lt;/span&gt;::&lt;/span&gt;&lt;span class="n"&gt;Request&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;&lt;span class="caps"&gt;GET&lt;/span&gt;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="nv"&gt;$jsonurl&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$raw_json&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;is_success&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;# if success, process&lt;/span&gt;
    &lt;span class="nv"&gt;$raw_json&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$raw_json&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;# otherwise, fail &lt;span class="caps"&gt;UNKNOWN&lt;/span&gt;&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&lt;span class="caps"&gt;UNKNOWN&lt;/span&gt; - Realm &amp;#39;$opt_r&amp;#39; status not received.&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="nb"&gt;exit&lt;/span&gt; &lt;span class="nv"&gt;$&lt;span class="caps"&gt;ERRORS&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&lt;span class="caps"&gt;UNKNOWN&lt;/span&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="nv"&gt;$decoded&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;decode_json&lt;/span&gt; &lt;span class="nv"&gt;$raw_json&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$decoded&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;realms&lt;/span&gt;&lt;span class="p"&gt;}[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&lt;span class="caps"&gt;CRITICAL&lt;/span&gt; - Realm &amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$decoded&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;realms&lt;/span&gt;&lt;span class="p"&gt;}[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s"&gt;&amp;quot; Down (&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$decoded&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;realms&lt;/span&gt;&lt;span class="p"&gt;}[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;type&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;, population: &amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$decoded&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;realms&lt;/span&gt;&lt;span class="p"&gt;}[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;population&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;)\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="nb"&gt;exit&lt;/span&gt; &lt;span class="nv"&gt;$&lt;span class="caps"&gt;ERRORS&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&lt;span class="caps"&gt;CRITICAL&lt;/span&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="k"&gt;elsif&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$decoded&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;realms&lt;/span&gt;&lt;span class="p"&gt;}[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;queue&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&lt;span class="caps"&gt;WARNING&lt;/span&gt; - Realm &amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$decoded&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;realms&lt;/span&gt;&lt;span class="p"&gt;}[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s"&gt;&amp;quot; Has Queue (&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$decoded&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;realms&lt;/span&gt;&lt;span class="p"&gt;}[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;type&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;, population: &amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$decoded&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;realms&lt;/span&gt;&lt;span class="p"&gt;}[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;population&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;)\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="nb"&gt;exit&lt;/span&gt; &lt;span class="nv"&gt;$&lt;span class="caps"&gt;ERRORS&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&lt;span class="caps"&gt;WARNING&lt;/span&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&lt;span class="caps"&gt;OK&lt;/span&gt; - Realm &amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$decoded&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;realms&lt;/span&gt;&lt;span class="p"&gt;}[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s"&gt;&amp;quot; Up (&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$decoded&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;realms&lt;/span&gt;&lt;span class="p"&gt;}[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;type&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;, population: &amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$decoded&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;realms&lt;/span&gt;&lt;span class="p"&gt;}[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;population&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;)\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="nb"&gt;exit&lt;/span&gt; &lt;span class="nv"&gt;$&lt;span class="caps"&gt;ERRORS&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&lt;span class="caps"&gt;OK&lt;/span&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="c1"&gt;# usage function&lt;/span&gt;
&lt;span class="k"&gt;sub &lt;/span&gt;&lt;span class="nf"&gt;print_usage&lt;/span&gt; &lt;span class="p"&gt;($)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$&lt;span class="caps"&gt;PROGNAME&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;@_&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Usage:\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;  $&lt;span class="caps"&gt;PROGNAME&lt;/span&gt; [-r | --realm ]\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;  $&lt;span class="caps"&gt;PROGNAME&lt;/span&gt; [-h | --help]\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;  $&lt;span class="caps"&gt;PROGNAME&lt;/span&gt; [-V | --version]\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="c1"&gt;# help function&lt;/span&gt;
&lt;span class="k"&gt;sub &lt;/span&gt;&lt;span class="nf"&gt;print_help&lt;/span&gt; &lt;span class="p"&gt;($$)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$&lt;span class="caps"&gt;PROGNAME&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$ver_string&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;@_&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;print_revision&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$&lt;span class="caps"&gt;PROGNAME&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$ver_string&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Copyright (c) 2008 Scott A&amp;#39;Hearn, 2012 Jason Antman\n\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;print_usage&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$&lt;span class="caps"&gt;PROGNAME&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;   Standard World of Warcraft realm name, case sensitive.\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="c1"&gt;# support();&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="c1"&gt;# end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="blizzard"></category><category term="check plugin"></category><category term="monitoring"></category><category term="Nagios"></category><category term="warcraft"></category><category term="wow"></category></entry><entry><title>MediaWiki - Preformatted Text within Lists</title><link href="http://blog.jasonantman.com/2012/03/mediawiki-preformatted-text-within-lists/" rel="alternate"></link><updated>2012-03-15T18:10:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-03-15:2012/03/mediawiki-preformatted-text-within-lists/</id><summary type="html">&lt;p&gt;As I discovered this morning, with &lt;a href="http://www.mediawiki.org"&gt;MediaWiki&lt;/a&gt;
1.5.7+, if you attempt to put a &lt;code&gt;&amp;lt;pre&amp;gt;&lt;/code&gt; wraped block of code within a
numbered list, the indentation breaks and the numbering starts over
after the &lt;code&gt;&amp;lt;pre&amp;gt;&lt;/code&gt; block. This was pretty annoying, as I was trying to
document a procedure including the commands to be run and their
explanation. It took a few minutes, but I found the solution in the
&lt;a href="http://meta.wikimedia.org/wiki/Help:Editing_FAQ#Q:_Can_I_put_preformatted_text_inside_a_numbered_list.3F"&gt;wikimedia Help:Editing
&lt;span class="caps"&gt;FAQ&lt;/span&gt;&lt;/a&gt;
page, thanks to &lt;a href="http://meta.wikimedia.org/wiki/User:Rompe"&gt;Ulf Rompe&lt;/a&gt;:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;# one
# two
#:
#:here are a couple lines
#:of preformatted text
#:
# and the numbering
# continues
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The code lines are indented a bit more than what looks right, but it&amp;nbsp;works.&lt;/p&gt;</summary><category term="formatting"></category><category term="mediawiki"></category><category term="wiki"></category></entry><entry><title>Meld - Graphical Diff Tool for SVN Directories</title><link href="http://blog.jasonantman.com/2012/03/meld-graphical-diff-tool-for-svn-directories/" rel="alternate"></link><updated>2012-03-12T09:48:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-03-12:2012/03/meld-graphical-diff-tool-for-svn-directories/</id><summary type="html">&lt;p&gt;I&amp;#8217;ve been in the process of manually merging two directories in a
subversion repo. The second started out as a &amp;#8220;development&amp;#8221; copy of the
first (without branching, unfortunately). Since there&amp;#8217;s quite a few
files, I decided that a graphical diff program is a must. I usually use
&lt;a href="http://kdiff3.sourceforge.net"&gt;kdiff3&lt;/a&gt;, but my requirements for this
are a bit more stringent than usual: it has to handle recursive diffs on
two directories, and it has to be able to ignore &lt;span class="caps"&gt;SVN&lt;/span&gt; keywords (or an
arbitrary regex) since all of the files have keyword substitution on
LastChangedRevision and HeadURL. Kdiff3 supports &lt;a href="http://kdiff3.sourceforge.net/doc/preprocessors.html"&gt;preprocessor
commands&lt;/a&gt; which
can include filtering the text through sed before performing the diff
(so I modified their regex to ignore version control keywords), but for
some reason (perhaps either bimary differences, or metadata differences)
I couldn&amp;#8217;t get the file difference indicator in the diretory tree view
to reflect this; even when ignoring keyword lines and whitespace, it
still showed every pair of files as&amp;nbsp;different.&lt;/p&gt;
&lt;p&gt;Enter &lt;a href="http://meldmerge.org/"&gt;Meld&lt;/a&gt;, a graphical diff project. I&amp;#8217;ve only
used it for half an hour or so, but it seems wonderful. It&amp;#8217;s easy to
use, has a pleasing interface similar to
&lt;a href="http://www.caffeinated.me.uk/kompare/"&gt;Kompare&lt;/a&gt;, and even has simple
check boxes in the options menu to ignore whitespace and &lt;span class="caps"&gt;SVN&lt;/span&gt; keywords -
and they work! So far, I&amp;#8217;m about half way through my 300+ file tree, and
the merge is going&amp;nbsp;wonderfully.&lt;/p&gt;</summary><category term="diff"></category><category term="kde"></category><category term="kdiff"></category><category term="meld"></category><category term="merge"></category><category term="subversion"></category><category term="svn"></category></entry><entry><title>Using VirtualBox Remotely</title><link href="http://blog.jasonantman.com/2012/03/using-virtualbox-remotely/" rel="alternate"></link><updated>2012-03-09T12:00:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-03-09:2012/03/using-virtualbox-remotely/</id><summary type="html">&lt;p&gt;At work, I have a pretty beefy workstation (a Dell OptiPlex 990 with a
3.4GHz Intel Core i7-2600 and &lt;span class="caps"&gt;8GB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt; running Fedora 16) that I usually
run a few VMs on as my test/development environment. I usually reboot my
machine every other week or so, and start VirtualBox and my VMs once the
system boots. All of the VMs are Linux boxes, running test-only, so I
never really cared about &lt;span class="caps"&gt;RDP&lt;/span&gt; or anything like that. Today I&amp;#8217;m working
from home and need to setup a new development environment, so here&amp;#8217;s how
to get VirtualBox working nicely assuming you&amp;#8217;ve never set it up for
&lt;span class="caps"&gt;VRDP&lt;/span&gt; (its Virtual Remote Desktop Protocol) before, and have a network
connection (&lt;span class="caps"&gt;LAN&lt;/span&gt; or &lt;span class="caps"&gt;VPN&lt;/span&gt; or something) to the machine running VirtualBox.
I currently have VirtualBox &lt;span class="caps"&gt;OSE&lt;/span&gt; 4.1.8 installed from
&lt;a href="http://nonfree.rpmfusion.org/"&gt;rpmfusion&lt;/a&gt; &lt;span class="caps"&gt;RPM&lt;/span&gt;. Most of this can be
found in &lt;a href="http://www.virtualbox.org/manual/ch07.html"&gt;Chapter 7 of the VirtualBox
manual&lt;/a&gt;, but here&amp;#8217;s a
step-by-step&amp;nbsp;method.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;First, download the Oracle (non-free) Oracle VirtualBox &lt;span class="caps"&gt;VM&lt;/span&gt; Extension
Pack tarball from the &lt;a href="https://www.virtualbox.org/wiki/Downloads"&gt;VirtualBox Downloads
Page&lt;/a&gt;, which provides &lt;span class="caps"&gt;VRDP&lt;/span&gt;
support (as well as support for the virtual &lt;span class="caps"&gt;USB&lt;/span&gt; 2.0 device, Intel &lt;span class="caps"&gt;PXE&lt;/span&gt;
Boot &lt;span class="caps"&gt;ROM&lt;/span&gt; support for the E1000 &lt;span class="caps"&gt;NIC&lt;/span&gt; driver, and experimental Linux host
&lt;span class="caps"&gt;PCI&lt;/span&gt; passthrough suport). Then install it&amp;nbsp;using:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;sudo VBoxManage extpack install Oracle_VM_VirtualBox_Extension_Pack-4.1.8-75467.vbox-extpack
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Assuming you have an existing &lt;span class="caps"&gt;VM&lt;/span&gt; (you can list them using &lt;code&gt;VBoxManage list vms&lt;/code&gt;), enable &lt;span class="caps"&gt;VRDP&lt;/span&gt; support on&amp;nbsp;it:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;VBoxManage modifyvm &amp;quot;VM name&amp;quot; --vrde on
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;I like to assign specific ports to &lt;span class="caps"&gt;VRDP&lt;/span&gt; on each &lt;span class="caps"&gt;VM&lt;/span&gt; so I can &amp;#8220;bookmark&amp;#8221;
them in my &lt;a href="http://kde.org/applications/internet/krdc/"&gt;&lt;span class="caps"&gt;KRDC&lt;/span&gt;&lt;/a&gt; client by
&lt;span class="caps"&gt;VM&lt;/span&gt; name. I generally start with 10011, as the 10011-10049 range is both
unassigned and doesn&amp;#8217;t appear in my &lt;code&gt;/etc/services&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;VBoxManage modifyvm &amp;quot;VM name&amp;quot; --vrdeport 10011
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Start the &lt;span class="caps"&gt;VM&lt;/span&gt;, using VBoxHeadless (shows more debugging/errors, but also
stays in the foreground, so you&amp;#8217;ll want to use
&lt;a href="http://www.gnu.org/software/screen/"&gt;screen&lt;/a&gt; or something like&amp;nbsp;it):&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;VBoxHeadless --startvm &amp;quot;VM name&amp;quot;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;If all went well, it should show some output including a confirmation
that the &lt;span class="caps"&gt;VRDE&lt;/span&gt; server is running on the correct&amp;nbsp;port:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;Oracle VM VirtualBox Headless Interface 4.1.8_OSE
(C) 2008-2012 Oracle Corporation
All rights reserved.

VRDE server is listening on port 3389.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;That&amp;#8217;s it. Assuming you&amp;#8217;re using something like
&lt;a href="http://www.gnu.org/software/screen/"&gt;screen&lt;/a&gt;, you can start a whole
bunch of new VMs, and still keep the VBoxHeadless output in case of an&amp;nbsp;error.&lt;/p&gt;</summary><category term="rdp"></category><category term="virtualbox"></category><category term="virtualization"></category><category term="vm"></category></entry><entry><title>Nagios Check Plugin for Linode Monthly Bandwidth Usage</title><link href="http://blog.jasonantman.com/2012/02/nagios-check-plugin-for-linode-monthly-bandwidth-usage/" rel="alternate"></link><updated>2012-02-29T20:32:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-02-29:2012/02/nagios-check-plugin-for-linode-monthly-bandwidth-usage/</id><summary type="html">&lt;p&gt;Since I have most of my public-facing stuff hosted with
&lt;a href="http://www.linode.com/?r=5c8ad2931b410b55455aadbcf0a8d86d6f698a91"&gt;Linode&lt;/a&gt;,
and I have a monthly bandwidth cap (albeit one that I&amp;#8217;ll probably never
come close to), I decided that it would be a good idea to add my monthly
bandwidth usage to my monitoring system. Luckily, Linode offers this
(their billing view of it - which is, of course, what I&amp;#8217;m concerned
about) via their &lt;a href="http://www.linode.com/api/"&gt;&lt;span class="caps"&gt;API&lt;/span&gt;&lt;/a&gt;, and it&amp;#8217;s very nicely
implemented in &lt;a href="http://michael.thegrebs.com/"&gt;Michael Greb&amp;#8217;s&lt;/a&gt;
&lt;a href="http://search.cpan.org/~mikegrb/WebService-Linode/"&gt;WebService::Linode&lt;/a&gt;
Perl (&lt;span class="caps"&gt;CPAN&lt;/span&gt;)&amp;nbsp;module.&lt;/p&gt;
&lt;p&gt;Using Michael&amp;#8217;s Perl module, I wrote
&lt;a href="https://github.com/jantman/nagios-scripts/blob/master/check_linode_transfer.pl"&gt;check_linode_transfer.pl&lt;/a&gt;
(github link) as a Nagios check plugin. It seems to be working fine for
me, and runs with the embedded perl interpreter, though it may not be
100% up to par with the Nagios plugin spec (for one, I used utils.pm
instead of
&lt;a href="http://search.cpan.org/~tonvoon/Nagios-Plugin-0.36/lib/Nagios/Plugin.pm"&gt;Nagios::Plugin&lt;/a&gt;).
About the only thing unusual is that I store my &lt;span class="caps"&gt;API&lt;/span&gt; keys in a perl
module, so you&amp;#8217;ll need to create something like this in your plugin
directory (usually &lt;code&gt;/usr/lib/nagios/plugins&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="nb"&gt;package&lt;/span&gt; &lt;span class="n"&gt;api_keys&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="nb"&gt;require&lt;/span&gt; &lt;span class="n"&gt;Exporter&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="nv"&gt;@&lt;span class="caps"&gt;ISA&lt;/span&gt;&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sx"&gt;qw(Exporter)&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="nv"&gt;@EXPORT_OK&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sx"&gt;qw($API_KEY_LINODE)&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="nv"&gt;$API_KEY_LINODE&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;yourApiKeyGoesHere&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The latest version of the plugin will always be available at
&lt;a href="https://github.com/jantman/nagios-scripts/blob/master/check_linode_transfer.pl"&gt;https://github.com/jantman/nagios-scripts/blob/master/check_linode_transfer.pl&lt;/a&gt;.
The current version is also below. It&amp;#8217;s free for anyone to use under the
terms of &lt;a href="http://www.gnu.org/licenses/gpl.html"&gt;&lt;span class="caps"&gt;GNU&lt;/span&gt; GPLv3&lt;/a&gt;, though I
would really like it if any changes/patches/updates are sent back to me
for inclusion in the latest&amp;nbsp;version.&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="c1"&gt;#! /usr/bin/perl -w&lt;/span&gt;

&lt;span class="c1"&gt;# check_linode_transfer.pl Copyright (C) 2012 Jason Antman &lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# Define your Linode &lt;span class="caps"&gt;API&lt;/span&gt; key as $API_KEY_LINODE in api_keys.pm in the plugin library directory&lt;/span&gt;
&lt;span class="c1"&gt;#  a sample should be included in this distribution.&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# This plugin requires WebService::Linode from &lt;span class="caps"&gt;CPAN&lt;/span&gt;, with a patch - add the following to the end of sub _error{} in Linode/Base.pm:&lt;/span&gt;
&lt;span class="c1"&gt;#  $self-&amp;gt;{err} = $err; $self-&amp;gt;{errstr} = $errstr;&lt;/span&gt;
&lt;span class="c1"&gt;# Also - bug in WebService::Linode::Base docs, example, line 3 should be:&lt;/span&gt;
&lt;span class="c1"&gt;#  my $data = $api-&amp;gt;do_request( api_action =&amp;gt; &amp;#39;domains.list&amp;#39; );&lt;/span&gt;
&lt;span class="c1"&gt;# not:&lt;/span&gt;
&lt;span class="c1"&gt;#  my $data = $api-&amp;gt;do_request( action =&amp;gt; &amp;#39;domains.list&amp;#39; );&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;##################################################################################&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# This program is free software; you can redistribute it and/or&lt;/span&gt;
&lt;span class="c1"&gt;# modify it under the terms of the &lt;span class="caps"&gt;GNU&lt;/span&gt; General Public License&lt;/span&gt;
&lt;span class="c1"&gt;# as published by the Free Software Foundation; either version 2&lt;/span&gt;
&lt;span class="c1"&gt;# of the License, or (at your option) any later version.&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# This program is distributed in the hope that it will be useful,&lt;/span&gt;
&lt;span class="c1"&gt;# but &lt;span class="caps"&gt;WITHOUT&lt;/span&gt; &lt;span class="caps"&gt;ANY&lt;/span&gt; &lt;span class="caps"&gt;WARRANTY&lt;/span&gt;; without even the implied warranty&lt;/span&gt;
&lt;span class="c1"&gt;# of &lt;span class="caps"&gt;MERCHANTABILITY&lt;/span&gt; or &lt;span class="caps"&gt;FITNESS&lt;/span&gt; &lt;span class="caps"&gt;FOR&lt;/span&gt; A &lt;span class="caps"&gt;PARTICULAR&lt;/span&gt; &lt;span class="caps"&gt;PURPOSE&lt;/span&gt;.  See the&lt;/span&gt;
&lt;span class="c1"&gt;# &lt;span class="caps"&gt;GNU&lt;/span&gt; General Public License for more details.&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# you should have received a copy of the &lt;span class="caps"&gt;GNU&lt;/span&gt; General Public License&lt;/span&gt;
&lt;span class="c1"&gt;# along with this program (or with Nagios);  if not, write to the&lt;/span&gt;
&lt;span class="c1"&gt;# Free Software Foundation, Inc., 59 Temple Place - Suite 330,&lt;/span&gt;
&lt;span class="c1"&gt;# Boston, &lt;span class="caps"&gt;MA&lt;/span&gt; 02111-1307, &lt;span class="caps"&gt;USA&lt;/span&gt;&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;##################################################################################&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# The latest version of this plugin can always be obtained from:&lt;/span&gt;
&lt;span class="c1"&gt;#  $HeadURL$&lt;/span&gt;
&lt;span class="c1"&gt;#  $LastChangedRevision$&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;

&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="n"&gt;strict&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="n"&gt;English&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="nn"&gt;Getopt::&lt;/span&gt;&lt;span class="n"&gt;Long&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="n"&gt;vars&lt;/span&gt; &lt;span class="sx"&gt;qw($&lt;span class="caps"&gt;PROGNAME&lt;/span&gt; $&lt;span class="caps"&gt;REVISION&lt;/span&gt;)&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="n"&gt;lib&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;/usr/lib/nagios/plugins&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="n"&gt;utils&lt;/span&gt; &lt;span class="sx"&gt;qw (%&lt;span class="caps"&gt;ERRORS&lt;/span&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;print_revision&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;support&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="n"&gt;api_keys&lt;/span&gt; &lt;span class="sx"&gt;qw($API_KEY_LINODE)&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="nn"&gt;WebService::&lt;/span&gt;&lt;span class="n"&gt;Linode&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="nn"&gt;Data::&lt;/span&gt;&lt;span class="n"&gt;Dumper&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;sub &lt;/span&gt;&lt;span class="nf"&gt;print_help&lt;/span&gt; &lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="p"&gt;sub print_usage ();&lt;/span&gt;

&lt;span class="p"&gt;my ($opt_c, $opt_w, $opt_h, $opt_V, $opt_s, $opt_S, $opt_l, $opt_H);&lt;/span&gt;
&lt;span class="p"&gt;my ($result, $message);&lt;/span&gt;

&lt;span class="p"&gt;$&lt;span class="caps"&gt;PROGNAME&lt;/span&gt;=&amp;quot;check_linode_transfer.pl&amp;quot;;&lt;/span&gt;
&lt;span class="p"&gt;$&lt;span class="caps"&gt;REVISION&lt;/span&gt;=&amp;#39;1.0&amp;#39;;&lt;/span&gt;

&lt;span class="p"&gt;$opt_w = 60;&lt;/span&gt;
&lt;span class="p"&gt;$opt_c = 80;&lt;/span&gt;

&lt;span class="p"&gt;Getopt::Long::Configure(&amp;#39;bundling&amp;#39;);&lt;/span&gt;
&lt;span class="p"&gt;GetOptions(&lt;/span&gt;
&lt;span class="p"&gt;    &amp;quot;V&amp;quot;   =&amp;gt; \$opt_V, &amp;quot;version&amp;quot; =&amp;gt; \$opt_V,&lt;/span&gt;
&lt;span class="p"&gt;    &amp;quot;h&amp;quot;   =&amp;gt; \$opt_h, &amp;quot;help&amp;quot;    =&amp;gt; \$opt_h,&lt;/span&gt;
&lt;span class="p"&gt;    &amp;quot;w=f&amp;quot; =&amp;gt; \$opt_w, &amp;quot;warning=f&amp;quot; =&amp;gt; \$opt_w,&lt;/span&gt;
&lt;span class="p"&gt;    &amp;quot;c=f&amp;quot; =&amp;gt; \$opt_c, &amp;quot;critical=f&amp;quot; =&amp;gt; \$opt_c&lt;/span&gt;
&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="p"&gt;if ($opt_V) {&lt;/span&gt;
    &lt;span class="n"&gt;print_revision&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$&lt;span class="caps"&gt;PROGNAME&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$&lt;span class="caps"&gt;REVISION&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="nb"&gt;exit&lt;/span&gt; &lt;span class="nv"&gt;$&lt;span class="caps"&gt;ERRORS&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&lt;span class="caps"&gt;OK&lt;/span&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$opt_h&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;print_help&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="nb"&gt;exit&lt;/span&gt; &lt;span class="nv"&gt;$&lt;span class="caps"&gt;ERRORS&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&lt;span class="caps"&gt;OK&lt;/span&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="nv"&gt;$result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;&lt;span class="caps"&gt;OK&lt;/span&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$api&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nn"&gt;WebService::&lt;/span&gt;&lt;span class="n"&gt;Linode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;apikey&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="nv"&gt;$API_KEY_LINODE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;nowarn&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$api&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;do_request&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;api_action&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;account.info&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="nv"&gt;$data&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nv"&gt;$result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&lt;span class="caps"&gt;UNKNOWN&lt;/span&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&lt;span class="caps"&gt;LINODE&lt;/span&gt; &lt;span class="caps"&gt;TRANSFER&lt;/span&gt; $result: &amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$api&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;errstr&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="nb"&gt;exit&lt;/span&gt; &lt;span class="nv"&gt;$&lt;span class="caps"&gt;ERRORS&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nv"&gt;$result&lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$used&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$pool&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$pct&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$data&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;TRANSFER_USED&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt; &lt;span class="nv"&gt;$data&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;TRANSFER_POOL&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="nv"&gt;$pct&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$used&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="nv"&gt;$pool&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$pct&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;=&lt;/span&gt; &lt;span class="nv"&gt;$opt_c&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
    &lt;span class="nv"&gt;$result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&lt;span class="caps"&gt;CRITICAL&lt;/span&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;elsif&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$pct&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;=&lt;/span&gt; &lt;span class="nv"&gt;$opt_w&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
    &lt;span class="nv"&gt;$result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&lt;span class="caps"&gt;WARNING&lt;/span&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&lt;span class="caps"&gt;LINODE&lt;/span&gt; &lt;span class="caps"&gt;TRANSFER&lt;/span&gt; $result: $pct&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;%&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s"&gt;&amp;quot; of monthly bandwidth used ($used / $pool &lt;span class="caps"&gt;GB&lt;/span&gt;)|usedBW=$used; totalBW=$pool\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="nb"&gt;exit&lt;/span&gt; &lt;span class="nv"&gt;$&lt;span class="caps"&gt;ERRORS&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nv"&gt;$result&lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;

&lt;span class="k"&gt;sub &lt;/span&gt;&lt;span class="nf"&gt;print_usage&lt;/span&gt; &lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Usage:\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;  $&lt;span class="caps"&gt;PROGNAME&lt;/span&gt; [-w ] [-c ]\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;  $&lt;span class="caps"&gt;PROGNAME&lt;/span&gt; [-h | --help]\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;  $&lt;span class="caps"&gt;PROGNAME&lt;/span&gt; [-V | --version]\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;sub &lt;/span&gt;&lt;span class="nf"&gt;print_help&lt;/span&gt; &lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;print_revision&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$&lt;span class="caps"&gt;PROGNAME&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$&lt;span class="caps"&gt;REVISION&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Copyright (c) 2012 Jason Antman\n\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;print_usage&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;    Percent of network transfer used\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;support&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="linode"></category><category term="monitoring"></category><category term="Nagios"></category><category term="plugin"></category></entry><entry><title>VMWare vSphere CLI and Perl SDK as an RPM</title><link href="http://blog.jasonantman.com/2012/02/vmware-vsphere-cli-and-perl-sdk-as-an-rpm/" rel="alternate"></link><updated>2012-02-28T19:01:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-02-28:2012/02/vmware-vsphere-cli-and-perl-sdk-as-an-rpm/</id><summary type="html">&lt;p&gt;Lately I&amp;#8217;ve been playing around with the VMWare &lt;a href="http://www.vmware.com/support/developer/viperltoolkit/"&gt;vSphere &lt;span class="caps"&gt;SDK&lt;/span&gt; for
Perl&lt;/a&gt;, since the
new job uses a bunch of VMWare stuff (and I&amp;#8217;ve been starting my foray
into Perl as a new language, and am amazed by the &lt;a href="http://www.cpan.org/"&gt;massive
number&lt;/a&gt; of modules out there). As much as I find
&lt;a href="http://yum.baseurl.org/"&gt;&lt;code&gt;yum&lt;/code&gt;&lt;/a&gt; limiting having used
&lt;a href="http://en.opensuse.org/Portal:Zypper"&gt;&lt;code&gt;zypper&lt;/code&gt;&lt;/a&gt; on OpenSuSE, I&amp;#8217;m not
much of a fan of non-natively-packaged software. Not only is it more
difficult to maintain and upgrade a system and nearly impossible to
nicely automate when building from source (or a proprietary installer
script), it&amp;#8217;s also much more difficult to transition from a development
environment to&amp;nbsp;production.&lt;/p&gt;
&lt;p&gt;In a quick search, I found a perfectly working spec file and some
&lt;span class="caps"&gt;RHEL&lt;/span&gt;/Cent-specific patches (and even beginner-level &lt;code&gt;rpmbuild&lt;/code&gt;
instructions) for the current 5.0.0-422456 VMWare &lt;span class="caps"&gt;CLI&lt;/span&gt; and Perl &lt;span class="caps"&gt;SDK&lt;/span&gt; for
x86_64 at
&lt;a href="http://www.firetooth.net/confluence/display/public/vSphere+Perl+SDK+and+CLI+RPM+Packages"&gt;http://www.firetooth.net/confluence/display/public/vSphere+Perl+&lt;span class="caps"&gt;SDK&lt;/span&gt;+and+&lt;span class="caps"&gt;CLI&lt;/span&gt;+&lt;span class="caps"&gt;RPM&lt;/span&gt;+Packages&lt;/a&gt;.
Many thanks to &lt;a href="http://www.linkedin.com/in/vwhitteron"&gt;Vaughan
Whitteron&lt;/a&gt; of &lt;span class="caps"&gt;NSW&lt;/span&gt; in Australia
for posting this! It built and installed without any problems on my
Fedora 16 desktop, and a CentOS 6.2 development&amp;nbsp;box.&lt;/p&gt;</summary><category term="perl"></category><category term="rpm"></category><category term="vcli"></category><category term="vmware"></category><category term="vsphere"></category></entry><entry><title>Nagios / Icinga Configuration Highlighting with GeSHi</title><link href="http://blog.jasonantman.com/2012/02/nagios-icinga-configuration-highlighting-with-geshi/" rel="alternate"></link><updated>2012-02-28T18:42:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-02-28:2012/02/nagios-icinga-configuration-highlighting-with-geshi/</id><summary type="html">&lt;p&gt;As you may know from former posts, this blog
(&lt;a href="http://wordpress.org"&gt;WordPress&lt;/a&gt;-powered) and a few
&lt;a href="http://www.mediawiki.org"&gt;MediaWiki&lt;/a&gt; sites that I have use the
excellent &lt;span class="caps"&gt;PHP&lt;/span&gt;-based &lt;a href="http://qbnz.com/highlighter/"&gt;GeSHi&lt;/a&gt; syntax
highlighter. Today I was writing &lt;a href="/2012/02/sending-aim-messages-from-a-perl-script/"&gt;a
post&lt;/a&gt; that includes
some Icinga (Nagios) configuration snippets. After a quick search, I
found a &lt;a href="https://github.com/adepertat/geshi-nagios"&gt;Nagios language file for
GeSHi&lt;/a&gt; on GitHub. Thanks very
much to &lt;a href="https://github.com/adepertat"&gt;Albéric de Pertat (adepertat)&lt;/a&gt;
for writing this and providing it to the&amp;nbsp;public.&lt;/p&gt;</summary><category term="GeSHi"></category><category term="icinga"></category><category term="mediawiki"></category><category term="Nagios"></category><category term="PHP"></category><category term="wordpress"></category></entry><entry><title>Sending AOL Instant Messenger (AIM) Messages from a Perl Script</title><link href="http://blog.jasonantman.com/2012/02/sending-aim-messages-from-a-perl-script/" rel="alternate"></link><updated>2012-02-28T18:33:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-02-28:2012/02/sending-aim-messages-from-a-perl-script/</id><summary type="html">&lt;p&gt;I&amp;#8217;ve been doing some work on &lt;a href="http://www.icinga.org"&gt;icinga&lt;/a&gt; (a Nagios
fork) and wanted to implement notification via &lt;span class="caps"&gt;AOL&lt;/span&gt; Instant Messenger
(&lt;span class="caps"&gt;AIM&lt;/span&gt;), since I&amp;#8217;m almost always signed on when I&amp;#8217;m at a computer.
Unfortunately, most of the
&lt;a href="http://vuksan.com/linux/nagios_scripts.html#send_aim_messages"&gt;scripts&lt;/a&gt;
that I could find use
&lt;a href="http://search.cpan.org/~friffin/Net-AIM-TOC-0.97/TOC.pm"&gt;Net::&lt;span class="caps"&gt;AIM&lt;/span&gt;::&lt;span class="caps"&gt;TOC&lt;/span&gt;&lt;/a&gt;
which implements a now-defunct protocol. So, I found Perl&amp;#8217;s
&lt;a href="http://search.cpan.org/~toddr/Net-OSCAR-1.928/lib/Net/OSCAR.pm"&gt;Net::&lt;span class="caps"&gt;OSCAR&lt;/span&gt;&lt;/a&gt;
and &lt;a href="http://moo.net/code/aim.html"&gt;James Nonnemaker&amp;#8217;s script&lt;/a&gt;, and
decided to rework them into something a bit more&amp;nbsp;full-featured.&lt;/p&gt;
&lt;p&gt;The below script sends a single &lt;span class="caps"&gt;IM&lt;/span&gt; to a single contact via the command
line (using a specified &lt;span class="caps"&gt;AIM&lt;/span&gt; username and password). It&amp;#8217;s intended to be
a Nagios notification script (using the configurations shown below), but
could be used for any purpose. The most up-to-date version of the script
will be available at:
&lt;a href="https://github.com/jantman/nagios-scripts/blob/master/send_aim.pl"&gt;github.com/jantman/public-nagios/master/send_aim.pl&lt;/a&gt;&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="c1"&gt;#!/usr/bin/perl&lt;/span&gt;

&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# Script to send &lt;span class="caps"&gt;AIM&lt;/span&gt; messages from the command line&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# Copyright 2012 Jason Antman  &lt;/span&gt;
&lt;span class="c1"&gt;# based on the simple version (C) 2008 James Nonnemaker / james[at]ustelcom[dot]net &lt;/span&gt;
&lt;span class="c1"&gt;#    found at: &lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# The canonical, up-to-date version of this script can be found at:&lt;/span&gt;
&lt;span class="c1"&gt;#  &lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# For updates, news, etc., see:&lt;/span&gt;
&lt;span class="c1"&gt;#  &lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# $HeadURL$&lt;/span&gt;
&lt;span class="c1"&gt;# $LastChangedRevision$&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;

&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="n"&gt;strict&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="n"&gt;warnings&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="nn"&gt;Net::&lt;/span&gt;&lt;span class="n"&gt;&lt;span class="caps"&gt;OSCAR&lt;/span&gt;&lt;/span&gt; &lt;span class="sx"&gt;qw(:standard)&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="nn"&gt;Getopt::&lt;/span&gt;&lt;span class="n"&gt;Long&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$screenname&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$passwd&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$ToSn&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$Msg&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$&lt;span class="caps"&gt;VERSION&lt;/span&gt;&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;r17&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;GetOptions&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;screenname=s&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;\&lt;/span&gt;&lt;span class="nv"&gt;$screenname&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
              &lt;span class="s"&gt;&amp;quot;password=s&amp;quot;&lt;/span&gt;   &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;\&lt;/span&gt;&lt;span class="nv"&gt;$passwd&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
              &lt;span class="s"&gt;&amp;quot;to=s&amp;quot;&lt;/span&gt;         &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;\&lt;/span&gt;&lt;span class="nv"&gt;$ToSn&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="nv"&gt;$screenname&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="nv"&gt;$passwd&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="nv"&gt;$ToSn&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;send_aim.pl $&lt;span class="caps"&gt;VERSION&lt;/span&gt; by Jason Antman \n\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&lt;span class="caps"&gt;USAGE&lt;/span&gt;: send_aim.pl --screenname= --password= --to=\n\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="c1"&gt;# slurp message from &lt;span class="caps"&gt;STDIN&lt;/span&gt;&lt;/span&gt;
&lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$holdTerminator&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="vg"&gt;$/&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="nb"&gt;undef&lt;/span&gt; &lt;span class="vg"&gt;$/&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="nv"&gt;$Msg&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="vg"&gt;$/&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$holdTerminator&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;@lines&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;split&lt;/span&gt; &lt;span class="sr"&gt;/$holdTerminator/&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$Msg&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="nv"&gt;$Msg&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;init&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="nv"&gt;$Msg&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;join&lt;/span&gt; &lt;span class="nv"&gt;$holdTerminator&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;@lines&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$oscar&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nn"&gt;Net::&lt;/span&gt;&lt;span class="n"&gt;&lt;span class="caps"&gt;OSCAR&lt;/span&gt;&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="nv"&gt;$oscar&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;loglevel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="nv"&gt;$oscar&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;signon&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$screenname&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$passwd&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="nv"&gt;$oscar&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;set_callback_snac_unknown&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;\&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;snac_unknown&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="nv"&gt;$oscar&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;set_callback_im_ok&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;\&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;log_out&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="nv"&gt;$oscar&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;set_callback_signon_done&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;\&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;do_it&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nv"&gt;$oscar&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;do_one_loop&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;sub &lt;/span&gt;&lt;span class="nf"&gt;do_it&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nv"&gt;$oscar&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;send_im&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$ToSn&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$Msg&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;sub &lt;/span&gt;&lt;span class="nf"&gt;log_out&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nv"&gt;$oscar&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;signoff&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="nb"&gt;exit&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;sub &lt;/span&gt;&lt;span class="nf"&gt;snac_unknown&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;my&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$oscar&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$connection&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$snac&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$data&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;@_&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="c1"&gt;# just use this to override the default snac_unknown handler, which prints a data dump of the packet&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The command line usage is pretty simple - it takes the message to send
on stdin and parameters for the sender&amp;#8217;s screen name and password, and
the recipient&amp;#8217;s screen name,&amp;nbsp;like:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;Hello\nworld\n&amp;quot;&lt;/span&gt; | send_aim.pl --screenname&lt;span class="o"&gt;=&lt;/span&gt;mySN --password&lt;span class="o"&gt;=&lt;/span&gt;myPass --to&lt;span class="o"&gt;=&lt;/span&gt;recipientSN
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The Icinga configs that I used for this are as follows. I just used the
default Icinga 1.6 notify by email commands, since &lt;span class="caps"&gt;AIM&lt;/span&gt; should handle the
full length&amp;nbsp;fine.&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;# host notification command
define command{
        command_name    notify-host-by-aim
        command_line    /usr/bin/printf &amp;quot;%b&amp;quot; &amp;quot;***** Icinga *****\n\nNotification Type: $NOTIFICATIONTYPE$\nHost: $HOSTNAME$\nState: $HOSTSTATE$\nAddress: $HOSTADDRESS$\nInfo: $HOSTOUTPUT$\n\nDate/Time: $LONGDATETIME$\n&amp;quot; | /usr/lib/nagios/plugins/notification/send_aim.pl --screenname=mySN --password=myPass --to=$CONTACTADDRESS1$
}

# service notification command
define command{
        command_name    notify-service-by-aim
        command_line    /usr/bin/printf &amp;quot;%b&amp;quot; &amp;quot;***** Icinga *****\n\nNotification Type: $NOTIFICATIONTYPE$\n\nService: $SERVICEDESC$\nHost: $HOSTALIAS$\nAddress: $HOSTADDRESS$\nState: $SERVICESTATE$\n\nDate/Time: $LONGDATETIME$\n\nAdditional Info:\n\n$SERVICEOUTPUT$\n&amp;quot; | /usr/lib/nagios/plugins/notification/send_aim.pl --screenname=mySN --password=myPass --to=$CONTACTADDRESS1$
}

# example contact
define contact{
        contact_name                    joeadmin
        alias                           Joe Admin
        use                             generic-with-AIM-contact
        email                           joeadmin@example.com
        pager                           5555555555@vtext.com
        address1                        joeAdminSN ; AIM screen name
}
&lt;/pre&gt;&lt;/div&gt;</summary><category term="aim"></category><category term="aol"></category><category term="icinga"></category><category term="instant messenger"></category><category term="Nagios"></category><category term="notifications"></category><category term="perl"></category></entry><entry><title>The state of Puppet External Node Classifiers</title><link href="http://blog.jasonantman.com/2012/02/the-state-of-puppet-external-node-classifiers/" rel="alternate"></link><updated>2012-02-26T12:45:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-02-26:2012/02/the-state-of-puppet-external-node-classifiers/</id><summary type="html">&lt;p&gt;&lt;strong&gt;Update November 2013&lt;/strong&gt;: This post has brought an amazing amount of
traffic to my blog, probably because it still seems to be one of the
only &lt;span class="caps"&gt;ENC&lt;/span&gt; comparisons out there. Both Dashboard (and Puppet Enterprise
Console) and The Foreman have changed quite a bit since I wrote this.
Foreman has certainly been developed at warp speed. I&amp;#8217;ll try to write an
update to this sometime soon, but be advised that the information here
is somewhat&amp;nbsp;dated.&lt;/p&gt;
&lt;p&gt;At work, we&amp;#8217;re in the process of rolling out
&lt;a href="http://projects.puppetlabs.com/projects/puppet"&gt;puppet&lt;/a&gt; for
configuration management of our servers. It will be an integral part of
the provisioning process of all new physical and virtual hosts, and will
also be phased in on existing hosts as possible. Right now, we have an
initial puppet install that was &amp;#8220;development&amp;#8221;, but we&amp;#8217;re about to move
to &amp;#8220;production&amp;#8221; (new puppetmaster in our production infrastructure,
production MySQL, etc.). We&amp;#8217;ve been using
&lt;a href="http://puppetlabs.com/puppet/related-projects/dashboard/"&gt;Dashboard&lt;/a&gt;,
but just as a report viewer. Up until now, we&amp;#8217;ve been using nodes.pp and
per-node flat-file manifests. I&amp;#8217;ve got a few issues with this, but the
biggest is that all of our node definitions (and their classes and
parameters) live in the same &lt;span class="caps"&gt;SVN&lt;/span&gt; repository as our modules and other
puppet configuration. Not only does this mean a checkout and commit just
to change a node parameter or add a module/class to a node, but it also
means that for my team members who don&amp;#8217;t have previous puppet
experience, it greatly blurs the line between administering puppet
(developing and maintaining modules) and using puppet (building a node,
changing node params or modules/classes), since both tasks are
accomplished in the same &lt;span class="caps"&gt;SVN&lt;/span&gt;&amp;nbsp;repository.&lt;/p&gt;
&lt;p&gt;So, I&amp;#8217;ve been pushing an &lt;a href="http://docs.puppetlabs.com/guides/external_nodes.html"&gt;External Node Classifier
(&lt;span class="caps"&gt;ENC&lt;/span&gt;)&lt;/a&gt; with a web
interface as one of the biggest feature enhancements we need for our
puppet install. The complicating factor is that I&amp;#8217;ve been given a time
frame of approximately 1 week to get the &amp;#8220;production&amp;#8221; puppetmaster
running on our production infrastructure and marked as &amp;#8220;done&amp;#8221;. That
includes the &lt;span class="caps"&gt;ENC&lt;/span&gt;. At my last gig, at Rutgers University, I wrote our &lt;span class="caps"&gt;ENC&lt;/span&gt;
in &lt;span class="caps"&gt;PHP&lt;/span&gt; (actually I wrote it for my half-dozen or so boxes at home, and
brought it to Rutgers gratis), and it also handled kickstart file
distribution and &lt;span class="caps"&gt;PXE&lt;/span&gt; configuration, and was extended to also set &lt;span class="caps"&gt;DHCP&lt;/span&gt;
and &lt;span class="caps"&gt;DNS&lt;/span&gt; for the hosts - a one-stop solution. Unfortunately the code is
very organization-specific, not terribly solid, and the &lt;span class="caps"&gt;UI&lt;/span&gt; looks awful,
so it&amp;#8217;s not a fit for the current employer. So I have to find something
else that fits the bill. I have a list of initial (&amp;#8220;phase 1&amp;#8221;)
requirements that are a mix of functionality that we require and
management&amp;nbsp;requirements:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Must support environments, since we make use of&amp;nbsp;them.&lt;/li&gt;
&lt;li&gt;Must support default values for parameters based on environment,
    &amp;#8220;zone&amp;#8221; (a custom fact and variable we define), or a combination of&amp;nbsp;both.&lt;/li&gt;
&lt;li&gt;For accountability and legal reasons, must have full auditing of all
    changes by all users (and, obviously, support&amp;nbsp;authentication).&lt;/li&gt;
&lt;li&gt;Display node last run time and&amp;nbsp;status.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;As well as at least the ability to implement some of our phase 2&amp;nbsp;requirements:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ability to show modules and classes applied to a node, including
    those required/included through other&amp;nbsp;modules/classes/roles.&lt;/li&gt;
&lt;li&gt;Should support at least some level of puppet report&amp;nbsp;display.&lt;/li&gt;
&lt;li&gt;Ability to trigger a node run (kick) from the&amp;nbsp;&lt;span class="caps"&gt;UI&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;Some level of permission separation, &lt;span class="caps"&gt;ACL&lt;/span&gt; or &lt;span class="caps"&gt;RBAC&lt;/span&gt; so that we could
    potentially delegate control of a certain module or parameter, on a
    certain group of nodes, to the development&amp;nbsp;team.&lt;/li&gt;
&lt;li&gt;Per-node links to other tools such as Icinga/Nagios or our&amp;nbsp;wiki.&lt;/li&gt;
&lt;li&gt;Some way of detecting valid classes and modules (and our &amp;#8220;role&amp;#8221;
    module) per-environment (i.e. available modules/classes/roles should
    be pulled from the configs, not manually&amp;nbsp;entered).&lt;/li&gt;
&lt;li&gt;Ability to display puppet docs from&amp;nbsp;modules/classes&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Our current situation makes this even more difficult: we&amp;#8217;re an
operations team of five (hiring at the moment to fill the position of
the sixth), and I believe I&amp;#8217;m the only member of the team with any real
software development experience. And none of us have experience with
Ruby (which Puppet and most of its universe is written in). This means
that any in-house solution runs the risk of being unmaintainable should
I get hit by a bus (some of our team have various levels of experience
with Perl and other scripting languages, but not really from an app
development perspective). Because of these reasons, there&amp;#8217;s a management
aversion to anything that we code ourselves (well, these reasons, and
the fact that with a shorthanded team we don&amp;#8217;t have much time for
projects without an immediate&amp;nbsp;impact).&lt;/p&gt;
&lt;p&gt;So, I spent hours looking around online trying to find existing
web-based &lt;span class="caps"&gt;ENC&lt;/span&gt; projects, and came up with a pretty small&amp;nbsp;list:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://puppetlabs.com/puppet/related-projects/dashboard/"&gt;Dashboard&lt;/a&gt;,
    the Puppet Labs web &lt;span class="caps"&gt;UI&lt;/span&gt;. It&amp;#8217;s the most common web-based puppet &lt;span class="caps"&gt;ENC&lt;/span&gt; as
    far as I know, and since it&amp;#8217;s an official Puppet Labs project (and
    the basis for their Puppet Enterprise &lt;span class="caps"&gt;UI&lt;/span&gt;), its future is pretty
    secure. But it&amp;#8217;s still very basic (let alone enterprise features),
    and has a plugin system that is very&amp;nbsp;young.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://theforeman.org/projects/foreman"&gt;The Foreman&lt;/a&gt; is probably
    the second-most-common puppet &lt;span class="caps"&gt;ENC&lt;/span&gt;, and has also been around about as
    long as Dashboard. Its features are nice, and it includes support
    for Kickstart (management of &lt;span class="caps"&gt;TFTP&lt;/span&gt; and &lt;span class="caps"&gt;DHCP&lt;/span&gt;) and &lt;span class="caps"&gt;DNS&lt;/span&gt;, as well as some
    virtual machine management. Unfortunately, we already have &lt;span class="caps"&gt;DHCP&lt;/span&gt; and
    &lt;span class="caps"&gt;DNS&lt;/span&gt; infrastructure so I&amp;#8217;m sure it would be quite a bit of effort to
    integrate it with our environment, and for a non-Ruby shop, it has
    the same problem with maintainability of custom&amp;nbsp;code.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.ingent.net/projects/initr/wiki"&gt;initr&lt;/a&gt;, a
    &lt;a href="http://www.redmine.org/"&gt;Redmine&lt;/a&gt; plugin that functions as an &lt;span class="caps"&gt;ENC&lt;/span&gt;
    and manages modules. It includes &lt;span class="caps"&gt;RBAC&lt;/span&gt; and leverages Redmine. But
    since we don&amp;#8217;t use Redmine, it&amp;#8217;s not much of an&amp;nbsp;advantage.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.gitorious.org/opennms-puppet-node-pusher"&gt;OpenNMS Puppet Node
    Pusher&lt;/a&gt;An &lt;span class="caps"&gt;ENC&lt;/span&gt;
    script for &lt;a href="http://www.opennms.org/"&gt;OpenNMS&lt;/a&gt;, which we also don&amp;#8217;t&amp;nbsp;use.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I was pretty amazed to see that nobody had written a puppet web &lt;span class="caps"&gt;UI&lt;/span&gt;/&lt;span class="caps"&gt;ENC&lt;/span&gt;
in &lt;span class="caps"&gt;PHP&lt;/span&gt; (or Perl or Python), especially since Puppet is now quite&amp;nbsp;popular.&lt;/p&gt;
&lt;p&gt;So, I&amp;#8217;m essentially left with the following&amp;nbsp;options:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Start from scratch and write my own in &lt;span class="caps"&gt;PHP&lt;/span&gt;. By far the worst option,
    since we don&amp;#8217;t have anyone on our team who&amp;#8217;s likely to maintain it,
    and the Puppet community is&amp;nbsp;Ruby-focused.&lt;/li&gt;
&lt;li&gt;Use Foreman, since it&amp;#8217;s the only one that appears to offer audit
    logging, have a bunch of features that don&amp;#8217;t work for us, and
    hopefully deal with&amp;nbsp;it.&lt;/li&gt;
&lt;li&gt;Learn Ruby, write plugins for Dashboard, and hope that Puppet Labs
    or someone else will pick them up and maintain them if I&amp;nbsp;can&amp;#8217;t.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;At the moment, I&amp;#8217;ve decided to investigate Foreman and initr in a bit
more depth, and also play around with the Dashboard code and try to pick
up some Ruby (as they&amp;#8217;re all written in Ruby anyway). I&amp;#8217;ll also discuss
these options with the team and see how opinions go (keeping in mind
that the higher the likelihood of the community picking up/merging my
changes, the&amp;nbsp;better).&lt;/p&gt;</summary><category term="dashboard"></category><category term="foreman"></category><category term="node classifier"></category><category term="puppet"></category></entry><entry><title>Petit for Log Analysis</title><link href="http://blog.jasonantman.com/2012/02/petit-for-log-analysis/" rel="alternate"></link><updated>2012-02-21T11:57:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-02-21:2012/02/petit-for-log-analysis/</id><summary type="html">&lt;p&gt;I recently discovered the
&lt;a href="http://crunchtools.com/software/petit/"&gt;petit&lt;/a&gt; program for log
analysis. It&amp;#8217;s a simple tool to pull out useful information from syslog
logs in a variety of ways. I&amp;#8217;ve only used it a few times so far, mainly
on logs from problems I&amp;#8217;ve already solved but didn&amp;#8217;t know the cause of
at first. So far, it&amp;#8217;s proven quite useful. Here are a few&amp;nbsp;examples:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;petit --wordcount /var/log/messages&lt;/code&gt; - displays ordered count of
    words appearing in the log. My first step, especially if &amp;#8220;warning&amp;#8221;,
    &amp;#8220;error&amp;#8221; or &amp;#8220;fatal&amp;#8221; shows up near the&amp;nbsp;top&amp;#8230;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;petit --hash --fingerprint /var/log/messages&lt;/code&gt; - hashes the log,
    removes filters (such as numerics, datestamp), and displays count of
    matching lines. Absolutely wonderful for web error logs, as it
    removes client &lt;span class="caps"&gt;IP&lt;/span&gt; addresses, line numbers,&amp;nbsp;etc.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;petit --mgraph /var/log/messages&lt;/code&gt; - graph messages per minute for
    the first hour of the log (&lt;span class="caps"&gt;ASCII&lt;/span&gt; of&amp;nbsp;course)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;petit --hgraph /var/log/messages&lt;/code&gt; - same as above, but messages per
    hour for the first&amp;nbsp;day&lt;/li&gt;
&lt;li&gt;Petit will also read from stdin with the &amp;#8212;Xgraph options, so you
    can &lt;code&gt;cat logfile | grep word | petit --mgraph&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Just one note - this tool appears to work only on standard syslog
formatted logs. If some non-datestamped lines managed to work their way
into the log (i.e. someone used echo &gt;&gt; logfile instead of &lt;code&gt;logger&lt;/code&gt;),
it will&amp;nbsp;choke.&lt;/p&gt;
&lt;p&gt;Many thanks to Scott McCarty for this wonderful&amp;nbsp;tool!&lt;/a&gt;&lt;/p&gt;</summary><category term="analysis"></category><category term="log"></category><category term="logging"></category><category term="petit"></category><category term="syslog"></category></entry><entry><title>F5 BigIp - Manually Changing Session Persistence Cookies on the Client Side</title><link href="http://blog.jasonantman.com/2012/02/f5-bigip-manually-changing-session-persistence-cookies-on-the-client-side/" rel="alternate"></link><updated>2012-02-03T13:32:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-02-03:2012/02/f5-bigip-manually-changing-session-persistence-cookies-on-the-client-side/</id><summary type="html">&lt;p&gt;Yesterday I was asked to help out a bit debugging issues with a site
that sits behind a &lt;a href="http://www.f5.com/products/big-ip/"&gt;F5 &lt;span class="caps"&gt;BIG&lt;/span&gt;-&lt;span class="caps"&gt;IP&lt;/span&gt;&lt;/a&gt; load
balancer (&lt;span class="caps"&gt;LB&lt;/span&gt;). It&amp;#8217;s a pretty simple site, load balanced between two web
servers. The developers were complaining about intermittent page load
issues, so I immediately considered a problem with one of the two
servers (&lt;em&gt;ass&lt;/em&gt;uming that the devs were clearing cookies and cache
between attempts). The &lt;span class="caps"&gt;LB&lt;/span&gt; is using &lt;span class="caps"&gt;HTTP&lt;/span&gt; Cookies for client session
persistence, but no matter how many times I cleared my cookies, I kept
being sent to the same back-end server. I know I could have added an
iRule to the &lt;span class="caps"&gt;LB&lt;/span&gt;, but it seems like bad practice to change a production
configuration for debugging something like&amp;nbsp;this.&lt;/p&gt;
&lt;p&gt;If your site uses a BigIp with cookies for persistence, it&amp;#8217;s no problem
to edit the cookies manually to force yourself to another back-end
server. Simply look through the cookies for a given site using something
like the &lt;a href="https://addons.mozilla.org/en-US/firefox/addon/web-developer/"&gt;Web Developer addon for
Firefox&lt;/a&gt;;
the BigIp cookie is named like &amp;#8220;BigIpServer&amp;lt;poolname&gt;&amp;#8221;. The encoding
information is specified by F5 in their knowledge base &lt;a href="http://support.f5.com/kb/en-us/solutions/public/6000/900/sol6917.html"&gt;sol6917:
Overview of &lt;span class="caps"&gt;BIG&lt;/span&gt;-&lt;span class="caps"&gt;IP&lt;/span&gt; persistence cookie
encoding&lt;/a&gt;.
I also managed to find a Perl one-liner from Tyler Krpata, Manger of
Security Engineering at Constant Contact, &lt;a href="http://www.tylerkrpata.com/2009/06/decode-f5-bigip-cookie-in-one-line-of.html"&gt;in a post on his
blog&lt;/a&gt;.
I built on that work to develop the following perl script, which can
both encode and decode BigIP cookie &lt;span class="caps"&gt;IP&lt;/span&gt;/port values. The latest version lives
on my &lt;a href="https://github.com/jantman/misc-scripts/blob/master/bigipcookie.pl"&gt;GitHub misc-scripts repository&lt;/a&gt;.&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="c1"&gt;#!/usr/bin/perl&lt;/span&gt;

&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# Perl script to de/encode F5 BigIp persistence cookies.&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# The latest version of this script can always be obtained from:&lt;/span&gt;
&lt;span class="c1"&gt;#    via &lt;span class="caps"&gt;HTTP&lt;/span&gt; ot &lt;span class="caps"&gt;SVN&lt;/span&gt;&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# Update information and description can be found at:&lt;/span&gt;
&lt;span class="c1"&gt;#   &lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# Copyright 2012 Jason Antman  .&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;#########################################################################################&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# &lt;span class="caps"&gt;LICENSE&lt;/span&gt;: AGPLv3 &lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;#    This program is free software: you can redistribute it and/or modify&lt;/span&gt;
&lt;span class="c1"&gt;#    it under the terms of the &lt;span class="caps"&gt;GNU&lt;/span&gt; Affero General Public License as published by&lt;/span&gt;
&lt;span class="c1"&gt;#    the Free Software Foundation, either version 3 of the License, or&lt;/span&gt;
&lt;span class="c1"&gt;#    (at your option) any later version.&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;#    This program is distributed in the hope that it will be useful,&lt;/span&gt;
&lt;span class="c1"&gt;#    but &lt;span class="caps"&gt;WITHOUT&lt;/span&gt; &lt;span class="caps"&gt;ANY&lt;/span&gt; &lt;span class="caps"&gt;WARRANTY&lt;/span&gt;; without even the implied warranty of&lt;/span&gt;
&lt;span class="c1"&gt;#    &lt;span class="caps"&gt;MERCHANTABILITY&lt;/span&gt; or &lt;span class="caps"&gt;FITNESS&lt;/span&gt; &lt;span class="caps"&gt;FOR&lt;/span&gt; A &lt;span class="caps"&gt;PARTICULAR&lt;/span&gt; &lt;span class="caps"&gt;PURPOSE&lt;/span&gt;.  See the&lt;/span&gt;
&lt;span class="c1"&gt;#    &lt;span class="caps"&gt;GNU&lt;/span&gt; Affero General Public License for more details.&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;#    You should have received a copy of the &lt;span class="caps"&gt;GNU&lt;/span&gt; Affero General Public License&lt;/span&gt;
&lt;span class="c1"&gt;#    along with this program.  If not, see .&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# If you make any modifications/fixes/feature additions, it would be greatly appreciated&lt;/span&gt;
&lt;span class="c1"&gt;# if you send them back to me at the above email address.&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;#########################################################################################&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# &lt;span class="caps"&gt;CREDITS&lt;/span&gt;:&lt;/span&gt;
&lt;span class="c1"&gt;# - F5 itself for the formula: &lt;/span&gt;
&lt;span class="c1"&gt;# - Tyler Krpata &lt;/span&gt;
&lt;span class="c1"&gt;#     for the Perl one-liner that this logic is based on.&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# $HeadURL: http://svn.jasonantman.com/misc-scripts/bigipcookie.pl $&lt;/span&gt;
&lt;span class="c1"&gt;# $LastChangedRevision: 27 $&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# Changelog:&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# 2012-02-02 Jason Antman :&lt;/span&gt;
&lt;span class="c1"&gt;#   - initial version&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;

&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="n"&gt;strict&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="n"&gt;warnings&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="nv"&gt;$#&lt;span class="caps"&gt;ARGV&lt;/span&gt;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&lt;span class="caps"&gt;USAGE&lt;/span&gt;: bigipcookie.pl \n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="nb"&gt;exit&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$&lt;span class="caps"&gt;ARGV&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=~&lt;/span&gt; &lt;span class="sr"&gt;m/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3}):(\d+)$/&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$ipEnc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$1&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;256&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$3&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;256&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$4&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;256&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
    &lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$portEnc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;hex&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;join&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;reverse&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nb"&gt;sprintf&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;%04x&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=~&lt;/span&gt;&lt;span class="sr"&gt; /../g&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;$ipEnc.$portEnc.0000\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;elsif&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$&lt;span class="caps"&gt;ARGV&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=~&lt;/span&gt; &lt;span class="sr"&gt;m/^(\d+)\.(\d+)\.0000$/&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
    &lt;span class="c1"&gt;# decode a cookie value&lt;/span&gt;
    &lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$ipEnc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$portEnc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$ip&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;join&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;.&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;map&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nb"&gt;hex&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="nb"&gt;reverse&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nb"&gt;sprintf&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;%08x&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;split&lt;/span&gt; &lt;span class="sr"&gt;/\./&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$ipEnc&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=~&lt;/span&gt;&lt;span class="sr"&gt; /../g&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$portDec&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;hex&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;join&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;reverse&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nb"&gt;sprintf&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;%04x&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$portEnc&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=~&lt;/span&gt;&lt;span class="sr"&gt; /../g&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;$ip:$portDec\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&lt;span class="caps"&gt;USAGE&lt;/span&gt;: bigipcookie.pl \n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="nb"&gt;exit&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;An example of the&amp;nbsp;usage:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="go"&gt;jantman@palantir:pts/8:~/bin/misc-scripts &amp;gt; ./bigipcookie.pl 192.168.23.50:80&lt;/span&gt;
&lt;span class="go"&gt;840411328.20480.0000&lt;/span&gt;
&lt;span class="go"&gt;jantman@palantir:pts/8:~/bin/misc-scripts &amp;gt; ./bigipcookie.pl 840411328.20480.0000&lt;/span&gt;
&lt;span class="go"&gt;192.168.23.50:80&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;On a side note for those of your who are security-conscious: yes, of
course, this means that if you&amp;#8217;re using BigIp with cookie persistence,
it is disclosing the internal &lt;span class="caps"&gt;IP&lt;/span&gt; and port of your server to your end&amp;nbsp;users.&lt;/p&gt;</summary><category term="bigip"></category><category term="cookies"></category><category term="debugging"></category><category term="f5"></category><category term="load balancer"></category><category term="perl"></category><category term="persistence"></category><category term="web app"></category></entry><entry><title>GNU Screen and Multiple Regions</title><link href="http://blog.jasonantman.com/2012/02/gnu-screen-and-multiple-regions/" rel="alternate"></link><updated>2012-02-03T09:13:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-02-03:2012/02/gnu-screen-and-multiple-regions/</id><summary type="html">&lt;p&gt;Since I always seem to forget this wonderful feature of &lt;a href="http://www.gnu.org/software/screen/"&gt;&lt;span class="caps"&gt;GNU&lt;/span&gt;
screen&lt;/a&gt; (probably one of the pieces
of software I use the most every&amp;nbsp;day)&amp;#8230;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;To split the current region horizontally into two equal regions:
    &lt;code&gt;C-a S&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;To switch between those regions: &lt;code&gt;C-a Tab&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;To close all regions but the current one: &lt;code&gt;C-a Q&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This is absolutely invaluable for watching logs on multiple machines at&amp;nbsp;once.&lt;/p&gt;</summary><category term="console"></category><category term="screen"></category><category term="sysadmin"></category></entry><entry><title>Using Templates to Track Outdated Content in a Documentation MediaWiki</title><link href="http://blog.jasonantman.com/2012/02/using-templates-to-track-outdated-content-in-a-documentation-mediawiki/" rel="alternate"></link><updated>2012-02-02T11:02:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-02-02:2012/02/using-templates-to-track-outdated-content-in-a-documentation-mediawiki/</id><summary type="html">&lt;p&gt;Both my last and current jobs use &lt;a href="http://www.mediawiki.org/"&gt;MediaWiki&lt;/a&gt;
for internal documentation. As always happens, some of this
documentation will inevitably get out-of-date, or totally deprecated. As
is also the case, many times when we&amp;#8217;re looking for docs in the middle
of an incident, we don&amp;#8217;t have the time to go back and fix what&amp;#8217;s wrong.
So, I devised the following template/category system to help keep track
of these problem&amp;nbsp;pages.&lt;/p&gt;
&lt;p&gt;First, create some templates that you will apply to the problem pages. I
use three - one for totally deprecated pages, one for pages that need
updating, and one for pages that just need cleanup. For the cleanup
template, in the MediaWiki search box, enter &amp;#8220;Template:Cleanup&amp;#8221; and
click &amp;#8220;go&amp;#8221;. You should be told that the page doesn&amp;#8217;t exist, and given a
link to create the page. Create it, and enter the following&amp;nbsp;content:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;[[Image:Cleanup.png]]

&amp;#39;&amp;#39;&amp;#39;This page needs to be cleaned up or reorganized.&amp;#39;&amp;#39;&amp;#39;

[[Category:Pages Needing Cleanup]]
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now we create a category page for it, &amp;#8220;Category:Pages Needing Cleanup&amp;#8221;,
with the&amp;nbsp;content:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;__HIDDENCAT__

This category is for pages that are mostly correct and just need minor corrections or reorganization.

&amp;#39;&amp;#39;&amp;#39;To add pages to this category&amp;#39;&amp;#39;&amp;#39;, include the following at the &amp;#39;&amp;#39;&amp;#39;TOP&amp;#39;&amp;#39;&amp;#39; of the page:

{{cleanup}}
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;and save the&amp;nbsp;page.&lt;/p&gt;
&lt;p&gt;Now there&amp;#8217;s a few other changes we need to make. First, upload the
Cleanup.png graphic, which I got from wikimedia.org
&lt;a href="http://upload.wikimedia.org/wikipedia/en/thumb/f/f2/Edit-clear.svg/40px-Edit-clear.svg.png"&gt;here&lt;/a&gt;
and uploaded as&amp;nbsp;Cleanup.png.&lt;/p&gt;
&lt;p&gt;If you refresh the Template:Cleanup page, you should now see the image.
On a side note, &amp;#8220;__HIDDENCAT__&amp;#8221; on the category page prevents that
category from showing up in the category list at the bottom of the pages
we add to it, but this only works in MediaWiki 1.13 and&amp;nbsp;up.&lt;/p&gt;
&lt;p&gt;The last step is to add the &lt;a href="http://www.mediawiki.org/wiki/Template:Mbox"&gt;MediaWiki mbox
template&lt;/a&gt; and its
dependencies. While I did this once before, I didn&amp;#8217;t really remember the
steps, but I found a post on &lt;a href="http://glynor.com/2010/05/the-trouble-with-ambox-and-mbox/"&gt;Glynor&amp;#8217;s
blog&lt;/a&gt; that
details them rather&amp;nbsp;nicely:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Enable the &lt;a href="http://www.mediawiki.org/wiki/Extension:ParserFunctions"&gt;ParserFunctions
    extension&lt;/a&gt;.
    There are download and install instructions on the extension page,
    but you&amp;#8217;ll want to enable string functions. To do this, include the
    extension in LocalSettings.php&amp;nbsp;like:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="x"&gt;require_once( &amp;quot;$&lt;span class="caps"&gt;IP&lt;/span&gt;/extensions/ParserFunctions/ParserFunctions.php&amp;quot; );&lt;/span&gt;
&lt;span class="x"&gt;$wgPFEnableStringFunctions = true;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Create a new page in your wiki called &amp;#8220;Mediawiki:Common.css&amp;#8221;, and
    paste in the content from &lt;a href="http://www.mediawiki.org/wiki/MediaWiki:Common.css"&gt;MediaWiki.org
    MediaWiki:Common.css&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;Go to &lt;a href="http://en.wikipedia.org/w/index.php?title=Special:Export"&gt;Wikipedia&amp;#8217;s
    Special:Export&lt;/a&gt;
    page, and enter &amp;#8220;Template:Ambox&amp;#8221; in the box, check off &amp;#8220;Include
    templates&amp;#8221;, and export the template (and all dependencies) to a
    local &lt;span class="caps"&gt;XML&lt;/span&gt;&amp;nbsp;file.&lt;/li&gt;
&lt;li&gt;Go to the &amp;#8220;Special:Import&amp;#8221; page of your wiki, and upload the &lt;span class="caps"&gt;XML&lt;/span&gt;
    file you just grabbed from Wikipedia. This will import the Ambox and
    mbox templates, as well as their&amp;nbsp;dependencies.&lt;/li&gt;
&lt;li&gt;Now, if you go back and refresh the Template:Cleanup page you
    created, you should see the icon and a nice message&amp;nbsp;box:&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="cleanup message box" src="/GFX/mw_cleanup.png" /&gt;&lt;/p&gt;
&lt;p&gt;Finally, add the template and category pages for update and&amp;nbsp;deprecated:  &lt;/p&gt;
&lt;p&gt;&lt;code&gt;Template:Update&lt;/code&gt;&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;[[Image:Warning.png]]

&amp;#39;&amp;#39;&amp;#39;This page is in need of updating. Some information on it may be out of date, and should not be relied on.&amp;#39;&amp;#39;&amp;#39;

[[Category:Pages Needing Updates]]
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;Category:Pages Needing Updates&lt;/code&gt;&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;__HIDDENCAT__

This category keeps track of pages that need changes or updates.

&amp;#39;&amp;#39;&amp;#39;To add pages to this category&amp;#39;&amp;#39;&amp;#39;, include the following at the &amp;#39;&amp;#39;&amp;#39;TOP&amp;#39;&amp;#39;&amp;#39; of the page:

{{update}}
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;Template:Deprecated&lt;/code&gt;&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;[[Image:Critical.png]]

&amp;#39;&amp;#39;&amp;#39;The information on this page is badly out-of-date.&amp;#39;&amp;#39;&amp;#39; It describes a system that is no longer in production or has drastically changed, and &amp;#39;&amp;#39;&amp;#39;needs to be updated or rewritten&amp;#39;&amp;#39;&amp;#39;.

[[Category:Deprecated Content]]
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;Category:Deprecated Content&lt;/code&gt;&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt; __HIDDENCAT__

This category keeps track of pages that are &amp;#39;&amp;#39;&amp;#39;seriously old&amp;#39;&amp;#39;&amp;#39; or otherwise describe systems/hosts/etc. that have seriously changed from what is described in the page.

&amp;#39;&amp;#39;&amp;#39;To add pages to this category&amp;#39;&amp;#39;&amp;#39;, include the following at the &amp;#39;&amp;#39;&amp;#39;TOP&amp;#39;&amp;#39;&amp;#39; of the page:

{{deprecated}}
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;And the download the two images -
&lt;a href="http://upload.wikimedia.org/wikipedia/commons/9/98/Ambox_deletion.png"&gt;http://upload.wikimedia.org/wikipedia/commons/9/98/Ambox_deletion.png&lt;/a&gt;
gets uploaded as Critical.png and
&lt;a href="http://upload.wikimedia.org/wikipedia/en/f/f4/Ambox_content.png"&gt;http://upload.wikimedia.org/wikipedia/en/f/f4/Ambox_content.png&lt;/a&gt;
gets uploaded as&amp;nbsp;Warning.png.&lt;/p&gt;
&lt;p&gt;That&amp;#8217;s it. To use this, just add &lt;code&gt;{{cleanup}}&lt;/code&gt;, &lt;code&gt;{{deprecated}}&lt;/code&gt; or
&lt;code&gt;{{update}}&lt;/code&gt; to the top of a wiki article (adding the &lt;span class="caps"&gt;HTML&lt;/span&gt; comment
before it is also recommended), and it will add the page to the
appropriate category and show a nice message box at the top of the&amp;nbsp;page:  &lt;/p&gt;
&lt;p&gt;Cleanup:  &lt;/p&gt;
&lt;p&gt;&lt;img alt="cleanup message box" src="/GFX/mw_cleanup.png" /&gt;  &lt;/p&gt;
&lt;p&gt;Update:  &lt;/p&gt;
&lt;p&gt;&lt;img alt="update message box" src="/GFX/mw_update.png" /&gt;  &lt;/p&gt;
&lt;p&gt;Deprecated:  &lt;/p&gt;
&lt;p&gt;&lt;img alt="deprecated message box" src="/GFX/mw_deprecated.png" /&gt;&lt;/p&gt;
&lt;p&gt;I also add a link to the top of the main wiki&amp;nbsp;page:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;Things that need to be done: [[:Category:Pages Needing Updates|Pages Needing Updates]], [[:Category:Deprecated Content|Pages with Largely Deprecated Content]], [[:Category:Pages Needing Cleanup|Pages Needing Cleanup]], [[Special:WantedPages|Links to Nonexistent Pages]]
&lt;/pre&gt;&lt;/div&gt;</summary><category term="documentation"></category><category term="mediawiki"></category><category term="sysadmin"></category></entry><entry><title>Synaptics touchpad driver synclient in Fedora 16 / Xorg with UDEV</title><link href="http://blog.jasonantman.com/2012/01/synaptics-touchpad-driver-synclient-in-fedora-16-xorg-with-udev/" rel="alternate"></link><updated>2012-01-27T17:51:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-01-27:2012/01/synaptics-touchpad-driver-synclient-in-fedora-16-xorg-with-udev/</id><summary type="html">&lt;p&gt;I just installed &lt;a href="http://fedoraproject.org"&gt;Fedora 16&lt;/a&gt; on an older &lt;span class="caps"&gt;IBM&lt;/span&gt;
&lt;a href="http://www.thinkwiki.org/wiki/Category:T42"&gt;ThinkPad T42&lt;/a&gt; laptop.
Unfortunately, the two mouse buttons below the
&lt;a href="http://www.thinkwiki.org/wiki/UltraNav"&gt;UltraNav&lt;/a&gt; touchpad just won&amp;#8217;t
work at all. Before opening up the case and fiddling around, I decided
to try a software solution. Even after fairly exhaustive research, I
couldn&amp;#8217;t find anyone with a similar&amp;nbsp;problem.&lt;/p&gt;
&lt;p&gt;I did, however, find out that the synaptics touchpad driver has a
&lt;code&gt;synclient&lt;/code&gt; tool that can output the hardware events read directly from
the input device. I tried running &lt;code&gt;synclient -m 100&lt;/code&gt; (to monitor
hardware events every 100ms), but the only output that I got was
&lt;code&gt;Can't access shared memory area. SHMConfig disabled?&lt;/code&gt;. This was all a
bit confusing to me, since Fedora 16 doesn&amp;#8217;t even use an &lt;code&gt;xorg.conf&lt;/code&gt;
file. I was even more confused by a fair amount of information saying
that SHMConfig is no longer used in synaptics&amp;nbsp;1.2+.&lt;/p&gt;
&lt;p&gt;Long story short, the solution lies in
&lt;code&gt;/usr/share/X11/xorg.conf.d/50-synaptics.conf&lt;/code&gt;, which holds the
synaptics config snippets for xorg. All you need to do is add the
SHMConfig line before the end of the&amp;nbsp;section:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;Section &amp;quot;InputClass&amp;quot;
    Identifier &amp;quot;touchpad catchall&amp;quot;
    Driver &amp;quot;synaptics&amp;quot;
    ...
    Option &amp;quot;SHMConfig&amp;quot; &amp;quot;on&amp;quot;
EndSection
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;and then restart your X server. Now, running &lt;code&gt;synclient -m&lt;/code&gt; should work&amp;nbsp;fine.&lt;/p&gt;
&lt;p&gt;I have to thank Red Hat&amp;#8217;s &lt;a href="http://fedoraproject.org/wiki/User:Kevin"&gt;Kevin
Fenzi&lt;/a&gt; (nirik on &lt;a href="http://webchat.freenode.net/?randomnick=1&amp;amp;channels=fedora&amp;amp;uio=d4"&gt;#fedora on
irc.freenode.org&lt;/a&gt;)
for putting another set of eyeballs on the problem, and throwing out
some ideas that finally led me to the&amp;nbsp;solution.&lt;/p&gt;</summary><category term="synaptics"></category><category term="synclient"></category><category term="thinkpad"></category><category term="touchpad"></category><category term="xorg"></category></entry><entry><title>Two Interesting Conference Presentations</title><link href="http://blog.jasonantman.com/2012/01/two-interesting-conference-presentations/" rel="alternate"></link><updated>2012-01-25T21:07:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-01-25:2012/01/two-interesting-conference-presentations/</id><summary type="html">&lt;p&gt;Two interesting presentations - which, unfortunately, I only heard the
audio for (they came up in my podcast playlist during my commute&amp;nbsp;today).&lt;/p&gt;
&lt;p&gt;For the non-techie-geeks out there, &lt;a href="http://www.oscon.com/oscon2011/public/schedule/detail/18941"&gt;All Your Brains Suck - Known Bugs
And Exploits In Wetware: &lt;span class="caps"&gt;OSCON&lt;/span&gt; 2011 - O&amp;#8217;Reilly Conferences, July 25 -
29, 2011, Portland,
&lt;span class="caps"&gt;OR&lt;/span&gt;&lt;/a&gt; is an
interesting talk from Paul Fenwick. Yes, it&amp;#8217;s from a techie conference
(&lt;a href="http://en.wikipedia.org/wiki/Wetware_(brain)"&gt;wetware&lt;/a&gt; == the brain),
but it&amp;#8217;s mostly psychology-based, and covers some &lt;span class="caps"&gt;REALLY&lt;/span&gt; interesting
things about how the human brain works, especially with an emphasis on
how the brain is manipulated in advertising and&amp;nbsp;otherwise.&lt;/p&gt;
&lt;p&gt;For the techie-geeks among us (well, given the other link, &amp;#8220;geeks&amp;#8221; would
be too vague), &lt;a href="http://www.youtube.com/watch?v=y0mHo7SMCQk&amp;amp;list=PLC394849408B5F203&amp;amp;index=5&amp;amp;feature=plpp_video"&gt;Velocity 2011: Theo Schlossnagle, &amp;#8220;Career
Development&amp;#8221;&lt;/a&gt;.
It&amp;#8217;s a bit of a rant, but a good talk for us infrastructure/ops people,
and developers as well, and covers some thoughts on both careers and how
we should do out&amp;nbsp;jobs.&lt;/p&gt;</summary></entry><entry><title>SOPA Blackouts</title><link href="http://blog.jasonantman.com/2012/01/sopa-blackouts/" rel="alternate"></link><updated>2012-01-24T20:29:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-01-24:2012/01/sopa-blackouts/</id><summary type="html">&lt;p&gt;Well, good news about &lt;span class="caps"&gt;SOPA&lt;/span&gt;. All of my sites participated in the &lt;a href="http://sopastrike.com/"&gt;&lt;span class="caps"&gt;SOPA&lt;/span&gt;
Strike&lt;/a&gt;. While I didn&amp;#8217;t fully black everything
out (I guess I wasn&amp;#8217;t keeping up enough on what others were doing&amp;#8230;), I
displayed a full-screen popover with a message (I have a version of my
homepage with the popover enabled
&lt;a href="http://www.jasonantman.com/sopa.php"&gt;here&lt;/a&gt;). I actually spent a few
hours trying to come up with a safe, effective, cross-browser way to do
it with one line of javascript put in all of my pages (everything from
static &lt;span class="caps"&gt;HTML&lt;/span&gt; to &lt;a href="http://wordpress.org/"&gt;WordPress&lt;/a&gt; and
&lt;a href="http://www.redmine.org/"&gt;redmine&lt;/a&gt;), but ended up giving up and
including a few javascript files and a stylesheet too. At some point,
I&amp;#8217;ll try and post the info on how I did&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;Anyway, I just wanted to share a &lt;em&gt;really&lt;/em&gt; cool &lt;span class="caps"&gt;SOPA&lt;/span&gt; protest blackout
page that I saw:
&lt;a href="http://www.zachstronaut.com/lab/text-shadow-box/stop-sopa.html"&gt;http://www.zachstronaut.com/lab/text-shadow-box/stop-sopa.html&lt;/a&gt;,
by Zachary Johnson. Of course, apparently, I&amp;#8217;m not the only person who
saw&amp;nbsp;it&amp;#8230;&lt;/p&gt;</summary><category term="blackout"></category><category term="censorship"></category><category term="SOPA"></category></entry><entry><title>PHP Script to Query Linode DNS Manager API</title><link href="http://blog.jasonantman.com/2012/01/php-script-to-query-linode-dns-manager-api/" rel="alternate"></link><updated>2012-01-20T22:49:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-01-20:2012/01/php-script-to-query-linode-dns-manager-api/</id><summary type="html">&lt;p&gt;I&amp;#8217;m in the process of moving all of my public-facing services, currently
hosted on a single
&lt;a href="http://www.linode.com/?r=5c8ad2931b410b55455aadbcf0a8d86d6f698a91"&gt;Linode&lt;/a&gt;,
to a new virtual machine (still with Linode, of course, just a new
CentOS 6 &lt;span class="caps"&gt;VM&lt;/span&gt;). Of course, I&amp;#8217;ve got a &lt;em&gt;lot&lt;/em&gt; (about 60) of &lt;span class="caps"&gt;DNS&lt;/span&gt; records,
spread across 8 domains, that point at the old machine. For name-based
vhosts in Apache, my usual procedure is to migrate everything over to
the new host and then change &lt;span class="caps"&gt;DNS&lt;/span&gt;, and once the change propagates (I&amp;#8217;m
using Linode&amp;#8217;s &lt;span class="caps"&gt;DNS&lt;/span&gt; hosting, so it makes things a &lt;span class="caps"&gt;LOT&lt;/span&gt; easier but I don&amp;#8217;t
have &lt;code&gt;rndc reload&lt;/code&gt; anymore) I test in a browser and, assuming all is
well, disable the vhost on the old server. To do all this, I need an
easy way to get a list of all the &lt;span class="caps"&gt;DNS&lt;/span&gt; records that still point to the
old&amp;nbsp;machine.&lt;/p&gt;
&lt;p&gt;Luckily, to augment their web-based control panel (Linode Manager),
Linode has a pretty full-featured &lt;a href="http://www.linode.com/api/"&gt;&lt;span class="caps"&gt;API&lt;/span&gt;&lt;/a&gt; with
bindings for Python, Perl, &lt;span class="caps"&gt;PHP&lt;/span&gt;, Ruby, Java and others. While I like
Python and I&amp;#8217;m starting to learn Perl (by trying to shift most of my
non-time-sensitive scripting to it) for my new job, &lt;span class="caps"&gt;PHP&lt;/span&gt; is still my
strongest language (and the majority of my existing administrative
scripting is written in it, especially handy when it comes time to add a
web front-end to things). So I wrote the following script to query
Linode&amp;#8217;s &lt;a href="http://www.linode.com/api/dns"&gt;&lt;span class="caps"&gt;DNS&lt;/span&gt; Manager &lt;span class="caps"&gt;API&lt;/span&gt;&lt;/a&gt; using &lt;a href="https://github.com/krmdrms/linode/"&gt;Kerem
Durmus&amp;#8217; Linode &lt;span class="caps"&gt;API&lt;/span&gt; &lt;span class="caps"&gt;PHP&lt;/span&gt; wrapper&lt;/a&gt;
(installation instructions and info at that Github link). The script
simply writes all Linode &lt;span class="caps"&gt;DNS&lt;/span&gt; records for all zones to a &lt;span class="caps"&gt;CSV&lt;/span&gt; file (this
could take a while if you have a lot of&amp;nbsp;records&amp;#8230;).&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="x"&gt;   *&lt;/span&gt;
&lt;span class="x"&gt;   * &lt;span class="caps"&gt;INSTALLATION&lt;/span&gt; (as per krmdrms &lt;span class="caps"&gt;README&lt;/span&gt;):&lt;/span&gt;
&lt;span class="x"&gt;   *  pear install Net_URL2-0.3.1&lt;/span&gt;
&lt;span class="x"&gt;   *  pear install HTTP_Request2-0.5.2&lt;/span&gt;
&lt;span class="x"&gt;   *  pear channel-discover pear.keremdurmus.com&lt;/span&gt;
&lt;span class="x"&gt;   *  pear install krmdrms/Services_Linode&lt;/span&gt;
&lt;span class="x"&gt;   *&lt;/span&gt;
&lt;span class="x"&gt;   * Also requires php-openssl / php5-openssl&lt;/span&gt;
&lt;span class="x"&gt;   *&lt;/span&gt;
&lt;span class="x"&gt;   * &lt;span class="caps"&gt;USAGE&lt;/span&gt;: php linodeDnsToCsv.php&lt;/span&gt;
&lt;span class="x"&gt;   *&lt;/span&gt;
&lt;span class="x"&gt;   * Copyright 2011 Jason Antman  , all rights reserved.&lt;/span&gt;
&lt;span class="x"&gt;   * This script is free for use by anyone anywhere, provided that you comply with the following terms:&lt;/span&gt;
&lt;span class="x"&gt;   * 1) Keep this notice and copyright statement intact.&lt;/span&gt;
&lt;span class="x"&gt;   * 2) Send any substantial changes, improvements or bog fixes back to me at the above address.&lt;/span&gt;
&lt;span class="x"&gt;   * 3) If you include this in a product or redistribute it, you notify me, and include my name in the credits or changelog.&lt;/span&gt;
&lt;span class="x"&gt;   *&lt;/span&gt;
&lt;span class="x"&gt;   * The following &lt;span class="caps"&gt;URL&lt;/span&gt; always points to the newest version of this script. If you obtained it from another source, you should&lt;/span&gt;
&lt;span class="x"&gt;   * check here:&lt;/span&gt;
&lt;span class="x"&gt;   * $HeadURL: http://svn.jasonantman.com/misc-scripts/linodeDnsToCsv.php $&lt;/span&gt;
&lt;span class="x"&gt;   * $LastChangedRevision: 25 $&lt;/span&gt;
&lt;span class="x"&gt;   *&lt;/span&gt;
&lt;span class="x"&gt;   * &lt;span class="caps"&gt;CHANGELOG&lt;/span&gt;:&lt;/span&gt;
&lt;span class="x"&gt;   * 2011-12-17 Jason Antman :&lt;/span&gt;
&lt;span class="x"&gt;   *    merged into my svn repo&lt;/span&gt;
&lt;span class="x"&gt;   * 2011-09-12 Jason Antman :&lt;/span&gt;
&lt;span class="x"&gt;   *    initial version of script&lt;/span&gt;
&lt;span class="x"&gt;   *&lt;/span&gt;
&lt;span class="x"&gt;   */&lt;/span&gt;

&lt;span class="x"&gt;require_once(&amp;quot;/var/www/linode_apikey.php&amp;quot;); // &lt;span class="caps"&gt;PHP&lt;/span&gt; file containing:   define(&amp;quot;API_KEY_LINODE&amp;quot;, &amp;quot;myApiKeyHere&amp;quot;);&lt;/span&gt;
&lt;span class="x"&gt;require_once(&amp;#39;Services/Linode.php&amp;#39;);&lt;/span&gt;

&lt;span class="x"&gt;// get list of all domains&lt;/span&gt;
&lt;span class="x"&gt;$domains = array(); // &lt;span class="caps"&gt;DOMAINID&lt;/span&gt; =&amp;gt; domain.tld&lt;/span&gt;
&lt;span class="x"&gt;try {&lt;/span&gt;
&lt;span class="x"&gt;  $linode = new Services_Linode(API_KEY_LINODE);&lt;/span&gt;
&lt;span class="x"&gt;  $result = $linode-&amp;gt;domain_list();&lt;/span&gt;

&lt;span class="x"&gt;  foreach($result[&amp;#39;&lt;span class="caps"&gt;DATA&lt;/span&gt;&amp;#39;] as $domain)&lt;/span&gt;
&lt;span class="x"&gt;    {&lt;/span&gt;
&lt;span class="x"&gt;      $domains[$domain[&amp;#39;&lt;span class="caps"&gt;DOMAINID&lt;/span&gt;&amp;#39;]] = $domain[&amp;quot;&lt;span class="caps"&gt;DOMAIN&lt;/span&gt;&amp;quot;];&lt;/span&gt;
&lt;span class="x"&gt;    }&lt;/span&gt;
&lt;span class="x"&gt;}&lt;/span&gt;
&lt;span class="x"&gt;catch (Services_Linode_Exception $e)&lt;/span&gt;
&lt;span class="x"&gt;{&lt;/span&gt;
&lt;span class="x"&gt;  echo $e-&amp;gt;getMessage();&lt;/span&gt;
&lt;span class="x"&gt;}&lt;/span&gt;

&lt;span class="x"&gt;$records = array(); // array of resource records&lt;/span&gt;
&lt;span class="x"&gt;$linode-&amp;gt;batching = true;&lt;/span&gt;
&lt;span class="x"&gt;foreach($domains as $id =&amp;gt; $name)&lt;/span&gt;
&lt;span class="x"&gt;{&lt;/span&gt;
&lt;span class="x"&gt;  $linode-&amp;gt;domain_resource_list(array(&amp;#39;DomainID&amp;#39; =&amp;gt; $id));&lt;/span&gt;
&lt;span class="x"&gt;}&lt;/span&gt;

&lt;span class="x"&gt;try {&lt;/span&gt;
&lt;span class="x"&gt;  $result = $linode-&amp;gt;batchFlush();&lt;/span&gt;

&lt;span class="x"&gt;  foreach($result as $batchPart)&lt;/span&gt;
&lt;span class="x"&gt;    {&lt;/span&gt;
&lt;span class="x"&gt;      foreach($batchPart[&amp;#39;&lt;span class="caps"&gt;DATA&lt;/span&gt;&amp;#39;] as $rrec)&lt;/span&gt;
&lt;span class="x"&gt;    {&lt;/span&gt;
&lt;span class="x"&gt;      if(! isset($records[$rrec[&amp;#39;&lt;span class="caps"&gt;DOMAINID&lt;/span&gt;&amp;#39;]])){ $records[$rrec[&amp;#39;&lt;span class="caps"&gt;DOMAINID&lt;/span&gt;&amp;#39;]] = array();}&lt;/span&gt;
&lt;span class="x"&gt;      $records[$rrec[&amp;#39;&lt;span class="caps"&gt;DOMAINID&lt;/span&gt;&amp;#39;]][$rrec[&amp;#39;&lt;span class="caps"&gt;RESOURCEID&lt;/span&gt;&amp;#39;]] = array(&amp;#39;name&amp;#39; =&amp;gt; $rrec[&amp;#39;&lt;span class="caps"&gt;NAME&lt;/span&gt;&amp;#39;], &amp;#39;type&amp;#39; =&amp;gt; $rrec[&amp;#39;&lt;span class="caps"&gt;TYPE&lt;/span&gt;&amp;#39;], &amp;#39;target&amp;#39; =&amp;gt; $rrec[&amp;#39;&lt;span class="caps"&gt;TARGET&lt;/span&gt;&amp;#39;]);&lt;/span&gt;
&lt;span class="x"&gt;    }&lt;/span&gt;
&lt;span class="x"&gt;    }&lt;/span&gt;
&lt;span class="x"&gt;}&lt;/span&gt;
&lt;span class="x"&gt;catch (Services_Linode_Exception $e)&lt;/span&gt;
&lt;span class="x"&gt;{&lt;/span&gt;
&lt;span class="x"&gt;  echo $e-&amp;gt;getMessage();&lt;/span&gt;
&lt;span class="x"&gt;}&lt;/span&gt;

&lt;span class="x"&gt;echo &amp;#39;&amp;quot;recid&amp;quot;,&amp;quot;domain&amp;quot;,&amp;quot;name&amp;quot;,&amp;quot;type&amp;quot;,&amp;quot;target&amp;quot;&amp;#39;.&amp;quot;\n&amp;quot;;&lt;/span&gt;
&lt;span class="x"&gt;foreach($domains as $id =&amp;gt; $name)&lt;/span&gt;
&lt;span class="x"&gt;{&lt;/span&gt;
&lt;span class="x"&gt;  foreach($records[$id] as $recid =&amp;gt; $arr)&lt;/span&gt;
&lt;span class="x"&gt;    {&lt;/span&gt;
&lt;span class="x"&gt;      echo &amp;#39;&amp;quot;&amp;#39;.$recid.&amp;#39;&amp;quot;,&amp;quot;&amp;#39;.$name.&amp;#39;&amp;quot;,&amp;quot;&amp;#39;.$arr[&amp;#39;name&amp;#39;].&amp;#39;&amp;quot;,&amp;quot;&amp;#39;.$arr[&amp;#39;type&amp;#39;].&amp;#39;&amp;quot;,&amp;quot;&amp;#39;.$arr[&amp;#39;target&amp;#39;].&amp;quot;\&amp;quot;\n&amp;quot;;&lt;/span&gt;
&lt;span class="x"&gt;    }&lt;/span&gt;
&lt;span class="x"&gt;}&lt;/span&gt;


&lt;span class="x"&gt;?&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;That will print out a list containing the Linode &lt;span class="caps"&gt;DNS&lt;/span&gt; record id (recid),
domain, record name, type and&amp;nbsp;target:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&amp;quot;recid&amp;quot;,&amp;quot;domain&amp;quot;,&amp;quot;name&amp;quot;,&amp;quot;type&amp;quot;,&amp;quot;target&amp;quot;
&amp;quot;137423&amp;quot;,&amp;quot;jasonantman.com&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;TXT&amp;quot;,&amp;quot;v=spf1 mx:jasonantman.com -all&amp;quot;
&amp;quot;3597859&amp;quot;,&amp;quot;jasonantman.com&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;MX&amp;quot;,&amp;quot;linode1.jasonantman.com&amp;quot;
&amp;quot;3488952&amp;quot;,&amp;quot;jasonantman.com&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;mx&amp;quot;,&amp;quot;linode2.jasonantman.com&amp;quot;
&amp;quot;3472952&amp;quot;,&amp;quot;jasonantman.com&amp;quot;,&amp;quot;blog&amp;quot;,&amp;quot;CNAME&amp;quot;,&amp;quot;linode1.jasonantman.com&amp;quot;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If you want to, say, search for only records that include host
&amp;#8220;example&amp;#8221;, you could use grep and awk&amp;nbsp;like:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;php linodeDnsToCsv.php | grep linode1 | grep -v &lt;span class="s1"&gt;&amp;#39;&amp;quot;linode1&amp;quot;,&amp;quot;a&amp;quot;&amp;#39;&lt;/span&gt; | awk -F , &lt;span class="s1"&gt;&amp;#39;{printf &amp;quot;%-27s %-20s %-7s %s\n&amp;quot;, $2, $3, $4, $5}&amp;#39;&lt;/span&gt; | sed &lt;span class="s1"&gt;&amp;#39;s/&amp;quot;//g&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;I hope this helps someone else out, and saves them a few minutes of&amp;nbsp;coding&amp;#8230;&lt;/p&gt;</summary><category term="api"></category><category term="dns"></category><category term="linode"></category><category term="PHP"></category><category term="sysadmin"></category></entry><entry><title>Secure rsnapshot backups over the WAN via SSH</title><link href="http://blog.jasonantman.com/2012/01/secure-rsnapshot-backups-over-the-wan-via-ssh/" rel="alternate"></link><updated>2012-01-15T17:26:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-01-15:2012/01/secure-rsnapshot-backups-over-the-wan-via-ssh/</id><summary type="html">&lt;p&gt;Since I moved all of my &lt;span class="caps"&gt;WAN&lt;/span&gt;-facing stuff (mail, web, this blog, svn
etc.) to a virtual server with &lt;a href="http://www.linode.com"&gt;Linode&lt;/a&gt;, and just
have a desktop at home, it&amp;#8217;s no longer practical to use
&lt;a href="http://www.bacula.org/"&gt;Bacula&lt;/a&gt; for backups. Linode manages daily and
weekly backups through their backup service, but they&amp;#8217;ll only restore a
full filesystem at a time. I wanted something that would keep daily and
weekly incremental backups long enough that I could find a file changed
(or accidentally deleted) a few days or weeks ago. Since I&amp;#8217;d be backing
up to my desktop at home (which is on a residential dynamic &lt;span class="caps"&gt;IP&lt;/span&gt;
connection), the logical solution was something using
&lt;a href="http://rsync.samba.org/"&gt;rsync&lt;/a&gt;. Even better than that is the
&lt;a href="http://rsnapshot.org/"&gt;rsnapshot&lt;/a&gt; tool, which builds upon rsync and
hard links to manage incremental backups with as little disk usage as
possible (though I&amp;#8217;d certainly recommend excluding log&amp;nbsp;files).&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m pretty strict about security. Since my home connection has a dynamic
&lt;span class="caps"&gt;IP&lt;/span&gt;, things are a bit more complicated - I can&amp;#8217;t push from the server, I
can&amp;#8217;t &lt;span class="caps"&gt;ACL&lt;/span&gt; or firewall the server to just my home &lt;span class="caps"&gt;IP&lt;/span&gt;, and an IPsec &lt;span class="caps"&gt;VPN&lt;/span&gt;
would be difficult to accomplish (not to mention add a lot of overhead
to big file transfers). So, I opted for a solution that uses &lt;span class="caps"&gt;SSH&lt;/span&gt;
key-based authentication, forced comands, and a C&amp;nbsp;wrapper.&lt;/p&gt;
&lt;p&gt;The configuration of rsync and rsnapshot is mostly out of the scope of
this post. There are plenty of good resources for that, so I&amp;#8217;ll just
cover the things that won&amp;#8217;t be found in most tutorials. Also, I&amp;#8217;ll be
referring to the remote machine to be backed up as the &amp;#8220;remote host&amp;#8221; and
the local machine which triggers the backup and stores the data as the
&amp;#8220;local&amp;nbsp;host&amp;#8221;.&lt;/p&gt;
&lt;h2 id="local-host-setup-part-i"&gt;Local Host Setup - Part&amp;nbsp;I&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Choose and create a directory to store your backups in. I have a &lt;span class="caps"&gt;1TB&lt;/span&gt;
    external disk mounted at &lt;code&gt;/mnt/backup/&lt;/code&gt;, so I chose
    &lt;code&gt;/mnt/backup/rsnapshot/&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Generate two sets of password-less &lt;span class="caps"&gt;SSH&lt;/span&gt; keys using the &lt;code&gt;ssh-keygen&lt;/code&gt;
    program. One will be used to run the rsync command on the remote
    host, the other will be used to trigger your pre- and post-backup
    scripts. Name them accordingly (i.e.
    &amp;#8220;remoteHostname_remoteBackupUsername_cmd&amp;#8221; and
    &amp;#8220;remoteHostname_remoteBackupUsername_rsync&amp;#8221;). Now, get (scp) the
    public key for each pair to the remote&amp;nbsp;host.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="remote-host-setup"&gt;Remote Host&amp;nbsp;Setup&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Ensure that rsync is installed on the&amp;nbsp;host.&lt;/li&gt;
&lt;li&gt;Create a user to run the backups. I called this user &amp;#8220;rsyncuser&amp;#8221;.
    Create a home directory, and a group for the user. Do not set a
    password (you don&amp;#8217;t want password&amp;nbsp;logins).&lt;/li&gt;
&lt;li&gt;Copy the public key files you created above to the user&amp;#8217;s &lt;code&gt;~/.ssh/&lt;/code&gt;
    directory.&lt;/li&gt;
&lt;li&gt;Cat the &amp;#8220;remoteHostname_remoteBackupUsername_cmd&amp;#8221; public key into
    the user&amp;#8217;s &lt;code&gt;~/.ssh/authorized_keys&lt;/code&gt; file.&lt;/li&gt;
&lt;li&gt;Now comes the first fun part. Let&amp;#8217;s assume that your pre- and
    post-backup scripts are &lt;code&gt;/root/bin/rsnapshot-pre.sh&lt;/code&gt; and
    &lt;code&gt;/root/bin/rsnapshot-post.sh&lt;/code&gt;, respectively. As root, grab a copy of
    cmd-wrapper.c (from
    &lt;a href="https://github.com/jantman/misc-scripts/blob/master/cmd-wrapper.c"&gt;GitHub&lt;/a&gt;
    or at the bottom of this post). Modify for your use - the only thing
    likely to change is line 38, which ensures it will only run for a
    member of &lt;span class="caps"&gt;GID&lt;/span&gt; 502. Change this to rsyncuser&amp;#8217;s &lt;span class="caps"&gt;GID&lt;/span&gt;. Compile the
    wrapper with &lt;code&gt;gcc -o cmd-wrapper cmd-wrapper.c&lt;/code&gt;. Copy it to
    rsyncuser&amp;#8217;s home directory (/home/rsyncuser), &lt;code&gt;chown root:rsyncuser&lt;/code&gt;
    and &lt;code&gt;chmod 4750&lt;/code&gt;. Yes, this sets the &lt;span class="caps"&gt;SUID&lt;/span&gt; bit. The program will now
    be owned by root, and runnable &lt;em&gt;as root&lt;/em&gt; by rsyncuser (or, more
    specifically, any member of the rsyncuser&amp;nbsp;group).&lt;/li&gt;
&lt;li&gt;Open rsyncuser&amp;#8217;s &lt;code&gt;.ssh/authorized_keys&lt;/code&gt; file in a text editor. At
    the beginning of the &amp;#8220;remoteHostname_remoteBackupUsername_cmd&amp;#8221; key
    line, prepend &lt;code&gt;command="/home/rsyncuser/cmd-wrapper"&lt;/code&gt;. This sets up
    &lt;span class="caps"&gt;SSH&lt;/span&gt; forced command (there&amp;#8217;s a good overview in &lt;a href="http://oreilly.com/catalog/sshtdg/chapter/ch08.html"&gt;O&amp;#8217;Reilly&amp;#8217;s &lt;span class="caps"&gt;SSH&lt;/span&gt;: The
    Definitive
    Guide&lt;/a&gt;) so that
    when this key is used to login, it will directly execute
    &lt;code&gt;/home/rsyncuser/cmd-wrapper&lt;/code&gt; and then exit, without allowing access
    to anything&amp;nbsp;else.&lt;/li&gt;
&lt;li&gt;Add rsyncuser to &lt;code&gt;AllowUsers&lt;/code&gt; in &lt;code&gt;/etc/ssh/sshd_config&lt;/code&gt; (you &lt;em&gt;do&lt;/em&gt;
    limit user access via &lt;span class="caps"&gt;SSH&lt;/span&gt;, right?) and then reload&amp;nbsp;sshd.&lt;/li&gt;
&lt;li&gt;Now, if you &lt;span class="caps"&gt;SSH&lt;/span&gt; to rsyncuser@remoteHost from the local host, using
    the &amp;#8220;_cmd&amp;#8221; ssh key and a command of &amp;#8220;pre&amp;#8221; (i.e.
    &lt;code&gt;ssh -i /path/to/remoteHostname_remoteBackupUsername_cmd rsyncuser@remoteHost pre&lt;/code&gt;),
    it should execute &lt;code&gt;/root/bin/rsnapshot-pre.sh&lt;/code&gt; ad root, and you
    should see the output&amp;nbsp;locally.&lt;/li&gt;
&lt;li&gt;Repeat the above step for the post-backup script (replacing &amp;#8220;pre&amp;#8221;
    above with &amp;#8220;post&amp;#8221;). You should now have your pre- and post-backup
    scripts working, and triggered remotely. &lt;em&gt;(Note: these steps, and
    some of the other setup here, is a bit more complex so that it will
    work better with rsnapshot backups of multiple remote&amp;nbsp;hosts.)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;Cat the &amp;#8220;remoteHostname_remoteBackupUsername_rsync&amp;#8221; public key
    into the backup user&amp;#8217;s &lt;code&gt;~/.ssh/authorized_keys&lt;/code&gt; file.&lt;/li&gt;
&lt;li&gt;As root, grab a copy of rsync-wrapper.c (from
    &lt;a href="https://github.com/jantman/misc-scripts/blob/master/rsync-wrapper.c"&gt;GitHub&lt;/a&gt;
    or at the bottom of this post). Modify for your use - the only thing
    likely to change is line 38, which ensures it will only run for a
    member of &lt;span class="caps"&gt;GID&lt;/span&gt; 502 (change this to rsyncuser&amp;#8217;s &lt;span class="caps"&gt;GID&lt;/span&gt;), and perhaps the
    path of or arguments passed to rsync (the wrapper will call
    &lt;code&gt;/usr/bin/rsync --server --sender -vlogDtprRe.iLsf --numeric-ids . /&lt;/code&gt;).
    Compile the wrapper with &lt;code&gt;gcc -o rsync-wrapper rsync-wrapper.c&lt;/code&gt;.
    Copy it to rsyncuser&amp;#8217;s home directory (/home/rsyncuser),
    &lt;code&gt;chown root:rsyncuser&lt;/code&gt; and &lt;code&gt;chmod 4750&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Open rsyncuser&amp;#8217;s &lt;code&gt;.ssh/authorized_keys&lt;/code&gt; file in a text editor. At
    the beginning of the &amp;#8220;remoteHostname_remoteBackupUsername_rsync&amp;#8221;
    key line, prepend &lt;code&gt;command="/home/rsyncuser/rsync-wrapper"&lt;/code&gt;. This
    will run rsync with the arguments specified in rsync-wrapper.c every
    time this key is used to&amp;nbsp;login.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="local-host-setup-part-ii"&gt;Local Host Setup - Part&amp;nbsp;&lt;span class="caps"&gt;II&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;I use totally separate configs for each host that I backup, to keep
things clean and to let me enable, disable, or tweak one remote backup
without affecting the&amp;nbsp;others.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Create host-specific pre- and post-backup scripts. I put them in
    &lt;code&gt;/etc/rsnapshot.d/&lt;/code&gt;.
    &lt;code&gt;/etc/rsnapshot.d/pre-remoteHostName.sh&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="c"&gt;#!/bin/bash&lt;/span&gt;

&lt;span class="c"&gt;# do anything else needed on the local system before a backup&lt;/span&gt;
ssh -i /path/to/remoteHostname_remoteBackupUsername_cmd rsyncuser@remoteHost pre
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;/etc/rsnapshot.d/post-remoteHostName.sh&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="c"&gt;#!/bin/bash&lt;/span&gt;

&lt;span class="c"&gt;# do anything else needed on the local system after a backup&lt;/span&gt;
ssh -i /path/to/remoteHostname_remoteBackupUsername_cmd rsyncuser@remoteHost post
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Setup a set of rsync include and exclude files (see &lt;code&gt;man rsync(1)&lt;/code&gt;,
    &lt;code&gt;--include-from=&lt;/code&gt; and &lt;code&gt;--exclude-from=&lt;/code&gt;). I put mine at
    &lt;code&gt;/etc/rsnapshot.d/rsync-include-remoteHostName.txt&lt;/code&gt; and
    &lt;code&gt;/etc/rsnapshot.d/rsync-exclude-remoteHostName.txt&lt;/code&gt;, respectively.
    (Examples included at the bottom of this&amp;nbsp;post).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Configure rsnapshot. I use a separate config file for each remote
    host. Copy the default &lt;code&gt;/etc/rsnapshot.conf&lt;/code&gt; to
    &lt;code&gt;/etc/rsnapshot-remoteHostName.conf&lt;/code&gt;. The important items are
    &lt;code&gt;rsync_short_args&lt;/code&gt;, &lt;code&gt;rsync_long_args&lt;/code&gt;, &lt;code&gt;ssh_args&lt;/code&gt;, &lt;code&gt;cmd_preexec&lt;/code&gt;,
    &lt;code&gt;cmd_postexec&lt;/code&gt; and &lt;code&gt;backup&lt;/code&gt;. Here&amp;#8217;s an example of my config file,
    with comments and blank lines&amp;nbsp;removed:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;config_version  1.2
snapshot_root   /mnt/backup/rsnapshot/
cmd_cp          /bin/cp
cmd_rm          /bin/rm
cmd_rsync       /usr/bin/rsync
cmd_ssh         /usr/bin/ssh
cmd_logger      /bin/logger
cmd_du          /usr/bin/du
cmd_rsnapshot_diff      /usr/bin/rsnapshot-diff
interval        daily   14 # save 14 daily backups
interval        weekly  6 # save 6 weekly backups
verbose         2
loglevel        3
logfile /var/log/rsnapshot-remoteHostName.log
lockfile        /var/run/rsnapshot-remoteHostName.pid
rsync_short_args        -a
rsync_long_args --delete --numeric-ids --relative --delete-excluded
ssh_args        -i /path/to/remoteHostname_remoteBackupUsername_rsync
exclude_file    /etc/rsnapshot.d/rsync-exclude-remoteHostName.txt
include_file    /etc/rsnapshot.d/rsync-include-remoteHostName.txt
link_dest       1
use_lazy_deletes        1
cmd_preexec     /etc/rsnapshot.d/pre-remoteHostName.sh
cmd_postexec    /etc/rsnapshot.d/post-remoteHostName.sh
backup  rsyncuser@remoteHostName:/      remoteHostName/
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The &lt;code&gt;backup&lt;/code&gt; line is what tells rsync what to back up (&lt;code&gt;/&lt;/code&gt; on
remoteHostName, logging in as rsyncuser), and where to back up to&amp;nbsp;(snapshot_root/remoteHostName/).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Create two scripts that will actually trigger the backups, which
    I&amp;#8217;ll call &lt;code&gt;/root/bin/rsnapshot-daily.sh&lt;/code&gt; and &lt;code&gt;/root/bin/rsnapshot-weekly.sh&lt;/code&gt;:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;/root/bin/rsnapshot-daily.sh&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="c"&gt;#!/bin/bash&lt;/span&gt;

/usr/bin/rsnapshot -c /etc/rsnapshot-remoteHostName.conf daily
&lt;span class="c"&gt;# add other hosts here; note, they&amp;#39;ll run in series&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;/root/bin/rsnapshot-weekly.sh&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="c"&gt;#!/bin/bash&lt;/span&gt;

/usr/bin/rsnapshot -c /etc/rsnapshot-remoteHostName.conf weekly
&lt;span class="c"&gt;# add other hosts here; note, they&amp;#39;ll run in series&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Add two entries to root&amp;#8217;s croontab to run the rsnapshot backups.
    Adjust the following days and times to your&amp;nbsp;liking:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;0 1 * * Mon /root/bin/rsnapshot-weekly.sh # run the weekly backups every Monday at 01:00
30 2 * * * /root/bin/rsnapshot-daily.sh # run the daily backups every day at 02:30, which *should* be after the weekly finished on Monday morning
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Check, after the next scheduled runs, that everything appears to
    have run correctly. If you want, you can manually trigger the daily
    script and watch what happens. If you do this more than once, you
    should delete the directories it creates, or else rotation will be
    messed up. If you have issues with rsync, aside from the usual
    troubleshooting, check that rsync-wrapper.c is calling rsync with
    the same arguments that rsnapshot is sending. It may be useful to
    use my
    &lt;a href="https://github.com/jantman/misc-scripts/blob/master/print-cmd.sh"&gt;print-cmd.sh&lt;/a&gt;
    script in place of the &amp;#8220;rsync-wrapper&amp;#8221; forced command. This script
    will simply log the command rsnapshot calls via&amp;nbsp;&lt;span class="caps"&gt;SSH&lt;/span&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Assuming all of this worked, you should now have a fairly secure
&lt;span class="caps"&gt;SSH&lt;/span&gt;-based remotely-triggered backup system. In a follow-up post I
provide my &lt;a href="/2012/02/nagios-check-plugin-for-rsnapshot-backups/"&gt;Nagios Check Plugin for Rsnapshot
Backups&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The referenced scripts, config files, etc. are&amp;nbsp;below:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;cmd-wrapper.c&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="cp"&gt;#include &lt;/span&gt;
&lt;span class="cp"&gt;#include &lt;/span&gt;
&lt;span class="cp"&gt;#include &lt;/span&gt;
&lt;span class="cp"&gt;#include &lt;/span&gt;
&lt;span class="cp"&gt;#include &lt;/span&gt;
&lt;span class="cp"&gt;#include &lt;/span&gt;

&lt;span class="cm"&gt;/********************************************&lt;/span&gt;
&lt;span class="cm"&gt; * Wrapper - Secure Yourself                &lt;/span&gt;
&lt;span class="cm"&gt; *                                          &lt;/span&gt;
&lt;span class="cm"&gt; * 2007 - Mike Golvach - eggi@comcast.net   &lt;/span&gt;
&lt;span class="cm"&gt; * Modified 2012 by Jason Antman  &lt;/span&gt;
&lt;span class="cm"&gt; *  - configured for use as pre- and post-backup script wrapper&lt;/span&gt;
&lt;span class="cm"&gt; *                                          &lt;/span&gt;
&lt;span class="cm"&gt; * &lt;span class="caps"&gt;USAGE&lt;/span&gt;: cmd-wrapper [pre|post]&lt;/span&gt;
&lt;span class="cm"&gt; *&lt;/span&gt;
&lt;span class="cm"&gt; * $HeadURL: http://svn.jasonantman.com/misc-scripts/cmd-wrapper.c $&lt;/span&gt;
&lt;span class="cm"&gt; * $LastChangedRevision: 26 $&lt;/span&gt;
&lt;span class="cm"&gt; *                                          &lt;/span&gt;
&lt;span class="cm"&gt; ********************************************/&lt;/span&gt;

&lt;span class="cm"&gt;/* Creative Commons Attribution-Noncommercial-Share Alike 3.0 United States License */&lt;/span&gt;

&lt;span class="cm"&gt;/* Define global variables */&lt;/span&gt;

&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;gid&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="cm"&gt;/* main(int argc, char **argv) - main process loop */&lt;/span&gt;

&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;argc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;char&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;argv&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;char&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;envp&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="kt"&gt;char&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;origcmd&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

  &lt;span class="n"&gt;origcmd&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;getenv&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;SSH_ORIGINAL_COMMAND&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

  &lt;span class="cm"&gt;/* printf (&amp;quot;Original Command:%s\n&amp;quot;, origcmd); */&lt;/span&gt;

  &lt;span class="cm"&gt;/* Set euid and egid to actual user */&lt;/span&gt;

  &lt;span class="n"&gt;gid&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;getgid&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
  &lt;span class="n"&gt;setegid&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;getgid&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;
  &lt;span class="n"&gt;seteuid&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;getuid&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;

  &lt;span class="cm"&gt;/* Confirm user is in &lt;span class="caps"&gt;GROUP&lt;/span&gt;(502) group */&lt;/span&gt;

  &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;gid&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="mi"&gt;502&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;printf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;User Not Authorized! Exiting...&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;exit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;

  &lt;span class="cm"&gt;/* Check argc count only at this point */&lt;/span&gt;

  &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;argc&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;printf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Usage: cmd-wrapper [pre|post]&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;exit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;

  &lt;span class="cm"&gt;/* Set uid, gid, euid and egid to root */&lt;/span&gt;

  &lt;span class="n"&gt;setegid&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
  &lt;span class="n"&gt;seteuid&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
  &lt;span class="n"&gt;setgid&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
  &lt;span class="n"&gt;setuid&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

  &lt;span class="cm"&gt;/* Check argv for proper arguments and run&lt;/span&gt;
&lt;span class="cm"&gt;   * the corresponding script, if invoked.&lt;/span&gt;
&lt;span class="cm"&gt;   */&lt;/span&gt;

  &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;strncmp&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;origcmd&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;pre&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;execl&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;/root/bin/rsnapshot-pre.sh&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;rsnapshot-pre.sh&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;&lt;span class="caps"&gt;NULL&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
      &lt;span class="n"&gt;perror&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Execl:&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;strncmp&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;origcmd&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;post&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;execl&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;/root/bin/rsnapshot-post.sh&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;rsnapshot-post.sh&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;&lt;span class="caps"&gt;NULL&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
      &lt;span class="n"&gt;perror&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Execl:&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;printf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;span class="caps"&gt;ERROR&lt;/span&gt;: Invalid command: %s&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;origcmd&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;printf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Usage: &lt;span class="caps"&gt;COMMAND&lt;/span&gt; [pre|post]&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;exit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
  &lt;span class="n"&gt;exit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;rsync-wrapper.c&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="cp"&gt;#include &lt;/span&gt;
&lt;span class="cp"&gt;#include &lt;/span&gt;
&lt;span class="cp"&gt;#include &lt;/span&gt;
&lt;span class="cp"&gt;#include &lt;/span&gt;
&lt;span class="cp"&gt;#include &lt;/span&gt;

&lt;span class="cm"&gt;/********************************************&lt;/span&gt;
&lt;span class="cm"&gt; * Wrapper - Secure Yourself                &lt;/span&gt;
&lt;span class="cm"&gt; *                                          &lt;/span&gt;
&lt;span class="cm"&gt; * 2007 - Mike Golvach - eggi@comcast.net   &lt;/span&gt;
&lt;span class="cm"&gt; * Modified 2012 by Jason Antman  &lt;/span&gt;
&lt;span class="cm"&gt; *  - configured for use as rsync wrapper&lt;/span&gt;
&lt;span class="cm"&gt; *                                          &lt;/span&gt;
&lt;span class="cm"&gt; * $HeadURL: http://svn.jasonantman.com/misc-scripts/rsync-wrapper.c $&lt;/span&gt;
&lt;span class="cm"&gt; * $LastChangedRevision: 26 $&lt;/span&gt;
&lt;span class="cm"&gt; *                                          &lt;/span&gt;
&lt;span class="cm"&gt; ********************************************/&lt;/span&gt;

&lt;span class="cm"&gt;/* Creative Commons Attribution-Noncommercial-Share Alike 3.0 United States License */&lt;/span&gt;

&lt;span class="cm"&gt;/* Define global variables */&lt;/span&gt;

&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;gid&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="cm"&gt;/* main(int argc, char **argv) - main process loop */&lt;/span&gt;

&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;argc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;char&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;argv&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;

  &lt;span class="cm"&gt;/* Set euid and egid to actual user */&lt;/span&gt;

  &lt;span class="n"&gt;gid&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;getgid&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
  &lt;span class="n"&gt;setegid&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;getgid&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;
  &lt;span class="n"&gt;seteuid&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;getuid&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;

  &lt;span class="cm"&gt;/* Confirm user is in &lt;span class="caps"&gt;GROUP&lt;/span&gt;(502) group */&lt;/span&gt;

  &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;gid&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="mi"&gt;502&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;printf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;User Not Authorized! Exiting...&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;exit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;

  &lt;span class="cm"&gt;/* Check argc count only at this point */&lt;/span&gt;

  &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;argc&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;printf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Usage: rsync-wrapper&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;exit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;

  &lt;span class="cm"&gt;/* Set uid, gid, euid and egid to root */&lt;/span&gt;

  &lt;span class="n"&gt;setegid&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
  &lt;span class="n"&gt;seteuid&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
  &lt;span class="n"&gt;setgid&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
  &lt;span class="n"&gt;setuid&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

  &lt;span class="cm"&gt;/* Check argv for proper arguments and run&lt;/span&gt;
&lt;span class="cm"&gt;   * the corresponding script, if invoked.&lt;/span&gt;
&lt;span class="cm"&gt;   */&lt;/span&gt;
  &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;execl&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;/usr/bin/rsync&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;rsync&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;--server&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;--sender&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;-vlogDtprRe.iLsf&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;--numeric-ids&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;.&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;&lt;span class="caps"&gt;NULL&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;perror&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Execl:&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
  &lt;span class="n"&gt;exit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;/etc/rsnapshot.d/rsync-include-remoteHostName.txt&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;# Include
+ /dev/console
+ /dev/initctl
+ /dev/null
+ /dev/zero
+ /usr/local/*
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;/etc/rsnapshot.d/rsync-exclude-remoteHostName.txt&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;# Exclude
- /cgroup/*
- /dev/*
- /lib/*
- lost+found/
- /proc/*
- /sys/
- /tmp/
- /var/log/*
&lt;/pre&gt;&lt;/div&gt;</summary><category term="backups"></category><category term="linode"></category><category term="rsnapshot"></category><category term="rsync"></category><category term="security"></category><category term="ssh"></category><category term="wrapper"></category></entry><entry><title>WP-Syntax Plugin GeSHi Path Fix</title><link href="http://blog.jasonantman.com/2012/01/wp-syntax-plugin-geshi-path-fix/" rel="alternate"></link><updated>2012-01-12T19:09:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-01-12:2012/01/wp-syntax-plugin-geshi-path-fix/</id><summary type="html">&lt;p&gt;The &lt;a href="http://wordpress.org/extend/plugins/wp-syntax/"&gt;Wp-Syntax&lt;/a&gt; plugin
for &lt;a href="http://wordpress.org"&gt;WordPress&lt;/a&gt; provides syntax highlighting for
WordPress blogs via the &lt;a href="http://qbnz.com/highlighter"&gt;GeSHi&lt;/a&gt; &lt;span class="caps"&gt;PHP&lt;/span&gt; syntax
highlighter. Unfortunately, the plugin includes a builtin version of
GeSHi (currently 1.0.8.9) in &lt;code&gt;geshi/&lt;/code&gt;. As a result, not only are users
of the plugin not instructed to use the latest version of GeSHi, but it
won&amp;#8217;t use a host-wide GeSHi installation that&amp;#8217;s already in the &lt;span class="caps"&gt;PHP&lt;/span&gt;
include path (i.e. &lt;code&gt;/usr/share/php/&lt;/code&gt;), like the the many &lt;a href="http://pkgs.org/search/?keyword=php-geshi&amp;amp;search_on=name&amp;amp;distro=0&amp;amp;arch=32-bit"&gt;php-geshi
packages&lt;/a&gt;
offered by repositories including
&lt;a href="http://fedoraproject.org/wiki/EPEL"&gt;&lt;span class="caps"&gt;EPEL&lt;/span&gt;&lt;/a&gt; (for Fedora, CentOS and&amp;nbsp;&lt;span class="caps"&gt;RHEL&lt;/span&gt;).&lt;/p&gt;
&lt;p&gt;The fix is quite simple. Just open &lt;code&gt;wp-syntax.php&lt;/code&gt; in the &lt;code&gt;wp-syntax/&lt;/code&gt;
plugin directory in your favorite text editor and change the GeSHi
include line (for &lt;span class="caps"&gt;WP&lt;/span&gt;-Syntax 0.9.12, this is line 53)&amp;nbsp;from:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="x"&gt;include_once(&amp;quot;geshi/geshi.php&amp;quot;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;to:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="x"&gt;include_once(&amp;quot;geshi.php&amp;quot;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If you already have GeSHi installed in the &lt;span class="caps"&gt;PHP&lt;/span&gt; include path, just remove
the &lt;code&gt;geshi&lt;/code&gt; directory in your &lt;code&gt;wp-syntax/&lt;/code&gt; plugin directory, flush the
WordPress caches (if any), and load a page which uses GeSHi - it should
now use the host-wide version. If you want to still use a local version
for wp-syntax, you can move things around to where they &lt;em&gt;should&lt;/em&gt; be in
the &lt;code&gt;wp-syntax/&lt;/code&gt; plugin&amp;nbsp;directory:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;mv geshi/geshi.php . &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; mv geshi/geshi/* geshi/ &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; rmdir geshi/geshi
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Note - if you&amp;#8217;re in a shared hosting environment, or are otherwise not
able to upgrade the php-geshi package on your server yourself, you might
not want to do&amp;nbsp;this.&lt;/p&gt;
&lt;p&gt;I also &lt;a href="http://wordpress.org/support/topic/wp-syntax-move-geshi-include-path-to-allow-use-with-host-wide-geshi?replies=1#post-2556903"&gt;posted about this in the WordPress support
forums&lt;/a&gt;.
Hopefully the &lt;span class="caps"&gt;WP&lt;/span&gt;-Syntax devs will include this change in the next&amp;nbsp;version&amp;#8230;&lt;/p&gt;</summary><category term="GeSHi"></category><category term="PHP"></category><category term="syntax highlighting"></category><category term="wordpress"></category></entry><entry><title>Puppet Syntax Highlighting with GeSHi</title><link href="http://blog.jasonantman.com/2012/01/puppet-syntax-highlighting-with-geshi/" rel="alternate"></link><updated>2012-01-11T12:32:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-01-11:2012/01/puppet-syntax-highlighting-with-geshi/</id><summary type="html">&lt;p&gt;This blog is run on wordpress, and I also do quite a bit in &lt;span class="caps"&gt;PHP&lt;/span&gt;, so I&amp;#8217;m
familiar with the &lt;a href="http://qbnz.com/highlighter/"&gt;GeSHi&lt;/a&gt; syntax
highlighter. It&amp;#8217;s &lt;span class="caps"&gt;PHP&lt;/span&gt;-based, and can run both as a Wordpress plugin
(&lt;a href="http://wordpress.org/extend/plugins/wp-syntax/"&gt;&lt;span class="caps"&gt;WP&lt;/span&gt;-Syntax&lt;/a&gt;) and as a
&lt;span class="caps"&gt;PHP&lt;/span&gt; module. It also works quite well with the MediaWiki &lt;a href="http://www.mediawiki.org/wiki/Extension:SyntaxHighlight_GeSHi"&gt;SyntaxHighlight
GeSHi&lt;/a&gt;&amp;nbsp;extension.&lt;/p&gt;
&lt;p&gt;Today I was documenting some &lt;a href="http://www.puppet.org"&gt;Puppet&lt;/a&gt; code in a
wiki, and realized that I didn&amp;#8217;t have syntax highlighting. Well, fellow
Linux sysadmin and puppetmaster Jason Hancock was nice enough to post on
his blog (&lt;a href="http://geek.jasonhancock.com/2011/10/14/puppet-syntax-highlighting-geshi/"&gt;Puppet Syntax Highlighting with
GeSHi&lt;/a&gt;)
that he&amp;#8217;s developed a GeSHi language file for Puppet, available from
&lt;a href="https://github.com/jasonhancock/geshi-language-files"&gt;GitHub&lt;/a&gt;. Many&amp;nbsp;thanks!&lt;/p&gt;</summary><category term="GeSHi"></category><category term="mediawiki"></category><category term="PHP"></category><category term="puppet"></category><category term="wordpress"></category></entry><entry><title>Firefox QR Code Generator</title><link href="http://blog.jasonantman.com/2012/01/firefox-qr-code-generator/" rel="alternate"></link><updated>2012-01-10T23:06:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2012-01-10:2012/01/firefox-qr-code-generator/</id><summary type="html">&lt;p&gt;Just a quick little tip, I happened by the &lt;a href="https://addons.mozilla.org/en-US/firefox/addon/mobile-barcoder/"&gt;Mobile
Barcoder&lt;/a&gt;
Firefox add-on the other day. It&amp;#8217;s a Firefox add-on that generates &lt;a href="http://en.wikipedia.org/wiki/Qr_code"&gt;&lt;span class="caps"&gt;QR&lt;/span&gt;
Code&lt;/a&gt; barcodes for text or links,
right in your browser. While my Droid3 has a full keyboard, sometimes I
still want to quickly send links from my desktop browser session to my
phone. Firefox Sync helps a lot but is a bit slow on the phone (since I
usually have 100+ tabs open between all of my desktop Firefox sessions),
and email is an option but a bit&amp;nbsp;slower.&lt;/p&gt;
&lt;p&gt;There are two caveats about this add-on&amp;nbsp;though:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The feature to generate a &lt;span class="caps"&gt;QR&lt;/span&gt; code for the &lt;span class="caps"&gt;URL&lt;/span&gt; of the current page
    shows up in the status bar, which isn&amp;#8217;t shown in modern versions of
    Firefox. You&amp;#8217;ll need to enable the &lt;a href="https://support.mozilla.org/en-US/kb/what-add-bar"&gt;Add-on
    bar&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;It uses the
    &lt;a href="http://mobilecodes.nokia.com/"&gt;http://mobilecodes.nokia.com/&lt;/a&gt;
    server to generate barcodes, so it&amp;#8217;s dependent on connectivity and
    that&amp;nbsp;service.&lt;/li&gt;
&lt;/ol&gt;</summary><category term="barcode"></category><category term="firefox"></category><category term="mobile"></category><category term="Mozilla"></category><category term="qr code"></category></entry><entry><title>Vyatta - Showing ISC dhcpd fixed-address leases</title><link href="http://blog.jasonantman.com/2011/12/vyatta-showing-isc-dhcpd-fixed-address-leases/" rel="alternate"></link><updated>2011-12-24T14:42:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2011-12-24:2011/12/vyatta-showing-isc-dhcpd-fixed-address-leases/</id><summary type="html">&lt;p&gt;&lt;span class="caps"&gt;ISC&lt;/span&gt; &lt;a href="http://www.isc.org/software/dhcp"&gt;dhcpd&lt;/a&gt; has the ability to always
give a specific &lt;span class="caps"&gt;MAC&lt;/span&gt; address the same &lt;span class="caps"&gt;IP&lt;/span&gt; address &amp;#8220;lease&amp;#8221; using the
fixed-address configuration option. This is configured in
&lt;a href="http://www.vyatta.org"&gt;Vyatta&lt;/a&gt; using the &lt;code&gt;static-mapping&lt;/code&gt; configuration
statement. Unfortunately, since dhcpd doesn&amp;#8217;t store fixed-address leases
in the &lt;code&gt;dhcpd.leases&lt;/code&gt; file, the Vyatta &lt;code&gt;show dhcp leases&lt;/code&gt; command
doesn&amp;#8217;t show anything about them - which makes it difficult to debug
anything dhcp-related if all of the hosts on your network are setup for
fixed addresses. I found a mention of this on the &lt;a href="http://www.vyatta.org/forum/viewtopic.php?p=121558"&gt;vyatta
forum&lt;/a&gt;, and also an
&lt;a href="https://bugzilla.vyatta.com/show_bug.cgi?id=1990"&gt;open bug (1990)&lt;/a&gt; to
fix it, but no proposed resolution. Since I came across this problem and
happen to know a bit about &lt;span class="caps"&gt;ISC&lt;/span&gt; dhcpd, I developed both a workaround for
users (including a perl script) and a possible solution for the Vyatta
developers to&amp;nbsp;implement.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Workaround for&amp;nbsp;Users:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;There&amp;#8217;s no way to get dhcpd to store fixed-address hosts in the
dhcpd.leases file (though it&amp;#8217;s been discussed on the dhcpd-users mailing
list a few times). There is, however, a way to get dhcpd to log every
time it sends an &lt;span class="caps"&gt;ACK&lt;/span&gt; to a client. The following Vyatta configuration
commands will get dhcpd to log all transactions to syslog, will have
&lt;a href="http://rsyslog.com/"&gt;rsyslog&lt;/a&gt; put that in &lt;code&gt;/var/log/user/dhcpd&lt;/code&gt;. Since
this log can fill up very quickly on a busy server, the latter two
commands will tell &lt;a href="https://fedorahosted.org/logrotate/"&gt;logrotate&lt;/a&gt; to
rotate the log file when it reaches 3000k in size, and keep 5 copies
(feel free to adjust to your&amp;nbsp;needs):&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="gp"&gt;#&lt;/span&gt; &lt;span class="nb"&gt;set &lt;/span&gt;service dhcp-server global-parameters &lt;span class="s2"&gt;&amp;quot;log-facility local2;&amp;quot;&lt;/span&gt;
&lt;span class="gp"&gt;#&lt;/span&gt; &lt;span class="nb"&gt;set &lt;/span&gt;system syslog file dhcpd facility local2 level debug
&lt;span class="gp"&gt;#&lt;/span&gt; &lt;span class="nb"&gt;set &lt;/span&gt;system syslog file dhcpd archive files 5
&lt;span class="gp"&gt;#&lt;/span&gt; &lt;span class="nb"&gt;set &lt;/span&gt;system syslog file dhcpd archive size 3000
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Once this is done, you can &lt;code&gt;tail -f /var/log/user/dhcpd&lt;/code&gt; to watch &lt;span class="caps"&gt;DHCP&lt;/span&gt;
discover/request/offer/ack in realtime, or grep through the log file for
a specific &lt;span class="caps"&gt;IP&lt;/span&gt; or &lt;span class="caps"&gt;MAC&lt;/span&gt;. If you want an easier method, I&amp;#8217;ve written a perl
script (latest version will always live in &lt;a href="https://github.com/jantman/misc-scripts/blob/master/show_dhcp_fixed_ACKs.pl"&gt;my GitHub misc-scripts
repo&lt;/a&gt;)
to grep through &lt;code&gt;/var/log/user/dhcpd&lt;/code&gt; and show the most recent &lt;span class="caps"&gt;DHCPACK&lt;/span&gt;
for each &lt;span class="caps"&gt;IP&lt;/span&gt; address, sorted by &lt;span class="caps"&gt;IP&lt;/span&gt;. Here&amp;#8217;s the code of the simple script,
which is more than half comments. To use it, after performing the above
steps, all you need to do is login to your Vyatta box,
&lt;code&gt;wget https://raw.github.com/jantman/misc-scripts/master/show_dhcp_fixed_ACKs.pl&lt;/code&gt;
and then &lt;code&gt;perl show_dhcp_fixed_ACKs.pl&lt;/code&gt;.&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="c1"&gt;#!/usr/bin/perl&lt;/span&gt;

&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# show_dhcp_fixed_ACKs.pl - script to show the most recent &lt;span class="caps"&gt;DHCP&lt;/span&gt; ACKs per &lt;span class="caps"&gt;IP&lt;/span&gt; address for &lt;span class="caps"&gt;ISC&lt;/span&gt; DHCPd,&lt;/span&gt;
&lt;span class="c1"&gt;#   from a log file. Originally written for Vyatta routers that just show the dynamic leases.&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# To use this, you need to have dhcpd logging to syslog, and your syslog server putting the log file at&lt;/span&gt;
&lt;span class="c1"&gt;# /var/log/user/dhcpd (or a file path specified by the $logfile variable below.&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# To accomplish this on Vyatta 6.3, run:&lt;/span&gt;
&lt;span class="c1"&gt;# set service dhcp-server global-parameters &amp;quot;log-facility local2;&amp;quot;&lt;/span&gt;
&lt;span class="c1"&gt;# set system syslog file dhcpd facility local2 level debug&lt;/span&gt;
&lt;span class="c1"&gt;# set system syslog file dhcpd archive files 5&lt;/span&gt;
&lt;span class="c1"&gt;# set system syslog file dhcpd archive size 3000&lt;/span&gt;
&lt;span class="c1"&gt;# commit&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# Copyright 2011 Jason Antman  All Rights Reserved.&lt;/span&gt;
&lt;span class="c1"&gt;# This script is free for use by anyone anywhere, provided that you comply with the following terms:&lt;/span&gt;
&lt;span class="c1"&gt;# 1) Keep this notice and copyright statement intact.&lt;/span&gt;
&lt;span class="c1"&gt;# 2) Send any substantial changes, improvements or bog fixes back to me at the above address.&lt;/span&gt;
&lt;span class="c1"&gt;# 3) If you include this in a product or redistribute it, you notify me, and include my name in the credits or changelog.&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# The following &lt;span class="caps"&gt;URL&lt;/span&gt; always points to the newest version of this script. If you obtained it from another source, you should&lt;/span&gt;
&lt;span class="c1"&gt;# check here:&lt;/span&gt;
&lt;span class="c1"&gt;# $HeadURL$&lt;/span&gt;
&lt;span class="c1"&gt;# $LastChangedRevision$&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# &lt;span class="caps"&gt;CHANGELOG&lt;/span&gt;:&lt;/span&gt;
&lt;span class="c1"&gt;# 2011-12-24 jason@jasonantman.com:&lt;/span&gt;
&lt;span class="c1"&gt;#    initial version of script&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;

&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="n"&gt;strict&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="n"&gt;warnings&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$logfile&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;/var/log/user/dhcpd&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;%data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;();&lt;/span&gt;

&lt;span class="nb"&gt;open&lt;/span&gt; &lt;span class="n"&gt;&lt;span class="caps"&gt;DF&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$logfile&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="nb"&gt;die&lt;/span&gt; &lt;span class="vg"&gt;$!&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$line&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;  &lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="nv"&gt;$line&lt;/span&gt; &lt;span class="o"&gt;!~&lt;/span&gt; &lt;span class="sr"&gt;m/dhcpd: &lt;span class="caps"&gt;DHCPACK&lt;/span&gt;/&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;next&lt;/span&gt;&lt;span class="p"&gt;;}&lt;/span&gt;
    &lt;span class="nv"&gt;$line&lt;/span&gt; &lt;span class="o"&gt;=~&lt;/span&gt; &lt;span class="sr"&gt;m/([A-Za-z]+ [0-9]+ [0-9]{1,2}:[0-9]{2}:[0-9]{2}) [^\/x]+ dhcpd: &lt;span class="caps"&gt;DHCPACK&lt;/span&gt; on (\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}) to ((?:[0-9a-f]{2}[:-]){5}[0-9a-f]{2}) via (.+)/&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="c1"&gt;#print &amp;quot;$1==$2==$3==$4==\n&amp;quot; ;&lt;/span&gt;
    &lt;span class="nv"&gt;$data&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;$2&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;mac&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;$3&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="nv"&gt;$data&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;$2&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;date&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;$1&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="nv"&gt;$data&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;$2&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;if&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;$4&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="nv"&gt;$data&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;$2&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;ip&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;$2&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;    
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="nb"&gt;printf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;%-18s %-20s %-18s %-10s\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&lt;span class="caps"&gt;IP&lt;/span&gt; Address&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Hardware Address&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Date&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Interface&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="nb"&gt;printf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;%-18s %-20s %-18s %-10s\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;----------&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;----------------&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;----&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;---------&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="c1"&gt;# begin sort by &lt;span class="caps"&gt;IP&lt;/span&gt; address&lt;/span&gt;
&lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;@keys&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;
  &lt;span class="nb"&gt;map&lt;/span&gt;  &lt;span class="nb"&gt;substr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$_&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt;
  &lt;span class="nb"&gt;sort&lt;/span&gt;
  &lt;span class="nb"&gt;map&lt;/span&gt;  &lt;span class="nb"&gt;pack&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;C4&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt;
    &lt;span class="sr"&gt;/(\d+)\.(\d+)\.(\d+)\.(\d+)/&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="nv"&gt;$_&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;keys&lt;/span&gt; &lt;span class="nv"&gt;%data&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="c1"&gt;# end sort by &lt;span class="caps"&gt;IP&lt;/span&gt; address&lt;/span&gt;

&lt;span class="k"&gt;foreach&lt;/span&gt; &lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$key&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;@keys&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nb"&gt;printf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;%-18s %-20s %-18s %-10s\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$data&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nv"&gt;$key&lt;/span&gt;&lt;span class="p"&gt;}{&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;ip&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt; &lt;span class="nv"&gt;$data&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nv"&gt;$key&lt;/span&gt;&lt;span class="p"&gt;}{&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;mac&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt; &lt;span class="nv"&gt;$data&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nv"&gt;$key&lt;/span&gt;&lt;span class="p"&gt;}{&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;date&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt; &lt;span class="nv"&gt;$data&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nv"&gt;$key&lt;/span&gt;&lt;span class="p"&gt;}{&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;if&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;});&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;A solution for&amp;nbsp;Vyatta:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I suggested this to Vyatta in a reply to &lt;a href="https://bugzilla.vyatta.com/show_bug.cgi?id=1990"&gt;bug
1990&lt;/a&gt;. Since they
already use &lt;a href="http://rsyslog.com/"&gt;rsyslog&lt;/a&gt; which has very powerful
processing capabilities, it would be easy to have rsyslog parse the
&lt;span class="caps"&gt;DHCPACK&lt;/span&gt; messages in real time and update some data store (flat files or
a simple database) with the information. While how to store this would
be up to the Vyatta guys, I have some rsyslog configuration to parse
&lt;span class="caps"&gt;DHCPACK&lt;/span&gt; messages and update a MySQL database (with two tables; one for
most recent &lt;span class="caps"&gt;ACK&lt;/span&gt; per &lt;span class="caps"&gt;IP&lt;/span&gt; address and one for most recent &lt;span class="caps"&gt;ACK&lt;/span&gt; per &lt;span class="caps"&gt;MAC&lt;/span&gt;
address) that might be of some&amp;nbsp;use:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;$template DHCPACKonIP, &amp;quot;INSERT INTO dhcplog_ip   
       SET   
       server_ip=inet_aton(&amp;#39;%fromhost-ip%&amp;#39;),   
       msg_type=&amp;#39;DHCPACK&amp;#39;,   
       date=&amp;#39;%timereported:::date-mysql%&amp;#39;,   
       mac_addr=&amp;#39;%msg:R,ERE,2,BLANK:DHCPACK on ([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}) to (([0-9a-f]{2}:){5}[0-9a-f]{2})( \(([^)]+)\))? via (([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})|eth0)--end%&amp;#39;,   
       client_ip=inet_aton(&amp;#39;%msg:R,ERE,1,BLANK:DHCPACK on ([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}) to (([0-9a-f]{2}:){5}[0-9a-f]{2})( \(([^)]+)\))? via (([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})|eth0)--end%&amp;#39;),   
       gateway=&amp;#39;%msg:R,ERE,6,BLANK:DHCPACK on ([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}) to (([0-9a-f]{2}:){5}[0-9a-f]{2})( \(([^)]+)\))? via (([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})|eth0)--end%&amp;#39;,   
       fullmsg=&amp;#39;%msg%&amp;#39;   
       ON DUPLICATE KEY UPDATE   
       server_ip=inet_aton(&amp;#39;%fromhost-ip%&amp;#39;),   
       date=&amp;#39;%timereported:::date-mysql%&amp;#39;,   
       mac_addr=&amp;#39;%msg:R,ERE,2,BLANK:DHCPACK on ([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}) to (([0-9a-f]{2}:){5}[0-9a-f]{2})( \(([^)]+)\))? via (([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})|eth0)--end%&amp;#39;,   
       gateway=&amp;#39;%msg:R,ERE,6,BLANK:DHCPACK on ([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}) to (([0-9a-f]{2}:){5}[0-9a-f]{2})( \(([^)]+)\))? via (([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})|eth0)--end%&amp;#39;,   
       fullmsg=&amp;#39;%msg%&amp;#39;  
&amp;quot;,SQL

$template DHCPACKonMAC, &amp;quot;INSERT INTO dhcplog_mac   
       SET   
       server_ip=inet_aton(&amp;#39;%fromhost-ip%&amp;#39;),   
       msg_type=&amp;#39;DHCPACK&amp;#39;,   
       date=&amp;#39;%timereported:::date-mysql%&amp;#39;,   
       mac_addr=&amp;#39;%msg:R,ERE,2,BLANK:DHCPACK on ([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}) to (([0-9a-f]{2}:){5}[0-9a-f]{2})( \(([^)]+)\))? via (([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})|eth0)--end%&amp;#39;,   
       client_ip=inet_aton(&amp;#39;%msg:R,ERE,1,BLANK:DHCPACK on ([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}) to (([0-9a-f]{2}:){5}[0-9a-f]{2})( \(([^)]+)\))? via (([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})|eth0)--end%&amp;#39;),   
       gateway=&amp;#39;%msg:R,ERE,6,BLANK:DHCPACK on ([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}) to (([0-9a-f]{2}:){5}[0-9a-f]{2})( \(([^)]+)\))? via (([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})|eth0)--end%&amp;#39;,   
       fullmsg=&amp;#39;%msg%&amp;#39;   
       ON DUPLICATE KEY UPDATE   
       server_ip=inet_aton(&amp;#39;%fromhost-ip%&amp;#39;),   
       date=&amp;#39;%timereported:::date-mysql%&amp;#39;,   
       client_ip=inet_aton(&amp;#39;%msg:R,ERE,1,BLANK:DHCPACK on ([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}) to (([0-9a-f]{2}:){5}[0-9a-f]{2})( \(([^)]+)\))? via (([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})|eth0)--end%&amp;#39;),   
       gateway=&amp;#39;%msg:R,ERE,6,BLANK:DHCPACK on ([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}) to (([0-9a-f]{2}:){5}[0-9a-f]{2})( \(([^)]+)\))? via (([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})|eth0)--end%&amp;#39;,   
       fullmsg=&amp;#39;%msg%&amp;#39;  
&amp;quot;,SQL

$template DHCPACKtoIP, &amp;quot;INSERT INTO dhcplog_ip   
       SET   
       server_ip=inet_aton(&amp;#39;%fromhost-ip%&amp;#39;),   
       msg_type=&amp;#39;DHCPACK&amp;#39;,   
       date=&amp;#39;%timereported:::date-mysql%&amp;#39;,   
       mac_addr=&amp;#39;%msg:R,ERE,2,BLANK:DHCPACK to ([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}) \((([0-9a-f]{2}:){5}[0-9a-f]{2})\) via (([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})|eth0)--end%&amp;#39;,   
       client_ip=inet_aton(&amp;#39;%msg:R,ERE,1,BLANK:DHCPACK to ([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}) \((([0-9a-f]{2}:){5}[0-9a-f]{2})\) via (([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})|eth0)--end%&amp;#39;),   
       gateway=&amp;#39;%msg:R,ERE,4,BLANK:DHCPACK to ([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}) \((([0-9a-f]{2}:){5}[0-9a-f]{2})\) via (([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})|eth0)--end%&amp;#39;,   
       fullmsg=&amp;#39;%msg%&amp;#39;   
       ON DUPLICATE KEY UPDATE   
       server_ip=inet_aton(&amp;#39;%fromhost-ip%&amp;#39;),   
       date=&amp;#39;%timereported:::date-mysql%&amp;#39;,   
       mac_addr=&amp;#39;%msg:R,ERE,2,BLANK:DHCPACK to ([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}) \((([0-9a-f]{2}:){5}[0-9a-f]{2})\) via (([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})|eth0)--end%&amp;#39;,   
       gateway=&amp;#39;%msg:R,ERE,4,BLANK:DHCPACK to ([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}) \((([0-9a-f]{2}:){5}[0-9a-f]{2})\) via (([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})|eth0)--end%&amp;#39;,   
       fullmsg=&amp;#39;%msg%&amp;#39;  
&amp;quot;,SQL

$template DHCPACKtoMAC, &amp;quot;INSERT INTO dhcplog_mac   
       SET   
       server_ip=inet_aton(&amp;#39;%fromhost-ip%&amp;#39;),   
       msg_type=&amp;#39;DHCPACK&amp;#39;,   
       date=&amp;#39;%timereported:::date-mysql%&amp;#39;,   
       mac_addr=&amp;#39;%msg:R,ERE,2,BLANK:DHCPACK to ([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}) \((([0-9a-f]{2}:){5}[0-9a-f]{2})\) via (([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})|eth0)--end%&amp;#39;,   
       client_ip=inet_aton(&amp;#39;%msg:R,ERE,1,BLANK:DHCPACK to ([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}) \((([0-9a-f]{2}:){5}[0-9a-f]{2})\) via (([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})|eth0)--end%&amp;#39;),   
       gateway=&amp;#39;%msg:R,ERE,4,BLANK:DHCPACK to ([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}) \((([0-9a-f]{2}:){5}[0-9a-f]{2})\) via (([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})|eth0)--end%&amp;#39;,   
       fullmsg=&amp;#39;%msg%&amp;#39;   
       ON DUPLICATE KEY UPDATE   
       server_ip=inet_aton(&amp;#39;%fromhost-ip%&amp;#39;),   
       date=&amp;#39;%timereported:::date-mysql%&amp;#39;,   
       client_ip=inet_aton(&amp;#39;%msg:R,ERE,1,BLANK:DHCPACK to ([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}) \((([0-9a-f]{2}:){5}[0-9a-f]{2})\) via (([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})|eth0)--end%&amp;#39;),   
       gateway=&amp;#39;%msg:R,ERE,4,BLANK:DHCPACK to ([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}) \((([0-9a-f]{2}:){5}[0-9a-f]{2})\) via (([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})|eth0)--end%&amp;#39;,   
       fullmsg=&amp;#39;%msg%&amp;#39;  
&amp;quot;,SQL

:msg, startswith, &amp;quot; DHCPACK on&amp;quot; :ommysql:hostname,database,dbuser,dbpass;DHCPACKonIP
&lt;span class="amp"&gt;&amp;amp;&lt;/span&gt; :ommysql:hostname,database,dbuser,dbpass;DHCPACKonMAC
&lt;span class="amp"&gt;&amp;amp;&lt;/span&gt; ~ ### &lt;span class="caps"&gt;DISCARD&lt;/span&gt;

if $msg startswith &amp;#39; &lt;span class="caps"&gt;DHCPACK&lt;/span&gt; to&amp;#39; and ( not ( $msg contains &amp;#39;no client hardware address&amp;#39; ) )   
then :ommysql:hostname,database,dbuser,dbpass;DHCPACKtoMAC
&lt;span class="amp"&gt;&amp;amp;&lt;/span&gt; :ommysql:hostname,database,dbuser,dbpass;DHCPACKtoIP
&lt;span class="amp"&gt;&amp;amp;&lt;/span&gt; ~ ### &lt;span class="caps"&gt;DISCARD&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="dhcpd"></category><category term="rsyslog"></category><category term="vyatta"></category></entry><entry><title>php-suhosin syslog issues</title><link href="http://blog.jasonantman.com/2011/10/php-suhosin-syslog-issues/" rel="alternate"></link><updated>2011-10-21T10:24:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2011-10-21:2011/10/php-suhosin-syslog-issues/</id><summary type="html">&lt;p&gt;I just installed php-&lt;a href="http://www.hardened-php.net/suhosin/"&gt;suhosin&lt;/a&gt;
0.9.29 from &lt;span class="caps"&gt;EPEL&lt;/span&gt; on a CentOS 5.6 box. I&amp;#8217;m running a whole bunch of
name-based vhosts in Apache, and have a bunch of web apps, so I opted to
run suhosin in simulation mode (don&amp;#8217;t actually block anything, but log
errors) and have it log via syslog to a single file. Unfortunately, when
I configured this, the syslog messages started showing up in the wrong
place, apparently with the wrong facility &lt;em&gt;and&lt;/em&gt; priority. After some
roundabout debugging (at first assuming syslogd to be the problem), I
determined that, for whatever really strange reason (perhaps an
incorrect syslog.h on the &lt;span class="caps"&gt;EPEL&lt;/span&gt; box that built the suhosin package?) the
LOG_* constants were incorrect. I looked up the correct integer values
in &lt;code&gt;/usr/include/sys/syslog.h&lt;/code&gt; and the following configuration
directives accomplished the task&amp;nbsp;correctly:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="na"&gt;suhosin.log.syslog.facility&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;128&lt;/span&gt;
&lt;span class="c1"&gt;; 128 = LOG_LOCAL0&lt;/span&gt;

&lt;span class="na"&gt;suhosin.log.syslog.priority&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;5&lt;/span&gt;
&lt;span class="c1"&gt;; 5 = LOG_NOTICE&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This one line puts suhosin into simulation mode, where it only logs
errors instead of enforcing on&amp;nbsp;them:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="na"&gt;suhosin.simulation&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;On&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="centos"></category><category term="logging"></category><category term="PHP"></category><category term="security"></category><category term="suhosin"></category><category term="syslog"></category></entry><entry><title>Blackberry Oops</title><link href="http://blog.jasonantman.com/2011/10/blackberry-oops/" rel="alternate"></link><updated>2011-10-13T22:20:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2011-10-13:2011/10/blackberry-oops/</id><summary type="html">&lt;p&gt;If you&amp;#8217;ve been following the tech news lately, you&amp;#8217;ve probably heard at
least a bit about the
&lt;a href="http://www.cnn.com/2011/10/12/tech/mobile/blackberry-outage/"&gt;massive&lt;/a&gt;
&lt;a href="http://abcnews.go.com/blogs/technology/2011/10/blackberry-outage-spreads-to-u-s/"&gt;blackberry&lt;/a&gt;
&lt;a href="http://www.nytimes.com/2011/10/14/technology/rim-struggles-to-overcome-blackberry-outages.html?_r=1"&gt;outage&lt;/a&gt;
over the past three days. While yes, it&amp;#8217;s the first truly grand failure
of &lt;span class="caps"&gt;RIM&lt;/span&gt;&amp;#8217;s infrastructure in their 12-year history, it&amp;#8217;s also a wonderful
case&amp;nbsp;study.&lt;/p&gt;
&lt;p&gt;Apparently the outage started Monday morning with &lt;span class="caps"&gt;RIM&lt;/span&gt; infrastructure in
Europe, the Middle East and Asia. However, by Wednesday, it had become a
global outage/slowdown of BlackBerry infrastructure (specifically the
parts that go through &lt;span class="caps"&gt;RIM&lt;/span&gt; - email, web browsing, and &lt;span class="caps"&gt;BBM&lt;/span&gt;; voice calls
and &lt;span class="caps"&gt;SMS&lt;/span&gt;/&lt;span class="caps"&gt;MMS&lt;/span&gt; were unaffected). With BlackBerry&amp;#8217;s market share falling,
Android&amp;#8217;s rapidly growing (and Android slowly becoming a viable
enterprise option), and the launch of the iPhone 4S just around the
corner, the timing of this couldn&amp;#8217;t be worse for&amp;nbsp;&lt;span class="caps"&gt;RIM&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span class="caps"&gt;RIM&lt;/span&gt;&amp;#8217;s original
&lt;a href="http://www.rim.com/newsroom/service-update.shtml"&gt;statement&lt;/a&gt; about the
problem, at 21:30 on Tuesday October 11th,&amp;nbsp;was,&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The messaging and browsing delays that some of you are still
experiencing were caused by a core switch failure within &lt;span class="caps"&gt;RIM&lt;/span&gt;’s
infrastructure. Although the system is designed to failover to a
back-up switch, the failover did not function as previously tested. As
a result, a large backlog of data was generated and we are now working
to clear that backlog and restore normal service as quickly as
possible. We sincerely apologise for the inconvenience caused to many
of you and we will continue to keep you&amp;nbsp;informed.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I haven&amp;#8217;t been able to find much more technical information than that -
a &lt;a href="http://www.computerworld.com/s/article/9220736/RIM_global_outage_caused_by_core_switch_failure_fix_under_way"&gt;&lt;span class="caps"&gt;CNET&lt;/span&gt; article from
Tuesday&lt;/a&gt;
goes into as much depth as anything I could find. I did find one mention
(misplaced the link) that the core switch in question uses technology
from &amp;#8220;multiple vendors&amp;#8221;. So what follows is part common sense (for me&amp;#8230;
why not for a multi-national corporation?) and part speculation. If
you&amp;#8217;re unfamiliar with &lt;span class="caps"&gt;RIM&lt;/span&gt;&amp;#8217;s architecture, the pertinent points are that
all Internet-bound traffic (browsing, email, and &lt;span class="caps"&gt;BBM&lt;/span&gt;) is piped through
&lt;span class="caps"&gt;RIM&lt;/span&gt;&amp;#8217;s data centers, where it&amp;#8217;s encypted and who-knows-what-else&amp;#8217;ed
(perhaps
&lt;a href="http://online.wsj.com/article/SB10001424052970204612504576608561811929654.html"&gt;monitored&lt;/a&gt;)
before going back out onto the &amp;#8216;net. In the Enterprise market, their big
claim is encryption/security, and monitoring/management/policy
enforcement on&amp;nbsp;handsets.&lt;/p&gt;
&lt;p&gt;First main point: &lt;span class="caps"&gt;RIM&lt;/span&gt; is a &lt;em&gt;big&lt;/em&gt; company. The thought that they rely on
an (apparently custom) core switch - a &lt;em&gt;single&lt;/em&gt; core switch for multiple
&lt;em&gt;continents&lt;/em&gt; - is amazing. It&amp;#8217;s even more amazing that they&amp;#8217;d let such a
large part of their infrastructure ride on an architecture with,
apparently, an untested failover mechanism. Of course I don&amp;#8217;t know all
the details, but I&amp;#8217;d hope that for a single piece of hardware which is
so critical, they&amp;#8217;d a) have a cold spare physically nearby so a
replacement wouldn&amp;#8217;t take a day or two, and b) if they can&amp;#8217;t do an
online failover test, at least have a full lab environment to test the
failover&amp;nbsp;in.&lt;/p&gt;
&lt;p&gt;Second main point: Their big claim through all of this is that they
didn&amp;#8217;t lose any data - email, &lt;span class="caps"&gt;BBM&lt;/span&gt;, etc. - it just got delayed. So if
there was a core switch failure in their data center serving &lt;span class="caps"&gt;EMEA&lt;/span&gt;, and
the next day global services slowed to a crawl, the only thing that
comes to mind to me is a waterfall; &lt;span class="caps"&gt;EMEA&lt;/span&gt; went down, and they started
rerouting traffic to their North America data center. The increased load
- probably a disaster recovery plan they never truly tested or even
planned - brought everything to a screeching halt, and caused them to
resort to simply caching messaging and pushing it out bit by bit as the
infrastructure could handle.&amp;nbsp;Oops.&lt;/p&gt;
&lt;p&gt;So what are my (admittedly poorly-informed) thoughts on&amp;nbsp;this?&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Scaling out works. Scaling up - especially with single points of
    failure, or N+1 redundancy - is dangerous. If &lt;span class="caps"&gt;RIM&lt;/span&gt; had scaled out and
    used regional data centers, with a close-to-commodity core and as
    much redundancy as possible, this wouldn&amp;#8217;t have happened. Sure,
    infrastructure costs money. But if that one &amp;#8220;core switch&amp;#8221; had been
    1,000 devices spread across multiple racks in multiple data centers,
    this never would have happened. And the devices would be
    comparatively cheap enough to probably keep spares on hand too. And
    regularly test their failover procedures. To all of the big
    businesses (apparently like &lt;span class="caps"&gt;RIM&lt;/span&gt;) who still think that big iron is
    the only way to do things right&amp;#8230; maybe it&amp;#8217;s time to take a hard
    look at that, and compare your architecture to that of the modern,
    new, hip giants like Google and Facebook. Grids and clusters. Nodes
    that can fail without anyone blinking. Scaling out might not fix
    every problem, but having half the world on a single core switch
    with N+1 redundancy probably isn&amp;#8217;t smart&amp;nbsp;either.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Disasters need to be planned for. Every possible contingency needs
    to be planned for. Plans need to be tested, regularly. If your giant
    core switch goes down and the failover doesn&amp;#8217;t &amp;#8220;function as
    previously tested&amp;#8221;, there&amp;#8217;s a serious problem both in your disaster
    planning, and in your validation and test procedure. If you have
    half of your customer base riding on a failover plan that isn&amp;#8217;t
    &lt;em&gt;regularly&lt;/em&gt; tested or otherwise validated, that&amp;#8217;s bad. While I can
    argue that the whole architecture - given this massive point of
    failure - could stand to be re-thought, the real issue here is with
    test/validation methodologies and procedures. For a company with 70
    million users, having a piece of infrastructure this critical fail,
    and the failover &amp;#8216;not work as tested&amp;#8217; is a very serious&amp;nbsp;issue.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Damage control is important. As I said, I can only imagine that the
    severe service degradation outside of &lt;span class="caps"&gt;EMEA&lt;/span&gt; was due to rerouting data
    from &lt;span class="caps"&gt;EMEA&lt;/span&gt; to the remaining functional data center(s). Such a
    solution should only be considered if it has been tested, or at
    least has engineering validation. If it was part of the disaster
    recovery plan, it obviously isn&amp;#8217;t actually a suitable solution, and
    served only to increase the scope of the outage. If it wasn&amp;#8217;t part
    of the disaster recovery plan, and was decided on-the-fly, someone
    really didn&amp;#8217;t do their research and engineering before putting the
    fix in place. A workable solution should have been planned ahead of
    time. And if one wasn&amp;#8217;t, it&amp;#8217;s very bad practice - this outage shows
    the results - to put in place a fix that hasn&amp;#8217;t been thought&amp;nbsp;out.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;For a company whose business is so telecom-focused, this seems like a
glaringly bad design that shouldn&amp;#8217;t be acceptable in a&amp;nbsp;telecom.&lt;/p&gt;</summary><category term="blackberry"></category><category term="outage"></category></entry><entry><title>Vyatta NetworkOS router/firewall on Alix board / Compact Flash</title><link href="http://blog.jasonantman.com/2011/09/vyatta-networkos-routerfirewall-on-alix-board-compact-flash/" rel="alternate"></link><updated>2011-09-30T14:16:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2011-09-30:2011/09/vyatta-networkos-routerfirewall-on-alix-board-compact-flash/</id><summary type="html">&lt;p&gt;With the impending move to an apartment in Georgia and the migration of
my rack full of servers to a hosting provider, there&amp;#8217;s no longer a need
for me to run my &lt;a href="http://www.vyatta.org/"&gt;Vyatta &lt;span class="caps"&gt;VC&lt;/span&gt;&lt;/a&gt; router on a beefy
dual-&lt;span class="caps"&gt;CPU&lt;/span&gt; RAIDed &lt;a href="http://h18000.www1.hp.com/products/quickspecs/11504_na/11504_na.HTML"&gt;&lt;span class="caps"&gt;DL360&lt;/span&gt;
G3&lt;/a&gt;
&lt;span class="caps"&gt;HP&lt;/span&gt; Proliant server chassis. I found an older PCEngines &lt;a href="http://pcengines.ch/alix2c1.htm"&gt;Alix
2c1&lt;/a&gt; single board computer (433 MHz &lt;span class="caps"&gt;AMD&lt;/span&gt;
Geode &lt;span class="caps"&gt;LX700&lt;/span&gt; , &lt;span class="caps"&gt;128MB&lt;/span&gt; &lt;span class="caps"&gt;DDR&lt;/span&gt; &lt;span class="caps"&gt;DRAM&lt;/span&gt;, CompactFlash (&lt;span class="caps"&gt;CF&lt;/span&gt;) card socket, MiniPCI, 3x
10/100 ethernet) lying around, and decided to turn that into the new
router. But I&amp;#8217;ve been so spoiled by Vyatta&amp;#8217;s good performance (well, at
least on an x86 server) and the &lt;em&gt;real&lt;/em&gt; &lt;span class="caps"&gt;CLI&lt;/span&gt;, so I don&amp;#8217;t think I can go
back to something like &lt;a href="http://m0n0.ch/wall/"&gt;m0n0wall&lt;/a&gt; or
&lt;a href="http://www.pfsense.org/"&gt;pfSense&lt;/a&gt;, and since it&amp;#8217;s going to be my only
network services box (also doing &lt;span class="caps"&gt;DNS&lt;/span&gt;, &lt;span class="caps"&gt;DHCP&lt;/span&gt;, firewalling, &lt;span class="caps"&gt;NAT&lt;/span&gt;, and maybe
IPsec &lt;span class="caps"&gt;VPN&lt;/span&gt;) it&amp;#8217;s not viable to use the type of older Cisco or Juniper
hardware that I can&amp;nbsp;afford.&lt;/p&gt;
&lt;p&gt;The down side is that Vyatta isn&amp;#8217;t really designed or tuned for small
systems, let alone &lt;span class="caps"&gt;CF&lt;/span&gt; media that doesn&amp;#8217;t take too well to lots of
writes. So, I&amp;#8217;m going to begin experimentation with doing a &lt;span class="caps"&gt;CF&lt;/span&gt; install
of the current Vyatta Core 6.3, and we&amp;#8217;ll see how it goes and what
tuning I do over&amp;nbsp;time.&lt;/p&gt;
&lt;p&gt;I found two relatively good references; a &lt;a href="http://www.vyatta.org/forum/viewtopic.php?t=502"&gt;post on the vyatta.org
forum&lt;/a&gt; from 2008,
relating to Vyatta version 4 (also on the author&amp;#8217;s
&lt;a href="http://dataflip.blogspot.com/2008/06/optimizing-vyatta-for-compact-flash.html"&gt;blog&lt;/a&gt;),
and a &lt;a href="http://peytongroup.wordpress.com/2010/02/16/vyatta-community-on-a-compact-flash/"&gt;blog
post&lt;/a&gt;
detailing a more complex
&lt;a href="http://squashfs.sourceforge.net/"&gt;SquashFS&lt;/a&gt;/&lt;a href="http://en.wikipedia.org/wiki/Tmpfs"&gt;tmpfs&lt;/a&gt;/&lt;a href="http://unionfs.filesystems.org/"&gt;UnionFS&lt;/a&gt;
read-only Vyatta install. Given my relatively short timeframe and little
free time, I decided to try the former approach for now, and plan to
make a more customized and tuned &lt;span class="caps"&gt;CF&lt;/span&gt; version of Vyatta in the&amp;nbsp;future.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Creating the actual disk&amp;nbsp;image:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;My development platform at the moment is an intel-based MacBook Pro,
running MacOS X 10.6.4 and VirtualBox 4.0.12. As much of a Linux fan as
I am, my work laptop runs Mac (like everyone else in the office) and
lately I can&amp;#8217;t guarantee that I&amp;#8217;ll be at my desktop long enough to
finish anything. The target is an Alix2c1 with a &lt;span class="caps"&gt;2GB&lt;/span&gt; SanDisk Ultra &lt;span class="caps"&gt;CF&lt;/span&gt;
card (yes, I know an industrial card would be better, but I couldn&amp;#8217;t get
my hands on one). For starters, I created a new VirtualBox &lt;span class="caps"&gt;VM&lt;/span&gt; with the
following&amp;nbsp;settings:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class="caps"&gt;OS&lt;/span&gt; Type: Linux&amp;nbsp;2.6&lt;/li&gt;
&lt;li&gt;Base Memory:&amp;nbsp;&lt;span class="caps"&gt;128MB&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;Boot Order: Floppy, &lt;span class="caps"&gt;CD&lt;/span&gt;-&lt;span class="caps"&gt;ROM&lt;/span&gt;, Hard&amp;nbsp;Disk&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;IDE&lt;/span&gt; Controller Primary: mounted vyatta-livecd_VC6.3 &lt;span class="caps"&gt;ISO&lt;/span&gt;&amp;nbsp;image&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;IDE&lt;/span&gt; Controller Secondary: &lt;span class="caps"&gt;RAW&lt;/span&gt; &lt;span class="caps"&gt;VMDK&lt;/span&gt; image (created&amp;nbsp;below)&lt;/li&gt;
&lt;li&gt;Audio:&amp;nbsp;None&lt;/li&gt;
&lt;li&gt;Network: Disabled &lt;em&gt;(this is important, as Vyatta saves the
    interfaces by hardware address, and it would require some config
    editing and reboots to change&amp;nbsp;them)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;Serial Port: disconnected (but&amp;nbsp;present)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;One difficulty I ran into on Mac is mounting the raw &lt;span class="caps"&gt;CF&lt;/span&gt; card in the
VirtualBox guest. I plugged it in via a &lt;span class="caps"&gt;USB&lt;/span&gt; reader, and of course it
automatically mounted in MacOS. I ejected it and the &lt;code&gt;/dev/disk1&lt;/code&gt; device
disappeared. It turns out that the full procedure (as far as I could
tell) for Mac&amp;nbsp;is:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Plug in the &lt;span class="caps"&gt;CF&lt;/span&gt; card and&amp;nbsp;reader.&lt;/li&gt;
&lt;li&gt;It should automount. Run &lt;code&gt;mount&lt;/code&gt; to see what the actual device is -
    in my case, the &lt;code&gt;/dev/disk1s1&lt;/code&gt; partition was mounted, so the disk is
    &lt;code&gt;/dev/disk1&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Run &lt;code&gt;sudo umount -f /dev/disk1&lt;/code&gt;. It seems that the MacOS automounter
    has a god complex, so you may need to re-run this command quite a
    few times throughout the process if you get device or resource busy&amp;nbsp;errors.&lt;/li&gt;
&lt;li&gt;In an appropriate directory, create the raw &lt;span class="caps"&gt;VMDK&lt;/span&gt; image with:
    &lt;code&gt;VBoxManage internalcommands createrawvmdk -filename rawdisk.vmdk -rawdisk /dev/disk1&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;When creating your &lt;span class="caps"&gt;VM&lt;/span&gt;, you&amp;#8217;ll have an option to select Use an
    Existing Virtual Disk. Use that option, and select the file created
    in the last&amp;nbsp;step.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Once that&amp;#8217;s done, and you&amp;#8217;ve setup the &lt;span class="caps"&gt;VM&lt;/span&gt; with the raw disk, boot the &lt;span class="caps"&gt;VM&lt;/span&gt;
(should boot to the Vyatta LiveCD), login as usual for an install
(vyatta:vyatta), and the the fun&amp;nbsp;begins:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;At the prompt after logging in, &lt;code&gt;sudo su -&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Edit &lt;code&gt;/opt/vyatta/sbin/install-system&lt;/code&gt; (hint: Vyatta has nano and vi
    installed. &lt;code&gt;nano -c filename&lt;/code&gt; shows line numbers) and change the
    &lt;code&gt;ROOT_FSTYPE&lt;/code&gt; variable (line 78 in &lt;span class="caps"&gt;VC6&lt;/span&gt;.3) from &amp;#8220;ext4&amp;#8221; to&amp;nbsp;&amp;#8220;ext2&amp;#8221;.&lt;/li&gt;
&lt;li&gt;Run &lt;code&gt;install-system&lt;/code&gt;. I used all default options (including one
    partition) and it seemed to work fine. It took a minute or two to
    create the ext2 filesystem on my &lt;span class="caps"&gt;2GB&lt;/span&gt; &lt;span class="caps"&gt;CF&lt;/span&gt;&amp;nbsp;card.&lt;/li&gt;
&lt;li&gt;The file copy took even longer&amp;#8230; so be patient, or have a book&amp;nbsp;handy.&lt;/li&gt;
&lt;li&gt;When system-install finishes and you get the root prompt back,
    before rebooting, continue with some minor&amp;nbsp;tweaks:&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mkdir /mnt/temp&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mount /dev/sda1 /mnt/temp&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cd /mnt/temp&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Edit &lt;code&gt;boot/grub/grub.cfg&lt;/code&gt; and change all occurrences of
    &amp;#8220;root=&lt;span class="caps"&gt;UUID&lt;/span&gt;=&amp;#8230;&amp;#8221; entries for the &amp;#8220;linux&amp;#8221; lines (lines 13, 18, 23, 28
    in my grub.cfg) to &amp;#8220;root=/dev/sda1&amp;#8221;. My only real reason for this
    change is so that I can move my altered config files (config.boot,
    fstab and grub.cfg) with minimal changes when I upgrade or make a
    different vyatta &lt;span class="caps"&gt;CF&lt;/span&gt; card, without having to update the &lt;span class="caps"&gt;UUID&lt;/span&gt; for the
    new&amp;nbsp;partition.&lt;/li&gt;
&lt;li&gt;Edit &lt;code&gt;etc/fstab&lt;/code&gt; and change the &amp;#8220;&lt;span class="caps"&gt;UUID&lt;/span&gt;=&amp;#8230;&amp;#8221; device to&amp;nbsp;&amp;#8221;/dev/sda1&amp;#8221;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;shutdown&lt;/code&gt;. Once the &lt;span class="caps"&gt;VM&lt;/span&gt; is stopped, you can remove the &lt;span class="caps"&gt;CF&lt;/span&gt;&amp;nbsp;card.&lt;/li&gt;
&lt;li&gt;The PCEngines Alix.2 boards use a default serial console speed of
    38400 baud. Pretty much every network device, plus Linux and Vyatta,
    use a default speed of 9600 baud. Once I got the &lt;span class="caps"&gt;CF&lt;/span&gt; card installed
    in the Alix board and hooked it up to my laptop (null modem cable to
    a &lt;span class="caps"&gt;PL&lt;/span&gt;-2303 based &lt;span class="caps"&gt;USB&lt;/span&gt; to serial adapter, minicom for terminal
    emulation), I set my terminal emulator to 38400 8N1, powered the
    board, and then pressed &amp;#8216;s&amp;#8217; during &lt;span class="caps"&gt;POST&lt;/span&gt; to get into &lt;span class="caps"&gt;BIOS&lt;/span&gt; settings.
    Option &amp;#8216;9&amp;#8217; sets the Alix to 9600 baud, &amp;#8216;Q&amp;#8217; to quit, and &amp;#8216;Y&amp;#8217; to save
    changes permanently. The board will reboot, and once the terminal
    emulator is set back to 9600 baud, serial console should work fine
    both in &lt;span class="caps"&gt;BIOS&lt;/span&gt; and in the&amp;nbsp;&lt;span class="caps"&gt;OS&lt;/span&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;If all worked well, you should be able to boot into Vyatta and login as
the default &amp;#8220;vyatta&amp;#8221; user (which you set a password for during the
install). Assuming you know your way around Vyatta, it&amp;#8217;s pretty standard
from here, though there are a few things you may want to check or
configure right&amp;nbsp;away:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;In configuration mode (&lt;code&gt;configure&lt;/code&gt;) run &lt;code&gt;show interfaces&lt;/code&gt;. All of
    your physical ethernet interfaces should appear, along with their
    &lt;span class="caps"&gt;MAC&lt;/span&gt;&amp;nbsp;addresses.&lt;/li&gt;
&lt;li&gt;Some changes to reduce the number of log writes to the &lt;span class="caps"&gt;CF&lt;/span&gt; card:
    &lt;code&gt;set system syslog console facility all level notice&lt;/code&gt; and
    &lt;code&gt;set system syslog global facility protocols level notice&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Configure interfaces. with firewalls, &lt;span class="caps"&gt;IP&lt;/span&gt; addresses or &lt;span class="caps"&gt;DHCP&lt;/span&gt;,&amp;nbsp;etc.&lt;/li&gt;
&lt;li&gt;Do whatever other configuration you need for a minimal system -
    dhcp, dns, nat,&amp;nbsp;etc.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;And that&amp;#8217;s it - this should give you a working Vyatta system on &lt;span class="caps"&gt;CF&lt;/span&gt; on an
Alix board. Stay tuned, hopefully in a month or so I&amp;#8217;ll get around to
customizing it a bit more, based on the second blog entry linked&amp;nbsp;above.&lt;/p&gt;</summary><category term="alix"></category><category term="embedded"></category><category term="network"></category><category term="pcengines"></category><category term="router"></category><category term="vyatta"></category></entry><entry><title>New server, and looking for work</title><link href="http://blog.jasonantman.com/2011/09/new-server-and-looking-for-work/" rel="alternate"></link><updated>2011-09-27T19:35:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2011-09-27:2011/09/new-server-and-looking-for-work/</id><summary type="html">&lt;p&gt;First off, I&amp;#8217;ve moved this blog from a server in my basement to
&lt;a href="http://www.linode.com"&gt;Linode&lt;/a&gt; virtual hosting, in preparation for my
move from New Jersey to an apartment in Georgia. This will mark the
first time since 2001 (when I was 14) that I didn&amp;#8217;t have at least a
publicly-accessible Linux server in my home. It also means that, as sad
as it is, the rack will probably all be either going in Ebay or to scrap
(after a good &lt;a href="http://en.wikipedia.org/wiki/Gutmann_method"&gt;Guttmann
wipe&lt;/a&gt;, of&amp;nbsp;course).&lt;/p&gt;
&lt;p&gt;&lt;img alt="server rack" src="/GFX/rack_2011-09-27_small.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m a bit sad to give up hosting &lt;span class="caps"&gt;DNS&lt;/span&gt; myself and having my beautiful
per-zone, per-domain, hourly &lt;span class="caps"&gt;DNS&lt;/span&gt; statistics, but that was my first move,
and Linode&amp;#8217;s web-based &lt;span class="caps"&gt;DNS&lt;/span&gt; manager is much nicer than my collection of
&lt;span class="caps"&gt;PHP&lt;/span&gt; scripts, MySQL backend, and rndc reload wrapper (and I no longer
need &lt;span class="caps"&gt;BIND&lt;/span&gt; split-horizon since the hosting is remote). Mail was next, and
I&amp;#8217;ve got one web server moved and the other on the way. The biggest
disappointment is losing my testbed for all the fun stuff I can&amp;#8217;t do (or
doesn&amp;#8217;t make sense) with a virtualized hosting provider -
&lt;a href="http://puppetlabs.com/"&gt;Puppet&lt;/a&gt;, real &lt;span class="caps"&gt;ISC&lt;/span&gt; &lt;span class="caps"&gt;DHCP&lt;/span&gt;, &lt;span class="caps"&gt;BIND9&lt;/span&gt;, Cisco CatOS and
&lt;span class="caps"&gt;IOS&lt;/span&gt; devices, &lt;a href="http://www.bacula.org"&gt;Bacula&lt;/a&gt;, running my own edge
router, etc. There&amp;#8217;s at least a handful of current production Rutgers
services and tools that got their start here as projects in my spare
time. But I&amp;#8217;m sure I&amp;#8217;ll make up somehow, and I&amp;#8217;m planning on putting
aside some money for a massive new desktop to run a slew of&amp;nbsp;VMs.&lt;/p&gt;
&lt;p&gt;On a second note, the one thing holding back my move to Georgia is,
well, my lack of a job there. I&amp;#8217;m really just starting to look around,
and am very much hoping to find something comparable to my current
position at Rutgers - a group supporting diverse services, doing mainly
architecture and implementation of new services, a good dose of
automation and custom tool development, and hopefully also some work
with performance and availability monitoring (think
&lt;a href="http://www.nagios.org"&gt;Nagios&lt;/a&gt; and &lt;a href="http://www.cacti.net/"&gt;Cacti&lt;/a&gt;),
logging, etc. And, of course, something that&amp;#8217;s network-focused, whether
wireless or wired. Maintaining some data center space/physical
infrastructure and occasionally working with my hands is fun too. So, if
you know anyone who&amp;#8217;s hiring a Linux/open source dude in the general
vicinity of Athens, &lt;span class="caps"&gt;GA&lt;/span&gt; (including Atlanta and the surrounding area),
please give me a heads-up, or pass them along to
&lt;a href="http://resume.jasonantman.com"&gt;resume.jasonantman.com&lt;/a&gt;.&lt;/p&gt;</summary><category term="linode"></category><category term="move"></category><category term="rack"></category><category term="servers"></category></entry><entry><title>Quick and Simple Timestamping of Debug Logs</title><link href="http://blog.jasonantman.com/2011/09/quick-and-simple-timestamping-of-debug-logs/" rel="alternate"></link><updated>2011-09-08T07:06:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2011-09-08:2011/09/quick-and-simple-timestamping-of-debug-logs/</id><summary type="html">&lt;p&gt;I&amp;#8217;ve been having some issues that may be
&lt;a href="http://puppetlabs.com/"&gt;Puppet&lt;/a&gt;-related. Unfortunately, Puppet (at
least the old 0.25.4 client that I&amp;#8217;m running) doesn&amp;#8217;t timestamp the
debug logs sent to stdout. I know it&amp;#8217;s hanging somewhere, but I need
concrete numbers to look at. Here&amp;#8217;s a wonderfully simple bash script
that timestamps everything sent to it on stdin, and echoes it back to&amp;nbsp;stdout:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="c"&gt;#!/bin/bash&lt;/span&gt;

&lt;span class="nv"&gt;&lt;span class="caps"&gt;DATECMD&lt;/span&gt;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;date +%H:%M:%S&amp;#39;&lt;/span&gt;

&lt;span class="k"&gt;while &lt;/span&gt;&lt;span class="nb"&gt;read &lt;/span&gt;line; &lt;span class="k"&gt;do&lt;/span&gt;
&lt;span class="k"&gt;    &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;$($&lt;span class="caps"&gt;DATECMD&lt;/span&gt;) $line&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;done&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Call it as simply as: &lt;code&gt;command | ~/bin/ts&lt;/code&gt;, or maybe like
&lt;code&gt;command 2&amp;gt;&amp;amp;1 | ~/bin/ts | tee foo.log&lt;/code&gt;. Dead simple, but very helpful
when the developers didn&amp;#8217;t think to timestamp debug log&amp;nbsp;output.&lt;/p&gt;</summary><category term="debugging"></category><category term="logs"></category><category term="puppet"></category><category term="sysadmin"></category><category term="timestamp"></category></entry><entry><title>Linux Memory Usage and Disk Caching</title><link href="http://blog.jasonantman.com/2011/08/linux-memory-usage-and-disk-caching/" rel="alternate"></link><updated>2011-08-23T08:17:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2011-08-23:2011/08/linux-memory-usage-and-disk-caching/</id><summary type="html">&lt;p&gt;I recently added some &lt;a href="http://www.cacti.net"&gt;Cacti&lt;/a&gt;-based graphing to a
number of Linux-based servers prior to rolling out a new service. When I
was looking over the performance graphs of the initial testing, I
noticed that memory usage on our &lt;a href="http://www.rsyslog.com"&gt;rsyslog&lt;/a&gt;
server was near 98%. Looking at &lt;code&gt;top(1)&lt;/code&gt;, I saw numbers that agreed,
though processor usage was around 99% idle, and no process appeared to
be using more than 1% of memory. It took me a minute or two to open my
eyes and see past the panic of memory usage, and finally look at the
complete output from &lt;code&gt;free(1)&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;             total       used       free     shared    buffers     cached
Mem:       8171508    8032632     138876          0     162084    7253716
-/+ buffers/cache:     616832    7554676
Swap:      4192956        152    4192804
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The pertinent part is the last column: &amp;#8220;cached&amp;#8221;. It slipped my mind that
while rsyslog is writing vast amounts of data to disk, which may or may
not ever be read back, the kernel is using free memory to cache as much
of that as it reliably can. Hence the difference between what the kernel
and userland tools call &amp;#8220;free&amp;#8221;, and what most human beings (or at least
sysadmins) would consider &amp;#8220;free&amp;#8221; - or, more correctly, &amp;#8220;available for&amp;nbsp;use&amp;#8221;.&lt;/p&gt;
&lt;p&gt;When I get a chance, maybe I&amp;#8217;ll submit patches to the Cacti Memory Usage
Percent (&lt;span class="caps"&gt;SNMP&lt;/span&gt;) template to either graph cache separately, or remove it
from the&amp;nbsp;total.&lt;/p&gt;
&lt;p&gt;Interestingly, I also found a somewhat cute page entitled &amp;#8220;Help! Linux
ate my &lt;span class="caps"&gt;RAM&lt;/span&gt;!&amp;#8221; at
&lt;a href="http://www.linuxatemyram.com/"&gt;http://www.linuxatemyram.com/&lt;/a&gt;.&lt;/p&gt;</summary><category term="linux"></category><category term="memory"></category><category term="rsyslog"></category><category term="syslog"></category></entry><entry><title>Article on theInquirer.net</title><link href="http://blog.jasonantman.com/2011/07/article-on-theinquirer-net/" rel="alternate"></link><updated>2011-07-11T15:55:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2011-07-11:2011/07/article-on-theinquirer-net/</id><summary type="html">&lt;p&gt;I guess it&amp;#8217;s pretty strange that I just found out about it now, three
years later, but there&amp;#8217;s an &lt;a href="http://www.theinquirer.net/inquirer/news/1026958/citibank-infuriating-customers-linux-hostile-site"&gt;article on
TheInquirer.net&lt;/a&gt;
about Citibank&amp;#8217;s website not allowing Linux, that heavily quotes &lt;a href="/2008/08/linux-choice-updates-citibank-issues/"&gt;a blog
post of mine&lt;/a&gt; about the
issue.&amp;nbsp;Cool.&lt;/p&gt;</summary><category term="citibank"></category><category term="linux"></category><category term="me"></category></entry><entry><title>A Quick Review of Mint.com - from both a user and programmer perspective</title><link href="http://blog.jasonantman.com/2011/07/a-quick-review-of-mint-com-from-both-a-user-and-programmer-perspective/" rel="alternate"></link><updated>2011-07-03T22:03:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2011-07-03:2011/07/a-quick-review-of-mint-com-from-both-a-user-and-programmer-perspective/</id><summary type="html">&lt;p&gt;For those of you who are unfamiliar with
&lt;a href="http://www.mint.com"&gt;Mint.com&lt;/a&gt;, it&amp;#8217;s a free online personal finance
site that allows you to track spending across all of your bank accounts
and manage budgets and financial goals. Once upon a time it was a nice
little Web 2.0 startup, now it&amp;#8217;s owned by Intuit. The service is free,
but it&amp;#8217;s ad supported, albeit in an unintrusive way - &amp;#8220;partner&amp;#8221; services
(credit cards, savings accounts, etc.) are recommended. I&amp;#8217;ve been using
it for about two weeks now, with a goal of tracking my spending,
developing a budget and getting a better handle on my present and future
finances. So here are some of my impressions, considering that the
service is still growing but has been around for a&amp;nbsp;while.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;The&amp;nbsp;Good:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Account Sync&lt;/strong&gt; - Some things I&amp;#8217;ve read online suggest that Mint
    now uses the &lt;a href="http://yodlee.com"&gt;Yodlee&lt;/a&gt; service to sync
    transactions from your financial institutions. Whatever they use,
    they seem to be able to sync transactions and account balances from
    all of my accounts, even ones at a few small investment companies.
    The sync is fast, and they do push notifications (low balance, large
    deposits, etc.) very well. They even seem to support many more
    institutions than Quicken last time I used it (2010 I&amp;nbsp;think).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Budgets&lt;/strong&gt; - Mint has a very nice, clean, simple monthly budget
    implementation. You tell it how much you want to spend in a given
    category in a month, and it shows a nice horizontal bar graph of how
    far through your allotment you are. It even makes some suggestions,
    and sets baseline budgets by category based on previous spending.
    About the only problem is when my bi-weely pay checks fall on odd
    weeks in the month. Most of my bills are due near the end of the
    month, and if my pay check happens to be around the same time my
    bills are due, I&amp;#8217;ll have quite a bit less cash on hand at the
    beginning of the next month than the budgets&amp;nbsp;reflect.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Categorization&lt;/strong&gt; - they do it very well. One of their big selling
    points is their categorization engine, and it seemed to get about
    80% of my purchases right, from day one. That&amp;#8217;s much better than
    anything else I&amp;#8217;ve seen. The only down side is that they only look
    at the Vendor name, not the description - so when I use my debit
    card and the vendor name is &amp;#8220;&lt;span class="caps"&gt;NYCE&lt;/span&gt; Transaction&amp;#8221; but the store
    name/address is in the description, Mint is hopelessly lost. They
    offer rules to put transactions in category, but only exact matching
    on the vendor name, so there&amp;#8217;s no way to tell it to look at a
    description that includes &amp;#8220;123 Main St&amp;#8221;. From a programmer&amp;#8217;s
    perspective, they should allow rules based on either vendor name
    &lt;em&gt;or&lt;/em&gt; description, and maybe they should let the user highlight or
    specify the part that matches (or a&amp;nbsp;RegEx?).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Apps&lt;/strong&gt; - I haven&amp;#8217;t tried the iOS ones, but the Android app is
    pretty nice. It gives a nice quick picture of your spending and
    account balances, how you&amp;#8217;re doing with your monthly budget, and any
    alerts/messages. Transaction history isn&amp;#8217;t easily accessible and is
    per-account only, so it&amp;#8217;s hard to answer &amp;#8220;hmmm, how much did it cost
    last time I was here?&amp;#8221; or &amp;#8220;where did I get lunch last Tuesday?&amp;#8221;, but
    it&amp;#8217;s still handy enough to tell me how much I have left in my
    Entertainment budget, or whether I should put this big purchase on
    my credit or debit&amp;nbsp;card.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Goals&lt;/strong&gt; - Mint has a good idea with goals - it includes a number
    of pre-configured financial goals like paying off credit card debt,
    saving for retirement, or stashing away some emergency cash. But in
    order to function correctly, you must have a specific, dedicated
    account for each goal. I guess this is where Mint makes money - they
    suggest accounts with specific attributes (high interest, high
    liquidity, whatever) from their partners. But there doesn&amp;#8217;t appear
    to be a way to set up a Goal without associating it with a dedicated
    account, and (as per some forum posts I read, I haven&amp;#8217;t tried this)
    you can&amp;#8217;t associate a cash asset account with a goal, so there&amp;#8217;s no
    way to track my progress on building the Depression fund I keep
    under my&amp;nbsp;mattress.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;The Bad/Room for&amp;nbsp;Improvement:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Customer Service&lt;/strong&gt; - I don&amp;#8217;t know when Mint was bought up by
    Intuit, but to me, they have the feel of an agile Web 2.0 property
    that was bought up by a slow-moving bureaucratic company unable to
    keep up with customer demands or the amount of support requests.
    They use &lt;a href="http://getsatisfaction.com/"&gt;GetSatisfaction&lt;/a&gt;, a new-age
    forum-based customer &amp;#8220;community&amp;#8221; provider, for customer service. But
    their forums are filled with feature request threads that have
    &amp;#8220;we&amp;#8217;ll bring it up to Product Development and get back to you&amp;#8221;
    responses over half a year old. There appears to be very little
    follow-through or feedback on feature requests, and poor
    announcement/communication surrounding the one feature that was
    recently brought in to an invitation-only beta. Unfortunately, I get
    the general feeling (and I&amp;#8217;ve found this far too many times lately)
    that they were originally a cutting-edge, agile, fast-paced, &amp;#8220;cool&amp;#8221;
    service, developed by a team that probably stayed up all night
    coding a cool feature their users were asking for, that&amp;#8217;s now been
    swallowed up by a behemoth that wants a 6-month-long risk assessment
    before writing a line of&amp;nbsp;code.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Cash Tracking&lt;/strong&gt; - I understand that Mint makes money from
    recommending the services of lenders, banks, etc. But if you want to
    monetize every single feature, you&amp;#8217;re bound to fail. In this
    respect, Mint&amp;#8217;s total lack of cash accounting is a serious failure
    for many of their users (and the forums are filled with threads to
    this effect). The site allows users to manually input cash
    transactions, but that&amp;#8217;s about it. You can deduct the amount from an
    automatically-synced &lt;span class="caps"&gt;ATM&lt;/span&gt; withdrawal (just your last &lt;span class="caps"&gt;ATM&lt;/span&gt; withdrawal,
    no choice if you have multiple &lt;span class="caps"&gt;ATM&lt;/span&gt; accounts, or you and your
    partner/spouse both use the same Mint account), but that just
    complicates things further. There&amp;#8217;s also no logic of tracking cash
    on hand - you can create a &amp;#8220;Asset&amp;#8221; (cash) account, but you have to
    manually update the balance. If you&amp;#8217;re like me and use cash for
    small purchases, or often get meals at local places that only accept
    cash, this becomes quite a bit of a hassle. Even more so if, like
    me, you&amp;#8217;ve ever lost an &lt;span class="caps"&gt;ATM&lt;/span&gt; card on a holiday weekend, and now keep
    some actual cash in the house. Honestly, I think this is my biggest
    complaint about Mint, and the one that&amp;#8217;s most likely to keep me
    looking for alternatives. More importantly, this has been requested
    and voted for over and over on their support forums for over a year,
    with no informational response. For a company whose developers
    aggregate and analyze data from thousands of banks, I&amp;#8217;d think that
    letting users type in a series of dollar amounts and then totaling
    it up would be pretty&amp;nbsp;easy.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Scheduled Transactions&lt;/strong&gt; - On the plus side, Mint parses the &amp;#8220;next
    payment due&amp;#8221; date out of credit card and loan account information,
    so it gives you nice (email, &lt;span class="caps"&gt;SMS&lt;/span&gt;, and web) alerts a configurable
    number of days before. However, it doesn&amp;#8217;t even have a feature to
    set calendar reminders for when bills are due, so I&amp;#8217;m still stuck
    opening Mint and Google Calendar if I need to figure out whether I
    can make that big purchase today or if I should wait until my next
    pay check. This was also a very commonly requested feature on their
    forums, and apparently they have an invitation-only beta running.
    But I responded to the thread a few days late, so I wasn&amp;#8217;t given an
    invitation. As far as I can tell, there was never an announcement of
    the beta, and I never got a chance to check a &amp;#8220;please let me beta
    test&amp;#8221;&amp;nbsp;box.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Forecasting&lt;/strong&gt; - This is my #2 biggest issue with Mint, after the
    lack of cash tracking. And the other one most likely to drive me
    either to another service, to write my own software (again), or to
    go back to a spreadsheet. Mint is great at tracking your transaction
    history, your account balances and net worth, and your current
    monthly budget. But it has absolutely no concept of financial
    forecasting or balance predictions. If you&amp;#8217;re on a tight budget,
    this can be a problem. At the moment, I have a spreadsheet were I
    keep a list of all of my regularly recurring expenses (in date order
    over the month), my pay dates, and the combined balance of my
    checking/savings accounts. I can easily see what (within reason, not
    counting discretionary expenses) my cash on hand will be at any time
    in the month. This seems like a no-brainer necessary feature for a
    site like Mint, and combined with its great budgeting features,
    could provide a wonderful picture of what to expect in the next
    month or two, and when I should plan on making that unusually large&amp;nbsp;purchase.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Couples/Families&lt;/strong&gt; - My girlfriend and I both use Mint, and have
    somewhat combined finances (but not accounts). It doesn&amp;#8217;t make sense
    for us to have two Mint accounts, since it would be a real pain to
    keep track of. But, on the other hand, having all of our accounts in
    one Mint isn&amp;#8217;t an ideal solution either. I can categorize
    transactions, but there&amp;#8217;s no easy way to track &lt;em&gt;who&lt;/em&gt; the purchase
    was for, short of duplicating (or triplicating - Me, Her, Both) all
    of the categories. I&amp;#8217;m trying something with tags, but it&amp;#8217;s a real
    kludge in Mint&amp;#8217;s search interface to get a list of transactions
    filtered by category &lt;em&gt;and&lt;/em&gt; tag. Also, the account name doesn&amp;#8217;t show
    up in the transactions list unless you pull down the Detail box for
    a transaction, so it&amp;#8217;s troublesome to look through a list and sort
    out whose cards everything was&amp;nbsp;on.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Miscellaneous:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Passwords.&lt;/strong&gt; In order to sync data from my banks, I have to supply
    mint.com with all of my login credentials. I understand that, until
    banks enter the 21st century (and be smart about it - even a less
    likely possibility) this is just the way it is, and I can&amp;#8217;t blame
    Mint for a system imposed by the banks. But still, I&amp;#8217;m not too happy
    about the idea of Mint storing in plain text (I assume, since they
    need to pass them on to the bank) my username and password for all
    of my banking sites. I got some comfort knowing that the site is
    owned by Intuit - a company that, if not totally security-minded, is
    at least big enough not to fold overnight after a breach. Maybe one
    day, banks and credit card companies will let me specify separate
    credentials specific to third-party software and websites, which I
    could then revoke with my &amp;#8220;master&amp;#8221; password. Until then, I guess
    this is just a risk I have to live&amp;nbsp;with.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Importing Transactions&lt;/strong&gt; - Mint only supports importing up to 3
    months of transaction data per account. Some institutions provide
    less than that. Obviously Intuit doesn&amp;#8217;t want people switching from
    their paid software, so the two &lt;span class="caps"&gt;YEARS&lt;/span&gt; of transactions I meticulously
    categorized in Quicken are now useless to me in Mint. However, I
    guess I can&amp;#8217;t really fault them too much on this one. Firstly, that
    would be a &lt;span class="caps"&gt;LOT&lt;/span&gt; of data for them to store. It would also be much more
    of a headache to try and ensure that the export formats of whatever
    software packages they support are properly&amp;nbsp;parsed.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Conclusions:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Mint does a lot of things well. And it&amp;#8217;s a nice clean interface. But
there are also some key features missing, which I feel like I really
need. So, for the time being, I&amp;#8217;m going to keep using mint, but also
explore what other options are available, and look into anyone who
offers an &lt;span class="caps"&gt;API&lt;/span&gt; for pulling transaction data that might actually be
powerful enough for me to use to write my own web-based app (since my
attempts at pulling &lt;a href="http://en.wikipedia.org/wiki/OFX"&gt;&lt;span class="caps"&gt;OFX&lt;/span&gt;&lt;/a&gt; feeds only
worked for about half my accounts). If you don&amp;#8217;t care as much about
tracking cash spending/cash on hand, and are financially stable enough
that you don&amp;#8217;t need to forecast the next month or two, Mint is&amp;nbsp;wonderful.&lt;/p&gt;</summary><category term="finance"></category><category term="mint"></category><category term="review"></category></entry><entry><title>Netgear ReadyNAS 1100 Bug causes NFS Failure after reboot - workaround</title><link href="http://blog.jasonantman.com/2011/06/netgear-readynas-1100-bug-causes-nfs-failure-after-reboot-workaround/" rel="alternate"></link><updated>2011-06-28T08:40:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2011-06-28:2011/06/netgear-readynas-1100-bug-causes-nfs-failure-after-reboot-workaround/</id><summary type="html">&lt;p&gt;At work, we have a &lt;a href="http://www.readynas.com/?cat=23"&gt;Netgear ReadyNAS
1100&lt;/a&gt;. It&amp;#8217;s a &lt;span class="caps"&gt;4TB&lt;/span&gt; &lt;span class="caps"&gt;NAS&lt;/span&gt; appliance, a cute
little 1U half-depth Linux box with 4 &lt;span class="caps"&gt;SATA&lt;/span&gt; disks, a &lt;span class="caps"&gt;RAID&lt;/span&gt; controller, and
some firmware to do a whole bunch of fancy stuff (mainly geared towards
consumers and very small shops - all configuration is point-and-click
web &lt;span class="caps"&gt;UI&lt;/span&gt;). We&amp;#8217;ve been using it for storing archived log data and
low-priority backups. At the beginning of this problem, it was running
RAIDiator 4.1.6 firmware since December of last year (over 6 months),
and hadn&amp;#8217;t had any configuration changes in at least 4&amp;nbsp;months.&lt;/p&gt;
&lt;p&gt;Last week, I had to power off the unit and remove the power cables for
some rack maintenance. I went through the usual full shutdown procedure
in the web &lt;span class="caps"&gt;UI&lt;/span&gt;, and also told it to `fsck` the volumes, as that hadn&amp;#8217;t
been done in quite some time. Unfortunately, when the unit came back up,
even after I could log into the web &lt;span class="caps"&gt;UI&lt;/span&gt;, I couldn&amp;#8217;t mount the &lt;span class="caps"&gt;NFS&lt;/span&gt; shares
on my backup server. I kept getting messages&amp;nbsp;like:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="go"&gt;[root@backup-server ~]# mount -a&lt;/span&gt;
&lt;span class="go"&gt;mount: mount to &lt;span class="caps"&gt;NFS&lt;/span&gt; server &amp;#39;css-readynas&amp;#39; failed: &lt;span class="caps"&gt;RPC&lt;/span&gt; Error: Program not registered.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;so my next step was to check &lt;span class="caps"&gt;RPC&lt;/span&gt; status of the readynas, from the
client. That was also a bit of a&amp;nbsp;surprise:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="go"&gt;[root@backup-server ~]# rpcinfo -p css-readynas                        &lt;/span&gt;
&lt;span class="go"&gt;   program vers proto   port                                              &lt;/span&gt;
&lt;span class="go"&gt;    100000    2   tcp    111  portmapper                                  &lt;/span&gt;
&lt;span class="go"&gt;    100000    2   udp    111  portmapper                                  &lt;/span&gt;
&lt;span class="go"&gt;    100011    1   udp    620  rquotad                                     &lt;/span&gt;
&lt;span class="go"&gt;    100011    2   udp    620  rquotad                                     &lt;/span&gt;
&lt;span class="go"&gt;    100011    1   tcp    623  rquotad                                     &lt;/span&gt;
&lt;span class="go"&gt;    100011    2   tcp    623  rquotad                                     &lt;/span&gt;
&lt;span class="go"&gt;    100024    1   udp  32765  status                                      &lt;/span&gt;
&lt;span class="go"&gt;    100024    1   tcp  32765  status                                      &lt;/span&gt;
&lt;span class="go"&gt;    100005    1   udp   2051  mountd                                      &lt;/span&gt;
&lt;span class="go"&gt;    100005    1   tcp   3006  mountd                                      &lt;/span&gt;
&lt;span class="go"&gt;    100005    2   udp   2051  mountd                                      &lt;/span&gt;
&lt;span class="go"&gt;    100005    2   tcp   3006  mountd                                      &lt;/span&gt;
&lt;span class="go"&gt;    100005    3   udp   2051  mountd                                      &lt;/span&gt;
&lt;span class="go"&gt;    100005    3   tcp   3006  mountd &lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Somewhere in that list is supposed to be nfsd, listening on port 2049.
Next, I did an nmap (port scan) of the&amp;nbsp;readynas:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="go"&gt;[root@backup-server ~]# nmap -sU -p2047-2050 css-readynas             &lt;/span&gt;

&lt;span class="go"&gt;Starting Nmap 4.11 ( http://www.insecure.org/nmap/ ) at 2011-06-23 15:21 &lt;span class="caps"&gt;EDT&lt;/span&gt;&lt;/span&gt;
&lt;span class="go"&gt;Interesting ports on css-readynas.rutgers.edu (172.16.25.108):              &lt;/span&gt;
&lt;span class="go"&gt;&lt;span class="caps"&gt;PORT&lt;/span&gt;     &lt;span class="caps"&gt;STATE&lt;/span&gt;         &lt;span class="caps"&gt;SERVICE&lt;/span&gt;                                              &lt;/span&gt;
&lt;span class="go"&gt;2047/udp closed        dls                                                  &lt;/span&gt;
&lt;span class="go"&gt;2048/udp closed        dls-monitor                                          &lt;/span&gt;
&lt;span class="go"&gt;2049/udp open|filtered nfs                                                  &lt;/span&gt;
&lt;span class="go"&gt;2050/udp closed        unknown  &lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Interesting. The port scan shows that &lt;em&gt;something&lt;/em&gt; is listening on port
2049. But rpcinfo doesn&amp;#8217;t seem to recognize it as a &lt;span class="caps"&gt;NFS&lt;/span&gt;&amp;nbsp;server.&lt;/p&gt;
&lt;p&gt;At this point, through FrontView (the web &lt;span class="caps"&gt;UI&lt;/span&gt;) I backed up the
configuration and went through a few reboot cycles, with no change. I
then started tweaking everything I could that I thought would restart
the &lt;span class="caps"&gt;NFS&lt;/span&gt; server - I added and removed allowed hosts for the &lt;span class="caps"&gt;NFS&lt;/span&gt; share,
enabled and disabled sync mode, etc. I started searching the &lt;a href="http://www.readynas.com/forum/"&gt;ReadyNAS
Forum&lt;/a&gt; and found a post that reported a
very similar problem - &lt;a href="http://www.readynas.com/forum/viewtopic.php?f=20&amp;amp;t=23139"&gt;upnpd grabbing nfsd
port&lt;/a&gt;. The
user reported that he was getting the same &amp;#8220;&lt;span class="caps"&gt;RPC&lt;/span&gt; Error: Program not
registered&amp;#8221; message, and in &lt;code&gt;daemon.log&lt;/code&gt; on the ReadyNAS, found a line
including &amp;#8220;storage nfsd[1087]: nfssvc: Address already in use&amp;#8221;. I
remembered that I&amp;#8217;d setup the ReadyNAS to forward all logs to our
central syslog server and, sure enough, found an identical message that
something had already bound to &lt;span class="caps"&gt;UDP&lt;/span&gt; port 2049 when &lt;span class="caps"&gt;NFS&lt;/span&gt; was starting. I
tried confirming that upnpd was disabled and rebooting, but that didn&amp;#8217;t
help. Grepping my logs for &amp;#8220;nfs&amp;#8221;&amp;nbsp;returned:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;daemon.log:Jun 23 12:43:43 css-readynas nfsd[2331]: nfssvc: Address already in use
daemon.log:Jun 23 15:26:33 css-readynas nfsd[2724]: nfssvc: Address already in use
kern.log:Jun 23 11:35:29 css-readynas kernel: Installing knfsd (copyright (C) 1996 okir@monad.swb.de).
kern.log:Jun 23 12:43:43 css-readynas kernel: NFSD: Using /var/lib/nfs/v4recovery as the NFSv4 state recovery directory
kern.log:Jun 23 12:43:43 css-readynas kernel: NFSD: starting 90-second grace period
kern.log:Jun 23 14:56:20 css-readynas kernel: Installing knfsd (copyright (C) 1996 okir@monad.swb.de).
kern.log:Jun 23 15:12:41 css-readynas kernel: NFSD: starting 90-second grace period
kern.log:Jun 23 15:26:33 css-readynas kernel: NFSD: Using /var/lib/nfs/v4recovery as the NFSv4 state recovery directory
kern.log:Jun 23 15:26:33 css-readynas kernel: NFSD: starting 90-second grace period
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;My next step was a few more reboots, with no change. I then upgraded the
RAIDiator firmware to the latest, 4.1.7. Still no luck. I installed the
&lt;a href="http://www.readynas.com/?p=4203"&gt;Enable root &lt;span class="caps"&gt;SSH&lt;/span&gt;&lt;/a&gt; addon, and that&amp;#8217;s
when things became very&amp;nbsp;clear:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="gp"&gt;css-readynas:/var/log#&lt;/span&gt; netstat -unlp
&lt;span class="go"&gt;Active Internet connections (only servers)&lt;/span&gt;
&lt;span class="go"&gt;Proto Recv-Q Send-Q Local Address           Foreign Address         State       &lt;span class="caps"&gt;PID&lt;/span&gt;/Program name   &lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:2049            0.0.0.0:*                           794/snmpd           &lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:514             0.0.0.0:*                           673/syslogd         &lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 172.16.25.108:137       0.0.0.0:*                           1672/nmbd           &lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:137             0.0.0.0:*                           1672/nmbd           &lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 172.16.25.108:138       0.0.0.0:*                           1672/nmbd           &lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:138             0.0.0.0:*                           1672/nmbd           &lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:161             0.0.0.0:*                           794/snmpd           &lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:162             0.0.0.0:*                           802/snmptrapd       &lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:2086            0.0.0.0:*                           1565/rpc.mountd     &lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 127.0.0.1:22081         0.0.0.0:*                           1599/raidard        &lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 172.16.25.108:22081     0.0.0.0:*                           1599/raidard        &lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:22081           0.0.0.0:*                           1599/raidard        &lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:988             0.0.0.0:*                           819/rpc.rquotad     &lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:5353            0.0.0.0:*                           729/avahi-daemon: r &lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:111             0.0.0.0:*                           666/portmap         &lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:881             0.0.0.0:*                           1553/rpc.statd      &lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:32765           0.0.0.0:*                           1553/rpc.statd     &lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;For some &lt;strong&gt;&lt;em&gt;very&lt;/em&gt;&lt;/strong&gt; strange reason, snmpd had bound to port 2049 (the
nfs port) instead of 161. That left no port for nfs to bind&amp;nbsp;to.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Solution:&lt;/strong&gt;&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="gp"&gt;css-readynas:/var/log#&lt;/span&gt; /etc/init.d/snmpd stop                                                       
&lt;span class="go"&gt;Stopping network management services: snmpd snmptrapd readynas-agent.                               &lt;/span&gt;
&lt;span class="gp"&gt;css-readynas:/var/log#&lt;/span&gt; /etc/init.d/nfs-kernel-server start
&lt;span class="go"&gt;Exporting directories for &lt;span class="caps"&gt;NFS&lt;/span&gt; kernel daemon...done.&lt;/span&gt;
&lt;span class="go"&gt;Starting &lt;span class="caps"&gt;NFS&lt;/span&gt; kernel daemon:mount: nfsd already mounted or /proc/fs/nfsd/ busy&lt;/span&gt;
&lt;span class="go"&gt;mount: according to mtab, nfsd is mounted on /proc/fs/nfsd&lt;/span&gt;
&lt;span class="go"&gt; statd nfsd mountd.&lt;/span&gt;
&lt;span class="gp"&gt;css-readynas:/var/log#&lt;/span&gt; /etc/init.d/snmpd start
&lt;span class="go"&gt;Starting network management services: snmpd snmptrapd readynas-agent.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Stop snmpd, restart nfs-kernel-server so that it grabs port 2049 like it
should, and then start snmpd back up. If all went well, nfsd should now
be listening on &lt;span class="caps"&gt;UDP&lt;/span&gt; 2049, and snmpd should be listening on &lt;span class="caps"&gt;UDP&lt;/span&gt; 161 like
it should. To&amp;nbsp;confirm:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="gp"&gt;css-readynas:/var/log#&lt;/span&gt; netstat -unlp
&lt;span class="go"&gt;Active Internet connections (only servers)&lt;/span&gt;
&lt;span class="go"&gt;Proto Recv-Q Send-Q Local Address           Foreign Address         State       &lt;span class="caps"&gt;PID&lt;/span&gt;/Program name&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:2049            0.0.0.0:*                           -&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:514             0.0.0.0:*                           673/syslogd&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 172.16.25.108:137       0.0.0.0:*                           1672/nmbd&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:137             0.0.0.0:*                           1672/nmbd&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 172.16.25.108:138       0.0.0.0:*                           1672/nmbd&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:138             0.0.0.0:*                           1672/nmbd&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:161             0.0.0.0:*                           26161/snmpd&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:162             0.0.0.0:*                           26163/snmptrapd&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:2086            0.0.0.0:*                           1565/rpc.mountd&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 127.0.0.1:22081         0.0.0.0:*                           1599/raidard&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 172.16.25.108:22081     0.0.0.0:*                           1599/raidard&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:22081           0.0.0.0:*                           1599/raidard&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:988             0.0.0.0:*                           819/rpc.rquotad&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:5353            0.0.0.0:*                           729/avahi-daemon: r&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:2158            0.0.0.0:*                           -&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:111             0.0.0.0:*                           666/portmap&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:2160            0.0.0.0:*                           26161/snmpd&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:881             0.0.0.0:*                           1553/rpc.statd&lt;/span&gt;
&lt;span class="go"&gt;udp        0      0 0.0.0.0:32765           0.0.0.0:*                           1553/rpc.statd&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;All is well. Now to confirm this from the client&amp;nbsp;machine:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="go"&gt;[root@backup-server ~]# rpcinfo -p css-readynas&lt;/span&gt;
&lt;span class="go"&gt;   program vers proto   port&lt;/span&gt;
&lt;span class="go"&gt;    100000    2   tcp    111  portmapper&lt;/span&gt;
&lt;span class="go"&gt;    100000    2   udp    111  portmapper&lt;/span&gt;
&lt;span class="go"&gt;    100011    1   udp    988  rquotad&lt;/span&gt;
&lt;span class="go"&gt;    100011    2   udp    988  rquotad&lt;/span&gt;
&lt;span class="go"&gt;    100011    1   tcp    991  rquotad&lt;/span&gt;
&lt;span class="go"&gt;    100011    2   tcp    991  rquotad&lt;/span&gt;
&lt;span class="go"&gt;    100024    1   udp  32765  status&lt;/span&gt;
&lt;span class="go"&gt;    100024    1   tcp  32765  status&lt;/span&gt;
&lt;span class="go"&gt;    100005    1   udp   2086  mountd&lt;/span&gt;
&lt;span class="go"&gt;    100005    1   tcp   3131  mountd&lt;/span&gt;
&lt;span class="go"&gt;    100005    2   udp   2086  mountd&lt;/span&gt;
&lt;span class="go"&gt;    100005    2   tcp   3131  mountd&lt;/span&gt;
&lt;span class="go"&gt;    100005    3   udp   2086  mountd&lt;/span&gt;
&lt;span class="go"&gt;    100005    3   tcp   3131  mountd&lt;/span&gt;
&lt;span class="go"&gt;    100003    2   udp   2049  nfs&lt;/span&gt;
&lt;span class="go"&gt;    100003    3   udp   2049  nfs&lt;/span&gt;
&lt;span class="go"&gt;    100003    4   udp   2049  nfs&lt;/span&gt;
&lt;span class="go"&gt;    100003    2   tcp   2049  nfs&lt;/span&gt;
&lt;span class="go"&gt;    100003    3   tcp   2049  nfs&lt;/span&gt;
&lt;span class="go"&gt;    100003    4   tcp   2049  nfs&lt;/span&gt;
&lt;span class="go"&gt;    100021    1   udp   2158  nlockmgr&lt;/span&gt;
&lt;span class="go"&gt;    100021    3   udp   2158  nlockmgr&lt;/span&gt;
&lt;span class="go"&gt;    100021    4   udp   2158  nlockmgr&lt;/span&gt;
&lt;span class="go"&gt;    100021    1   tcp   4189  nlockmgr&lt;/span&gt;
&lt;span class="go"&gt;    100021    3   tcp   4189  nlockmgr&lt;/span&gt;
&lt;span class="go"&gt;    100021    4   tcp   4189  nlockmgr&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Ok, &lt;span class="caps"&gt;NFS&lt;/span&gt; is now there. It all looks good, and re-running &lt;code&gt;mount -a&lt;/code&gt; on
the client successfully mounts the &lt;span class="caps"&gt;NFS&lt;/span&gt;&amp;nbsp;share.&lt;/p&gt;
&lt;p&gt;We&amp;#8217;ll see what happens next time I have to reboot the ReadyNAS. In the
mean time, I&amp;#8217;m going to try to bring this to the attention of Netgear
support and hope they do something about&amp;nbsp;it.&lt;/p&gt;</summary><category term="appliance"></category><category term="embedded"></category><category term="linux"></category><category term="nas"></category><category term="netgear"></category><category term="nfs"></category><category term="readynas"></category></entry><entry><title>Links for Wednesday, June 8, 2011</title><link href="http://blog.jasonantman.com/2011/06/links-for-wednesday-june-8-2011/" rel="alternate"></link><updated>2011-06-08T10:55:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2011-06-08:2011/06/links-for-wednesday-june-8-2011/</id><summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href="http://it.toolbox.com/blogs/bridging-gaps/what-is-a-systems-architect-9995"&gt;What is a Systems&amp;nbsp;Architect?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>Simple Diagrams of MySQL Schema</title><link href="http://blog.jasonantman.com/2011/05/simple-diagrams-of-mysql-schema/" rel="alternate"></link><updated>2011-05-04T08:47:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2011-05-04:2011/05/simple-diagrams-of-mysql-schema/</id><summary type="html">&lt;p&gt;Jess Robinson&amp;#8217;s
&lt;a href="http://search.cpan.org/~jrobinson/SQL-Translator/"&gt;&lt;span class="caps"&gt;SQL&lt;/span&gt;-Translator&lt;/a&gt; &lt;span class="caps"&gt;CPAN&lt;/span&gt;
module translates and parses &lt;span class="caps"&gt;SQL&lt;/span&gt; statements. The
&lt;a href="http://sqlfairy.sourceforge.net/"&gt;SQLfairy&lt;/a&gt; project has some nice
binaries that, among other things, use GraphViz or &lt;span class="caps"&gt;GD&lt;/span&gt; to draw pseudo-&lt;span class="caps"&gt;ER&lt;/span&gt;
diagrams from &lt;span class="caps"&gt;SQL&lt;/span&gt; &lt;span class="caps"&gt;CREATE&lt;/span&gt; statements. Drawing a diagram of an &lt;span class="caps"&gt;SQL&lt;/span&gt; schema
is as easy as
&lt;code&gt;sqlt-diagram --db=MySQL -o schema.png -i png -t "title" --color --gutter 100 -c 2 schema-erd.sql&lt;/code&gt;.
There are a few minor issues - the program seems to choke on the &lt;span class="caps"&gt;LOCK&lt;/span&gt;
&lt;span class="caps"&gt;TABLES&lt;/span&gt; statements in &lt;code&gt;mysqldump&lt;/code&gt; output. But overall, the results are
quite nice. The script can take (as easy as putting it in a Makefile)
mysqldump output and generate a diagram like the one below, including
foreign key constraints. I also found a simple intro and example in a
post on &lt;a href="http://nsaunders.wordpress.com/2009/01/11/easy-visualisation-of-database-schemas-using-sqlfairy/"&gt;Neil
Saunders&lt;/a&gt;&amp;#8216;&amp;nbsp;blog.&lt;/p&gt;
&lt;p&gt;&lt;img alt="sqlfairy output" src="/GFX/sqlfairy.png" /&gt;&lt;/p&gt;</summary><category term="database"></category><category term="db"></category><category term="diagram"></category><category term="mysql"></category><category term="sql"></category></entry><entry><title>Links for Thursday, April 28, 2011</title><link href="http://blog.jasonantman.com/2011/04/links-for-thursday-april-28-2011/" rel="alternate"></link><updated>2011-04-28T10:55:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2011-04-28:2011/04/links-for-thursday-april-28-2011/</id><summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.technologyreview.com/computing/37295/page1/#photo"&gt;Inside Facebook’s Not-So-Secret New Data Center - Technology&amp;nbsp;Review&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>Using wireshark to capture packets from a remote host</title><link href="http://blog.jasonantman.com/2011/04/using-wireshark-to-capture-packets-from-a-remote-host/" rel="alternate"></link><updated>2011-04-26T10:50:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2011-04-26:2011/04/using-wireshark-to-capture-packets-from-a-remote-host/</id><summary type="html">&lt;p&gt;I spend a fair amount of my time debugging network and service problems
on a few racks of Linux servers. Of course, they&amp;#8217;re located in a data
center (yes, just downstairs, but still not quite as comfortable as my
office), and they&amp;#8217;re all command-line only - no sense in using up &lt;span class="caps"&gt;RAM&lt;/span&gt;
and &lt;span class="caps"&gt;CPU&lt;/span&gt; to run a graphical &lt;span class="caps"&gt;UI&lt;/span&gt; on a box that should just be serving
remote clients. I used to go through the arduous task of running a
command line &lt;a href="http://www.tcpdump.org/"&gt;&lt;code&gt;tcpdump&lt;/code&gt;&lt;/a&gt; session on the server
until I thought I had enough packets, then SCPing it over to my
workstation and opening the file in
&lt;a href="http://www.wireshark.org/"&gt;wireshark&lt;/a&gt; (formerly Ethereal). Fortunately,
thanks to a
&lt;a href="http://linuxexplore.wordpress.com/2010/05/30/remote-packet-capture-using-wireshark-tcpdump/"&gt;post&lt;/a&gt;
on Rahul Panwar&amp;#8217;s &lt;a href="http://linuxexplore.wordpress.com/"&gt;Linux Explore
blog&lt;/a&gt; (which seems to be sadly
neglected), I found a much easier way to do it. I&amp;#8217;ve summarized that
post here, added a little explanation, and also made some useful
comments for people working on Red Hat/CentOS and&amp;nbsp;OpenSuSE.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;What you&amp;nbsp;need:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Source system (the server you want to capture packets on) that you
    have &lt;span class="caps"&gt;SSH&lt;/span&gt; access to, with tcpdump installed, and available to your
    user (either directly, or via sudo without&amp;nbsp;password).&lt;/li&gt;
&lt;li&gt;Destination system (where you run graphical Wireshark) with
    wireshark installed and working, and &lt;code&gt;mkfifo&lt;/code&gt; available.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Procedure:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;On the destination system, if you haven&amp;#8217;t already done&amp;nbsp;so,&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;mkfifo /tmp/packet_capture
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This creates a &lt;a href="http://en.wikipedia.org/wiki/Named_pipe"&gt;named pipe&lt;/a&gt;
where the source packet data (via ssh) will be written and Wireshark
will read it from. You can use any name or location you want, but
&lt;code&gt;/tmp/packet_capture&lt;/code&gt; is pretty&amp;nbsp;logical.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;On your destination system, open up Wireshark (we do this now, since
    on many systems it required the root password to start). In the
    &amp;#8220;Capture&amp;#8221; menu, select &amp;#8220;Options&amp;#8221;. In the &amp;#8220;Interface&amp;#8221; box, type in
    the path to the &lt;span class="caps"&gt;FIFO&lt;/span&gt; you created (&lt;code&gt;/tmp/packet_capture&lt;/code&gt;). You should
    press the Start button before running the next command - I recommend
    typing the command in a terminal window, pressing start, then
    hitting enter in the terminal to run the&amp;nbsp;command.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;On the destination system,&amp;nbsp;run&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;ssh user@source-hostname &lt;span class="s2"&gt;&amp;quot;sudo /usr/sbin/tcpdump -s 0 -U -n -w - -i eth0 not port 22&amp;quot;&lt;/span&gt; &amp;gt; /tmp/packet_capture
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This will &lt;span class="caps"&gt;SSH&lt;/span&gt; to the source system (&lt;code&gt;source-hostname&lt;/code&gt;, either by
hostname or &lt;span class="caps"&gt;IP&lt;/span&gt;) as the specified user (&lt;code&gt;user&lt;/code&gt;) and execute
&lt;code&gt;sudo /usr/sbin/tcpdump&lt;/code&gt;. Omit the &amp;#8220;sudo&amp;#8221; if you don&amp;#8217;t need it,
though if you do, you&amp;#8217;ll need passwordless access. Options passed to
tcpdump are: &amp;#8220;-s 0&amp;#8221; snarf entire packets, no length limit; &amp;#8220;-U&amp;#8221;
packet-buffered output - write each complete packet to output once
it&amp;#8217;s captured, rather than waiting for a buffer to fill up; &amp;#8220;-n&amp;#8221;
don&amp;#8217;t convert addresses to hostnames; &amp;#8220;-w -&amp;#8221; write raw packets to
&lt;span class="caps"&gt;STDOUT&lt;/span&gt; (which will be passed through the &lt;span class="caps"&gt;SSH&lt;/span&gt; tunnel and become
&lt;span class="caps"&gt;STDOUT&lt;/span&gt; of the &amp;#8220;ssh&amp;#8221; command on the destination machine); &amp;#8220;-i eth0&amp;#8221;
capture on interface eth0; &amp;#8220;not port 22&amp;#8221; a tcpdump filter expression
to prevent capturing our own &lt;span class="caps"&gt;SSH&lt;/span&gt; packets (more on this below). The
final &amp;#8220;&gt; /tmp/packet_capture&amp;#8221; redirects the &lt;span class="caps"&gt;STDOUT&lt;/span&gt; of the ssh
program (the raw packets from tcpdump on the source machine) to the
&lt;code&gt;/tmp/packet_capture&lt;/code&gt; &lt;span class="caps"&gt;FIFO&lt;/span&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When you&amp;#8217;re ready to stop the capture, just Ctrl+C the &lt;span class="caps"&gt;SSH&lt;/span&gt; command
    in the terminal window. Wireshark will automatically stop capturing,
    and you can save the capture file or play around with it. To capture
    again, you&amp;#8217;ll need to restart the capture in Wireshark and then run
    the ssh command&amp;nbsp;again.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;A note on network usage and tcpdump&amp;nbsp;filters&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;This is a relatively bandwidth intensive procedure. If you use the &amp;#8220;not
port 22&amp;#8221; tcpdump filter (shown above) on the source machine, all traffic
over eth0 (other than &lt;span class="caps"&gt;SSH&lt;/span&gt;) on that machine will be duplicated within an
&lt;span class="caps"&gt;SSH&lt;/span&gt; tunnel. So you have double the traffic, plus the overhead of
tunneling all that within &lt;span class="caps"&gt;SSH&lt;/span&gt; to the destination machine. If you&amp;#8217;re
capturing data from a busy machine this way, you could easily saturate
the uplink and wreak all sorts of havoc. As a result, I&amp;#8217;d recommend
making the tcpdump filter as specific as you can while still retaining
the data you need. If you can replace it with a filter for specific
ports (i.e. &lt;code&gt;'(port 67 or port 68)'&lt;/code&gt; for &lt;span class="caps"&gt;DHCP&lt;/span&gt;) or specific hosts, that
should cut down on the amount of data you actually have to pass through
the&amp;nbsp;tunnel.&lt;/p&gt;</summary><category term="ethereal"></category><category term="linux"></category><category term="sysadmin"></category><category term="tcpdump"></category><category term="troubleshooting"></category><category term="wireshark"></category></entry><entry><title>Consolidation of nmap port scan results to HTML table</title><link href="http://blog.jasonantman.com/2011/01/consolidation-of-nmap-port-scan-results-to-html-table/" rel="alternate"></link><updated>2011-01-30T20:00:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2011-01-30:2011/01/consolidation-of-nmap-port-scan-results-to-html-table/</id><summary type="html">&lt;p&gt;I spent a good part of the weekend auditing the security of my
infrastructure at home, since I haven&amp;#8217;t given it much attention lately.
One of my first steps was doing a port scan with
&lt;a href="http://www.nmap.org"&gt;nmap&lt;/a&gt; of my public IPs from a remote host, both to
make sure there&amp;#8217;s nothing showing up that shouldn&amp;#8217;t be and to get an
idea of what a potential attacker might see. However, given all of
nmap&amp;#8217;s options for different &lt;span class="caps"&gt;TCP&lt;/span&gt; scans, it seemed like a lot of data to
sort through. Without finding any good solution in my cursory search, I
wrote up a little &lt;span class="caps"&gt;PHP&lt;/span&gt; script that takes any number of &lt;span class="caps"&gt;XML&lt;/span&gt; nmap scan
files on the command line, parses out the hosts and ports found in each
of them, and presents a nice table showing the result for each host/port
for each scan&amp;nbsp;file.&lt;/p&gt;
&lt;p&gt;The current version of the script can be found at
&lt;a href="https://github.com/jantman/misc-scripts/blob/master/nmap-xml-to-table.php"&gt;https://github.com/jantman/misc-scripts/blob/master/nmap-xml-to-table.php&lt;/a&gt;,
and simply called as &lt;code&gt;./nmap-xml-to-table.php file1.xml file2.xml [...]&lt;/code&gt;
and outputs &lt;span class="caps"&gt;HTML&lt;/span&gt; to&amp;nbsp;stdout.&lt;/p&gt;</summary><category term="nmap"></category><category term="security"></category></entry><entry><title>Vyatta VC5 - Snort alerts to syslog</title><link href="http://blog.jasonantman.com/2011/01/vyatta-vc5-snort-alerts-to-syslog/" rel="alternate"></link><updated>2011-01-30T19:54:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2011-01-30:2011/01/vyatta-vc5-snort-alerts-to-syslog/</id><summary type="html">&lt;p&gt;I&amp;#8217;m running a &lt;a href="http://www.vyatta.org"&gt;Vyatta&lt;/a&gt; vyatta router at home - in
my opinion it&amp;#8217;s pretty near &amp;#8220;enterprise grade&amp;#8221;, and I&amp;#8217;m running the
Community/Core (read: no-cost and almost all Free) on commodity hardware
with great performance. Granted, I&amp;#8217;m still on the older version (5 as
opposed to the current 6) since an upgrade will require total downtime
and a spare set of &lt;span class="caps"&gt;SCSI&lt;/span&gt; disks for the machine it&amp;#8217;s on, but it still
works quite well. Today I decided to enable the
&lt;a href="http://www.snort.org"&gt;Snort&lt;/a&gt; &lt;span class="caps"&gt;IDS&lt;/span&gt; on the box. It actually worked quite
well (albeit stuck at older rules until I upgrade to Vyatta &lt;span class="caps"&gt;VC6&lt;/span&gt;) and
didn&amp;#8217;t put much more load on the box. For the time being I decided to
just have it alert on problems and not drop anything, as I&amp;#8217;m getting
pretty high false positives and the older Vyatta version doesn&amp;#8217;t seem to
have a way to disregard&amp;nbsp;rules.&lt;/p&gt;
&lt;p&gt;My biggest complaint was that Vyatta didn&amp;#8217;t see fit to allow alerts by
syslog. I&amp;#8217;m not a big fan of keeping information like &lt;span class="caps"&gt;IDS&lt;/span&gt; logs stuck on
the router - I don&amp;#8217;t like logging in to it any more than I have to, it
doesn&amp;#8217;t have much storage, and I&amp;#8217;d also like to keep stuff like this in
a more secure location. Through a bit of digging, I found the
&lt;code&gt;/opt/vyatta/share/perl5/VyattaSnortConfig.pm&lt;/code&gt; Perl module which
generates the Snort config file from Vyatta&amp;#8217;s &lt;span class="caps"&gt;CLI&lt;/span&gt; stuff. Looking through
the Perl code, I found the definition of the snort.conf output&amp;nbsp;statements:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$output_def&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;lt;&amp;lt;&lt;span class="caps"&gt;EOD&lt;/span&gt;;&lt;/span&gt;
&lt;span class="s"&gt;  output alert_unified: alert, limit $log_limit&lt;/span&gt;
&lt;span class="s"&gt;  output log_null&lt;/span&gt;
&lt;span class="s"&gt;&lt;span class="caps"&gt;EOD&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;I simply added a line &lt;code&gt;output alert_syslog: log_local3 log_notice&lt;/code&gt; after the &lt;code&gt;output alert_unified&lt;/code&gt; line.&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$output_def&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;lt;&amp;lt;&lt;span class="caps"&gt;EOD&lt;/span&gt;;&lt;/span&gt;
&lt;span class="s"&gt;  output alert_unified: alert, limit $log_limit&lt;/span&gt;
&lt;span class="s"&gt;  output alert_syslog: log_local3 log_notice&lt;/span&gt;
&lt;span class="s"&gt;  output log_null&lt;/span&gt;
&lt;span class="s"&gt;&lt;span class="caps"&gt;EOD&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;I then went into Vyatta configuration and changed a rule from alert to pass, committed,
changed back, committed, and &lt;code&gt;/etc/snort/snort.conf&lt;/code&gt; now had my syslog lines. I&amp;#8217;m now 
getting snort alerts to local3 in syslog, which is fed to my centralized log server. My
next project is to find or write something which will parse these logs, generate a daily
summary email, and maybe check them hourly and alert on any big changes. I also might just
cron an emailing of the output from Vyatta&amp;#8217;s show ips summary command. So far I have over 11,000 events logged in about 12&amp;nbsp;hours.&lt;/p&gt;</summary><category term="security"></category><category term="snort"></category><category term="syslog"></category><category term="vyatta"></category></entry><entry><title>Downtime Last Night; Coping with outages on a shoestring budget</title><link href="http://blog.jasonantman.com/2011/01/downtime-last-night-coping-with-outages-on-a-shoestring-budget/" rel="alternate"></link><updated>2011-01-10T09:22:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2011-01-10:2011/01/downtime-last-night-coping-with-outages-on-a-shoestring-budget/</id><summary type="html">&lt;p&gt;Anyone who tried to visit any of my sites last night, or send me email,
probably noticed that I dropped off the face of the earth. I take my
uptime pretty seriously - even with virtually no budget, about 10
minutes of &lt;span class="caps"&gt;UPS&lt;/span&gt; time, and everything hosted out of my basement. I&amp;#8217;ve only
had about a &lt;a href="/2010/03/downtime-past-few-days-coping-with-storms/"&gt;6-hour block of
downtime&lt;/a&gt; in the
past 21 months, aside from that nothing externally visible except a few
sub-3-minute hiccups. And the 6 hours was due to a major power outage
that quickly overwhelmed my &lt;span class="caps"&gt;UPS&lt;/span&gt;. Without a generator, I can&amp;#8217;t really
blame anyone for that. Anyway, last night into this morning I had
partial to full outages for about 12 hours. By far the most I&amp;#8217;ve had
since I literally ripped apart my entire infrastructure, moved it from
shelves to a rack, and put it back together on the&amp;nbsp;fly.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;d like to apologize to the few people whose web sites or other
services I host out of my house. On one hand, I think those few people
are getting their money&amp;#8217;s worth from their free hosting :) On the other
hand I know how frustrating it can be, especially when you can&amp;#8217;t even
resolve &lt;span class="caps"&gt;DNS&lt;/span&gt; and my email is down. Rest assured that this situation
deeply bothers me, and I&amp;#8217;m already hard at work on plans to at least
keep people (both the people I do hosting for and their visitors)
informed if something like this should happen in the&amp;nbsp;future.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;The&amp;nbsp;Story:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Well, yesterday afternoon as I was at my father&amp;#8217;s house about an hour
away, I started to get a slew of &lt;a href="http://www.nagios.org"&gt;Nagios&lt;/a&gt;
notification SMSes (well, email to &lt;span class="caps"&gt;SMS&lt;/span&gt;). They started at 14:22 and
stopped after a few minutes, but since I was driving, I didn&amp;#8217;t check
them. When I got home, I found a scenario I hadn&amp;#8217;t really anticipated -
the &lt;span class="caps"&gt;TV&lt;/span&gt; worked fine, but I had virtually no connectivity on my cable
Internet line. I got home around 16:22 and had spotty-at-best
connectivity. I could get some &lt;span class="caps"&gt;DNS&lt;/span&gt; in and out, but it was pretty much
impossible to load a web page on my desktop. I was getting Nagios alerts
out in bursts, and the postfix queue was pretty full. A cursory
inspection showed both routers (mine and Optimum&amp;#8217;s) online with link,
the Modem had link and was blinking away, but I was passing &amp;lt; 100 Kbps
of data. My &lt;span class="caps"&gt;DOCSIS&lt;/span&gt;-&lt;span class="caps"&gt;MIB&lt;/span&gt; checks on the cable modem were spitting back all
sorts of bad values. Not good. I checked coax connections, rebooted the
modem and router, and went outside to inspect the aerials and the
splitters on the outside of the house. Nothing visibly wrong, and no
positive change after the reboot. Now the modem wasn&amp;#8217;t showing link at
all, and I couldn&amp;#8217;t even ping its &lt;span class="caps"&gt;LAN&lt;/span&gt;&amp;nbsp;&lt;span class="caps"&gt;IP&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;I called Optimum at 17:12 and went through the initial troubleshooting
with the technical support guy. I told him I&amp;#8217;d already power-cycled the
modem, and gave him a rundown of the status lights. He confirmed that
they couldn&amp;#8217;t even see the modem on the &lt;span class="caps"&gt;WAN&lt;/span&gt; side, and would have to send
a tech out. The big plus to Optimum Business is that, despite it being
after 5 &lt;span class="caps"&gt;PM&lt;/span&gt; on a Sunday night, I was given an &lt;span class="caps"&gt;ETA&lt;/span&gt; of 2-4 hours. After
about 15 minutes, I power-cycled the modem again, and was able to get
link. I was seeing some data pushed through the routers, but only about
50Kbps. I called Optimum back, spoke with another tech, and was told
that they couldn&amp;#8217;t even get diagnostics back from the modem, and were
seeing 94% packet loss on ping. Time to wait for the&amp;nbsp;tech.&lt;/p&gt;
&lt;p&gt;The field tech arrived at 17:53. Utterly amazing&amp;#8230; about 30 minutes
after I got off the phone with tech support. I don&amp;#8217;t know if they keep
their better techs waiting around for business customers, but this guy -
Jason - was one of the most knowledgeable and experienced that I&amp;#8217;ve ever
met. He poked around the modem a bit, re-did some of the shoddy work
that the original installers left, and then climbed the pole to figure
out what was going on. About half an hour later, he came back with the
bad news. His test scope wouldn&amp;#8217;t even lock on to the 609MHz carrier
used for the cable modem, so there was something definitely wrong, and
it was past the pole in front of the house. He told me they&amp;#8217;d need to
escalate the problem to the outside plant engineers, but since I was a
business customer, I could expect some update or fix in 6-18 hours. He
left around 18:30. Well, I was bummed, but I used the time to get other
stuff done and start planning for at least minimal &lt;span class="caps"&gt;DR&lt;/span&gt; plans for the&amp;nbsp;future.&lt;/p&gt;
&lt;p&gt;According to my off-site Nagios, I at least got some mail out and &lt;span class="caps"&gt;SSH&lt;/span&gt; in
from 19:55 to 20:44, and then had another total loss of connectivity.
Everything came back around 02:20 today, meaning a full 12 hours of&amp;nbsp;downtime.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Analysis and Future&amp;nbsp;Plans:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Well for the foreseeable future I&amp;#8217;m just working my day job and probably
not doing much (paid) consulting, so purchasing a backup connection is
out of the question - especially since FiOS charges almost twice what
Optimum does for static &lt;span class="caps"&gt;IP&lt;/span&gt; service. There&amp;#8217;s really no way I could&amp;#8217;ve
prevented this outage, and it turns out that the problem wasn&amp;#8217;t even on
my property, so it&amp;#8217;s not anything I could have fixed myself (or
prevented by convincing Optimum to let me purchase a spare modem to keep
on hand). Once again, for something that isn&amp;#8217;t directly money-making for
me, it&amp;#8217;s not really worth it to try and get hosting as a backup, since
I&amp;#8217;ve got all sorts of complex postfix configurations, &lt;span class="caps"&gt;BIND&lt;/span&gt; master/slave
replication, etc. Within my budget, I can&amp;#8217;t really say there&amp;#8217;s anything
I could do to solve this problem, or to get even half of my services
back up. My offsite Nagios is behind a dynamic residential cable
connection, so that won&amp;#8217;t really fix any problems&amp;nbsp;either.&lt;/p&gt;
&lt;p&gt;My plan for the short-term is to find a static &lt;span class="caps"&gt;IP&lt;/span&gt; somewhere that I can
run a box behind, add it as a &lt;span class="caps"&gt;NS&lt;/span&gt; record, and at the minimum setup a
caching Postfix server, a catch-all Apache server with a &amp;#8220;we know about
it, we&amp;#8217;re coming back soon&amp;#8221; page, and hacked &lt;span class="caps"&gt;BIND&lt;/span&gt; zone files that point
everything at this one box (albeit with a low&amp;nbsp;&lt;span class="caps"&gt;TTL&lt;/span&gt;).&lt;/p&gt;
&lt;p&gt;If anyone out there happens to read this, any comments on how to deal
with a total loss of connectivity on a budget of, say, $15/month above
the cost of my Optimum&amp;nbsp;connection??&lt;/p&gt;</summary><category term="disaster recovery"></category><category term="downtime"></category><category term="failover"></category><category term="redundancy"></category></entry><entry><title>Managing Ubiquiti Networks MAC ACLs from a script</title><link href="http://blog.jasonantman.com/2011/01/managing-ubiquiti-networks-mac-acls-from-a-script/" rel="alternate"></link><updated>2011-01-06T16:06:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2011-01-06:2011/01/managing-ubiquiti-networks-mac-acls-from-a-script/</id><summary type="html">&lt;p&gt;I have a small web-based tool for allowing members of an organization to
register their wireless &lt;span class="caps"&gt;MAC&lt;/span&gt; addresses, and then automatically adding
them to the &lt;span class="caps"&gt;MAC&lt;/span&gt; &lt;span class="caps"&gt;ACL&lt;/span&gt; on &lt;a href="http://www.ubnt.com"&gt;Ubiquiti&lt;/a&gt; AirOSv2 APs. It&amp;#8217;s
a pretty quick hack, along with a simple and ugly web-based tool, but it
gets the job done for a non-profit with only 25 people. After &lt;a href="http://www.ubnt.com/forum/showthread.php?t=21133"&gt;posting
about it on the Ubiquiti
forum&lt;/a&gt; and getting a
request from someone for the code, I decided to put it out there for
anyone who wants it. The script is mostly based on SCPing configs to and
from the &lt;span class="caps"&gt;AP&lt;/span&gt; and SSHing in to run commands, and will need passwordless
public key auth to the&amp;nbsp;&lt;span class="caps"&gt;AP&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;The code itself is in subversion at
&lt;a href="https://github.com/jantman/misc-scripts/tree/master/ubiquiti-mac-acl"&gt;https://github.com/jantman/misc-scripts/tree/master/ubiquiti-mac-acl&lt;/a&gt;.
It&amp;#8217;s composed of four&amp;nbsp;files:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/jantman/misc-scripts/blob/master/ubiquiti-mac-acl/updateAPconfigs.php.inc"&gt;updateAPconfigs.php.inc&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;the main &lt;span class="caps"&gt;PHP&lt;/span&gt; file with three functions for working with the&amp;nbsp;APs&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jantman/misc-scripts/blob/master/ubiquiti-mac-acl/wirelessTools.php"&gt;wirelessTools.php&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;My &lt;span class="caps"&gt;PHP&lt;/span&gt; page for users to add MACs. It&amp;#8217;s pretty rough and is mostly
based on handling our &lt;span class="caps"&gt;LDAP&lt;/span&gt; authentication/group framework, but it
gives a fair example of how I store MACs in a MySQL table and then
rebuild a given &lt;span class="caps"&gt;AP&lt;/span&gt; config file with the current list of MACs. I
doubt it will be useful to anyone else as more than an&amp;nbsp;example.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jantman/misc-scripts/blob/master/ubiquiti-mac-acl/wireless.sql"&gt;wireless.sql&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;The schema for the &lt;span class="caps"&gt;SQL&lt;/span&gt; database I use to store&amp;nbsp;MACs.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jantman/misc-scripts/blob/master/ubiquiti-mac-acl/README.txt"&gt;&lt;span class="caps"&gt;README&lt;/span&gt;.txt&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;Readme file including some warnings on the lack of error checking
in the&amp;nbsp;functions.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Hopefully this will be of some use to someone. I should probably mention
two important things here. First, the &lt;span class="caps"&gt;AP&lt;/span&gt; only accepts up to 32 &lt;span class="caps"&gt;MAC&lt;/span&gt;
addresses, so if you feed the &lt;code&gt;makeNewConfigFile()&lt;/code&gt; function an array
with more than 32, it will just stop at the 32&lt;sup&gt;nd&lt;/sup&gt;. Also, be aware, this
SCPs a config file to the &lt;span class="caps"&gt;AP&lt;/span&gt;, runs &lt;code&gt;cfgmtd&lt;/code&gt; and the reboots the &lt;span class="caps"&gt;AP&lt;/span&gt;. If
you send it a bad config file, who knows what will happen. If you allow
your users to add &lt;span class="caps"&gt;MAC&lt;/span&gt; addresses, your APs will reboot every time someone
adds&amp;nbsp;one.&lt;/p&gt;
&lt;p&gt;All I ask is that if you use this, leave a comment to thank me, and if
you make any changes/additions/bugfixes, please send them back to&amp;nbsp;me.&lt;/p&gt;
&lt;p&gt;Also, I have some &lt;a href="/2010/03/nagios-check-scripts/"&gt;Nagios check scripts&lt;/a&gt;
that are useful for Ubiquiti&amp;nbsp;APs.&lt;/p&gt;</summary><category term="airos"></category><category term="mac"></category><category term="PHP"></category><category term="security"></category><category term="ubiquiti"></category><category term="wap"></category><category term="wireless"></category></entry><entry><title>Links for Wednesday, January 5, 2011</title><link href="http://blog.jasonantman.com/2011/01/links-for-wednesday-january-5-2011/" rel="alternate"></link><updated>2011-01-05T11:55:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2011-01-05:2011/01/links-for-wednesday-january-5-2011/</id><summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href="http://news.cnet.com/8301-31001_3-20027202-261.html"&gt;Big media fails to turn ISPs into copyright cops | Media Maverick -
    &lt;span class="caps"&gt;CNET&lt;/span&gt;&amp;nbsp;News&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://redtape.msnbc.com/2011/01/court-cops-can-search-cell-phone-without-warrant.html"&gt;Court: No warrant needed to search cell phone - The Red Tape
    Chronicles -&amp;nbsp;msnbc.com&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>How to get actual login username when using sudo su</title><link href="http://blog.jasonantman.com/2011/01/how-to-get-actual-login-username-when-using-sudo-su/" rel="alternate"></link><updated>2011-01-05T11:48:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2011-01-05:2011/01/how-to-get-actual-login-username-when-using-sudo-su/</id><summary type="html">&lt;p&gt;I&amp;#8217;ve had the need to find out the actual username of someone logged in
and working as root (via &lt;code&gt;sudo su -&lt;/code&gt;) to &lt;a href="/2011/01/client-side-subversion-commit-message-hooks/"&gt;put it into a subversion
commit message&lt;/a&gt;.
This quick little bash script does the trick, and just echos the&amp;nbsp;username.&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="c"&gt;#!/bin/bash&lt;/span&gt;

&lt;span class="nv"&gt;&lt;span class="caps"&gt;PID&lt;/span&gt;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$$&lt;/span&gt; &lt;span class="c"&gt;# get &lt;span class="caps"&gt;PID&lt;/span&gt; of current process&lt;/span&gt;
&lt;span class="nv"&gt;LogUID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;cat /proc/&lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;PID&lt;/span&gt;&amp;quot;&lt;/span&gt;/loginuid&lt;span class="sb"&gt;`&lt;/span&gt; &lt;span class="c"&gt;# get loginuid of current process&lt;/span&gt;
&lt;span class="nv"&gt;username&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;getent passwd &lt;span class="s2"&gt;&amp;quot;$LogUID&amp;quot;&lt;/span&gt; | awk -F &lt;span class="s2"&gt;&amp;quot;:&amp;quot;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;{print $1}&amp;#39;&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt; &lt;span class="c"&gt;# translate loginuid to username&lt;/span&gt;
&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;$username&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="linux"></category><category term="login"></category><category term="sudo"></category><category term="username"></category></entry><entry><title>Client-side subversion commit message hooks</title><link href="http://blog.jasonantman.com/2011/01/client-side-subversion-commit-message-hooks/" rel="alternate"></link><updated>2011-01-05T11:23:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2011-01-05:2011/01/client-side-subversion-commit-message-hooks/</id><summary type="html">&lt;p&gt;While I know this isn&amp;#8217;t best practice, since we use &lt;span class="caps"&gt;LDAP&lt;/span&gt;-based auth for
our Linux boxes (including a sudoers file based on &lt;span class="caps"&gt;LDAP&lt;/span&gt; group
membership), we usually do work on some boxes as root (&lt;code&gt;sudo su -&lt;/code&gt;).
This includes our &lt;a href="http://www.puppetlabs.com/"&gt;puppetmaster&lt;/a&gt;, where
configs are kept in subversion and edited as root. The one problem with
this is how to get the username of the actual committer, not root, in
subversion&amp;nbsp;messages.&lt;/p&gt;
&lt;p&gt;The theory that I came up with is a &lt;a href="/2011/01/how-to-get-actual-login-username-when-using-sudo-su/"&gt;shell script that finds out who the
actual user
is&lt;/a&gt;, and
then tacking this onto the beginning of the subversion commit message
(since there&amp;#8217;s no real way to do client-side hooks in subversion). While
I struggled with subversion&amp;#8217;s lack of good client hooks, I came up with
a theory based on a script that preloads svn-commit.tmp and then calls
the text editor. It&amp;#8217;s actually quite&amp;nbsp;simple.&lt;/p&gt;
&lt;p&gt;First, in your .bashrc or wherever you setup environment variables,
&lt;code&gt;export SVN_EDITOR=/usr/local/bin/svnPreCommitClientHook.sh&lt;/code&gt;. This way,
every time you run &lt;code&gt;svn commit&lt;/code&gt;, instead of calling your text editor
with &lt;code&gt;svn-commit.tmp&lt;/code&gt; as an argument, the bash script will do what it
needs to (commit message preloading) with svn-commit.tmp and &lt;em&gt;then&lt;/em&gt; call
your editor to finish the&amp;nbsp;message.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;/usr/local/bin/svnPreCommitClientHook.sh&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="c"&gt;#!/bin/bash&lt;/span&gt;
&lt;span class="nv"&gt;&lt;span class="caps"&gt;LOGNAME&lt;/span&gt;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;/usr/local/bin/getLogname.py&lt;span class="sb"&gt;`&lt;/span&gt; &lt;span class="c"&gt;# script to get user&amp;#39;s actual login name, even if using sudo su&lt;/span&gt;
&lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;\nBY: $&lt;span class="caps"&gt;LOGNAME&lt;/span&gt;&amp;quot;&lt;/span&gt; &amp;gt; svn-commit.foo
cat svn-commit.tmp &amp;gt;&amp;gt; svn-commit.foo
mv svn-commit.foo svn-commit.tmp
&lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;EDITOR&lt;/span&gt;&amp;quot;&lt;/span&gt; svn-commit.tmp
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Using this method, running &lt;code&gt;svn commit&lt;/code&gt; will pull up your text editor
with &amp;#8220;&lt;span class="caps"&gt;BY&lt;/span&gt;: username&amp;#8221; already inserted in the commit&amp;nbsp;message.&lt;/p&gt;</summary><category term="linux"></category><category term="puppet"></category><category term="subversion"></category><category term="svn"></category></entry><entry><title>Net Neutrality - What is it, and what will the recent FCC decision do?</title><link href="http://blog.jasonantman.com/2010/12/net-neutrality-what-is-it-and-what-will-the-recent-fcc-decision-do/" rel="alternate"></link><updated>2010-12-23T09:07:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-12-23:2010/12/net-neutrality-what-is-it-and-what-will-the-recent-fcc-decision-do/</id><summary type="html">&lt;p&gt;&lt;a href="http://en.wikipedia.org/wiki/Network_neutrality"&gt;Net Neutrality&lt;/a&gt; is a
&lt;strong&gt;big&lt;/strong&gt; issue these days, and one that&amp;#8217;s exploded out of the geek
circles into mainstream media. I&amp;#8217;ll admit that it seems like there are
endless variations on exactly what people consider Net Neutrality to be
(or what it &lt;em&gt;should&lt;/em&gt; be). The general goal of Net Neutrality is to
ensure that Internet Service Providers (ISPs) provide (relatively)
unfiltered access to the Internet to their customers. Specifically, that
if a given customer pays for a level of service - i.e. 10 Mbps
downstream speed and 2.5 Mbps upstream speed - they receive that speed
no matter what they are accessing. The goal of Net Neutrality is to
require ISPs to treat their connections as a &amp;#8220;common carrier&amp;#8221;, much like
telephone companies or freight trucks. Within reason (excepting
explosives and other hazardous materials), &lt;span class="caps"&gt;UPS&lt;/span&gt; will ship a package for a
given rate based only on what it weighs and how far it&amp;#8217;s going (since
the Internet is run by many companies, and data passes from one to
another, the distance portion of this analogy is constant). They don&amp;#8217;t
charge more based on what&amp;#8217;s in the box, and they don&amp;#8217;t ship come boxes
faster than others based simply on who sent it or what&amp;#8217;s&amp;nbsp;inside.&lt;/p&gt;
&lt;p&gt;Likewise, over the past century, many laws have been created that
regulate the telephone industry. While there was a time when customers
had to rent their telephones from the phone company, long-standing
legislation states that a customer can hook any properly functioning
device into the phone network, and a customer can say whatever they want
over the phone and receive the same call quality, at the same&amp;nbsp;rate.&lt;/p&gt;
&lt;p&gt;To try and summarize, the goal of Net Neutrality is to ensure that you,
the customer of an &lt;span class="caps"&gt;ISP&lt;/span&gt; (whether cable, FiOS, &lt;span class="caps"&gt;DSL&lt;/span&gt;, etc.), is entitled to
certain rights. Generally (the exact interpretation of this concept
varies) this&amp;nbsp;includes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The ability to connect any device you want to your Internet
    connection - any computer, game console, or other device, running
    any operating system or other&amp;nbsp;software.&lt;/li&gt;
&lt;li&gt;Your ability to connect to any service (web site, protocol, etc.)
    that you want without it being intentionally degraded or slowed
    down, even if it&amp;#8217;s a service viewed to be a competitor of your&amp;nbsp;&lt;span class="caps"&gt;ISP&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;Your ability to transfer data to and from any other user of the
    Internet, regardless of who they&amp;nbsp;are.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;What could happen if Net Neutrality isn&amp;#8217;t&amp;nbsp;enforced?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Let me first say that most of the following is pure speculation. These
are things that &lt;em&gt;could&lt;/em&gt; happen, but most have not yet actually been
done. Some have. The &lt;span class="caps"&gt;ISP&lt;/span&gt; industry seems to say that Net Neutrality is &amp;#8220;a
solution without a problem&amp;#8221;, but my personal view is that those are
generally good things. Preventing a problem from occurring is generally
better than fixing it after it&amp;#8217;s a problem. So here are a few scenarios
of what could happen if Net Neutrality isn&amp;#8217;t properly legislated and&amp;nbsp;enforced:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Companies like Cablevision, Comcast, Verizon, and other major ISPs
    also offer &lt;span class="caps"&gt;TV&lt;/span&gt; services (Optimum, FiOS &lt;span class="caps"&gt;TV&lt;/span&gt;, etc.) that include Video
    On Demand (VoD) as a separate paid service. Websites like Hulu and
    Netflix offer the same service, for free or a much cheaper rate.
    Without Net Neutrality, your &lt;span class="caps"&gt;ISP&lt;/span&gt; could intentionally slow down or
    block sites like Hulu or Netflix to force you to buy their more
    expensive service. Comcast has &lt;a href="http://www.computerworld.com/s/article/9198498/Comcast_demands_fees_for_Web_movie_viewing_Level_3_says"&gt;already
    tried&lt;/a&gt;
    to do something like this, asking Netflix&amp;#8217;s &lt;span class="caps"&gt;ISP&lt;/span&gt; for a substantial
    fee to allow Comcast customers to access Netfix (that&amp;#8217;s a bit of an
    oversimplification, but gets the point). If this happens, it&amp;#8217;s most
    likely that Netfix will have to increase their fees substantially.
    Net Neutrality legislation would require ISPs like Comcast to treat
    all Internet traffic the same, whether it&amp;#8217;s from Netflix, Facebook,
    or my humble little&amp;nbsp;blog.&lt;/li&gt;
&lt;li&gt;A few ISPs (mainly Comcast) have already tried all-out blocking Peer
    to Peer (p2p) file sharing traffic such as bitTorrent, Kazaa, etc.
    While they cite copyright infringement as the reason, there are many
    people who use p2p file sharing to distribute legal files, such as
    the Linux operating system and other free software. Blocking all p2p
    traffic because some people use it for illegal purposes is based on
    a presumption of guilt, no different from outlawing steak knives
    because some people stab other people with&amp;nbsp;them.&lt;/li&gt;
&lt;li&gt;Throughout the history of the Internet, some of the most popular and
    innovative technologies, including Google, Facebook, etc. have
    started out as small projects run by a few geeks and programmers. If
    ISPs were allowed to charge content providers (i.e. websites) to be
    viewed by the ISPs customers, it would limit innovation and new
    technologies to only the big businesses with enough money to pay
    these artificial&amp;nbsp;tolls.&lt;/li&gt;
&lt;li&gt;Most ISPs also offer a phone service. It would be trivial for them
    to flat-out prevent their customers from using Vonage, Skype, iChat,
    etc. and force you to subscribe to their service. It&amp;#8217;s also possible
    for them to do this in a covert way - when Comcast blocked
    bitTorrent users, they did it in a way so clever that it took weeks
    for experts to figure&amp;nbsp;out.&lt;/li&gt;
&lt;li&gt;Without a mandate that any suitable device can connect to the
    network, your &lt;span class="caps"&gt;ISP&lt;/span&gt; could partner with, for example, Dell and
    Microsoft, and say that you could only get Internet access on a Dell
    computer running the latest version of Windows (yes, this is a bit
    of a stretch, but possible in an unregulated &lt;span class="caps"&gt;ISP&lt;/span&gt;&amp;nbsp;market).&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The important fact to note here is that most people in the &lt;span class="caps"&gt;US&lt;/span&gt; don&amp;#8217;t have
much choice in terms of broadband ISPs - generally the only &amp;#8220;choice&amp;#8221; is
between the cable and phone companies, who provide more or less the same
service. With such limited choice, Internet users are effectively held
hostage by the policies of a handful of companies that control Internet&amp;nbsp;access.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;A short note on the History of the&amp;nbsp;Internet&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Contrary to the ISPs &amp;#8220;solution without a problem&amp;#8221; view, I think this is
a solution that should have been implemented long ago. The network that
evolved into what we now know as the Internet, in the &lt;span class="caps"&gt;US&lt;/span&gt;, was first
developed in the 1970s. The project, ARPAnet, was developed by the &lt;span class="caps"&gt;US&lt;/span&gt;
government for research purposes, and funded by taxpayer money. It
wasn&amp;#8217;t opened to commercial use until the early 1990s, when it was
privatized. While the development into what is now the Internet could
never have been foreseen at that time, Net Neutrality rules should have
been built in from the start when the project was handed over from the
federal government to the private sector. Regardless, it must be
remembered that the Internet is a technology that was originally
developed with taxpayer funds, for the country as a&amp;nbsp;whole.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;What the &lt;span class="caps"&gt;FCC&lt;/span&gt;&amp;#8217;s&amp;nbsp;doing&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Well, in short, not much. It appears that the Net Neutrality rules
delivered by the &lt;span class="caps"&gt;FCC&lt;/span&gt; earlier this week are, more than anything, a
compromise effort to make the issue just &amp;#8220;go away&amp;#8221;. The ISPs feel that
the rules aren&amp;#8217;t needed (and argue that the &lt;span class="caps"&gt;FCC&lt;/span&gt; doesn&amp;#8217;t have the power
to make them), and most Net Neutrality proponents feel that the rules
pay only lip service to the goals of Net Neutrality. The main failings
already apparent in the rules&amp;nbsp;are:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Two of three major parts of the rules ignore wireless ISPs (cellular
    carriers). With the explosion of smartphones, it seems that wireless
    is not only the new frontier of the Internet, but the way that more
    and more people get Internet access. If Net Neutrality is
    legislated, it should be about the Internet - regardless of how a
    customer is connected to the&amp;nbsp;network.&lt;/li&gt;
&lt;li&gt;There is a provision for ISPs to be able to block or slow down
    traffic as is &amp;#8220;reasonable&amp;#8221; to operate their network, but there are
    no guidelines on what &amp;#8220;reasonable&amp;#8221; means, and it seems that the
    burden of proof would be on the customer to fight their &lt;span class="caps"&gt;ISP&lt;/span&gt; in court
    and show that something was&amp;nbsp;unreasonable.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Up until very recently, ISPs generally didn&amp;#8217;t engage in the kind of
conduct that Net Neutrality rules would prohibit. The Internet as we
know it today is a product of a world with unwritten Net Neutrality
rules. Amazing sites and services like Facebook, Google, Twitter, and
many others started as experiments by a few dedicated people with little
to no budget. The fact that you can easily view web pages created by
anyone - like my blog - would be ended if website publishers had to pay
ISPs to be allowed through. The choice that you have in using your &lt;span class="caps"&gt;ISP&lt;/span&gt;&amp;#8217;s
&lt;span class="caps"&gt;TV&lt;/span&gt; or phone service, or something like Netflix or Vonage, is central to
the Internet as we know it, but is under attack. I know that many people
look at this as a &amp;#8220;problem for the geeks&amp;#8221;. We take the Internet for
granted. Over the next few days, every time you visit a web site or use
an Internet-based service, ask yourself: Would I be happy if I had to
pay for this? Would this even exist if the people who designed it had to
pay from day one? Make no mistake, if websites have to pay every &lt;span class="caps"&gt;ISP&lt;/span&gt; in
the country to be viewed, the days of wonderful free services sustained
by advertising revenue only will be long&amp;nbsp;gone.&lt;/p&gt;
&lt;p&gt;In closing, I highly recommend reading an &lt;a href="http://www.theatlantic.com/technology/archive/2010/12/steve-wozniak-to-the-fcc-keep-the-internet-free/68294/"&gt;open letter on Net Neutrality
by Steve
Wozniak&lt;/a&gt;,
co-founder of Apple, genius, and guy who helped change the world as we
know&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;Some other interesting&amp;nbsp;links:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.huffingtonpost.com/timothy-karr/obama-fcc-caves-on-net-ne_b_799435.html"&gt;Obama &lt;span class="caps"&gt;FCC&lt;/span&gt; Caves on Net Neutrality &amp;#8212; Tuesday Betrayal
    Assured&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;Huffington&amp;nbsp;Post&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.engadget.com/2010/12/21/fcc-we-didnt-impose-stricter-net-neutrality-regulations-on-wir/"&gt;&lt;span class="caps"&gt;FCC&lt;/span&gt;: We didn&amp;#8217;t impose stricter net neutrality regulations on
    wireless because Android is
    open&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;Engadget&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="http://act.boldprogressives.org/sign/sign_netneutrality_3things/?akid=3050.937978.xH20je&amp;amp;rd=1&amp;amp;source=e1-netflix-fin&amp;amp;t=3"&gt;&lt;span class="caps"&gt;FCC&lt;/span&gt; breaks Obama&amp;#8217;s promise on Net Neutrality: 3 things you need to
    know&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;BoldProgressives.org&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</summary><category term="free speech"></category><category term="freedom"></category><category term="internet"></category><category term="net neutrality"></category></entry><entry><title>MySQL General Query Log and Awk Trimming Columns</title><link href="http://blog.jasonantman.com/2010/12/mysql-general-query-log-and-awk-trimming-columns/" rel="alternate"></link><updated>2010-12-21T11:45:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-12-21:2010/12/mysql-general-query-log-and-awk-trimming-columns/</id><summary type="html">&lt;p&gt;So today I started to implement a number of complex regex-based rules
and templates to get &lt;a href="http://www.rsyslog.com"&gt;rsyslog&lt;/a&gt; to parse &lt;span class="caps"&gt;ISC&lt;/span&gt;
DHCPd logs in realtime. Unfortunately one of my templates must have been
wrong, because I started seeing some errors about a field that cannot be
blank in &lt;code&gt;/var/log/messages&lt;/code&gt;. Unfortunately, rsyslog doesn&amp;#8217;t log the
query that raised the error, or the name of the template, or anything
else useful - just that there was a database error. With over a dozen
new templates, this didn&amp;#8217;t help much. But the following technique&amp;nbsp;did:&lt;/p&gt;
&lt;p&gt;MySQLd has a &lt;a href="http://dev.mysql.com/doc/refman/5.1/en/query-log.html"&gt;General Query
Log&lt;/a&gt; that can be
activated by addling a line&amp;nbsp;like:  &lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;log=/tmp/query.log`
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;to &lt;code&gt;/etc/my.cnf&lt;/code&gt; under the &lt;code&gt;[mysqld]&lt;/code&gt; section. This will log *all*
queries to the specified log file, even if they resulted in an error or
did not manipulate&amp;nbsp;data.&lt;/p&gt;
&lt;p&gt;I couldn&amp;#8217;t find documentation on the log file format, but I observed
that each line appeared to begin with some whitespace, then a number
(perhaps a connection or section number, or maybe some sort of query
ordering number), then the word &amp;#8220;Query&amp;#8221;, then the query. The following
awk expression prints everything from the third column on, dropping the
first two columns (the number and&amp;nbsp;&amp;#8220;Query&amp;#8221;):  &lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;awk &lt;span class="s1"&gt;&amp;#39;{ for (i=2; i&amp;lt;=&lt;span class="caps"&gt;NF&lt;/span&gt;; i++) printf &amp;quot;%s &amp;quot;, $i; printf &amp;quot;\n&amp;quot;; }&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;For easy analysis, the output of that can be piped into &lt;code&gt;sort&lt;/code&gt; and then
&lt;code&gt;uniq&lt;/code&gt;.&lt;/p&gt;</summary><category term="awk"></category><category term="database"></category><category term="logging"></category><category term="mysql"></category></entry><entry><title>Highlighting matches with grep and less</title><link href="http://blog.jasonantman.com/2010/12/highlighting-matches-with-grep-and-less/" rel="alternate"></link><updated>2010-12-09T09:08:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-12-09:2010/12/highlighting-matches-with-grep-and-less/</id><summary type="html">&lt;p&gt;Yes, I haven&amp;#8217;t posted much lately. Just a quick little tip, since it
came in handy&amp;nbsp;today.&lt;/p&gt;
&lt;p&gt;Grep accepts a &lt;code&gt;--color&lt;/code&gt; argument which highlights matches in color
(assuming your terminal supports it). Passing grep &lt;code&gt;--color=always&lt;/code&gt; and
piping the output into &lt;code&gt;less -R&lt;/code&gt; will allow you to scroll through the
colorized output with less. Very handy if you&amp;#8217;re grepping through source
code with long lines or &lt;span class="caps"&gt;SQL&lt;/span&gt;&amp;nbsp;statements.&lt;/p&gt;</summary><category term="color"></category><category term="grep"></category><category term="less"></category><category term="terminal"></category></entry><entry><title>Links for Tuesday, November 23, 2010</title><link href="http://blog.jasonantman.com/2010/11/links-for-tuesday-november-23-2010/" rel="alternate"></link><updated>2010-11-23T11:56:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-11-23:2010/11/links-for-tuesday-november-23-2010/</id><summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href="http://blogs.hbr.org/cs/2010/11/did_google_train_its_own_enemi.html"&gt;Did Google Arm Its Own Enemies With Android? - James Allworth - The
    Conversation - Harvard Business&amp;nbsp;Review&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>Handling mailto links on another computer</title><link href="http://blog.jasonantman.com/2010/11/handling-mailto-links-on-another-computer/" rel="alternate"></link><updated>2010-11-16T11:34:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-11-16:2010/11/handling-mailto-links-on-another-computer/</id><summary type="html">&lt;p&gt;At work, I use &lt;a href="http://synergy-foss.org/"&gt;synergy&lt;/a&gt; to control two
computers with the same mouse and keyboard. My main desktop (skynet) has
two monitors - generally one for Firefox and one for my terminals - and
my secondary machine (mithrandir), a third monitor on my desk, handles
email and &lt;span class="caps"&gt;IM&lt;/span&gt;. The only real problem I&amp;#8217;ve had with this is mailto: links,
which obviously don&amp;#8217;t work since my browser and mail client are on
different&amp;nbsp;computers.&lt;/p&gt;
&lt;p&gt;Getting cross-machine mailto links to work isn&amp;#8217;t all that difficult, at
least with thunderbird which accepts a &amp;#8220;-compose&amp;#8221; command line argument.
First, get passwordless pubkey &lt;span class="caps"&gt;SSH&lt;/span&gt; authentication setup from the web
browser machine to the mail client machine. Then set your mailto
handler/mail client to a shell script in your path. Finally, fill the
script in with something&amp;nbsp;like:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="c"&gt;#!/bin/bash&lt;/span&gt;
ssh mithrandir &lt;span class="s2"&gt;&amp;quot;export &lt;span class="caps"&gt;DISPLAY&lt;/span&gt;=:0.0 &amp;amp;&amp;amp; thunderbird -compose &amp;#39;$@&amp;#39;&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This first sets the &lt;span class="caps"&gt;DISPLAY&lt;/span&gt; environment variable so thunderbird can open
a window in the already-running X session, then invokes thunderbird
passing it the mailto: link as an argument to -compose. Note the single
quotes which prevent spaces in the link from breaking&amp;nbsp;things.&lt;/p&gt;</summary><category term="firefox"></category><category term="Thunderbird"></category></entry><entry><title>Links for Friday, November 12, 2010</title><link href="http://blog.jasonantman.com/2010/11/links-for-friday-november-12-2010/" rel="alternate"></link><updated>2010-11-12T11:55:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-11-12:2010/11/links-for-friday-november-12-2010/</id><summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href="http://arstechnica.com/tech-policy/news/2010/11/are-you-on-the-internet-or-something-else.ars"&gt;How will we know when the Internet is&amp;nbsp;dead?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://blogs.computerworld.com/17335/red_hat_announces_red_hat_enterprise_linux_6"&gt;Red Hat announces Red Hat Enterprise Linux 6 - Computerworld&amp;nbsp;Blogs&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>Ignoring SVN directories and save files with grep</title><link href="http://blog.jasonantman.com/2010/10/ignoring-svn-directories-and-save-files-with-grep/" rel="alternate"></link><updated>2010-10-15T07:27:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-10-15:2010/10/ignoring-svn-directories-and-save-files-with-grep/</id><summary type="html">&lt;p&gt;Yes, I know I haven&amp;#8217;t posted anything useful in a while. I&amp;#8217;ve been quite
busy at work, and hopefully I&amp;#8217;ll post some of my &lt;span class="caps"&gt;DHCP&lt;/span&gt; stuff. In the&amp;nbsp;meantime&amp;#8230;&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m starting a project for the &lt;a href="http://www.midlandparkambulance.com/"&gt;ambulance
corps&lt;/a&gt; migrating two Linux boxes
to a single new server. One of them has been in production for about
five years, and (partially due to the &amp;#8220;we need it yesterday&amp;#8221; nature of
emergency services) has quite a bit of cruft laying around. Since almost
everything is web-based (well, browser-based, restricted to the &lt;span class="caps"&gt;LAN&lt;/span&gt;
only), there are a lot of web apps and &lt;span class="caps"&gt;PHP&lt;/span&gt; scripts that need to be
migrated. This is made even more complicated by the switch from SuSE
10.1 (yes, ancient) to CentOS 5.4, and therefore from &lt;code&gt;/srv/www/htdocs&lt;/code&gt;
to &lt;code&gt;/var/www/html&lt;/code&gt;. I could be lazy and symlink it, but I think it&amp;#8217;s
time to search down and destroy any absolute&amp;nbsp;includes.&lt;/p&gt;
&lt;p&gt;The problem with doing this is that, with any scripts in &lt;span class="caps"&gt;SVN&lt;/span&gt;, grepping
for a string could potentially return three hits for a file - the actual
file, the emacs save file (&lt;code&gt;filename~&lt;/code&gt;) and the text file in the &lt;code&gt;.svn&lt;/code&gt;
directory.&lt;/p&gt;
&lt;p&gt;The solution is actually pretty easy. To get rid of the .svn
directories, we add &lt;code&gt;--exclude=\*.svn\*&lt;/code&gt; to our grep command line (yes,
I know, it excludes everything with &amp;#8220;.svn&amp;#8221; in the path, but that&amp;#8217;s
acceptably imprecise for my purposes). To get rid of the tilde (save)
files, all we need is &lt;code&gt;--exclude=\*~&lt;/code&gt;. It&amp;#8217;s no problem to string them
together as &lt;code&gt;grep --exclude=\*~ --exclude=\*.svn\* -rin "foo bar" *&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;To make this even easier, just add to your &lt;code&gt;.bashrc&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="nb"&gt;export &lt;/span&gt;&lt;span class="nv"&gt;GREP_OPTIONS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;--exclude=\*~ --exclude=\*.svn\*&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="grep"></category><category term="linux"></category></entry><entry><title>How to make software distribution secure</title><link href="http://blog.jasonantman.com/2010/09/how-to-make-software-distribution-secure/" rel="alternate"></link><updated>2010-09-17T12:42:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-09-17:2010/09/how-to-make-software-distribution-secure/</id><summary type="html">&lt;p&gt;We were seeing some strange behavior with Mac client machines on the
network lately, specifically with &lt;span class="caps"&gt;DNS&lt;/span&gt; queries (I&amp;#8217;d guess that a lot of
it has to do with
&lt;a href="http://en.wikipedia.org/wiki/Bonjour_(software)"&gt;Bonjour&lt;/a&gt;), but the
discussion touched on the &lt;a href="http://isc.sans.edu/diary.html?storyid=3595"&gt;&lt;span class="caps"&gt;DNS&lt;/span&gt;
Changer&lt;/a&gt;
&lt;a href="http://www.dnschanger.com/"&gt;trojan&lt;/a&gt; for Mac. I&amp;#8217;d really never heard
about it before, and after some basic reading, it really got me thinking
about the state of software packaging, updates, and distribution.
Granted, some of my observations would require sweeping changes to how
packaging is handled (even on the *nixes), and would require buy-in
from more than just the vendor and distributor (well, I guess &lt;span class="caps"&gt;MS&lt;/span&gt; can
probably pressure ISVs to do whatever they want), but seems to be the
only way to keep appliancization from becoming the solution to security
issues. I&amp;#8217;ve written about this
&lt;a href="/2009/12/book-comments-the-future-of-the-internet-and-how-to-stop-it-by-jonathan-zittrain/"&gt;before&lt;/a&gt;,
and a while ago in respect to
&lt;a href="/2008/10/my-biggest-problem-with-linux/"&gt;Linux&lt;/a&gt;, but here&amp;#8217;s my current
take on what needs to be done to software packaging to allow our
machines to stay secure, no matter what &lt;span class="caps"&gt;OS&lt;/span&gt; they&amp;nbsp;run.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Allow packages to be installed as a user.&lt;/strong&gt; This is a mammoth task
    under Windows or Mac, but still an issue under Linux. The &lt;span class="caps"&gt;DNS&lt;/span&gt;
    Changer trojan is a case in point - there&amp;#8217;s no reason a &amp;#8220;video
    codec&amp;#8221; would need to be installed system-wide, and if that were
    simply installed user-specific, the malicious installer would never
    have the privileges to change system-wide &lt;span class="caps"&gt;DNS&lt;/span&gt; settings. This is also
    a big issue under Linux. Yum, apt, rpm, etc. should (if run as a
    non-root user) install packages in a user-local path under &lt;code&gt;/home&lt;/code&gt;
    by default. Of course, this would mean many things would need to
    change in order to cope - perhaps even a change to the
    &lt;a href="http://www.linuxfoundation.org/collaborate/workgroups/lsb"&gt;&lt;span class="caps"&gt;LSB&lt;/span&gt;&lt;/a&gt;&amp;nbsp;spec.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Warn about inconsistencies on package installation.&lt;/strong&gt; The package
    installation program should warn a user (whether installing packages
    system-wide or local to a user) if the package is going to modify
    system-wide files, i.e. files not specifically placed by that
    package and that package&amp;nbsp;only.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Real package management for Windows and Mac&lt;/strong&gt; It&amp;#8217;s about time that
    Apple and Microsoft admit that people without billions in funding
    can come up with good ideas. Get rid of these Installer programs
    (the many many different ones). Each &lt;span class="caps"&gt;OS&lt;/span&gt; should pick a package
    format, develop a yum-like (or, even better, zypper-like) package
    management program that understands repositories. I don&amp;#8217;t know how
    they&amp;#8217;d cope with the pervasive license keys and &lt;span class="caps"&gt;DRM&lt;/span&gt; in the non-nix
    world, but I&amp;#8217;m sure they could figure out a way that still allowed
    sane package management. The idea here is that vendors run
    repositories and are responsible for their &lt;span class="caps"&gt;GPG&lt;/span&gt; keys, so trojans
    claiming to be an update to a given vendor&amp;#8217;s software would be
    rejected. Also, isn&amp;#8217;t it about time that you can update all your
    software on Windows or Mac through one&amp;nbsp;tool?&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Filesystem-based &lt;span class="caps"&gt;IDS&lt;/span&gt; for Windows and Mac&lt;/strong&gt; Assuming it will take a
    while to get everyone onboard with the packaging idea, and noting
    that users of these OSes like installing applications from arbitrary
    sources, there should be an &lt;span class="caps"&gt;OS&lt;/span&gt;-level feature to audit all filesystem
    changes made by untrusted/unsigned applications, and a way to alert
    the user to these changes if they appear suspisious (essentially
    what &lt;a href="http://www.safer-networking.org"&gt;Spybot Search &lt;span class="amp"&gt;&amp;amp;&lt;/span&gt; Destroy /
    TeaTimer&lt;/a&gt; do, but builtin to the&amp;nbsp;&lt;span class="caps"&gt;OS&lt;/span&gt;).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Vendor support of packaging/repositories&lt;/strong&gt; - Along with the idea
    of repositories, vendors should have a trust or signing system for
    ISVs signing keys. If users are installing arbitrary software,
    making them trust an arbitrary key won&amp;#8217;t do anything to improve
    security. Microsoft and Apple need to run a &lt;span class="caps"&gt;CA&lt;/span&gt; that signs the
    package signing keys of their ISVs. The also - and here&amp;#8217;s the big
    one - need to have a parallel framework for &amp;#8220;independent
    developers&amp;#8221;. I.e. something that doesn&amp;#8217;t cost any money for the
    packagers, and allows them to at least give a &amp;#8220;this person is who
    they say they are&amp;#8221;&amp;nbsp;message.&lt;/li&gt;
&lt;li&gt;Finally, &lt;strong&gt;Make package management pervasive&lt;/strong&gt; - Have a real push to
    apply the packaging and signing keys standard to all software for
    the&amp;nbsp;&lt;span class="caps"&gt;OS&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;On a final note, applicable to both the current state of Linux packaging
and my ideas about Mac and Windows&amp;#8230; &lt;span class="caps"&gt;DNS&lt;/span&gt; is the ideal method of key
distribution (granted, yes, this just means that the security of the
packager&amp;#8217;s &lt;span class="caps"&gt;DNS&lt;/span&gt; records, and their servers and signing key, is just more
of an issue). But even with Yum and Zypper, it seems to me to be logical
that the packager&amp;#8217;s public key should be stored in a &lt;span class="caps"&gt;DNS&lt;/span&gt; record (or at a
&lt;span class="caps"&gt;URL&lt;/span&gt; stored in a &lt;span class="caps"&gt;DNS&lt;/span&gt; &lt;span class="caps"&gt;TXT&lt;/span&gt; record). That way, it wouldn&amp;#8217;t be up to an end
user to import and trust a key, they&amp;#8217;d just have to trust the repository
(i.e. software.adobe.com) and the package manager would pull down the
key and verify that package X in software.adobe.com is, in fact, signed
by the software.adobe.com&amp;nbsp;key.&lt;/p&gt;</summary><category term="linux"></category><category term="mac"></category><category term="packaging"></category><category term="security"></category><category term="software"></category><category term="windows"></category></entry><entry><title>Getting Sun iLOM information within Linux</title><link href="http://blog.jasonantman.com/2010/09/getting-sun-ilom-information-within-linux/" rel="alternate"></link><updated>2010-09-16T10:28:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-09-16:2010/09/getting-sun-ilom-information-within-linux/</id><summary type="html">&lt;p&gt;At work, I&amp;#8217;m starting to implement &lt;a href="http://www.ocsinventory-ng.org/"&gt;&lt;span class="caps"&gt;OCS&lt;/span&gt; Inventory
&lt;span class="caps"&gt;NG&lt;/span&gt;&lt;/a&gt; on our Linux boxes to keep track of
hardware. Part of the plan is also that we have a
&lt;a href="http://www.mediawiki.org"&gt;MediaWiki&lt;/a&gt; installation for internal
documentation, and articles for every host (named as the hostname). I&amp;#8217;m
going to pull data from &lt;span class="caps"&gt;OCS&lt;/span&gt; into the articles based on hostname (via a
&lt;span class="caps"&gt;PHP&lt;/span&gt; include) so the documentation will automatically include up-to-date
information on&amp;nbsp;hardware.&lt;/p&gt;
&lt;p&gt;Since we&amp;#8217;re moving to MySQL-backed &lt;span class="caps"&gt;DHCP&lt;/span&gt;, I decided that it would also be
nice to include &lt;span class="caps"&gt;DHCP&lt;/span&gt; information and links to our web tool to edit the
host (like setting &lt;span class="caps"&gt;PXE&lt;/span&gt; boot information). This is pretty easy for the
ethX interfaces, as &lt;span class="caps"&gt;OCS&lt;/span&gt; collects &lt;span class="caps"&gt;MAC&lt;/span&gt; addresses and I can search our &lt;span class="caps"&gt;DHCP&lt;/span&gt;
database for them. However, it isn&amp;#8217;t as simple for the iLOM interface,
which (obviously) &lt;span class="caps"&gt;OCS&lt;/span&gt; knows nothing about - though it&amp;#8217;s arguably one of
the most-forgotten things on our&amp;nbsp;machines.&lt;/p&gt;
&lt;p&gt;I know that &lt;span class="caps"&gt;HP&lt;/span&gt; Proliant servers have the nice little &lt;span class="caps"&gt;HP&lt;/span&gt; &lt;span class="caps"&gt;PSP&lt;/span&gt; (Proliant
Support Pack) that includes tools such as &lt;code&gt;hpasmcli&lt;/code&gt;, but Sun doesn&amp;#8217;t
have anything like that. (We just have one &lt;span class="caps"&gt;HP&lt;/span&gt; box in production right
now, but I&amp;#8217;ll probably be adding support for it&amp;nbsp;soon).&lt;/p&gt;
&lt;p&gt;Enter &lt;a href="http://openipmi.sourceforge.net/"&gt;OpenIPMI&lt;/a&gt;. The iLOM has an &lt;span class="caps"&gt;IPMI&lt;/span&gt;
interface, and the standard OpenIPMI-tools package in CentOS
repositories has the ipmitool required to get the relevant information.
A call is pretty simple: &lt;code&gt;ipmitool -l open lan print 1&lt;/code&gt; yields something&amp;nbsp;like:  &lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;Set in Progress         : Set Complete
Auth Type Support       : NONE MD2 MD5 PASSWORD
Auth Type Enable        : Callback : MD2 MD5 PASSWORD
                        : User     : MD2 MD5 PASSWORD
                        : Operator : MD2 MD5 PASSWORD
                        : Admin    : MD2 MD5 PASSWORD
                        : OEM      :
IP Address Source       : DHCP Address
IP Address              : 172.16.xxx.xxx
Subnet Mask             : 255.255.255.224
MAC Address             : 00:14:4f:xx:xx:xx
SNMP Community String   : xxxxxx
IP Header               : TTL=0x00 Flags=0x00 Precedence=0x00 TOS=0x00
BMC ARP Control         : ARP Responses Disabled, Gratuitous ARP Disabled
Gratituous ARP Intrvl   : 5.0 seconds
Default Gateway IP      : 172.16.xx.xx
Default Gateway MAC     : 00:00:00:00:00:00
Backup Gateway IP       : 0.0.0.0
Backup Gateway MAC      : 00:00:00:00:00:00
802.1q VLAN ID          : Disabled
802.1q VLAN Priority    : 0
RMCP+ Cipher Suites     : 2,3,0
Cipher Suite Priv Max   : XXXXXXXXXXXXXXX
                        :     X=Cipher Suite Unused
                        :     c=CALLBACK
                        :     u=USER
                        :     o=OPERATOR
                        :     a=ADMIN
                        :     O=OEM
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now it&amp;#8217;s just a matter of integrating this into ocsinventory-agent,
having it run the command if present (and Sun hardware), and parsing the
results. Once I have some actual code done, I&amp;#8217;ll pass it&amp;nbsp;along.&lt;/p&gt;
&lt;p&gt;Many thanks to &lt;code&gt;pseud0&lt;/code&gt; on the Sun forums for answering my
&lt;a href="http://forums.sun.com/thread.jspa?messageID=11049794#11049794"&gt;question&lt;/a&gt;
about&amp;nbsp;this.&lt;/p&gt;</summary><category term="inventory"></category><category term="ipmi"></category><category term="ipmitool"></category><category term="ocs-inventory"></category><category term="sun"></category><category term="sunfire"></category><category term="sysadmin"></category></entry><entry><title>Getting WoW working on OpenSuSE under Wine</title><link href="http://blog.jasonantman.com/2010/09/getting-wow-working-on-opensuse-under-wine/" rel="alternate"></link><updated>2010-09-05T22:52:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-09-05:2010/09/getting-wow-working-on-opensuse-under-wine/</id><summary type="html">&lt;p&gt;Ok, I&amp;#8217;ll admit it, I&amp;#8217;ve been playing
&lt;a href="http://www.worldofwarcraft.com"&gt;WoW&lt;/a&gt;. I&amp;#8217;m not usually the gamer type,
but my girlfriend pressured me into it a bit and, hey, if a woman&amp;#8217;s idea
of quality time is sitting in the same room in front of computers
playing a &lt;a href="http://en.wikipedia.org/wiki/Mmorpg"&gt;&lt;span class="caps"&gt;MMORPG&lt;/span&gt;&lt;/a&gt;, who am I to
complain? My non-work-hours productivity had suffered quite a bit, but
I&amp;#8217;m not yet at risk of becoming a full-on&amp;nbsp;addict.&lt;/p&gt;
&lt;p&gt;So, for a slight diversion from the usual&amp;nbsp;content&amp;#8230;&lt;/p&gt;
&lt;p&gt;Of course, I&amp;#8217;m not going to run Windows just to play a game, and the
screen on my MacBook Pro is pitifully small compared to the 24&amp;#8221; &lt;span class="caps"&gt;LCD&lt;/span&gt; on
my desktop. So I&amp;#8217;ve been running WoW through
&lt;a href="http://www.winehq.org/"&gt;Wine&lt;/a&gt; on an admittedly out of date
&lt;a href="http://www.opensuse.org/"&gt;OpenSuSE&lt;/a&gt; 11.1 install on my workstation (a
Dell Precision 470 - 2 Gb 400Mhz &lt;span class="caps"&gt;DDR&lt;/span&gt; &lt;span class="caps"&gt;ECC&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt;, 16 Gb swap, dual 2.8GHz
Xeons with &lt;span class="caps"&gt;HT&lt;/span&gt;, 16 &lt;span class="caps"&gt;KB&lt;/span&gt; L1 cache, 1 &lt;span class="caps"&gt;MB&lt;/span&gt; L2 cache, and a pitiful &lt;span class="caps"&gt;ATI&lt;/span&gt; Radeon
3600 &lt;span class="caps"&gt;HD&lt;/span&gt;, and everything in /home (including the game) on a 7200 &lt;span class="caps"&gt;RPM&lt;/span&gt; &lt;span class="caps"&gt;SATA&lt;/span&gt;&amp;nbsp;disk).&lt;/p&gt;
&lt;p&gt;With my recent need to upgrade to Burning Crusade, I hit a few bumps. I
ended up wiping out my entire &lt;code&gt;~/.wine&lt;/code&gt; and starting from scratch with a
fresh install, and having to apply all of the patches (luckily I backed
everything up to another drive so I already had the patches downloaded).
Of course, I backed up the data if import (&lt;code&gt;Interface&lt;/code&gt; and &lt;code&gt;WTF&lt;/code&gt; and WoW
was the only thing I had installed through&amp;nbsp;wine).&lt;/p&gt;
&lt;p&gt;I went through a number of different attempted settings for wine, &lt;span class="caps"&gt;OS&lt;/span&gt;
settings, etc. through the different patches (essentially try a patch,
change settings until it worked, move on to the next). The biggest snag
I hit was every few patches, X would lock up. No keyboard or mouse
input, the caps lock, num lock, etc. keys wouldn&amp;#8217;t respond,
Ctrl+Alt+{Backspace|Delete} wouldn&amp;#8217;t work, &lt;em&gt;but&lt;/em&gt; I still had &lt;span class="caps"&gt;SSH&lt;/span&gt; access,
so I could just kill the &lt;code&gt;Wow.exe&lt;/code&gt; process and try again. Each time this
happened was right after I accepted the second message (&lt;span class="caps"&gt;TOS&lt;/span&gt; or &lt;span class="caps"&gt;EULA&lt;/span&gt;,
whichever comes second)&amp;#8230; the last thing I&amp;#8217;d see in the log&amp;nbsp;is:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;fixme:reg:GetNativeSystemInfo (0x374045c4) using GetSystemInfo()
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;and then it would lock up with Wow.exe using 400% &lt;span class="caps"&gt;CPU&lt;/span&gt; as per &lt;code&gt;top&lt;/code&gt;
(which &lt;em&gt;does&lt;/em&gt; make some sense given dual CPUs with &lt;span class="caps"&gt;HT&lt;/span&gt;). Needless to say,
I have 4 pages of notes detailing the process it took me to get to a
working fully-patched install. I don&amp;#8217;t know if different patches need
different tweaks, and don&amp;#8217;t really feel like transcribing the entire
process. But here&amp;#8217;s the final state of all the things I&amp;nbsp;tweaked.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m running OpenSuSE 11.1, kernel 2.6.27.45-0.1-default (&lt;span class="caps"&gt;SMP&lt;/span&gt; x86_64),
wine 1.3.1 (1.3.1-1.1 from the OpenSuSE
&lt;a href="http://download.opensuse.org/repositories/Emulators:/Wine/openSUSE_11.1/"&gt;Emulators:/Wine/openSUSE_11.1&lt;/a&gt;
repo) running under WindowMaker&amp;nbsp;0.92.0-204.6.&lt;/p&gt;
&lt;p&gt;If you happen to find this post and give it a shot, please comment if it
worked, or what you did differently. If it will be of help, drop me a
line and I&amp;#8217;ll transcribe and post my entire&amp;nbsp;process.&lt;/p&gt;
&lt;p&gt;First note that I start WoW via a bash script (&lt;code&gt;~/bin/warcraft.sh&lt;/code&gt;) that
sets up my switched mouse buttons in WindowMaker (yeah, I&amp;#8217;m very
left-handed) and also &lt;code&gt;chmod -R&lt;/code&gt;&amp;#8216;s the whole
&lt;code&gt;.wine/drive_c/Program Files/World of Warcraft&lt;/code&gt; 777, which seems to be
required for WoW (and the perms get gronked after patches). The chmod is
a good starting point for&amp;nbsp;troubleshooting.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;winecfg&lt;/code&gt; under &amp;#8220;Libraries&amp;#8221; tab add overrides for &lt;code&gt;msvcr80&lt;/code&gt; and
    &lt;code&gt;wldap32&lt;/code&gt; as &amp;#8220;(native,&amp;nbsp;builtin)&amp;#8221;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;winetricks vcrun2005sp1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Run warcraft Installer through wine, auto-install Gecko when asked.
    When install finishes, begin&amp;nbsp;patching.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;winetricks fakeie6&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;add &lt;code&gt;SET gxApi "opengl"&lt;/code&gt; to &lt;code&gt;Config.wtf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;winetricks nt40&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;wine regedit&lt;/code&gt;, create a key HKEY_CURRENT_USER -&gt; Software -&gt;
    Wine -&gt; Direct3D if it doesn&amp;#8217;t exist, create string value
    &amp;#8220;OffscreenRenderingMode&amp;#8221; =&gt; &amp;#8220;backbuffer&amp;#8221;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;winecfg&lt;/code&gt;, in Graphics tab, check off &amp;#8220;Allow the window manager to
    decorate the windows&amp;#8221; and &amp;#8220;Allow the window manager to control the
    windows&amp;#8221; (fixed my last hang at patch&amp;nbsp;3.3.5-12340)&lt;/li&gt;
&lt;/ol&gt;</summary><category term="warcraft"></category><category term="wine"></category><category term="wow"></category></entry><entry><title>Motorola Droid: Rooted 2.0.1 to Rooted 2.2 (CyanogenMod)</title><link href="http://blog.jasonantman.com/2010/09/motorola-droid-rooted-2-0-1-to-rooted-2-2-cyanogenmod/" rel="alternate"></link><updated>2010-09-04T16:50:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-09-04:2010/09/motorola-droid-rooted-2-0-1-to-rooted-2-2-cyanogenmod/</id><summary type="html">&lt;p&gt;As of this morning, my Motorola Droid was still running rooted 2.0.1
(build &lt;span class="caps"&gt;ESD56&lt;/span&gt;, baseband C_01.3E.01P) with SPRecovery 0.99.2b. Well
yesterday I for the random deletion of all &lt;span class="caps"&gt;SMS&lt;/span&gt; bug again, and I decided
it&amp;#8217;s time to upgrade. I never upgraded to 2.1 - mainly out of laziness.
When it first came out, nobody had a patched update.zip yet to preserve
root. When I looked back into the situation a few weeks ago (when
Froyo/2.2 came out), I found that pretty much the whole community had
moved from patched update.zip&amp;#8217;s to full &lt;span class="caps"&gt;ROM&lt;/span&gt; images. I didn&amp;#8217;t want to
lose my apps, data, settings, etc. and couldn&amp;#8217;t find any instructions
that didn&amp;#8217;t include a wipe/reset, so I decided to keep putting it&amp;nbsp;off.&lt;/p&gt;
&lt;p&gt;Well, after yesterday&amp;#8217;s bug (and after I played with the Camera app on
an Incredible and saw how much nicer it is), I decided it was time to
bite the bullet and move to &lt;a href="http://www.cyanogenmod.com/"&gt;CyanogenMod&lt;/a&gt;
&lt;span class="caps"&gt;ROMS&lt;/span&gt;. I performed the upgrade this morning, and it seems to have worked
&lt;span class="caps"&gt;OK&lt;/span&gt;, though I haven&amp;#8217;t been using the phone very much since it&amp;nbsp;finished.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Rooted 2.0.1 to CyanogenMod 2.2&amp;nbsp;procedure:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m starting with a Motorola Droid, 2.0.1 (build &lt;span class="caps"&gt;ESD56&lt;/span&gt;), rooted,
baseband C_01.3E.01P, with SPRecovery&amp;nbsp;0.99.2b&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Perform full Nandroid backup through&amp;nbsp;SPRecovery.&lt;/li&gt;
&lt;li&gt;Run &lt;a href="market://search?q=com.riteshsahu.CallLogBackupRestore"&gt;Call Logs Backup &lt;span class="amp"&gt;&amp;amp;&lt;/span&gt;
    Restore&lt;/a&gt;
    (v1.8) to backup call&amp;nbsp;log.&lt;/li&gt;
&lt;li&gt;Run &lt;a href="market://search?q=com.riteshsahu.SMSBackupRestore"&gt;&lt;span class="caps"&gt;SMS&lt;/span&gt; Backup &lt;span class="amp"&gt;&amp;amp;&lt;/span&gt;
    Restore&lt;/a&gt; (v3.4)
    to backup &lt;span class="caps"&gt;SMS&lt;/span&gt;&amp;nbsp;data.&lt;/li&gt;
&lt;li&gt;Run &lt;a href="market://search?q=com.boots.MyAppsList"&gt;MyAppsList&lt;/a&gt; to make a
    list of all installed apps as &lt;span class="caps"&gt;HTML&lt;/span&gt;, including market links. Save to
    &lt;span class="caps"&gt;SD&lt;/span&gt;&amp;nbsp;card.&lt;/li&gt;
&lt;li&gt;Run &lt;a href="market://search?q=com.happydroid.bookmarks"&gt;Bookmark Sort &lt;span class="amp"&gt;&amp;amp;&lt;/span&gt; Backup
    Free&lt;/a&gt; to backup
    bookmarks to &lt;span class="caps"&gt;SD&lt;/span&gt;&amp;nbsp;card.&lt;/li&gt;
&lt;li&gt;Run &lt;a href="market://search?q=com.metago.astro"&gt;&lt;span class="caps"&gt;ASTRO&lt;/span&gt;&lt;/a&gt; file manager and
    backup &lt;span class="caps"&gt;ALL&lt;/span&gt; apps to &lt;span class="caps"&gt;SD&lt;/span&gt;&amp;nbsp;card.&lt;/li&gt;
&lt;li&gt;Mount the &lt;span class="caps"&gt;SD&lt;/span&gt; card on another computer and copy all the backups you
    just made to somewhere&amp;nbsp;safe.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;For the rest of the procedure, I more or less followed the &lt;a href="http://wiki.cyanogenmod.com/index.php?title=Full_Update_Guide_-_Motorola_Droid"&gt;CyanogenMod
Droid Full
Update&lt;/a&gt;&amp;nbsp;guide.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Buy &lt;span class="amp"&gt;&amp;amp;&lt;/span&gt; install &lt;a href="market://search?q=com.koushikdutta.rommanager"&gt;&lt;span class="caps"&gt;ROM&lt;/span&gt;
    Manager&lt;/a&gt;&amp;nbsp;Premium.&lt;/li&gt;
&lt;li&gt;Flash ClockworkMod&amp;nbsp;Recovery.&lt;/li&gt;
&lt;li&gt;Use &lt;span class="caps"&gt;ROM&lt;/span&gt; Manager to backup current &lt;span class="caps"&gt;ROM&lt;/span&gt; to &lt;span class="caps"&gt;SD&lt;/span&gt; card, copy the backup
    somewhere safe on another&amp;nbsp;computer.&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;ROM&lt;/span&gt; Manager - download CyanogenMod 6.0.0 for Droid with AWDLauncher
    and Google&amp;nbsp;Apps.&lt;/li&gt;
&lt;li&gt;Check off &amp;#8220;wipe data and cache&amp;#8221;, click&amp;nbsp;&lt;span class="caps"&gt;OK&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;Phone reboots into recovery, flashes new image, and boots to
    CyanogenMod Froyo (2.2, build &lt;span class="caps"&gt;FRG22D&lt;/span&gt;), still has baseband&amp;nbsp;C_01.3E.01P.&lt;/li&gt;
&lt;li&gt;Enter your Google account information to begin sync. Your Google
    data (calendar, contacts, etc.) should be synced as well as all of
    your Market apps. You will, however, lose all of your app&amp;nbsp;settings.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Post-Upgrade:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;After the upgrade, there were a few things I had to do, and a few issues
that I wasn&amp;#8217;t prepared for. Here&amp;#8217;s a list of them, and the solutions I
found (if any) in no particular&amp;nbsp;order&amp;#8230;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Restore bookmarks, call log, &lt;span class="caps"&gt;SMS&lt;/span&gt;&amp;nbsp;backup.&lt;/li&gt;
&lt;li&gt;All of my per-contact ringtones were gone. As far as I could find,
    there&amp;#8217;s no known good way of backing up and restoring&amp;nbsp;these.&lt;/li&gt;
&lt;li&gt;I obviously lost the &lt;span class="caps"&gt;HD&lt;/span&gt;-quality video hack I&amp;#8217;d applied to the Droid,
    as well as anything else I&amp;#8217;d done in the boot settings&amp;nbsp;file.&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;I apparently lost the following apps (not restored when the phone
    synced with&amp;nbsp;Google):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="market://search?q=com.ztech.packagetracking"&gt;Package&amp;nbsp;Tracking&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="market://search?q=com.googlecode.pythonforandroid"&gt;Python for&amp;nbsp;Android&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="market://search?q=com.googlecode.android_scripting"&gt;&lt;span class="caps"&gt;SL4A&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="market://search?q=com.mahoney.tetronimo"&gt;Tetronimo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The following apps were added by CyanogenMod (or are new since&amp;nbsp;2.0.1):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=""&gt;Chrome to Phone&lt;/a&gt; -
    &lt;a href="http://code.google.com/p/chrometophone/"&gt;chrometophone&lt;/a&gt; - send
    links from Chrome browser to your phone using some Google
    messaging&amp;nbsp;service&lt;/li&gt;
&lt;li&gt;&lt;a href=""&gt;Dev Tools&lt;/a&gt;&amp;nbsp;-&lt;/li&gt;
&lt;li&gt;&lt;a href=""&gt;DPSManager&lt;/a&gt;&amp;nbsp;-&lt;/li&gt;
&lt;li&gt;&lt;a href=""&gt;News and&amp;nbsp;Weather&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=""&gt;Places&lt;/a&gt; - &lt;a href="http://googleblog.blogspot.com/2010/04/introducing-google-places.html"&gt;Google&amp;nbsp;Places&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=""&gt;Spare Parts&lt;/a&gt; - apparently allows access to some settings not
    available through the Settings&amp;nbsp;menu&lt;/li&gt;
&lt;li&gt;&lt;a href=""&gt;Speech&amp;nbsp;Recorder&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=""&gt;Superuser&lt;/a&gt; - App to graphically manage root&amp;nbsp;access&lt;/li&gt;
&lt;li&gt;&lt;a href=""&gt;Talk&lt;/a&gt; - &lt;a href="http://www.google.com/talk/"&gt;Google&amp;nbsp;Talk&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=""&gt;Terminal Emulator&lt;/a&gt; (somehow I have two&amp;nbsp;installed&amp;#8230;?)&lt;/li&gt;
&lt;li&gt;&lt;a href=""&gt;Twitter&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=""&gt;Videos&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=""&gt;Voice&lt;/a&gt; - &lt;a href="http://www.google.com/mobile/voice/"&gt;Google Voice&amp;nbsp;mobile&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;These apps had data associated with them which was somewhat
    important (I wrote the script below to handle the&amp;nbsp;move):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=""&gt;Alarm Clock&amp;nbsp;Plus&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=""&gt;Barnacle WiFi&amp;nbsp;Tether&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=""&gt;ConnectBot&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=""&gt;gReader&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=""&gt;Jewles&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=""&gt;Nagroid&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Had to re-set my notification sounds - Flutey Phone for incoming
    calls, Look at Me for messaging and Highwire for other&amp;nbsp;notifications.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;Much to my pleasure, my WiFi settings, saved networks, etc.
    magically came back. Haven&amp;#8217;t checked bluetooth&amp;nbsp;yet.&lt;/li&gt;
&lt;li&gt;I had to change my voicemail number (Settings -&gt; Call Settings -&gt;
    Voicemail Settings) to automatically wait and enter my&amp;nbsp;password.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;At the moment, this script is obviously setup to do one app at a time,
hard-coded in the &lt;span class="caps"&gt;APP&lt;/span&gt; variable. It also assumes that the app data
directory is stored at&amp;nbsp;/sdcard/restore/$&lt;span class="caps"&gt;APP&lt;/span&gt;.&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="c"&gt;#!/bin/bash&lt;/span&gt;

&lt;span class="nv"&gt;&lt;span class="caps"&gt;APP&lt;/span&gt;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;com.vp.alarmClockPlusDock&amp;quot;&lt;/span&gt;

&lt;span class="nv"&gt;BIN_PATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/system/xbin/&amp;quot;&lt;/span&gt;
&lt;span class="nv"&gt;DATA_PATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/data/data/&amp;quot;&lt;/span&gt;
&lt;span class="nv"&gt;BACKUP_PATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="nv"&gt;PERMS_PATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/data/system/packages.list&amp;quot;&lt;/span&gt;

&lt;span class="nv"&gt;&lt;span class="caps"&gt;OWNER&lt;/span&gt;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;grep -i &lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;APP&lt;/span&gt;&amp;quot;&lt;/span&gt; /data/system/packages.list | awk &lt;span class="s1"&gt;&amp;#39;{ print $2}&amp;#39;&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;

&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;span class="caps"&gt;OWNER&lt;/span&gt;=$&lt;span class="caps"&gt;OWNER&lt;/span&gt;=&amp;quot;&lt;/span&gt;

/system/xbin/mv /data/data/&lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;APP&lt;/span&gt;&amp;quot;&lt;/span&gt; /data/data/z
/system/xbin/mv /sdcard/restore/&lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;APP&lt;/span&gt;&amp;quot;&lt;/span&gt; /data/data/&lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;APP&lt;/span&gt;&amp;quot;&lt;/span&gt;
/system/xbin/rm -Rf /data/data/z

/system/xbin/chown -R 10069:10069 /data/data/&lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;APP&lt;/span&gt;&amp;quot;&lt;/span&gt;

/system/xbin/chmod 751 /data/data/&lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;APP&lt;/span&gt;&amp;quot;&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; -e  /data/data/&lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;APP&lt;/span&gt;&amp;quot;&lt;/span&gt;/cache &lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="k"&gt;then&lt;/span&gt;
    /system/xbin/chmod -R 771 /data/data/&lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;APP&lt;/span&gt;&amp;quot;&lt;/span&gt;/cache
&lt;span class="k"&gt;fi&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; -e /data/data/&lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;APP&lt;/span&gt;&amp;quot;&lt;/span&gt;/databases &lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="k"&gt;then&lt;/span&gt;
    /system/xbin/chmod 771 /data/data/&lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;APP&lt;/span&gt;&amp;quot;&lt;/span&gt;/databases
    /system/xbin/chmod 660 /data/data/&lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;APP&lt;/span&gt;&amp;quot;&lt;/span&gt;/databases/*.db
&lt;span class="k"&gt;fi&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; -e /data/data/&lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;APP&lt;/span&gt;&amp;quot;&lt;/span&gt;/files &lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="k"&gt;then&lt;/span&gt;
    /system/xbin/chmod -R 771 /data/data/&lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;APP&lt;/span&gt;&amp;quot;&lt;/span&gt;/files
    /system/xbin/chmod 660 /data/data/&lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;APP&lt;/span&gt;&amp;quot;&lt;/span&gt;/files/*
&lt;span class="k"&gt;fi&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; -e /data/data/&lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;APP&lt;/span&gt;&amp;quot;&lt;/span&gt;/lib &lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="k"&gt;then&lt;/span&gt;
    /system/xbin/chown -R system:system /data/data/&lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;APP&lt;/span&gt;&amp;quot;&lt;/span&gt;/lib
    /system/xbin/chmod -R 755 /data/data/&lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;APP&lt;/span&gt;&amp;quot;&lt;/span&gt;/lib
&lt;span class="k"&gt;fi&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; -e  /data/data/&lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;APP&lt;/span&gt;&amp;quot;&lt;/span&gt;/shared_prefs &lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="k"&gt;then&lt;/span&gt;
    /system/xbin/chmod 771 /data/data/&lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;APP&lt;/span&gt;&amp;quot;&lt;/span&gt;/shared_prefs
    /system/xbin/chmod 660 /data/data/&lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;APP&lt;/span&gt;&amp;quot;&lt;/span&gt;/shared_prefs/*
&lt;span class="k"&gt;fi&lt;/span&gt;

&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;span class="caps"&gt;DONE&lt;/span&gt;.&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;I&amp;#8217;ll update this now and then as I have more to add to&amp;nbsp;it&amp;#8230;&lt;/p&gt;</summary><category term="android"></category><category term="cyanogen"></category><category term="cyanogenmod"></category><category term="droid"></category><category term="root"></category></entry><entry><title>Documentation generation for web apps - PHP and JavaScript</title><link href="http://blog.jasonantman.com/2010/08/documentation-generation-for-web-apps-php-and-javascript/" rel="alternate"></link><updated>2010-08-26T08:10:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-08-26:2010/08/documentation-generation-for-web-apps-php-and-javascript/</id><summary type="html">&lt;p&gt;Recently I&amp;#8217;ve been making some changes to a relatively complex ePCR
(electronic patient care report) program that I wrote for the &lt;a href="http://www.midlandparkambulance.com"&gt;ambulance
corps&lt;/a&gt;. It&amp;#8217;s a web application
(available only on our &lt;span class="caps"&gt;LAN&lt;/span&gt;, of course) written in &lt;span class="caps"&gt;PHP&lt;/span&gt;, with a relatively
large chunk of custom javascript to provide Ajax/&lt;span class="caps"&gt;DHTML&lt;/span&gt; functions. Most
of the &lt;span class="caps"&gt;PHP&lt;/span&gt; code was already documented and processed with
&lt;a href="http://www.phpdoc.org/"&gt;phpDocumentor&lt;/a&gt; (phpdoc) to generate &lt;span class="caps"&gt;API&lt;/span&gt;
documentation. However, since so much of the functionality is
&lt;span class="caps"&gt;DHTML&lt;/span&gt;-based, there was a lot of looking back to the JavaScript source to
figure out what was called&amp;nbsp;where.&lt;/p&gt;
&lt;p&gt;My search for a true multi-language documentation generator was
relatively fruitless. There&amp;#8217;s
&lt;a href="http://www.stack.nl/~dimitri/doxygen/"&gt;doxygen&lt;/a&gt; but that needed a Perl
helper script for javascript files. Since virtually all of the code,
both &lt;span class="caps"&gt;PHP&lt;/span&gt; and JavaScript, is purely procedural, I was really only
concerned about docblocks and the functions they&amp;nbsp;precede.&lt;/p&gt;
&lt;p&gt;Luckily, it occurred to me that JavaScript is pretty close in syntax to
&lt;span class="caps"&gt;PHP&lt;/span&gt;, and I tend to write them with exactly the same style. A little
research showed that phpdoc can more or less handle javascript code,
with a few&amp;nbsp;caveats:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The code needs to parse as &lt;span class="caps"&gt;PHP&lt;/span&gt;, so things like inline functions mess
    it&amp;nbsp;up.&lt;/li&gt;
&lt;li&gt;The default phpDocumentor ini file doesn&amp;#8217;t recognize files with
    &lt;code&gt;.js&lt;/code&gt; extensions.&lt;/li&gt;
&lt;li&gt;The files need to have a &amp;lt;?php at the&amp;nbsp;top.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Noting this, I wrote a small script that iterates through a directory of
&lt;code&gt;.js&lt;/code&gt; files, parses them line by line, pulls out only the function
declarations (which, hopefully, don&amp;#8217;t also have code on the same line)
and docblocks, and writes the output (with a &amp;lt;?php at the top) to a
same-named file in a different&amp;nbsp;directory.&lt;/p&gt;
&lt;p&gt;The script obviously requires phpdoc to be installed, and also requires
you to edit the phpDocumentor.ini file (installed with &lt;span class="caps"&gt;PEAR&lt;/span&gt; on my system
at &lt;code&gt;/usr/share/php5/PEAR/data/PhpDocumentor/phpDocumentor.ini&lt;/code&gt;) and add
a &amp;#8220;js&amp;#8221; line to the &lt;code&gt;[_phpDocumentor_phpfile_exts]&lt;/code&gt; section to get phpdoc
to recognize &lt;code&gt;*.js&lt;/code&gt; files.&lt;/p&gt;
&lt;p&gt;I was easily able to integrate this with a Makefile rule and create a
single set of cross-linked phpdoc &lt;span class="caps"&gt;API&lt;/span&gt; docs including both &lt;span class="caps"&gt;JS&lt;/span&gt; and &lt;span class="caps"&gt;PHP&lt;/span&gt;
files. I also added explicit package names (like &amp;#8220;-&lt;span class="caps"&gt;PHP&lt;/span&gt;&amp;#8221; and &amp;#8220;-&lt;span class="caps"&gt;JS&lt;/span&gt;&amp;#8221;) to
keep things separated a&amp;nbsp;little.&lt;/p&gt;
&lt;p&gt;The script can be found at:
&lt;a href="https://github.com/jantman/misc-scripts/blob/master/js2phpdoc.php"&gt;https://github.com/jantman/misc-scripts/blob/master/js2phpdoc.php&lt;/a&gt;.
It&amp;#8217;s (obviously) free for any use, provided that you follow the license
terms (leave copyrights intact, send modifications back to me, and
update the changelog if you modify&amp;nbsp;it).&lt;/p&gt;
&lt;p&gt;My Makefile rule (which uses a temp directory to both keep the generated
files separate from the source and keep the file paths as seen by phpdoc
the same as the actual&amp;nbsp;source):&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="nf"&gt;.&lt;span class="caps"&gt;PHONY&lt;/span&gt;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;docs&lt;/span&gt;

&lt;span class="nf"&gt;docs&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
        mkdir -p temp/js
        bin/js2phpdoc.php js/ temp/js/
        cp -r inc temp/
        cp *.php temp/
        phpdoc -c docs/default.ini
        rm -Rf temp
&lt;/pre&gt;&lt;/div&gt;</summary><category term="documentation"></category><category term="javascript"></category><category term="PHP"></category><category term="web programming"></category></entry><entry><title>Mediawiki Extension - Section Link To Top</title><link href="http://blog.jasonantman.com/2010/08/mediawiki-extension-section-link-to-top/" rel="alternate"></link><updated>2010-08-18T13:46:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-08-18:2010/08/mediawiki-extension-section-link-to-top/</id><summary type="html">&lt;p&gt;While working on a particularly long documentation page in MediaWiki
today, I came by a convenient little&amp;nbsp;extension:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.mediawiki.org/wiki/Extension:SectionLinkToTop"&gt;Section Link To&amp;nbsp;Top&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;It adds a nice little &amp;#8220;top&amp;#8221; link next to the &amp;#8220;edit&amp;#8221; link in each section
header. Very useful for &lt;em&gt;long&lt;/em&gt;&amp;nbsp;pages.&lt;/p&gt;</summary><category term="documentation"></category><category term="mediawiki"></category></entry><entry><title>PHP Script to Dump Firefox Session</title><link href="http://blog.jasonantman.com/2010/08/php-script-to-dump-firefox-session/" rel="alternate"></link><updated>2010-08-17T21:17:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-08-17:2010/08/php-script-to-dump-firefox-session/</id><summary type="html">&lt;p&gt;If you&amp;#8217;re anything like me, you often find yourself working on multiple
computers. Today I left a few tabs open in Firefox on my work laptop,
and wanted to continue reading from my desktop. Normally I&amp;#8217;d just grab
the laptop, or &lt;span class="caps"&gt;RDP&lt;/span&gt; into it if it was my work desktop that had the open
tabs, but at the moment my girlfriend is neck-deep in WoW on the
MacBook. Having had this problem before (getting tabs back remotely, not
a laptop occupied with WoW), I started thinking about a&amp;nbsp;solution.&lt;/p&gt;
&lt;p&gt;I &lt;em&gt;could&lt;/em&gt; have closed my local firefox session, moved the
sessionstore.js somewhere else, copied the one from the laptop over,
re-opened firefox, &amp;#8230; well, you get the&amp;nbsp;idea.&lt;/p&gt;
&lt;p&gt;But that sounds like a really sub-optimal solution. So I started looking
around a bit. It seems that sessionstore.js is &lt;em&gt;almost&lt;/em&gt; &lt;span class="caps"&gt;JSON&lt;/span&gt;, but as per
&lt;a href="https://bugzilla.mozilla.org/show_bug.cgi?id=407110#c2"&gt;Mozilla bug
407110&lt;/a&gt;, it&amp;#8217;s
not quite standards-compliant. Luckily, it seems that &lt;span class="caps"&gt;PHP&lt;/span&gt;&amp;#8217;s &lt;span class="caps"&gt;JSON&lt;/span&gt; module
is quite tolerant, so once I stripped off the leading and trailing
parens from the file contents, it parsed quite&amp;nbsp;nicely.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ve written a small &lt;code&gt;dumpFirefoxSession.php&lt;/code&gt; script that reads the
sessionstore.js file (in cwd or a specified path), unserializes the &lt;span class="caps"&gt;JSON&lt;/span&gt;
as an array, and then dumps the tabs. It dumps as either plain text or
&lt;span class="caps"&gt;HTML&lt;/span&gt; (currently just elements inside the body, not a full &lt;span class="caps"&gt;HTML&lt;/span&gt; file).
The &lt;span class="caps"&gt;HTML&lt;/span&gt; will include &lt;code&gt;ol&lt;/code&gt;s for each window listing the tabs, links to
the current content (sessionstore.js also holds history for each tab,
but I don&amp;#8217;t need this), and it shows which tab is currently&amp;nbsp;selected.&lt;/p&gt;
&lt;p&gt;You can grab the script from github at:
&lt;a href="https://github.com/jantman/misc-scripts/blob/master/nmap-xml-to-table.php"&gt;https://github.com/jantman/misc-scripts/blob/master/nmap-xml-to-table.php&lt;/a&gt;.
The current version is 3. You&amp;#8217;ll need &lt;span class="caps"&gt;PHP&lt;/span&gt; (probably 5) with &lt;span class="caps"&gt;JSON&lt;/span&gt;&amp;nbsp;support.&lt;/p&gt;</summary><category term="firefox"></category><category term="PHP"></category></entry><entry><title>My Droid Rooting Dilemma</title><link href="http://blog.jasonantman.com/2010/08/my-droid-rooting-dilemma/" rel="alternate"></link><updated>2010-08-16T09:14:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-08-16:2010/08/my-droid-rooting-dilemma/</id><summary type="html">&lt;p&gt;My Droid is still running 2.0.1 rooted, with &lt;span class="caps"&gt;SPS&lt;/span&gt; Recovery, just as it
was the week the 2.0.1 update was pushed out &lt;span class="caps"&gt;OTA&lt;/span&gt; - I&amp;#8217;d already rooted
it, disabled &lt;span class="caps"&gt;OTA&lt;/span&gt; updates, and performed a simple procedure to update and
keep&amp;nbsp;root.&lt;/p&gt;
&lt;p&gt;My one complaint is that - as always happens with a new and cool
technology that gets widely adopted - it seems like the Android
community is being, well, dumbed down. When I first rooted my Droid, it
involved using the adb shell. Now, it&amp;#8217;s hard to find instructions that
aren&amp;#8217;t written exclusively for Windows - or even instructions that
actually explain what I&amp;#8217;m supposed to be doing or why it&amp;nbsp;works.&lt;/p&gt;
&lt;p&gt;I know that I haven&amp;#8217;t followed the Android world much lately, but it
seems to me that this should be really simple. The update.zip &lt;span class="caps"&gt;OTA&lt;/span&gt;
updates are just patches. I already have the device rooted on 2.0.1,
have disabled &lt;span class="caps"&gt;OTA&lt;/span&gt; updates, etc. So it seems to me that I should be able
to just unzip the update file, change whatever needs to be changed to
keep root, re-zip it, and upload it. If it wasn&amp;#8217;t already done (the
HowTo that I followed to update to rooted 2.0.1 doesn&amp;#8217;t seem to be
online anymore, and I can&amp;#8217;t find the &lt;span class="caps"&gt;URL&lt;/span&gt;), I should be able to just
change the update verification keys to accept&amp;nbsp;anything.&lt;/p&gt;
&lt;p&gt;Well, I guess it&amp;#8217;s time to continue my hours of research and see if I
can come up with anything. Everything I&amp;#8217;ve already found says that I
have to backup all of my apps and data and just flash a new &lt;span class="caps"&gt;ROM&lt;/span&gt;, but
that seems stupid. Why can&amp;#8217;t I just make use of this wonderful
patch-based updating and keep&amp;nbsp;root?&lt;/p&gt;</summary><category term="android"></category><category term="droid"></category><category term="root"></category></entry><entry><title>PC vs Mac</title><link href="http://blog.jasonantman.com/2010/08/pc-vs-mac/" rel="alternate"></link><updated>2010-08-15T16:25:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-08-15:2010/08/pc-vs-mac/</id><summary type="html">&lt;p&gt;Begin shameless&amp;nbsp;rant&amp;#8230;&lt;/p&gt;
&lt;p&gt;When I read the &amp;#8220;system requirements&amp;#8221; for hardware these days, and see
&amp;#8220;&lt;span class="caps"&gt;PC&lt;/span&gt; or Mac&amp;#8221;, I cringe. Surely someone who&amp;#8217;s developing the hardware
should understand the horrible inaccuracy of&amp;nbsp;this.&lt;/p&gt;
&lt;p&gt;The term &amp;#8220;&lt;span class="caps"&gt;PC&lt;/span&gt;&amp;#8221;, or Personal Computer, is used to refer to any hardware
that is (at this point, a derivative of) an &lt;span class="caps"&gt;IBM&lt;/span&gt; &lt;span class="caps"&gt;PC&lt;/span&gt; architecture clone.
This generally means Intel x86 (compatible)&amp;nbsp;systems.&lt;/p&gt;
&lt;p&gt;In 2005, Apple discontinued their PowerPC systems and made the move to
Intel-based computers. Since 2005, all Apple (Mac, iMac, MacBook, etc.)
computers have been&amp;nbsp;PCs.&lt;/p&gt;
&lt;p&gt;Similarly, &lt;span class="caps"&gt;PC&lt;/span&gt; refers just to the hardware, not the operating system. An
Intel-based computer running Linux is a&amp;nbsp;&lt;span class="caps"&gt;PC&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;If you mean &amp;#8220;Requires Microsoft Windows or Mac&amp;#8221;, say that. I don&amp;#8217;t know
whether it&amp;#8217;s more disturbing to see this on the box of a piece of (I
assume, engineered) hardware or in a tutorial or how-to supposedly
written by someone who knows something about&amp;nbsp;technology.&lt;/p&gt;</summary><category term="mac"></category><category term="pc"></category><category term="windows"></category></entry><entry><title>Updated Android App List</title><link href="http://blog.jasonantman.com/2010/08/updated-android-app-list/" rel="alternate"></link><updated>2010-08-15T13:19:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-08-15:2010/08/updated-android-app-list/</id><summary type="html">&lt;p&gt;Here&amp;#8217;s the current list of the apps that are running on my Droid and
seem interesting (I&amp;#8217;m still running 2.0.1, build &lt;span class="caps"&gt;ESD56&lt;/span&gt;). This is an
update to my earlier post, &lt;a href="/2010/02/my-android-apps/"&gt;My Android Apps&lt;/a&gt;,
so I left out everything that was already in that&amp;nbsp;post.&lt;/p&gt;
&lt;p&gt;This list was generated with
&lt;a href="market://search?q=com.boots.MyAppsList"&gt;MyAppsList&lt;/a&gt;, though I did
massage it a bit after generation (mainly because it copied text that
was all on &lt;em&gt;one&lt;/em&gt; line, though it does output &lt;span class="caps"&gt;HTML&lt;/span&gt; with market links and
the apps in li elements). The simple script to make the output a little
more blog-friendly&amp;nbsp;is:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;cat apps.txt | sed &lt;span class="s1"&gt;&amp;#39;s/&amp;lt;\/li&amp;gt;/&amp;lt;\/li&amp;gt;  &lt;/span&gt;
&lt;span class="s1"&gt;/g&amp;#39;&lt;/span&gt; | sed &lt;span class="s1"&gt;&amp;#39;s///g&amp;#39;&lt;/span&gt; | sed &lt;span class="s1"&gt;&amp;#39;s/&amp;lt;\/font&amp;gt;//g&amp;#39;&lt;/span&gt; | sed &lt;span class="s1"&gt;&amp;#39;s///g&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;&lt;a href="market://search?q=com.adobe.reader"&gt;Adobe Reader&lt;/a&gt; (v9.0.1) - full
    version of Adboe&amp;nbsp;Reader&lt;/li&gt;
&lt;li&gt;&lt;a href="market://search?q=com.speedymarks.android.altitudeFree"&gt;Altitude
    Free&lt;/a&gt;
    (v1.0.5) - Shows your current altitude from&amp;nbsp;&lt;span class="caps"&gt;GPS&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="market://search?q=com.agilesoftresource"&gt;AndroZip&lt;/a&gt; (v1.0.1) - Good
    all-around file manager and archive&amp;nbsp;manager.&lt;/li&gt;
&lt;li&gt;&lt;a href="market://search?q=sns.arcMedia.playerInterface.arm6"&gt;arcMedia&lt;/a&gt;
    (v0.24b) - Media (video)&amp;nbsp;player.&lt;/li&gt;
&lt;li&gt;&lt;a href="market://search?q=net.szym.barnacle"&gt;Barnacle Wifi Tether&lt;/a&gt; (v0.5.1)&lt;ul&gt;
&lt;li&gt;WiFi tethering for rooted Droids with stock kernel. See my &lt;a href="http://blog.jasonantman.com/2010/08/wifi-tether-for-droid/"&gt;WiFi
tether for
Droid&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="market://search?q=it.medieval.blueftp"&gt;Bluetooth File Transfer&lt;/a&gt;
    (v3.40) - Good tool for transferring arbitrary files, contacts, etc.
    over&amp;nbsp;bluetooth.&lt;/li&gt;
&lt;li&gt;&lt;a href="market://search?q=org.peterbaldwin.client.android.delicious"&gt;Bookmarking for
    Delicious.com&lt;/a&gt;
    (v1.3.2) - Delicious bookmarking, so I can now keep my Droid in sync
    with all of my desktops, laptops,&amp;nbsp;etc.&lt;/li&gt;
&lt;li&gt;&lt;a href="market://search?q=com.mathpad.mobile.android.wt.unit"&gt;ConvertPad - Unit
    Converter&lt;/a&gt;
    (v1.4.2) Simple but full-featured unit converter. Need to know how
    many twips there are in a fathom? No&amp;nbsp;problem&amp;#8230;&lt;/li&gt;
&lt;li&gt;&lt;a href="market://search?q=com.drivesafe.ly"&gt;DriveSafe.ly&lt;/a&gt; (v1.3.47) - cool
    app that reads incoming &lt;span class="caps"&gt;SMS&lt;/span&gt; to you. Can automatically activate when
    it connects to&amp;nbsp;bluetooth.&lt;/li&gt;
&lt;li&gt;&lt;a href="market://search?q=com.noinnion.android.greader.reader"&gt;gReader&lt;/a&gt;
    (v1.6.8) - Good &lt;span class="caps"&gt;RSS&lt;/span&gt; reader with sync to Google Reader and automatic
    sync of articles for offline&amp;nbsp;viewing.&lt;/li&gt;
&lt;li&gt;&lt;a href="market://search?q=com.handcent.nextsms"&gt;Handcent &lt;span class="caps"&gt;SMS&lt;/span&gt;&lt;/a&gt; (v3.2.6) -
    Just got this, still figuring it out, but appears to be a &lt;em&gt;much&lt;/em&gt;
    nicer messaging app with popups (including reply box) for incoming
    &lt;span class="caps"&gt;SMS&lt;/span&gt;, nicer view,&amp;nbsp;etc.&lt;/li&gt;
&lt;li&gt;&lt;a href="market://search?q=com.vzw.hss.myverizon"&gt;My Verizon Mobile&lt;/a&gt; (v5.0)&lt;ul&gt;
&lt;li&gt;Verizon&amp;#8217;s app that shows your current monthly minute, &lt;span class="caps"&gt;SMS&lt;/span&gt;, and
data usage, as well as other&amp;nbsp;stuff.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="market://search?q=com.boots.MyAppsList"&gt;MyAppsList&lt;/a&gt; (v1.4 &lt;span class="caps"&gt;BETA&lt;/span&gt;) -
    App used to generate this&amp;nbsp;list.&lt;/li&gt;
&lt;li&gt;&lt;a href="market://search?q=com.ztech.packagetracking"&gt;Package Tracking&lt;/a&gt;
    (v1.9b) - Simple package tracking for &lt;span class="caps"&gt;UPS&lt;/span&gt;, FedEx, etc. Unfortunately
    it doesn&amp;#8217;t provide any notifications and it only remembers one
    tracking number at a&amp;nbsp;time.&lt;/li&gt;
&lt;li&gt;&lt;a href="market://search?q=com.pdanet"&gt;PdaNet&lt;/a&gt; (v2.42) - &lt;span class="caps"&gt;USB&lt;/span&gt; or Bluetooth
    tethering (official client software is Mac and Windows&amp;nbsp;only).&lt;/li&gt;
&lt;li&gt;&lt;a href="market://search?q=com.mm.network"&gt;Ping&lt;/a&gt; (v1.6.9) - Ping&amp;nbsp;app.&lt;/li&gt;
&lt;li&gt;&lt;a href="market://search?q=com.googlecode.pythonforandroid"&gt;Python for
    Android&lt;/a&gt; (v0) -
    Python interpreter for &lt;span class="caps"&gt;SL4A&lt;/span&gt;. So far, it doesn&amp;#8217;t seem to be able to
    do too much in my&amp;nbsp;opinion.&lt;/li&gt;
&lt;li&gt;&lt;a href="market://search?q=com.biggu.shopsavvy"&gt;ShopSavvy&lt;/a&gt; (v3.6.6) - Scan a
    bar code, see the lowest prices for that product both online and in
    local&amp;nbsp;stores.&lt;/li&gt;
&lt;li&gt;&lt;a href="market://search?q=com.googlecode.android_scripting"&gt;&lt;span class="caps"&gt;SL4A&lt;/span&gt;&lt;/a&gt; (v0) -
    Scripting environment for Android with pluggable interpreters. So
    far, it seems to be missing a lot of Android classes that would make
    it useful for doing device-specific things (like listing installed&amp;nbsp;apps).&lt;/li&gt;
&lt;li&gt;&lt;a href="market://search?q=com.javacodeland.android.voicememo"&gt;VoiceMemo&lt;/a&gt;
    (v1.0.1) - Simple voice memo app. I use it quite a bit, but there&amp;#8217;s
    no simple way to email SMSes, it only titles them by date and time
    recorded, and it doesn&amp;#8217;t keep the phone awake (recordings seem
    limited to 60 seconds or&amp;nbsp;so).&lt;/li&gt;
&lt;/ul&gt;</summary><category term="android"></category><category term="droid"></category></entry><entry><title>WiFi tether for Droid</title><link href="http://blog.jasonantman.com/2010/08/wifi-tether-for-droid/" rel="alternate"></link><updated>2010-08-15T10:29:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-08-15:2010/08/wifi-tether-for-droid/</id><summary type="html">&lt;p&gt;My Motorola Droid (purchased on &lt;a href="/2009/11/droid/"&gt;November 10&lt;sup&gt;th&lt;/sup&gt;,
2009&lt;/a&gt;, 4 days after the release) is still running
Android 2.0.1. I guess this is somewhat out of laziness - I love the
Incredible and its new (and more refined) Android version and &lt;span class="caps"&gt;UI&lt;/span&gt;, but my
phone is rooted. I&amp;#8217;m not willing to give up root, or any of my apps, and
I have yet to find a tutorial for the upgrade to 2.1 (or 2.2??) without
losing root or my apps or&amp;nbsp;data.&lt;/p&gt;
&lt;p&gt;Anyway, I&amp;#8217;m in North Carolina for the weekend and though the hotel
advertised free wifi, much as I feared, nobody bothered to do a site
survey or a real installation, and the signal level in my room is
useless (despite a pretty low noise floor). So after a little googling,
I managed to find the &lt;a href="http://szym.net/projects/barnacle/"&gt;Barnacle Wifi
Tether&lt;/a&gt; (&lt;a href="market://search?q=pname:net.szym.barnacle"&gt;Market
link&lt;/a&gt;) app. Sure enough, it
allows any Droid users with a rooted phone to setup an ad-hoc wireless
network for tethering without a custom kernel. In fact, I&amp;#8217;m writing this
right now on my MacBook Pro tethered to my phone over WiFi. I&amp;#8217;m seeing
764Kbps down and 234Kbps up. Not enough for serious work (forget my
girlfriend&amp;#8217;s hope of playing Warcraft), but definitely enough for email,
web browsing and &lt;span class="caps"&gt;SSH&lt;/span&gt; on a much larger&amp;nbsp;screen.&lt;/p&gt;
&lt;p&gt;My only real complaints are that it&amp;#8217;s an ad-hoc network (which
apparently is a limitation of the Android WiFi driver for the phone), it
doesn&amp;#8217;t support anything better than &lt;span class="caps"&gt;WEP&lt;/span&gt; (so no online banking, and the
usual security concerns with what I&amp;#8217;d equate to public open WiFi), and I
can&amp;#8217;t seem to figure out how to get the &lt;span class="caps"&gt;MAC&lt;/span&gt; &lt;span class="caps"&gt;ACL&lt;/span&gt; to&amp;nbsp;work.&lt;/p&gt;
&lt;p&gt;But given how little I travel, it&amp;#8217;s definitely a good app, a quick
install and setup, and a lot less complex than trying to get &lt;span class="caps"&gt;USB&lt;/span&gt;
tethering working when I eventually get Linux on the&amp;nbsp;&lt;span class="caps"&gt;MBP&lt;/span&gt;.&lt;/p&gt;</summary><category term="android"></category><category term="droid"></category><category term="tether"></category><category term="wifi"></category></entry><entry><title>Links for Thursday, August 12, 2010</title><link href="http://blog.jasonantman.com/2010/08/links-for-thursday-august-12-2010/" rel="alternate"></link><updated>2010-08-12T10:55:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-08-12:2010/08/links-for-thursday-august-12-2010/</id><summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href="http://creativecommons.org/weblog/entry/22712"&gt;Washington State Board for Community &lt;span class="amp"&gt;&amp;amp;&lt;/span&gt; Technical Colleges Adopts &lt;span class="caps"&gt;CC&lt;/span&gt;
    &lt;span class="caps"&gt;BY&lt;/span&gt; for All Competitive Grants - Creative&amp;nbsp;Commons&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>Links for Tuesday, August 10, 2010</title><link href="http://blog.jasonantman.com/2010/08/links-for-tuesday-august-10-2010/" rel="alternate"></link><updated>2010-08-10T10:55:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-08-10:2010/08/links-for-tuesday-august-10-2010/</id><summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.groklaw.net/article.php?story=20100806143457345"&gt;Groklaw - Eben Moglen&amp;#8217;s LibrePlanet 2010 Keynote on the State of
    Free Software and the&amp;nbsp;Future&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>Putting the Why in Documentation</title><link href="http://blog.jasonantman.com/2010/08/putting-the-why-in-documentation/" rel="alternate"></link><updated>2010-08-06T14:51:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-08-06:2010/08/putting-the-why-in-documentation/</id><summary type="html">&lt;p&gt;I work as a Linux Sysadmin (among many other non-official titles) in a
small group that mainly provides services. We run wireless and student
computing labs across a whole campus, but other than that (and most of
that) is just back-end systems - web servers, &lt;span class="caps"&gt;RADIUS&lt;/span&gt;, &lt;span class="caps"&gt;DHCP&lt;/span&gt;, etc. As a
result, I write no end-user documentation. I generally think of this as
a blessing, since the people who read my documentation are people who
think (more or less) like&amp;nbsp;me.&lt;/p&gt;
&lt;p&gt;However, I&amp;#8217;ve just started writing the wiki page for a rather large
system I developed. And in writing the docs, and thinking about what was
missing from the (practically non-existent) documentation on the system
I was replacing, it got me thinking a lot about the documentation
writing process. Most of us have heard that there are two general types
of documentation - end-user docs and developer (and I&amp;#8217;m rolling SysAdmin
in here) documentation. End-user docs tell someone how to use what we
built. Developer docs tell people how to troubleshoot, fix, modify, and
extend it.&amp;nbsp;Usually.&lt;/p&gt;
&lt;p&gt;But there&amp;#8217;s one very important piece that&amp;#8217;s missing from most
developer-level documentation I&amp;#8217;ve read: why it&amp;#8217;s built the way it is.
Sure, this isn&amp;#8217;t applicable in all instances. This is obviously ignored
by closed-source software developers when writing documentation for
release. And I&amp;#8217;m sure it&amp;#8217;s ignored in some larger shops just out of fear
that the interns will explain why they need to iterate a database result
set. But for those of us who are designing and building systems, I&amp;#8217;d
argue that documenting the reasons behind our decisions is much more
important than how-to-fix-it or how-to-rebuild-it documentation. Sure,
it&amp;#8217;s atrocious practice, but that can all be gleaned from examining a
live system or backups. But when it comes time for the next person (or
you or I, five years down the road) to re-design or drastically modify
our creations, some documentation of the decisions we made - and the
reasoning behind them - will be extremely&amp;nbsp;useful.&lt;/p&gt;
&lt;p&gt;Case in point: My latest project started as performance analysis of a
large &lt;span class="caps"&gt;DHCP&lt;/span&gt; server using the &lt;a href="http://personal.cfw.com/~masneyb/"&gt;Masney &lt;span class="caps"&gt;LDAP&lt;/span&gt;
patch&lt;/a&gt; to &lt;a href="http://www.isc.org/software/dhcp"&gt;&lt;span class="caps"&gt;ISC&lt;/span&gt;
DHCPd&lt;/a&gt;. After over a week of
performance testing and trying different configurations and theories
(all of which I &amp;#8220;documented&amp;#8221; in my text file lab notebook), we ended up
deciding to totally remove &lt;span class="caps"&gt;LDAP&lt;/span&gt; from the system, move to configuration
files generated from MySQL, and keep everything (including the logs) in
ramdisk. We found performance bottlenecks in both the &lt;span class="caps"&gt;LDAP&lt;/span&gt; communication
and disk &lt;span class="caps"&gt;IO&lt;/span&gt;. We have the performance test output to prove it. We have
the results of dozens of tests with different configurations, as well as
a number of problems we identified with the &lt;span class="caps"&gt;LDAP&lt;/span&gt; patch. And from
testing, we have a handful of issues identified and fixed in the new
system, whose fixes aren&amp;#8217;t exactly&amp;nbsp;intuitive.&lt;/p&gt;
&lt;p&gt;The previous system had pretty poor documentation, but even worse, it
was only functional documentation - what the system does, and how it
does it. There was no discussion of why the parsing script disregarded
lines with a certain string in them, why the daemon is restarted every
night, why &lt;span class="caps"&gt;LDAP&lt;/span&gt; was chosen in the first place, or any performance
metrics (so we had no original as-intended baseline to compare&amp;nbsp;against).&lt;/p&gt;
&lt;p&gt;So for those of you designing systems and documenting them (you *do*
document them, &lt;em&gt;right&lt;/em&gt;?), please include &lt;strong&gt;why&lt;/strong&gt; in your documentation.
The next time someone needs to fix or tweak or re-engineer the system,
they&amp;#8217;ll be able to figure out what happens on line 123 of the init
script themselves. But it might take them hours to figure out &lt;em&gt;why&lt;/em&gt; it&amp;#8217;s
done, or &lt;em&gt;why&lt;/em&gt; it&amp;#8217;s done &lt;em&gt;that way&lt;/em&gt;.&lt;/p&gt;</summary><category term="documentation"></category><category term="sysadmin"></category></entry><entry><title>Short Update</title><link href="http://blog.jasonantman.com/2010/08/short-update/" rel="alternate"></link><updated>2010-08-06T14:31:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-08-06:2010/08/short-update/</id><summary type="html">&lt;p&gt;Just a short update&amp;#8230; I know I haven&amp;#8217;t posted anything in quite a
while, but I hope to get back into the habit of doing so&amp;#8230; or even
making daily posts like I had&amp;nbsp;wanted.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The &lt;a href="/2010/05/truck-totaled/"&gt;truck that was totaled&lt;/a&gt; has been
    replaced with a newer, nicer&amp;nbsp;one.&lt;/li&gt;
&lt;li&gt;I&amp;#8217;ve spent most of the past month working on a large &lt;span class="caps"&gt;DHCP&lt;/span&gt; project at
    work, which I hope to write about in depth at some&amp;nbsp;point.&lt;/li&gt;
&lt;li&gt;I bought the parts to make an Arduino-based &lt;span class="caps"&gt;OBD&lt;/span&gt;-&lt;span class="caps"&gt;II&lt;/span&gt; display, and I&amp;#8217;m
    slowly making some progress on it (mostly delayed because the $12
    &amp;#8220;&lt;span class="caps"&gt;HD44780&lt;/span&gt;-compatible&amp;#8221; &lt;span class="caps"&gt;LCD&lt;/span&gt; display I bought doesn&amp;#8217;t work in 4-bit&amp;nbsp;mode).&lt;/li&gt;
&lt;/ol&gt;</summary><category term="arduino"></category><category term="dhcp"></category><category term="truck"></category></entry><entry><title>New MacBook Pro; Dual boot with Linux</title><link href="http://blog.jasonantman.com/2010/06/new-macbook-pro-dual-boot-with-linux/" rel="alternate"></link><updated>2010-06-22T15:17:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-06-22:2010/06/new-macbook-pro-dual-boot-with-linux/</id><summary type="html">&lt;p&gt;So in the first bit of good news lately, after four years as a
part-timer, this Monday I start my full-time position at Rutgers as a
Linux SysAdmin. Not really anything different - same office, same work,
just another day a week and a pay bump (plus benefits and all that). My
only real change on the first day will be a 3-hour &lt;span class="caps"&gt;HR&lt;/span&gt; orientation and
moving my workstation to public address space. But, on the positive
side, my new laptop just came in - a shiny new 13&amp;#8221; MacBook Pro, 2.4GHz
Core2 Duo, &lt;span class="caps"&gt;4GB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt;, &lt;span class="caps"&gt;250GB&lt;/span&gt; &lt;span class="caps"&gt;HDD&lt;/span&gt;. Every time I see Mac packaging, I
remember why they cost so much - the box must be half the&amp;nbsp;price!&lt;/p&gt;
&lt;p&gt;&lt;img alt="MacBook Pro" src="/GFX/newMacBookPro.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;If all goes well, I&amp;#8217;ll have the machine setup to dual-boot &lt;span class="caps"&gt;OSX&lt;/span&gt; and Linux
(specifically &lt;a href="http://www.opensuse.org"&gt;OpenSuSE&lt;/a&gt; 11.2. I&amp;#8217;ll post notes
when I have it&amp;nbsp;done.&lt;/p&gt;
&lt;p&gt;The list of things I have to figure out beyond just getting both OSes&amp;nbsp;running:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Do I want to use Mac for more than a select few apps that require it
    (i.e. possibly as another day-to-day &lt;span class="caps"&gt;OS&lt;/span&gt;)? If so, I need to figure
    out file sharing between the OSes, what I want unified from my
    profiles/homedirs, Firefox profile sharing,&amp;nbsp;etc.&lt;/li&gt;
&lt;li&gt;How to do a simple shared&amp;nbsp;partition?&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;FUSE&lt;/span&gt;/&lt;span class="caps"&gt;SSHFS&lt;/span&gt; on the Mac&amp;nbsp;side.&lt;/li&gt;
&lt;li&gt;Is there a way to select the boot &lt;span class="caps"&gt;OS&lt;/span&gt; (rEFIt) from&amp;nbsp;Linux?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Stay&amp;nbsp;tuned&amp;#8230;&lt;/p&gt;</summary><category term="apple"></category><category term="dual boot"></category><category term="laptop"></category><category term="linux"></category><category term="mac"></category><category term="macbook"></category><category term="opensuse"></category></entry><entry><title>Truck Totaled</title><link href="http://blog.jasonantman.com/2010/05/truck-totaled/" rel="alternate"></link><updated>2010-05-16T18:28:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-05-16:2010/05/truck-totaled/</id><summary type="html">&lt;p&gt;Since so many people seem to have missed all of the communications via
&lt;a href="http://www.facebook.com"&gt;facebook&lt;/a&gt; (well, I can&amp;#8217;t blame them, I spend
less time there every time they make an &amp;#8220;improvement&amp;#8221;), I guess I should
give in and post something to my usually-so-professional blog,
explaining a bit about what happened to my
&lt;a href="/2009/07/update-on-my-f-250-icom-mobile-antennas-strobes/"&gt;beautiful&lt;/a&gt;
&lt;a href="/2009/02/truck-wiring-and-lighting-part-i/"&gt;truck&lt;/a&gt;, which I&amp;#8217;d put so
much &lt;a href="/2009/02/custom-truck-console/"&gt;work&lt;/a&gt;&amp;nbsp;into.&lt;/p&gt;
&lt;p&gt;Two weeks ago - 08:43 on Saturday, May 1&lt;sup&gt;st&lt;/sup&gt;, 2010 - I was involved in a
&amp;#8220;bit&amp;#8221; of an accident with my truck while driving down to my dad&amp;#8217;s place
in Hunterdon county. I was &lt;a href="http://maps.google.com/maps?q=41.017828,-74.217229&amp;amp;num=1&amp;amp;t=h&amp;amp;sll=41.018107,-74.218228&amp;amp;sspn=0.007026,0.016512&amp;amp;ie=UTF8&amp;amp;ll=41.017834,-74.217217&amp;amp;spn=0.007026,0.016512&amp;amp;z=17"&gt;on 208
Northbound&lt;/a&gt;
in Franklin Lakes right across from the Colonial Rd intersection (maybe
8 minutes from home?), early in the morning. I really don&amp;#8217;t have any
desire to tell the &lt;em&gt;whole detailed&lt;/em&gt; story again, but bottom like: there
were three geese crossing the highway, and someone got the brilliant
idea to rapidly decelerate from 60 &lt;span class="caps"&gt;MPH&lt;/span&gt; to allow the birds to safely
cross. I still can&amp;#8217;t provide for the account of where every vehicle on
the road went, but there was a half-second of various drivers making
evasive maneuvers, me jamming on the brake and horn, and my truck having
a fast introduction to the ass-end of a box&amp;nbsp;truck.&lt;/p&gt;
&lt;p&gt;Luckily nobody was injured, though I did have neck pain for a day or two
after. The guy who decided to stop/cut left (in front of the box truck)
drove happily off into the sunrise, the guy in a blacked out &lt;span class="caps"&gt;SUV&lt;/span&gt; who had
been between the box truck and my vehicle (obscuring most of the truck
from my view) also, as far as I know, departed. Once I got the airbags
out of my way and the door kicked open, my former vehicle was on its way
to the body&amp;nbsp;shop.&lt;/p&gt;
&lt;p&gt;I must say, while I had an absolutely horrendous experience with
&lt;a href="http://www.geico.com"&gt;geico&lt;/a&gt; when this same vehicle was stolen a year
and a half ago, they were actually pretty good this time around. The
accident happened on a Sunday, I took Monday off of work to get a rental
car and deal with the claim (yeah, it turns out my policy didn&amp;#8217;t have
the rental coverage, much to my surprise&amp;#8230;) and the claims agent came
out Tuesday (less than 48 hours after the accident) to make an estimate.
He totaled the truck - the motor was even broken loose of all of the
mounts - and I had a check in my hand (minus the balance of the
financing) 12 days after the accident. So&amp;#8230; my experience with Geico
this time around was much better. I guess as long as there&amp;#8217;s a vehicle
for them to look at, they&amp;#8217;re happy. Though I&amp;#8217;m switching to Progressive
for the next&amp;nbsp;vehicle.&lt;/p&gt;
&lt;p&gt;So, that&amp;#8217;s the story. Assuming Enterprise car rental is playing nice,
I&amp;#8217;ll be picking up the truck I just bought tomorrow&amp;nbsp;morning.&lt;/p&gt;
&lt;p&gt;Before:&lt;/p&gt;
&lt;p&gt;&lt;a href="/GFX/truck2009-07-03/P1010185.JPG"&gt;&lt;img alt="truck
photo" src="/GFX/truck2009-07-03/P1010185_small.JPG" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;After:&lt;/p&gt;
&lt;p&gt;&lt;a href="/GFX/f250accident/2010-05-01_08.51.21.jpg"&gt;&lt;img alt="truck
photo" src="/GFX/f250accident/640x480/2010-05-01_08.51.21.jpg" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="/GFX/f250accident/2010-05-01_08.54.54.jpg"&gt;&lt;img alt="truck
photo" src="/GFX/f250accident/640x480/2010-05-01_08.54.54.jpg" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="/GFX/f250accident/2010-05-01_09.08.29.jpg"&gt;&lt;img alt="truck
photo" src="/GFX/f250accident/640x480/2010-05-01_09.08.29.jpg" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="/GFX/f250accident/2010-05-01_09.36.40.jpg"&gt;&lt;img alt="truck
photo" src="/GFX/f250accident/640x480/2010-05-01_09.36.40.jpg" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="/GFX/f250accident/2010-05-01_10.21.26.jpg"&gt;&lt;img alt="truck
photo" src="/GFX/f250accident/640x480/2010-05-01_10.21.26.jpg" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="/GFX/f250accident/2010-05-01_10.22.03.jpg"&gt;&lt;img alt="truck
photo" src="/GFX/f250accident/640x480/2010-05-01_10.22.03.jpg" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="/GFX/f250accident/2010-05-01_10.22.16.jpg"&gt;&lt;img alt="truck
photo" src="/GFX/f250accident/640x480/2010-05-01_10.22.16.jpg" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="/GFX/f250accident/2010-05-01_10.22.29.jpg"&gt;&lt;img alt="truck
photo" src="/GFX/f250accident/640x480/2010-05-01_10.22.29.jpg" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="/GFX/f250accident/2010-05-01_10.22.40.jpg"&gt;&lt;img alt="truck
photo" src="/GFX/f250accident/640x480/2010-05-01_10.22.40.jpg" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="/GFX/f250accident/2010-05-01_10.23.34.jpg"&gt;&lt;img alt="truck
photo" src="/GFX/f250accident/640x480/2010-05-01_10.23.34.jpg" /&gt;&lt;/a&gt;&lt;/p&gt;</summary><category term="accident"></category><category term="EMS"></category><category term="ford"></category><category term="mva"></category><category term="truck"></category></entry><entry><title>Web-based collaboration/documentation software</title><link href="http://blog.jasonantman.com/2010/04/web-based-collaborationdocumentation-software/" rel="alternate"></link><updated>2010-04-27T16:43:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-04-27:2010/04/web-based-collaborationdocumentation-software/</id><summary type="html">&lt;p&gt;This question was posted both to the
&lt;a href="http://www.sage.org/lists/"&gt;&lt;span class="caps"&gt;SAGE&lt;/span&gt;-members&lt;/a&gt; list
(&lt;a href="http://mailman.sage.org/pipermail/sage-members/2010/msg00788.html"&gt;thread&lt;/a&gt;)
and to
&lt;a href="http://serverfault.com/questions/136416/free-web-based-software-for-team-collaboration-documentation"&gt;ServerFault&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Looking for some advice here, as my search has turned up to be pretty&amp;nbsp;fruitless.&lt;/p&gt;
&lt;p&gt;My group (9 people - SAs, programmers, and two network guys) is
looking for some sort of web tool to&amp;#8230; ahem&amp;#8230; &amp;#8220;facilitate increased
collaboration&amp;#8221; (we didn&amp;#8217;t use a buzzword generator, I swear). At the
moment, we have an unified ticketing system that&amp;#8217;s braindead, but is
here to stay for political/logistical reasons. We&amp;#8217;ve got 2 wikis
(&amp;#8220;old&amp;#8221; and &amp;#8220;new&amp;#8221;), neither of which fulfill our needs, and are
therefore not used very often. We&amp;#8217;re looking for a free (as in both
cost and open source) web-based&amp;nbsp;tool.&lt;/p&gt;
&lt;p&gt;Management side:&lt;br /&gt;
 Wants to be able to track project status, who&amp;#8217;s doing what, whether
deadlines are being met, etc. Doesn&amp;#8217;t want full-fledged &amp;#8220;project
management&amp;#8221; app, just something where we can update &amp;#8220;yeah this was
done&amp;#8221; or &amp;#8220;waiting for Bob to configure the widgets&amp;#8221;.
&lt;a href="http://www.teambox.com"&gt;TeamBox&lt;/a&gt; was suggested, but it seems almost
too gimmicky (Twitter/Facebook ripoff?), and doesn&amp;#8217;t seem to meet any
of the other requirements that I see coming&amp;nbsp;up:&lt;/p&gt;
&lt;p&gt;Non-management side:&lt;br /&gt;
 - flexible, powerful wiki for all documentation (i.e. includes good
tables, easy markup, syntax highlighting, etc.)&lt;br /&gt;
 - good full text search of everything (i.e. type in a hostname and
get every instance anyone ever uttered that name)&lt;br /&gt;
 - task lists or ToDo lists, hopefully about to be grouped into a
number of &amp;#8220;projects&amp;#8221;&lt;br /&gt;
 - file uploads&lt;br /&gt;
 - &lt;span class="caps"&gt;RSS&lt;/span&gt; or Atom feeds, email alerts of&amp;nbsp;updates&lt;/p&gt;
&lt;p&gt;We&amp;#8217;re open to doing some customizations (adding some features,
notification/feeds, searching, &lt;span class="caps"&gt;SVN&lt;/span&gt; integration, etc.) but need
something F/&lt;span class="caps"&gt;OSS&lt;/span&gt; that will run under&amp;nbsp;Apache.&lt;/p&gt;
&lt;p&gt;My conundrum is that most of the choices I&amp;#8217;ve found so far fall into
one of these categories:&lt;br /&gt;
 - project management/task tracking with poor
wiki/documentation/knowledge base support&lt;br /&gt;
 - wiki with no task tracking support&lt;br /&gt;
 - ticketing system with everything else bolted on (we already have
one that we&amp;#8217;re stuck with)&lt;br /&gt;
 - code-centric application (we do little &amp;#8220;development&amp;#8221;, mostly &lt;span class="caps"&gt;SA&lt;/span&gt;&amp;nbsp;work)&lt;/p&gt;
&lt;p&gt;Any&amp;nbsp;suggestions?&lt;/p&gt;
&lt;p&gt;Or, lacking that, any comments on which software would be easiest to
add the lacking features to (hopefully ending up with something that
actually looks good and works&amp;nbsp;well)?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I&amp;#8217;m still awaiting responses from both &lt;span class="caps"&gt;SAGE&lt;/span&gt; and ServerFault, but I have
a strong feeling that most of the suggestions will fall into one of the
major categories I already identified,&amp;nbsp;mainly:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Project management/task tracking with poor wiki/documentation
    support (a la&amp;nbsp;TeamBox)&lt;/li&gt;
&lt;li&gt;Wiki with no task tracking&amp;nbsp;support&lt;/li&gt;
&lt;li&gt;Ticketing system with everything else added in (useless since we
    already have to use a different ticketing&amp;nbsp;system).&lt;/li&gt;
&lt;li&gt;Something code-centric, i.e. built around a software development
    workflow, which isn&amp;#8217;t&amp;nbsp;us.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;So, I have a very strong feeling that whatever solution we end up going
with, we&amp;#8217;ll need to spend quite a bit of time bolting on whatever else
we need. Adding a full-featured wiki to another package isn&amp;#8217;t going to
be very easy&amp;#8230; especially since TeamBox is written in RoR, and we&amp;#8217;re
mostly &lt;span class="caps"&gt;PHP&lt;/span&gt;&amp;nbsp;guys.&lt;/p&gt;</summary><category term="collaboration"></category><category term="documentation"></category><category term="project management"></category><category term="Projects"></category><category term="wiki"></category></entry><entry><title>What is System Administration?</title><link href="http://blog.jasonantman.com/2010/04/what-is-system-administration/" rel="alternate"></link><updated>2010-04-24T09:08:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-04-24:2010/04/what-is-system-administration/</id><summary type="html">&lt;p&gt;I was recently reading an interesting article, &amp;#8220;from tasks to
assurances: redefining system administration&amp;#8221;, by &lt;a href="http://www.cs.tufts.edu/~couch/"&gt;Alva L.
Couch&lt;/a&gt;, in the April 2010 issue of
&lt;a href="http://www.usenix.org/publications/login/"&gt;;&lt;span class="caps"&gt;LOGIN&lt;/span&gt;:&lt;/a&gt;. He makes a lot of
good points, mainly that system administration has been defined by
tasks, but should really be defined by assurances (a much more abstract
concept). This does make a lot more sense, and perhaps will aid me in
finally coming up with a succinct (but complete) answer for when people
ask me what I&amp;nbsp;do.&lt;/p&gt;
&lt;p&gt;It bears mention that my role as an &lt;span class="caps"&gt;SA&lt;/span&gt; probably isn&amp;#8217;t the same as many
others. Working at a University has its perks - and one is definitely
the inclination towards research, tinkering, and trying new things.
Another is the extremely tight budget - I&amp;#8217;d estimate that only about 25%
of what my group supports (software-wise) actually has a vendor behind
it. Most of those services have primary admins assigned to&amp;nbsp;them.&lt;/p&gt;
&lt;p&gt;The group I work in is composed of 9 people (including myself). We&amp;#8217;re
responsible for the architecture (specifically authentication,
network-side stuff) for residential/dorm networking (ResNet), all of the
student computing labs (\~1,000 user stations) as well as printing
therein, the University-wide wireless network (from physical
installation through support), and a few other services. That doesn&amp;#8217;t
include all of the usual ancillary stuff - mail, &lt;span class="caps"&gt;DHCP&lt;/span&gt;, web apps,
storage, etc. It would probably surprise most corporate &lt;span class="caps"&gt;IT&lt;/span&gt; types that we
more or less function as an independent unit - we share certain
services, like Nagios monitoring, with other groups, but do most of our
work as a single standalone&amp;nbsp;unit.&lt;/p&gt;
&lt;p&gt;My own job (since I&amp;#8217;m currently the only part-time person in our group)
is probably &lt;em&gt;very&lt;/em&gt; different from most SAs. I&amp;#8217;m the primary admin for
only one user-visible service, which is in the process of being phased
out (and is very lightly used currently). For the most part, I&amp;#8217;d
describe myself as a &amp;#8220;floating&amp;#8221; admin - I&amp;#8217;m usually assigned whatever
problems come up that are in my knowledge area (or more than the primary
admin can cram into a work week), and also do quite a bit of research
(mainly suitability analysis of new technologies). I&amp;#8217;m also the &lt;span class="caps"&gt;DR&lt;/span&gt; guy,
and am in the process of implementing across the board an automated
installation, configuration, recovery and backup system for all of our
Linux/Unix boxes. As ironic as this may seem, while I&amp;#8217;m not the primary
admin for any of our major services, if one of the boxes than run them
falls over, it&amp;#8217;s more or less my responsibility to get it back up and
running. Or at least have the plans and procedures for that laid&amp;nbsp;out.&lt;/p&gt;
&lt;p&gt;Something that is also quite different from many enterprise shops is our
software budget - which is almost non-existent. Except for a few
services - some of the stuff used to administer the Windows and Mac lab
machines, the printing systems, and the wireless stuff, we&amp;#8217;re pretty
much exclusively open source. As a result, there&amp;#8217;s rarely a vendor to
fall back on, and &amp;#8220;fixing a problem&amp;#8221; can often involve hours of reading&amp;nbsp;source.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;As an aside, I once had a phone screen where the interviewer asked me
about a difficult problem I recently solved, and what my methodology
was. I ran through about 20 steps. When I finished the list, the
interviewer asked me, &amp;#8220;at what point would you call the vendor for
support?&amp;#8221; My response: &amp;#8220;vendor? what&amp;nbsp;vendor?&amp;#8221;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;So I&amp;#8217;m trying to think up a good answer to what I do, and what the other
SAs in my group do. There&amp;#8217;s the work in progress so&amp;nbsp;far:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;We provide many different services to our users (all University
faculty, staff, students, etc.). It&amp;#8217;s my job to ensure that those
services are as reliable as possible, function correctly, are secure,
and work as well as possible. When something does fail, no matter what
it is, it&amp;#8217;s my job to get it back to normal. And when a new technology
emerges that may increase the quality, reliability or security of a
service we offer, it&amp;#8217;s my job to evaluate it and, if it is found to be
worthy, implement&amp;nbsp;it.&lt;/p&gt;
&lt;/blockquote&gt;</summary><category term="sysadmin"></category><category term="system administration"></category></entry><entry><title>Xen/Etherboot and DHCP Problems</title><link href="http://blog.jasonantman.com/2010/04/xenetherboot-and-dhcp-problems/" rel="alternate"></link><updated>2010-04-20T10:46:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-04-20:2010/04/xenetherboot-and-dhcp-problems/</id><summary type="html">&lt;p&gt;Well, I&amp;#8217;ve spend the better part of the last week or so debugging a
problem with out new Xen VMs (on one host) not getting &lt;span class="caps"&gt;DHCP&lt;/span&gt; leases.
Since our &lt;span class="caps"&gt;DHCP&lt;/span&gt; servers (&lt;span class="caps"&gt;ISC&lt;/span&gt; DHCPd 3.0.6) are using Brian Masney&amp;#8217;s &lt;a href="http://personal.cfw.com/~masneyb/"&gt;&lt;span class="caps"&gt;LDAP&lt;/span&gt;
patch&lt;/a&gt; (which has recently been
included in &lt;a href="http://www.isc.org/files/release-notes/42b2_0.html"&gt;mainline
DHCPd&lt;/a&gt;), I assumed
that this might be the source of some of the&amp;nbsp;problems.&lt;/p&gt;
&lt;p&gt;The Xen client booting process uses &lt;a href="http://etherboot.org/"&gt;Etherboot&lt;/a&gt;
(specifically 5.4.2 on my machines) to get &lt;span class="caps"&gt;DHCP&lt;/span&gt; and &lt;span class="caps"&gt;PXE&lt;/span&gt; for the client.
The Etherboot &lt;span class="caps"&gt;ROM&lt;/span&gt; is generated online with
&lt;a href="http://rom-o-matic.net/"&gt;&lt;span class="caps"&gt;ROM&lt;/span&gt;-o-Matic&lt;/a&gt; (by the Xen devs) and is then
packaged into &lt;code&gt;hvmloader&lt;/code&gt; (though I would not find this out until much
later in my investigation, given the piss-poor documentation about it).
So, aside from pulling the &lt;span class="caps"&gt;SRPM&lt;/span&gt; for Xen and looking around, I decided I
couldn&amp;#8217;t really debug much on the client end (I wasn&amp;#8217;t getting any
&lt;span class="caps"&gt;BIOS&lt;/span&gt;-like messages from Xen, so the client end seemed to be pretty much
a black&amp;nbsp;box).&lt;/p&gt;
&lt;p&gt;After a week of re-examining our &lt;span class="caps"&gt;DHCP&lt;/span&gt; servers, moving the client between
pieces of hardware and different networks, tracing out the &lt;span class="caps"&gt;DHCP&lt;/span&gt; logs,
and debugging everything in-between, I finally resorted to doing packet
captures and analyzing them. Last Thursday (my last work day of the
week), I popped my laptop on the same network, set it up in &lt;span class="caps"&gt;DHCP&lt;/span&gt;, and
did some captures of the laptop (which worked correctly) and the problem&amp;nbsp;&lt;span class="caps"&gt;VM&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Sometime around 10:00 &lt;span class="caps"&gt;PM&lt;/span&gt;, long after I&amp;#8217;d gotten home, I had opened
captures of both the good and bad hosts in separate
&lt;a href="http://www.wireshark.org/"&gt;Wireshark&lt;/a&gt; windows, and was going through
them line-by-line. I&amp;#8217;d also written a nifty little &lt;a href="/GFX/dhcptest.pl"&gt;Perl
script&lt;/a&gt; (my weakest language) using
&lt;a href="http://search.cpan.org/~fvandun/Net-DHCP-0.11/lib/Net/DHCP/Packet.pm"&gt;Net::&lt;span class="caps"&gt;DHCP&lt;/span&gt;::Packet&lt;/a&gt;
to craft packets identical to the ones from the working and &lt;span class="caps"&gt;FUBAR&lt;/span&gt; hosts,
and inject them into the network. The only thing I could find different
was the value of the &amp;#8220;secs&amp;#8221; field of the &lt;span class="caps"&gt;DHCPDISCOVER&lt;/span&gt; packets (octets 9
and 10), which are supposed to contain the number of seconds that have
passed since the host started booting (&lt;a href="http://www.faqs.org/rfcs/rfc1541.html"&gt;&lt;span class="caps"&gt;RFC&lt;/span&gt;
1541&lt;/a&gt;). My laptop (the working
host) started getting replies from the server at 21 seconds. I took my
Perl packet-injecting script, and started adjusting the &amp;#8220;secs&amp;#8221; values of
both the working and bad packets. Sure enough, with identical packets
from each host, the values converged. Anything with &amp;#8220;secs&amp;#8221; below 2 got
no response from the &lt;span class="caps"&gt;DHCP&lt;/span&gt; server, anything with 2 or greater got a
correct&amp;nbsp;lease.&lt;/p&gt;
&lt;p&gt;Then it hit me. When we used to have a primary/secondary &lt;span class="caps"&gt;DHCP&lt;/span&gt; server
setup (with manual failover), we&amp;#8217;d configured the secondary server with
&lt;code&gt;min-secs: 2&lt;/code&gt;, instructing it to not give out any leases to clients with
a &amp;#8220;secs&amp;#8221; value of under 2, to prevent the secondary server from
answering if, for some reason, the primary was still online.&amp;nbsp;Bingo.&lt;/p&gt;
&lt;p&gt;At this point, I&amp;#8217;m waiting to have a meeting of the binds before I add a
network-level override of &amp;#8220;min-secs: 0&amp;#8221; for the networks in question.
But I&amp;#8217;m relatively confident that everything will go smoothly from there&amp;nbsp;on.&lt;/p&gt;
&lt;p&gt;This experience highlighted that one small &amp;#8220;bug&amp;#8221; can confuse 3 people
for the better part of a&amp;nbsp;week:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://etherboot.org/"&gt;Etherboot&lt;/a&gt; (at least 5.4.2) doesn&amp;#8217;t increment
the &amp;#8220;secs&amp;#8221; field in its &lt;span class="caps"&gt;DISCOVER&lt;/span&gt; packets as &lt;span class="caps"&gt;RFC&lt;/span&gt; 1541 suggests. Therefore
anyone with &amp;#8220;min-secs&amp;#8221; in their dhcpd configuration won&amp;#8217;t ever give out
a&amp;nbsp;lease.&lt;/p&gt;
&lt;p&gt;In hindsight, it really was a brain-dead moment. There was a little note
in the dhcpd logs that I, and the others, totally overlooked:
&amp;#8220;&lt;span class="caps"&gt;DHCPDISCOVER&lt;/span&gt; (&amp;#8230;) 0 secs &amp;lt; 2&amp;#8221;. I guess I should have turned my brain
on and realized that those few characters were probably important, and
there for a reason, no matter how unassuming (and un-error-like) they
may&amp;nbsp;be&amp;#8230;&lt;/p&gt;</summary><category term="dhcp"></category><category term="dhcpd"></category><category term="etherboot"></category><category term="ldap"></category><category term="pxe"></category><category term="xen"></category></entry><entry><title>DHCP Debugging and Handy TCPdump filters</title><link href="http://blog.jasonantman.com/2010/04/dhcp-debugging-and-handy-tcpdump-filters/" rel="alternate"></link><updated>2010-04-14T09:21:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-04-14:2010/04/dhcp-debugging-and-handy-tcpdump-filters/</id><summary type="html">&lt;p&gt;Recently at $&lt;span class="caps"&gt;WORK&lt;/span&gt; we&amp;#8217;ve been having some strange issues with a
particular Xen &lt;span class="caps"&gt;VM&lt;/span&gt; not getting &lt;span class="caps"&gt;DHCP&lt;/span&gt;. Traditional (tail -f dhcpd.log)
debugging hasn&amp;#8217;t turned up much, other than the server is getting the
&lt;span class="caps"&gt;DISCOVER&lt;/span&gt; but not sending out an &lt;span class="caps"&gt;OFFER&lt;/span&gt;. I&amp;#8217;ve turned to packet captures to
try and track down the problem. Of course, this is where
&lt;a href="http://www.tcpdump.org/"&gt;tcpdump&lt;/a&gt; and
&lt;a href="http://www.wireshark.org/"&gt;wireshark&lt;/a&gt; come into play. So I thought I&amp;#8217;d
share some of the filters that I&amp;#8217;ve been using, and a few that I&amp;nbsp;developed.&lt;/p&gt;
&lt;p&gt;tcpdump filter for &lt;span class="caps"&gt;CDP&lt;/span&gt; (I should have this memorized by now) from
&lt;a href="http://sidewynder.blogspot.com/2005/07/tcpdump-filter-for-capturing-only.html"&gt;SWeidner&lt;/a&gt;:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;tcpdump -nn -v -i eth0 -s 1500 -c 1 &lt;span class="s1"&gt;&amp;#39;ether[20:2] == 0x2000&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Wireshark display filter for a specific &lt;span class="caps"&gt;DHCP&lt;/span&gt; client (by&amp;nbsp;&lt;span class="caps"&gt;MAC&lt;/span&gt;):&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;bootp.hw.mac_addr == 00:11:22:33:44:55
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;tcpdump filter to match &lt;span class="caps"&gt;DHCP&lt;/span&gt; packets including a specific Client &lt;span class="caps"&gt;MAC&lt;/span&gt;&amp;nbsp;Address:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;tcpdump -i br0 -vvv -s 1500 &lt;span class="s1"&gt;&amp;#39;((port 67 or port 68) and (udp[38:4] = 0x3e0ccf08))&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;tcpdump only allows matching on a maximum of 4 bytes (octets), not the 6
bytes of a &lt;span class="caps"&gt;MAC&lt;/span&gt; address. So, in the above example, we match the last 4
bytes (presumably the most unique) - our original &lt;span class="caps"&gt;MAC&lt;/span&gt; address was
&lt;code&gt;00:16:3e:0c:cf:08&lt;/code&gt;, so we match on &lt;code&gt;3e0ccf08&lt;/code&gt;. The &lt;code&gt;udp[38:4]&lt;/code&gt; matches
from the 38th octet after the start of the &lt;span class="caps"&gt;UDP&lt;/span&gt; header (so the comparison
starts on the 39th octet) and compares a chunk 4 octets long. The &lt;a href="http://www.networksorcery.com/enp/protocol/udp.htm"&gt;&lt;span class="caps"&gt;UDP&lt;/span&gt;
header&lt;/a&gt; is 8 octets
long, followed immediately by the &lt;a href="http://www.networksorcery.com/enp/protocol/dhcp.htm"&gt;&lt;span class="caps"&gt;DHCP&lt;/span&gt;
header&lt;/a&gt;, and the
Client &lt;span class="caps"&gt;MAC&lt;/span&gt; Address field is composed of octets 29-35 of the &lt;span class="caps"&gt;DHCP&lt;/span&gt; header.
Therefore, 8 octets for &lt;span class="caps"&gt;UDP&lt;/span&gt; header + 28 octets until Client &lt;span class="caps"&gt;MAC&lt;/span&gt; Address
+ 2 octets offset (drop the first 2 octets of &lt;span class="caps"&gt;MAC&lt;/span&gt; address to allow a 4
octet comparison) = 38 (our total&amp;nbsp;offset).&lt;/p&gt;
&lt;p&gt;This can also be modified as a Wireshark display&amp;nbsp;filter:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;udp[38:4]==3e:0c:cf:08
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Using the same logic, a tcpdump filter to capture packets sent by the
client (&lt;span class="caps"&gt;DISCOVER&lt;/span&gt;, &lt;span class="caps"&gt;REQUEST&lt;/span&gt;,&amp;nbsp;&lt;span class="caps"&gt;INFORM&lt;/span&gt;):&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;tcpdump -i br0 -vvv -s 1500 &lt;span class="s1"&gt;&amp;#39;((port 67 or port 68) and (udp[8:1] = 0x1))&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Finally, a tcpdump filter for &lt;span class="caps"&gt;DHCPDISCOVER&lt;/span&gt; packets (this makes the
possibly flawed ass-umption that Option 53 will be the first option&amp;nbsp;set:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;udp[247:4] = 0x63350101
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;and a wireshark display&amp;nbsp;filter:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;udp[247:4]==63:35:01:01
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;And the same thing for &lt;span class="caps"&gt;DHCPREQUEST&lt;/span&gt;&amp;nbsp;packets:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;udp[247:4] = 0x63350103
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;and a wireshark display&amp;nbsp;filter:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;udp[247:4]==63:35:01:03
&lt;/pre&gt;&lt;/div&gt;</summary><category term="dhcp"></category><category term="tcpdump"></category><category term="wireshark"></category></entry><entry><title>Apache catchall vhost</title><link href="http://blog.jasonantman.com/2010/04/apache-catchall-vhost/" rel="alternate"></link><updated>2010-04-07T10:10:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-04-07:2010/04/apache-catchall-vhost/</id><summary type="html">&lt;p&gt;As mentioned in &lt;a href="/2010/04/bind9-dynamic-dns/"&gt;one of my recent posts&lt;/a&gt;, I occasionally
have to setup catchall pages in Apache. The general idea is usually that I either want
a vhost that serves one page for any conceivable request, or that I moved something and
want to alert the visitor, but provide a formula-based link to the new content. Assuming
you have &lt;code&gt;mod_rewrite&lt;/code&gt;, this is relatively&amp;nbsp;simple.&lt;/p&gt;
&lt;p&gt;In your vhost configuration (or .htaccess), you just need two&amp;nbsp;lines:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="nb"&gt;RewriteEngine&lt;/span&gt; &lt;span class="k"&gt;on&lt;/span&gt;
&lt;span class="nb"&gt;RewriteCond&lt;/span&gt; %{REQUEST_URI} !/index\.php$1
&lt;span class="nb"&gt;RewriteRule&lt;/span&gt; ^(.*)$ &lt;span class="sx"&gt;/index.php&lt;/span&gt;$1 [L]
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This will redirect every request for the vhost to &lt;code&gt;/index.php&lt;/code&gt;. Within
your &lt;span class="caps"&gt;PHP&lt;/span&gt; script, you can access the actual request &lt;span class="caps"&gt;URI&lt;/span&gt; through &lt;code&gt;$_SERVER["REQUEST_URI"]&lt;/code&gt;.
The script that I&amp;#8217;m currently using for an internal page&amp;nbsp;is:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="x"&gt;$newServer = &amp;quot;http://foo.example.com:12345&amp;quot;;&lt;/span&gt;

&lt;span class="x"&gt;if($_SERVER[&amp;quot;REQUEST_URI&amp;quot;] == &amp;quot;/&amp;quot; || $_SERVER[&amp;quot;REQUEST_URI&amp;quot;] == &amp;quot;/index.php&amp;quot;)&lt;/span&gt;
&lt;span class="x"&gt;  {&lt;/span&gt;
&lt;span class="x"&gt;    header(&amp;quot;Location: &amp;quot;.$newServer);&lt;/span&gt;
&lt;span class="x"&gt;  }&lt;/span&gt;
&lt;span class="x"&gt;else&lt;/span&gt;
&lt;span class="x"&gt;  {&lt;/span&gt;
&lt;span class="x"&gt;    $newURL = $newServer.$_SERVER[&amp;quot;REQUEST_URI&amp;quot;];&lt;/span&gt;
&lt;span class="x"&gt;    echo &amp;#39;&amp;lt;html&amp;gt;&amp;lt;head&amp;gt;&amp;lt;title&amp;gt;Page Moved&amp;lt;/title&amp;gt;&amp;#39;;&lt;/span&gt;
&lt;span class="x"&gt;    echo &amp;#39;&amp;lt;&lt;span class="caps"&gt;META&lt;/span&gt; &lt;span class="caps"&gt;HTTP&lt;/span&gt;-&lt;span class="caps"&gt;EQUIV&lt;/span&gt;=&amp;quot;refresh&amp;quot; &lt;span class="caps"&gt;CONTENT&lt;/span&gt;=&amp;quot;5;&lt;span class="caps"&gt;URL&lt;/span&gt;=&amp;#39;.$newURL.&amp;#39;&amp;quot;&amp;gt;&amp;#39;;&lt;/span&gt;
&lt;span class="x"&gt;    echo &amp;#39;&amp;lt;/head&amp;gt;&amp;lt;body&amp;gt;&amp;#39;;&lt;/span&gt;
&lt;span class="x"&gt;    echo &amp;#39;&amp;lt;p&amp;gt;The page you are looking for is best found at:&amp;lt;/p&amp;gt;&amp;#39;;&lt;/span&gt;
&lt;span class="x"&gt;    echo &amp;#39;&amp;lt;p&amp;gt;&amp;lt;strong&amp;gt;&amp;lt;a href=&amp;quot;&amp;#39;.$newURL.&amp;#39;&amp;quot;&amp;gt;&amp;#39;.$newURL.&amp;#39;&amp;lt;/a&amp;gt;&amp;lt;/strong&amp;gt;&amp;lt;/p&amp;gt;&amp;#39;;&lt;/span&gt;
&lt;span class="x"&gt;    echo &amp;#39;&amp;lt;p&amp;gt;You will be automatically redirected after 5 seconds. If this does not happen, click the link above.&amp;lt;/p&amp;gt;&amp;#39;;&lt;/span&gt;
&lt;span class="x"&gt;    echo &amp;#39;&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;&amp;#39;;&lt;/span&gt;
&lt;span class="x"&gt;  }&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This script takes two distinct&amp;nbsp;actions:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;If the requested path is &lt;code&gt;/&lt;/code&gt; or &lt;code&gt;/index.php&lt;/code&gt;, it transparently redirects to a different &lt;span class="caps"&gt;URL&lt;/span&gt; (and&amp;nbsp;port).&lt;/li&gt;
&lt;li&gt;Otherwise, it displays a &amp;#8220;page moved to&amp;#8221; message and uses a Meta-Refresh to redirect after 5&amp;nbsp;seconds.&lt;/li&gt;
&lt;/ol&gt;</summary><category term="apache"></category><category term="catchall"></category><category term="PHP"></category><category term="web"></category></entry><entry><title>BIND9 Dynamic DNS</title><link href="http://blog.jasonantman.com/2010/04/bind9-dynamic-dns/" rel="alternate"></link><updated>2010-04-07T09:04:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-04-07:2010/04/bind9-dynamic-dns/</id><summary type="html">&lt;p&gt;I needed a better solution for Dynamic &lt;span class="caps"&gt;DNS&lt;/span&gt; than
&lt;a href="http://www.dyndns.org"&gt;dyndns.org&lt;/a&gt; for something, so I set about
setting up &lt;span class="caps"&gt;DDNS&lt;/span&gt; through my &lt;span class="caps"&gt;BIND9&lt;/span&gt; servers. I found a number of very
helpful blog posts, including &lt;a href="http://linux.yyz.us/nsupdate/"&gt;nsupdate: Painless Dynamic
&lt;span class="caps"&gt;DNS&lt;/span&gt;&lt;/a&gt;, &lt;a href="http://linux.yyz.us/dns/ddns-server.html"&gt;Painless &lt;span class="caps"&gt;DDNS&lt;/span&gt; part 2: the
server&lt;/a&gt;, &lt;a href="http://ops.ietf.org/dns/dynupd/secure-ddns-howto.html"&gt;Secure dynamic &lt;span class="caps"&gt;DNS&lt;/span&gt;
howto&lt;/a&gt; and &lt;a href="http://www.oceanwave.com/technical-resources/unix-admin/nsupdate.html"&gt;A
&lt;span class="caps"&gt;DDNS&lt;/span&gt; Server Using &lt;span class="caps"&gt;BIND&lt;/span&gt; and
Nsupdate&lt;/a&gt;.
Of course, the &lt;a href="http://www.zytrax.com/books/dns/ch7/statements.html"&gt;&lt;span class="caps"&gt;BIND&lt;/span&gt; configuration statement
reference&lt;/a&gt; was also
very&amp;nbsp;helpful.&lt;/p&gt;
&lt;p&gt;The whole process was relatively&amp;nbsp;simple&amp;#8230;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Add an &lt;span class="caps"&gt;RR&lt;/span&gt; for the host I want, in the appropriate&amp;nbsp;zone.&lt;/li&gt;
&lt;li&gt;Generate &lt;span class="caps"&gt;TSIG&lt;/span&gt; keys, distribute them to the&amp;nbsp;client.&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Make sure you have logging enabled for things of interest in your
    &lt;code&gt;logging&lt;/code&gt; section of &lt;code&gt;named.conf&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;category dnssec { syslog_info; };
category update { syslog_info; };
category security { syslog_info; };
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Create a keys.conf file for your keys (you &lt;em&gt;do&lt;/em&gt; split your configs
    out into usable chunks,&amp;nbsp;right?):&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;key foo.example.com. {
    algorithm HMAC-MD5.SIG-ALG.REG.INT;
    secret &amp;quot;this is your secret here (after Key: in the .private file)&amp;quot;;
};
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;and include it in &lt;code&gt;named.conf&lt;/code&gt; like:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;include &amp;quot;/etc/named.d/keys.conf&amp;quot;;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Set an
    &lt;a href="http://www.zytrax.com/books/dns/ch7/xfer.html#update-policy"&gt;&lt;code&gt;update-policy&lt;/code&gt;&lt;/a&gt;
    statement in &lt;code&gt;named.conf&lt;/code&gt;. I just added mine to a specific zone in a
    specific view (external), as that&amp;#8217;s the only place I would
    conceivably want updates right&amp;nbsp;now.&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;update-policy {
    grant * self * A TXT;
};
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Assuming your &lt;span class="caps"&gt;TSIG&lt;/span&gt; keys are named for specific RRs, this will let
any client (with a valid key setup on the server) update its own &lt;span class="caps"&gt;RR&lt;/span&gt;
and nothing&amp;nbsp;else.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Finally, I created a script for ddns updates on the client. Since I
    want to be able to fire off this script manually or via cron (if I
    have to reload &lt;span class="caps"&gt;BIND&lt;/span&gt;, and until I make the needed changes to
    MultiBINDadmin), I bypassed the usual dhclient stuff and manually
    grab the current &lt;span class="caps"&gt;IP&lt;/span&gt; from the interface of interest. I symlinked this
    in &lt;code&gt;/etc/dhcp3/dhclient-exit-hooks.d&lt;/code&gt; so it will run on &lt;span class="caps"&gt;DHCP&lt;/span&gt;&amp;nbsp;updates.&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="c"&gt;#!/bin/bash&lt;/span&gt;
&lt;span class="nv"&gt;&lt;span class="caps"&gt;IFACE&lt;/span&gt;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;eth0&amp;quot;&lt;/span&gt;
&lt;span class="nv"&gt;&lt;span class="caps"&gt;TTL&lt;/span&gt;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;3600
&lt;span class="nv"&gt;&lt;span class="caps"&gt;SERVER&lt;/span&gt;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;ns1.example.com
&lt;span class="nv"&gt;&lt;span class="caps"&gt;HOSTNAME&lt;/span&gt;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;foo.example.com
&lt;span class="nv"&gt;&lt;span class="caps"&gt;ZONE&lt;/span&gt;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;example.com
&lt;span class="nv"&gt;&lt;span class="caps"&gt;KEYFILE&lt;/span&gt;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/root/ddns-keys/Kfoo.example.com.+157+12345.private

&lt;span class="nv"&gt;new_ip_address&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;ifconfig &lt;span class="nv"&gt;$&lt;span class="caps"&gt;IFACE&lt;/span&gt;&lt;/span&gt; | grep &lt;span class="s2"&gt;&amp;quot;inet addr:&amp;quot;&lt;/span&gt; | awk &lt;span class="s1"&gt;&amp;#39;{print $2}&amp;#39;&lt;/span&gt; | awk -F &lt;span class="s2"&gt;&amp;quot;:&amp;quot;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;{print $2}&amp;#39;&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;
&lt;span class="nv"&gt;new_ip_address&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;new_ip_address&lt;/span&gt;&lt;span class="p"&gt;/ /&lt;/span&gt;&lt;span class="k"&gt;}&lt;/span&gt;

nsupdate -v -k &lt;span class="nv"&gt;$&lt;span class="caps"&gt;KEYFILE&lt;/span&gt;&lt;/span&gt; &lt;span class="s"&gt;&amp;lt;&amp;lt; &lt;span class="caps"&gt;EOF&lt;/span&gt;&lt;/span&gt;
&lt;span class="s"&gt;server $&lt;span class="caps"&gt;SERVER&lt;/span&gt;&lt;/span&gt;
&lt;span class="s"&gt;zone $&lt;span class="caps"&gt;ZONE&lt;/span&gt;&lt;/span&gt;
&lt;span class="s"&gt;update delete $&lt;span class="caps"&gt;HOSTNAME&lt;/span&gt; A&lt;/span&gt;
&lt;span class="s"&gt;update add $&lt;span class="caps"&gt;HOSTNAME&lt;/span&gt; $&lt;span class="caps"&gt;TTL&lt;/span&gt; A $new_ip_address&lt;/span&gt;
&lt;span class="s"&gt;send&lt;/span&gt;
&lt;span class="s"&gt;&lt;span class="caps"&gt;EOF&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;When I finally got things setup, my only problem was with permissions on
the zone file directories, which was easily corrected.Once this was
straightened out, my &lt;code&gt;nsupdate&lt;/code&gt; script ran flawlessly, and the update
was instantly (thanks to using &amp;#8220;notify&amp;#8221;) propagated out to the slave&amp;nbsp;server.&lt;/p&gt;
&lt;p&gt;The only problem that I now have is one of my own creation - I use a
small &lt;span class="caps"&gt;PHP&lt;/span&gt; application that I wrote
(&lt;a href="http://multibindadmin.jasonantman.com/"&gt;MultiBINDadmin&lt;/a&gt;) to manage
&lt;span class="caps"&gt;DNS&lt;/span&gt;. It&amp;#8217;s incredibly easy, as it keeps track of internal and external
IPs, and everything else, for my zones, and triggers a pull on the
master &lt;span class="caps"&gt;BIND&lt;/span&gt; server via the web interface. The only problem I now have is
that this messes with &lt;span class="caps"&gt;DDNS&lt;/span&gt; updates. First, if I make changes in the web
interface and there&amp;#8217;s already been a &lt;span class="caps"&gt;DDNS&lt;/span&gt; update that day, the zone
serial generated by MultiBINDadmin will match the automatically
incremented serial generated by the &lt;span class="caps"&gt;BIND&lt;/span&gt; server. Second, and more
troubling, when the &lt;span class="caps"&gt;BIND&lt;/span&gt; server reloads, it loses the dynamic update. So
when I push changes to a zone from the web interface, my dynamic updates
go&amp;nbsp;away.&lt;/p&gt;
&lt;p&gt;For the short-term, I&amp;#8217;m just going to check the zone serial before I
make any updates and, if need be, manually increment it in the web tool.
As to losing the dynamic updates, I&amp;#8217;m just going to have cron on the
client fire the &lt;code&gt;nsupdate&lt;/code&gt; script every 30 minutes. I also did a little
kludge, setup a vhost on one of my web servers to answer for the dynamic
host (as a catch-all page), and set the &lt;span class="caps"&gt;IP&lt;/span&gt; of my web server as the
hard-coded &lt;span class="caps"&gt;RR&lt;/span&gt; address in the zone file. If someone tries to use the new
(&lt;span class="caps"&gt;DDNS&lt;/span&gt; through my &lt;span class="caps"&gt;BIND&lt;/span&gt; server) address for &lt;span class="caps"&gt;HTTP&lt;/span&gt; and for some reason the
current dynamic address disappeared (&lt;span class="caps"&gt;BIND&lt;/span&gt; reloaded), they&amp;#8217;ll get a
little page with a message and the old dyndns.org-based&amp;nbsp;&lt;span class="caps"&gt;URL&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;When I get around to it (or when this becomes a problem), I&amp;#8217;ll make two
changes to&amp;nbsp;MultiBINDadmin:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Before it pushes an update, check the current serial for the zone
    (ok, this may be a bit interesting, as the internal and external
    zones could have different serials) and increment from&amp;nbsp;that.&lt;/li&gt;
&lt;li&gt;Have a &amp;#8220;&lt;span class="caps"&gt;DDNS&lt;/span&gt;&amp;#8221; flag in the database and &lt;span class="caps"&gt;GUI&lt;/span&gt; for RRs. For all flagged
    RRs, try to get the (unfortunately external) current address and
    update the record in the &lt;span class="caps"&gt;DB&lt;/span&gt; before the&amp;nbsp;push.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The real question here, which I haven&amp;#8217;t looked into yet, is how I can
interrogate &lt;span class="caps"&gt;BIND&lt;/span&gt; about RRs for the external zone from an internal&amp;nbsp;host.&lt;/p&gt;</summary><category term="bind"></category><category term="ddns"></category><category term="dhcp"></category><category term="multibindadmin"></category></entry><entry><title>Happy April Fool’s Day</title><link href="http://blog.jasonantman.com/2010/04/happy-april-fools-day/" rel="alternate"></link><updated>2010-04-01T07:44:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-04-01:2010/04/happy-april-fools-day/</id><summary type="html">&lt;p&gt;It&amp;#8217;s April 1&lt;sup&gt;st&lt;/sup&gt;, also known as April Fool&amp;#8217;s Day. While I,
unfortunately, haven&amp;#8217;t planned any pranks or jokes myself this year (I
guess I&amp;#8217;ve just been too busy), I always try to find as many of
&lt;a href="http://www.google.com"&gt;Google&lt;/a&gt;&amp;#8216;s jokes as possible. Despite being a
behemoth, and raking in billions of dollars, they still seem to keep an
excellent sense of humor, both for everyone and at a very technical&amp;nbsp;level.&lt;/p&gt;
&lt;p&gt;Here&amp;#8217;s what I found this year (updated as I find&amp;nbsp;them):&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;img alt="topeka" src="/GFX/topeka-hp.gif" /&gt;
   Google name change to Topeka - &lt;a href="http://googleblog.blogspot.com/2010/04/different-kind-of-company-name.html"&gt;blog
    post&lt;/a&gt;,
    &lt;a href="http://money.cnn.com/2010/04/01/technology/google_april_fools/"&gt;&lt;span class="caps"&gt;CNN&lt;/span&gt;
    Money&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;Topeka, Kansas changes name to Google, Kansas. Google changes name
to&amp;nbsp;Topeka.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Search result timing - A Google search for &amp;#8220;Jason Antman&amp;#8221; was
    completed in &amp;#8220;2.00 shakes of a lamb&amp;#8217;s&amp;nbsp;tail&amp;#8221;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;On a side note, I&amp;#8217;m quite sad that the Store Anything &lt;a href="https://spreadsheets.google.com/viewform?hl=en&amp;amp;formkey=dEx3d1BSR1Ntb0hvdEpJNkJvaUI2Z2c6MQ"&gt;beta test
form&lt;/a&gt;
(&lt;a href="/GFX/viewform.html"&gt;local copy&lt;/a&gt;)doesn&amp;#8217;t work. When they asked what
object I wanted to store, I checked &amp;#8220;other&amp;#8221; for &amp;#8220;exotic matter&amp;#8221;, and
entered the following description of why I should be allowed to test the&amp;nbsp;service:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Luckily for google, the exotic matter that I intend to store has a
negative mass. Not only is it much simpler for me to let Google&amp;#8217;s
massive engineering team (the same one that figured out how to run
their search engine on SkyLab and the &lt;span class="caps"&gt;WOPR&lt;/span&gt;) figure out how to store
such a substance, but it also means that I should be able to receive
storage for free. In fact, my collection of negative mass matter
should be large enough (no pun intended) to offset the entire cost of
Store&amp;nbsp;Antyhing!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Of course, Google has a history of April Fool&amp;#8217;s pranks that goes back to
the earliest days. Much can be found about them
&lt;a href="http://en.wikipedia.org/wiki/Google's_hoaxes"&gt;online&lt;/a&gt;. But by far my
favorite was last year, when (in an apparent showing of how easy it is
for them to make changes to &lt;span class="caps"&gt;GWS&lt;/span&gt; and roll them out over their entire
infrastructure) they changed the Server &lt;span class="caps"&gt;HTTP&lt;/span&gt; header to a number of
random and humorous names, including Microsoft &lt;span class="caps"&gt;IIS&lt;/span&gt;/3.0, Apache/0.8.4,
&lt;span class="caps"&gt;HAL&lt;/span&gt; 9000, &lt;span class="caps"&gt;WOPR&lt;/span&gt;, &lt;span class="caps"&gt;CERN&lt;/span&gt;, and&amp;nbsp;SkyNet.&lt;/p&gt;</summary></entry><entry><title>Syslog from KickStart / Anaconda</title><link href="http://blog.jasonantman.com/2010/03/syslog-from-kickstart-anaconda/" rel="alternate"></link><updated>2010-03-24T13:52:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-03-24:2010/03/syslog-from-kickstart-anaconda/</id><summary type="html">&lt;p&gt;Yesterday I was installing a new machine at $&lt;span class="caps"&gt;WORK&lt;/span&gt;, and we&amp;#8217;d been having
some spotty problems with
&lt;a href="http://fedoraproject.org/wiki/Anaconda"&gt;Anaconda&lt;/a&gt; not being able to
find RPMs in a specific repository. As a result, I was standing in the
machine room at a cart-mounted console, watching the output of the
installation. Just as I pressed the power button to give it a try, I
realized that if the conditions in the machine room aren&amp;#8217;t unpleasant
enough, I probably shouldn&amp;#8217;t have had those 3 bottles of&amp;nbsp;water.&lt;/p&gt;
&lt;p&gt;It took me about 4 seconds on Google to find out that KickStart files
support a &lt;code&gt;syslog&lt;/code&gt; directive that sends all logging for the installation
process to a syslog&amp;nbsp;server.&lt;/p&gt;
&lt;p&gt;The directive in the &lt;span class="caps"&gt;KS&lt;/span&gt; file is quite&amp;nbsp;simple:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;syslog=hostname
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Hopefully this will be as much of a help to someone else who hasn&amp;#8217;t
noticed it&amp;nbsp;yet&amp;#8230;&lt;/p&gt;
&lt;p&gt;I found this documented in the &lt;a href="http://www.centos.org/docs/5/html/5.1/Installation_Guide/s1-kickstart2-startinginstall.html"&gt;RedHat/CentOS 5.1 Installation&amp;nbsp;Guide.&lt;/a&gt;&lt;/p&gt;</summary></entry><entry><title>Virtualization Options</title><link href="http://blog.jasonantman.com/2010/03/virtualization-options/" rel="alternate"></link><updated>2010-03-19T20:55:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-03-19:2010/03/virtualization-options/</id><summary type="html">&lt;p&gt;As I mentioned in &lt;a href="/2010/03/downtime-past-few-days-coping-with-storms/"&gt;Downtime past few days, coping with
storms&lt;/a&gt;, as a
result of some things I noticed with a recent power outage, I&amp;#8217;ve decided
to take the leap to virtualization. Given the cost of current hardware
that supports &lt;span class="caps"&gt;HVM&lt;/span&gt; (Intel &lt;span class="caps"&gt;VT&lt;/span&gt;-x or &lt;span class="caps"&gt;AMD&lt;/span&gt;-V ), I immediately decided that I
might as well give up on any thoughts of doing full virtualization or
getting new-ish hardware. So I settled on the next step up from what
have now - a set of &lt;a href="http://h18000.www1.hp.com/products/quickspecs/11504_na/11504_na.HTML"&gt;&lt;span class="caps"&gt;HP&lt;/span&gt; Proliant &lt;span class="caps"&gt;DL360&lt;/span&gt;
G3&lt;/a&gt;
servers. I got them with a 90 day warranty from a reputable dealer, dual
2.8GHz Xeon (512K cache), 2Gb &lt;span class="caps"&gt;RAM&lt;/span&gt;, dual 36.4Gb U320 15k &lt;span class="caps"&gt;RPM&lt;/span&gt; &lt;span class="caps"&gt;SCSI&lt;/span&gt; disks
and dual power supplies for $99 each. My next step is to decide what
virtualization software to&amp;nbsp;use.&lt;/p&gt;
&lt;p&gt;My main goals for the project&amp;nbsp;are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Lower power consumption through consolidation of&amp;nbsp;servers.&lt;/li&gt;
&lt;li&gt;Possibility to add capacity or resources by remotely powering up an
    idle server and migrating VMs to&amp;nbsp;it.&lt;/li&gt;
&lt;li&gt;Limited fault tolerance - ability to manually restore a &lt;span class="caps"&gt;VM&lt;/span&gt; that was
    running on failed hardware, onto an idle&amp;nbsp;server.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I originally thought Xen, just out of reflex. However, given that all of
my servers have the same base - the same distribution and, ideally, the
same kernel and patch level - it seemed like a lot of overhead to
duplicate that for multiple VMs. So I started looking into &lt;a href="http://en.wikipedia.org/wiki/Operating_system-level_virtualization"&gt;&lt;span class="caps"&gt;OS&lt;/span&gt;-level
virtualization&lt;/a&gt;.
There are relatively few options, and I&amp;#8217;ll admit that aside from Solaris
Containers (which I learned about while working at Sun) I don&amp;#8217;t know
much about it. But &lt;a href="http://www.openvz.org/"&gt;OpenVZ&lt;/a&gt; seems to be the
front runner in that area. My initial impression was that it made a lot
of sense - keep one common kernel, but allow containers/virtual
environments (CTs/VEs) to have, essentially, their own userland.
Unfortunately, it doesn&amp;#8217;t seem to be as hyped as Xen, and I haven&amp;#8217;t
heard very much about it in the enterprise context. And it requires
running a kernel from the OpenVZ project, which means I can&amp;#8217;t just
script updates through yum as easily as&amp;nbsp;normal.&lt;/p&gt;
&lt;p&gt;On the up size, OpenVZ would allow me to eliminate the duplication of
the kernel, and seems to have much less overhead than Xen (and logically
so). On the down side, I lose the ability to virtualize other OSes,
kernel versions, or make pre-packaged VMs. I&amp;#8217;ve decided that if I wanted
to do that, I could dedicate a single&amp;nbsp;machine.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ve spent the last day or so doing a lot of research, and have come up
with the following questions and concerns about OpenVZ which I hope to
be able to answer (I&amp;#8217;ll post the answers in a&amp;nbsp;follow-up).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;How do I handle distribution and kernel upgrades? The logical
    solution would be to migrate the &lt;span class="caps"&gt;CT&lt;/span&gt; to another host while I upgrade
    &lt;span class="caps"&gt;CT0&lt;/span&gt; (the hardware &lt;span class="caps"&gt;OS&lt;/span&gt;/host/dom0 in Xen speak). But if the guest and
    host kernels must match, how does this&amp;nbsp;work?&lt;/li&gt;
&lt;li&gt;Can I do package upgrades within the guest/&lt;span class="caps"&gt;CT&lt;/span&gt; easily? WIll this play
    well with&amp;nbsp;Puppet?&lt;/li&gt;
&lt;li&gt;How will I handle backups? Is it logical to run
    &lt;a href="http://www.bacula.org"&gt;bacula&lt;/a&gt; within each &lt;span class="caps"&gt;CT&lt;/span&gt;, or just on &lt;span class="caps"&gt;CT0&lt;/span&gt;? If
    just on &lt;span class="caps"&gt;CT0&lt;/span&gt;, how do I easily verify that a particular &lt;span class="caps"&gt;CT&lt;/span&gt; was backed&amp;nbsp;up?&lt;/li&gt;
&lt;li&gt;WIll everything play well with Puppet? (see&amp;nbsp;below)&lt;/li&gt;
&lt;li&gt;Am I willing to throw away my KickStart-based installs? And,
    similarly, am I willing to give up the possibility of migrating from
    a container to a Xen host or a physical host&amp;nbsp;(easily)?&lt;/li&gt;
&lt;li&gt;OpenVZ live migration relies on rsync. This means that there&amp;#8217;s a
    significant delay (compared to shared storage) and also that I can&amp;#8217;t
    migrate off of a host that&amp;#8217;s down. Is there a way around&amp;nbsp;this?&lt;/li&gt;
&lt;li&gt;Similarly, live migration requires root &lt;span class="caps"&gt;SSH&lt;/span&gt; key exchange
    (passwordless) between the hosts. This seems about equivalent to
    using &lt;code&gt;hosts.equiv&lt;/code&gt;. Do I really want root on one box to mean root
    on another box (and all of the containers on that&amp;nbsp;box)?&lt;/li&gt;
&lt;li&gt;Can I still firewall &lt;span class="caps"&gt;CT0&lt;/span&gt;? How will this&amp;nbsp;work?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;It seems to me that OpenVZ may be significantly less enterprise-class
than Xen. Sure, this is just my home setup, but I hold it to the same
standards I use for my work systems. In fact, I usually test new
technologies at home before I suggest them at work. A lot of the writing
on the &lt;a href="http://wiki.openvz.org/"&gt;OpenVZ wiki&lt;/a&gt; seems to be riddled with
spelling errors. They claim &amp;#8220;zero downtime&amp;#8221; live migration, but if they
have to rsync 2Gb of MySQL tables, that sounds like a lot more than
&amp;#8220;zero&amp;#8221;. And, most shockingly, the &lt;a href="http://wiki.openvz.org/Hardware_testing"&gt;Hardware
testing&lt;/a&gt; wiki page talks about
making sure your hosts aren&amp;#8217;t overclocked or undercooled, and running
&lt;code&gt;cpuburn&lt;/code&gt; to test your system under high load. Sorry, but the engineers
at &lt;span class="caps"&gt;HP&lt;/span&gt;, Sun, &lt;span class="caps"&gt;IBM&lt;/span&gt;, etc. handle that for me and most people I know. So, I&amp;#8217;m
a bit worried about the seriousness of the OpenVZ&amp;nbsp;project.&lt;/p&gt;
&lt;p&gt;Most worrisome is a post I found in the &lt;a href="http://forum.openvz.org"&gt;OpenVZ
forum&lt;/a&gt;, &lt;a href="http://forum.openvz.org/index.php?t=msg&amp;amp;goto=14818&amp;amp;"&gt;&amp;#8220;Stopping puppet on hn stops it in all
&lt;span class="caps"&gt;VE&lt;/span&gt;&amp;#8221;&lt;/a&gt;. It seems
that, since &lt;span class="caps"&gt;CT0&lt;/span&gt; is aware of all of the guest container processes, they
show up in ps lists. Most, if not all RedHat init scripts use killproc
to stop and restart services. This means that a &lt;code&gt;service syslog stop&lt;/code&gt; on
the &lt;span class="caps"&gt;CT0&lt;/span&gt; (host) will stop &lt;strong&gt;all&lt;/strong&gt; &lt;code&gt;syslog&lt;/code&gt; processes, including all of
them in the CTs. This seems like a major issue. Sure, I could replace
&lt;code&gt;killproc&lt;/code&gt; on &lt;span class="caps"&gt;CT0&lt;/span&gt; with a script that parses the process list, isolates
the PIDs for those running on &lt;span class="caps"&gt;CT0&lt;/span&gt;, and kills them. But what else needs
to be fixed? Nagios check scripts would need to be adjusted. Is there
anything else that would come back and bite&amp;nbsp;me?&lt;/p&gt;
&lt;p&gt;The bottom line is that (I guess this is logical) it seems that
containers in OpenVZ will seem - and act - a lot less like a logical
host than they would under&amp;nbsp;Xen.&lt;/p&gt;</summary><category term="OpenVZ"></category><category term="virtualization"></category><category term="xen"></category></entry><entry><title>Downtime past few days, coping with storms</title><link href="http://blog.jasonantman.com/2010/03/downtime-past-few-days-coping-with-storms/" rel="alternate"></link><updated>2010-03-17T22:27:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-03-17:2010/03/downtime-past-few-days-coping-with-storms/</id><summary type="html">&lt;p&gt;As far as I can see from &lt;a href="http://www.google.com/analytics/"&gt;Google
Analytics&lt;/a&gt;, though I&amp;#8217;m now up to about
4,000 visitors per month for this blog, it seems like most are one-time
visitors. So hopefully the few hiccups of the past few days weren&amp;#8217;t
noticed (except by me, and my mailserver&amp;#8230;). As many of you in the &lt;span class="caps"&gt;US&lt;/span&gt;
may know, New Jersey was hit by a pretty big nor&amp;#8217;easter last weekend and
my area was
&lt;a href="http://www.northjersey.com/news/bergen/87665172_Weekend_storm_thrashes_Wyckoff.html"&gt;especially&lt;/a&gt;
&lt;a href="http://www.northjersey.com/news/87704777_Ridgewood_power_outages_could_last_for_days.html"&gt;hard&lt;/a&gt;
&lt;a href="http://www.northjersey.com/news/87852727_Downed_trees__power_lines_bring_Glen_Rock_to_a_near_standstill.html"&gt;hit&lt;/a&gt;.
I lost power for about five hours Saturday night (the 13th) and again
for an hour or so the next morning. Needless to say, these were both
much longer than my small UPSes could cope with (the smaller of the two
has a mere 12 minutes of runtime with brand new batteries). While I do
have a small (2500W) gas generator, it was buried in the back of the
garage. The time it would take to dig it out and string extension cords
from the UPSes to a relatively dry area outside would probably be more
than 12 minutes - not to mention that as first lieutenant
(second-in-command) of the town&amp;#8217;s volunteer &lt;a href="http://www.midlandparkambulance.com/"&gt;ambulance
corps&lt;/a&gt;, I was running in the
opposite direction once things got&amp;nbsp;bad.&lt;/p&gt;
&lt;p&gt;Luckily, the problems caused or uncovered by the power loss were
relatively&amp;nbsp;minor:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The batteries in my smaller &lt;span class="caps"&gt;UPS&lt;/span&gt; lasted about 90 seconds. I&amp;#8217;d noticed
    the bad battery light a few weeks ago, but put it off (hey, it&amp;#8217;s my
    home setup, I don&amp;#8217;t exactly have a budget).
    &lt;a href="http://www.refurbups.com"&gt;RefurbUPS&lt;/a&gt;, where I got the two &lt;span class="caps"&gt;APC&lt;/span&gt;
    &lt;span class="caps"&gt;SU1000NET&lt;/span&gt;&amp;#8217;s, got me a replacement &lt;span class="caps"&gt;RBC6&lt;/span&gt; (aftermarket, not original
    &lt;span class="caps"&gt;APC&lt;/span&gt;) in two days, for around $73. Unfortunately, my Tripp Lite
    &lt;span class="caps"&gt;SMART2200RMXL2U&lt;/span&gt; (unfortunately without the external battery pack)
    also just had its orange light pop on, so there goes another&amp;nbsp;$90.&lt;/li&gt;
&lt;li&gt;The battery replacement caused another short (\~5 minute) downtime
    tonight, including my router. Unfortunately the router is plugged
    into the smaller of the two UPSes, and none of my current boxes have
    more than one power supply. Mistake. Especially considering my
    limited resources. On the positive side, I took the opportunity to
    move all of the equipment onto &lt;a href="http://www.liebert.com/product_pages/Product.aspx?id=6&amp;amp;hz=60"&gt;Liebert
    MicroPOD&lt;/a&gt;s.&lt;/li&gt;
&lt;li&gt;The external &lt;span class="caps"&gt;SATA&lt;/span&gt; disk for my desktop used to store media is dead.
    I&amp;#8217;m getting incessant read errors, followed by offlining the disk,
    on two &lt;span class="caps"&gt;USB&lt;/span&gt; adapters and internal &lt;span class="caps"&gt;SATA&lt;/span&gt;. I guess I should have a
    better surge protector for the&amp;nbsp;desktop.&lt;/li&gt;
&lt;li&gt;A few of my boxes didn&amp;#8217;t come up clean, mainly due to entropy in the
    configs, or services that were never &lt;code&gt;chkconfig&lt;/code&gt;&amp;#8216;ed. Well, I don&amp;#8217;t
    use any configuration management at&amp;nbsp;home.&lt;/li&gt;
&lt;li&gt;One of the disks in my storage server (&lt;span class="caps"&gt;RAID&lt;/span&gt; 1+0 of 6x 36.4Gb 10k &lt;span class="caps"&gt;RPM&lt;/span&gt;
    &lt;span class="caps"&gt;SCSI&lt;/span&gt; disks) died - actually a few days before the power outage. I
    was able to find a new replacement on Ebay, with warranty, for about&amp;nbsp;$40.&lt;/li&gt;
&lt;li&gt;Many of my internal services - including a lot of the
    &lt;a href="http://www.nagios.org"&gt;Nagios&lt;/a&gt; checks - use a separate gigabit
    management network, run off of an older GigE aggregation switch.
    This was on the smaller &lt;span class="caps"&gt;UPS&lt;/span&gt;, so it went down quick. As both this and
    my main switch are of the same series, perhaps an &lt;span class="caps"&gt;RPS&lt;/span&gt; unit would be
    worth the&amp;nbsp;money.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Plans for the&amp;nbsp;future:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Get &lt;a href="http://reductivelabs.com/products/puppet/"&gt;Puppet&lt;/a&gt; working at
    home. As part of this, buy a spare server so I can migrate services
    one at a time to a puppet-ized version, test, and then rebuild
    (while the production machine is still&amp;nbsp;running).&lt;/li&gt;
&lt;li&gt;In the future, given my limited infrastructure, purchasing dual
    power supply machines - and putting the PSes on separate UPSes -
    would be a good&amp;nbsp;thing.&lt;/li&gt;
&lt;li&gt;Configure the Tripp Lite &lt;span class="caps"&gt;UPS&lt;/span&gt; to do load&amp;nbsp;shedding.&lt;/li&gt;
&lt;li&gt;Setup &lt;span class="caps"&gt;UPS&lt;/span&gt; management software to bring down boxes in a logical&amp;nbsp;order.&lt;/li&gt;
&lt;li&gt;Power savings is also important - so I&amp;#8217;m thinking about rebuilding
    things using &lt;a href="http://www.xen.org/"&gt;Xen&lt;/a&gt;, and using live migration to
    both distribute load logically under normal circumstances, and to
    move around loads in the event of power failure (kill
    non-critical/internal-only stuff, consolidate the&amp;nbsp;rest).&lt;/li&gt;
&lt;/ul&gt;</summary><category term="availability"></category><category term="power"></category><category term="reliability"></category><category term="UPS"></category><category term="uptime"></category></entry><entry><title>Nagios check scripts</title><link href="http://blog.jasonantman.com/2010/03/nagios-check-scripts/" rel="alternate"></link><updated>2010-03-16T22:33:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-03-16:2010/03/nagios-check-scripts/</id><summary type="html">&lt;p&gt;Last week I added some of my Nagios check scripts to my &lt;a href="https://github.com/jantman/nagios-scripts"&gt;nagios-scripts
GitHub repository&lt;/a&gt;. Perhaps
they&amp;#8217;ll be of some use to some other&amp;nbsp;people&amp;#8230;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/jantman/nagios-scripts/blob/master/check_1wire_temps.php"&gt;check_1wire_temps.php&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;quick and dirty, built for one specific application, but a good
starting place for checking Dallas 1-wire temperatures via&amp;nbsp;&lt;span class="caps"&gt;OWFS&lt;/span&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jantman/nagios-scripts/blob/master/check_802dot11.php"&gt;check_802dot11.php&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;A script to check various things in the &lt;span class="caps"&gt;IEEE&lt;/span&gt;-&lt;span class="caps"&gt;802DOT11&lt;/span&gt; &lt;span class="caps"&gt;MIB&lt;/span&gt;, written
for Ubiquiti APs&amp;nbsp;(&lt;span class="caps"&gt;SNMP&lt;/span&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jantman/nagios-scripts/blob/master/check_frogfoot.php"&gt;check_frogfoot.php&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;A script to check some stuff from &lt;span class="caps"&gt;FROGFOOT&lt;/span&gt;-&lt;span class="caps"&gt;MIB&lt;/span&gt;, also written for
Ubiquiti APs&amp;nbsp;(&lt;span class="caps"&gt;SNMP&lt;/span&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jantman/nagios-scripts/blob/master/check_asterisk_iaxpeers"&gt;check_asterisk_iaxpeers&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;a Python check script to parse the output of rasterisk for &lt;span class="caps"&gt;IAX&lt;/span&gt;
peer status and latency (includes perf data&amp;nbsp;output).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jantman/nagios-scripts/blob/master/check_bacula_job.php"&gt;check_bacula_job.php&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;A script to connect to the Bacula database and make sure a
specified job terminated &lt;span class="caps"&gt;OK&lt;/span&gt; and was run on&amp;nbsp;schedule.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jantman/nagios-scripts/blob/master/check_docsis"&gt;check_docsis&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;A script to check status and various metrics for cable modems
implementing the &lt;span class="caps"&gt;DOCSIS&lt;/span&gt; &lt;span class="caps"&gt;MIB&lt;/span&gt; (&lt;span class="caps"&gt;SNMP&lt;/span&gt;). Works with (at least) the
Motorola SurfBoard modems used by Cablevision (which use
192.168.100.1 on the &lt;span class="caps"&gt;LAN&lt;/span&gt;&amp;nbsp;side).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jantman/nagios-scripts/blob/master/check_syslog_age.php"&gt;check_syslog_age.php&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;A &lt;span class="caps"&gt;PHP&lt;/span&gt; script which checks (recursively) that the newest file under
a directory is no more than X seconds old. I use this for checking
my centralized syslog server, which has logs separated out in
&lt;code&gt;/var/log/HOSTS/hostname&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Update 2011-01-31&lt;/strong&gt; - the
&lt;a href="https://github.com/jantman/nagios-scripts/blob/master/check_syslog_age.php"&gt;check_syslog_age.php&lt;/a&gt;
script was updated today to handle an error condition where stat() calls
in &lt;span class="caps"&gt;PHP&lt;/span&gt; fail on files larger than &lt;span class="caps"&gt;2GB&lt;/span&gt; on 32-bit&amp;nbsp;systems.&lt;/p&gt;</summary><category term="1-wire"></category><category term="asterisk"></category><category term="bacula"></category><category term="DOCSIS"></category><category term="Nagios"></category><category term="snmp"></category><category term="syslog"></category><category term="ubiquiti"></category></entry><entry><title>Links for Friday, March 12, 2010</title><link href="http://blog.jasonantman.com/2010/03/links-for-friday-march-12-2010/" rel="alternate"></link><updated>2010-03-12T11:48:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-03-12:2010/03/links-for-friday-march-12-2010/</id><summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.linuxinsider.com/rsstory/69467.html"&gt;Linux News: Legal: Apple&amp;#8217;s &lt;span class="caps"&gt;HTC&lt;/span&gt; Suit: All About&amp;nbsp;Google&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.standalone-sysadmin.com/blog/2010/03/flashback-infrastructure-upgrades-through-forest-fires/"&gt;Flashback: Infrastructure Upgrades through Forest Fires |
    Standalone&amp;nbsp;Sysadmin&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>Hiring Technical People</title><link href="http://blog.jasonantman.com/2010/03/hiring-technical-people/" rel="alternate"></link><updated>2010-03-07T10:48:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-03-07:2010/03/hiring-technical-people/</id><summary type="html">&lt;p&gt;After seeing a link to it on the &lt;a href="http://www.sage.org"&gt;&lt;span class="caps"&gt;SAGE&lt;/span&gt;&lt;/a&gt; mailing
list, I happened to read Mark Dennehy&amp;#8217;sblog post on &lt;a href="http://www.stochasticgeometry.ie/2008/04/25/tips-for-hiring-new-engineers/"&gt;Tips for hiring new
engineers&lt;/a&gt;.
I felt the need to make a few comments on some of his findings. Perhaps
someone in &lt;span class="caps"&gt;HR&lt;/span&gt;, or a recruiter, will actually read this and learn a thing
or&amp;nbsp;two.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The basics of professional work – getting along with others, being
able to manage your time, being able to communicate clearly and well,
being able to work to deadlines – it is a waste of your time and mine
to put these in the job advert. You aren’t taking random people off
the street here – you’re hiring trained professionals who’ve working
in this field for some time. It’s nearly insulting to tell them not to
apply unless they play well with&amp;nbsp;others.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Unfortunately there are some places where this is required. In the
public sector, at least, the job ad and description set up fixed
guidelines. If you have a job description that doesn&amp;#8217;t include &amp;#8220;plays
well with others&amp;#8221;, and the hire doesn&amp;#8217;t play well with others, it&amp;#8217;s
immensely difficult to fire them - the hire&amp;#8217;s failing wasn&amp;#8217;t listed in
the job&amp;nbsp;description.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Don’t have the &lt;span class="caps"&gt;HR&lt;/span&gt; people write the technical requirements. You have
engineers, use&amp;nbsp;them.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I have to whole-heartedly agree with what Mark said about writing
technical requirements. I don&amp;#8217;t know why &lt;span class="caps"&gt;HR&lt;/span&gt; seems to think that they can
write &lt;span class="caps"&gt;IT&lt;/span&gt; job descriptions - they wouldn&amp;#8217;t attempt it for most other
professionals. &lt;span class="caps"&gt;IT&lt;/span&gt; job descriptions should be left to &lt;span class="caps"&gt;IT&lt;/span&gt; people to write
- and, more importantly, people who actually understand what the person
will be&amp;nbsp;doing.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;And don’t class all those requirements as being absolutely necessary.
Have two lists – critical, mandatory skills; and skills which would be
advantageous to have. Because many professional engineers will look at
the mandatory skills listed and if we see some we don’t have, we won’t&amp;nbsp;apply.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Also a very good point. Even when I&amp;#8217;m not actively looking for work, I
usually get a &lt;em&gt;lot&lt;/em&gt; of phone calls and emails from recruiters.
Especially if I update my resume on one of the big job sites or post a
consulting ad on CraigsList, I get inundated with emails and phone calls
(which I usually refer to email, unless they&amp;#8217;re from a big player). I
can&amp;#8217;t possibly spend the hours to read and apply to all of them. The
first ones that get deleted are from people who obvously didn&amp;#8217;t even
look at my resume - entry-level (operator) positions, Windows admins,
anything with a primary duty that isn&amp;#8217;t even near my skill set (i.e.
they just used keyword matching and never read&amp;nbsp;anything).&lt;/p&gt;
&lt;p&gt;From there, I start looking through the descriptions and building two
lists - the ones that will likely get thrown out unless there&amp;#8217;s some
amazing thing that redeems them (i.e. a company that I really want to
work for) and the ones that I know I&amp;#8217;ll follow up on. Here are some of
the criteria I&amp;nbsp;use:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Likely to&amp;nbsp;ignore:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;I read the job description and still can&amp;#8217;t figure out what I&amp;#8217;d be&amp;nbsp;doing.&lt;/li&gt;
&lt;li&gt;The buzzword-to-content ratio is&amp;nbsp;horrible.&lt;/li&gt;
&lt;li&gt;The skills/requirements section lists every hot technology - a list
    that no human being can&amp;nbsp;master.&lt;/li&gt;
&lt;li&gt;The skills/requirements section has far too disparate of a list -
    something that only an engineer, administrator, programmer, and
    hardware designer could&amp;nbsp;master.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Follow-up:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Use of the &lt;a href="http://www.sage.org/field/jobs-descriptions.html"&gt;&lt;span class="caps"&gt;SAGE&lt;/span&gt; Job
    Descriptions&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;An actual salary range, not &amp;#8220;varies with experience&amp;#8221; or&amp;nbsp;&amp;#8220;competitive&amp;#8221;.&lt;/li&gt;
&lt;li&gt;Some description of &lt;em&gt;where&lt;/em&gt; I&amp;#8217;ll work - size of the team,
    responsibility, work environment,&amp;nbsp;etc.&lt;/li&gt;
&lt;li&gt;Examples of current things the team is working on, or examples of
    what I&amp;#8217;d be working&amp;nbsp;on.&lt;/li&gt;
&lt;li&gt;Skills/requirements broken down into mandatory and&amp;nbsp;optional/preferred.&lt;/li&gt;
&lt;li&gt;A description that was obviously written by someone who understands
    the&amp;nbsp;technology.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In closing, I have a theory for companies (especially those in the
public sector that have stringent &lt;span class="caps"&gt;HR&lt;/span&gt;/hiring policies) listing jobs in
the &lt;span class="caps"&gt;IT&lt;/span&gt; sector: have both &lt;span class="caps"&gt;HR&lt;/span&gt; and &lt;span class="caps"&gt;IT&lt;/span&gt; write portions of the job
description. Have &lt;span class="caps"&gt;HR&lt;/span&gt; write a paragraph or two with all of their
non-&lt;span class="caps"&gt;IT&lt;/span&gt;-specific stuff, and then have the &lt;span class="caps"&gt;IT&lt;/span&gt; hiring people (preferably
the manager the new hire will report to) write the rest. Put the &lt;span class="caps"&gt;HR&lt;/span&gt;
stuff at the bottom. Break the skills/requirements lists down into
&amp;#8220;Technical Skills&amp;#8221; (further divided into Required and
Preferred/Optional/Bonus) and a &amp;#8220;Soft Skills&amp;#8221; section for &lt;span class="caps"&gt;HR&lt;/span&gt; (with the
usual crap like &amp;#8220;works with a team&amp;#8221;, &amp;#8220;eligible for employment&amp;#8221;,&amp;nbsp;etc.).&lt;/p&gt;
&lt;p&gt;Everyone&amp;#8217;s up in arms about the recession, high unemployment, and low
job openings. Logic would dictate that it&amp;#8217;s an employer&amp;#8217;s market - and,
to a large extent, it is. However, that doesn&amp;#8217;t mean that employers
don&amp;#8217;t need to worry about making the advertisement attractive and
descriptive. Actually, I&amp;#8217;d say it&amp;#8217;s the opposite - since I know that
there will likely be hundreds of other applicants, I only send a resume
in for jobs that I think I have a very good chance of getting. I&amp;#8217;m sure
I&amp;#8217;ve skipped over good positions just because the description didn&amp;#8217;t
communicate that to me - and I&amp;#8217;m sure I&amp;#8217;m not&amp;nbsp;alone.&lt;/p&gt;</summary><category term="hiring"></category><category term="hr"></category><category term="jobs"></category></entry><entry><title>Slashdot - A Public Funded “Microsoft Shop?”</title><link href="http://blog.jasonantman.com/2010/03/slashdot-a-public-funded-microsoft-shop/" rel="alternate"></link><updated>2010-03-04T21:27:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-03-04:2010/03/slashdot-a-public-funded-microsoft-shop/</id><summary type="html">&lt;p&gt;I just came by an interesting post on Slashdot, &lt;a href="http://science.slashdot.org/story/10/03/04/1416226/A-Public-Funded-Microsoft-Shop"&gt;A Public Funded
&amp;#8220;Microsoft
Shop?&amp;#8221;&lt;/a&gt;.
The author works at a publicly-funded hospital and comments that he
received an email from management&amp;nbsp;stating:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Information Services is strategically a Microsoft shop and when
talking to staff / customers we are to support this strategy. I no
longer want to see comments promoting other Operating&amp;nbsp;Systems.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Initially, my anti-Microsoft buzzer went off. But the post also stated
that they were ordered to remove Firefox from any computers not
specifically authorized by management. As usual, the Slashdot
conversation degenerated into a proprietary vs open&amp;nbsp;debate.&lt;/p&gt;
&lt;p&gt;As I have to comment on the Microsoft issue, I have two remarks. First,
software (an &lt;span class="caps"&gt;OS&lt;/span&gt;, a browser, a text editor, whatever) is a tool. A tool
should be chosen base on whether it&amp;#8217;s the right one for the job, not
just because of who makes it. I&amp;#8217;d like to see a major construction
company state decree that they&amp;#8217;ll only buy Stanley and DeWalt tools.
What will their answer be when the plumbers realize that neither of
those companies make a simple pipe wrench? &amp;#8220;Use a hammer&amp;#8221;? Secondly, as
is evidenced by history, popularity is a relatively poor indicator of
quality, and always ephemeral. Wigs were popular for wealthy men. The
telegraph was popular, and many thought the telephone would never catch
on. The &lt;a href="http://en.wikipedia.org/wiki/Fluoroscope"&gt;fluoroscope&lt;/a&gt; was
popular for shoe fitting. Racism was popular. Smoking was popular. &lt;span class="caps"&gt;BASIC&lt;/span&gt;
was the greatest programming language ever. Decisions based solely on
popularity are rarely good in the long&amp;nbsp;term.&lt;/p&gt;
&lt;p&gt;But, alas, enough of the Microsoft-bashing. What struck me more was the
prohibition against Firefox, and what it means for technically-apt
employees. Times are changing, and many of the people now entering the
workforce are well-versed with technology. The days when employers could
expect to give their new hires initial computer training are long gone.
And, while many may not see it, the days when every new employee could
be expected to know only a common &amp;#8220;popular&amp;#8221; system (Windows, &lt;span class="caps"&gt;MS&lt;/span&gt; Office,
&lt;span class="caps"&gt;MSIE&lt;/span&gt;) are gone, too. Many people who work at universities, such as
myself, are seeing browser stats that report less than 40% Windows, with
an explosion of Mac-based users and (perhaps thanks to Android,
Netbooks, and Ubuntu) a strong growth in the Linux user&amp;nbsp;base.&lt;/p&gt;
&lt;p&gt;The Rutgers University student computing labs have both &lt;span class="caps"&gt;IE&lt;/span&gt; and Firefox
installed on the Windows machines (and we also have a *very* large
number of Mac or dual-boot Windows/Mac clients) and a walk through a
busy lab will reveal a strong majority of users on Firefox. Many
cash-strapped students, even the ones I knew a few years ago, were using
OpenOffice rather than pay for &lt;span class="caps"&gt;MS&lt;/span&gt;&amp;nbsp;Office.&lt;/p&gt;
&lt;p&gt;A similar trend can be seen in the new hires and young professionals who
simply won&amp;#8217;t settle for a corporate cell phone - Windows Mobile, iPhone
or Android, they already have a phone and &lt;span class="caps"&gt;OS&lt;/span&gt; that they like, and
consider a part of their&amp;nbsp;lives.&lt;/p&gt;
&lt;p&gt;There&amp;#8217;s a very simple point here - for an increasing number of people,
especially those now entering the workforce, technology is an
inextricable part of their lives. It&amp;#8217;s part of their sense of self, of
expression, of free choice. Telling many people what browser they can
and can&amp;#8217;t use is like telling a new hire a decade or two ago how their
handwriting had to look or what size note pad they could use. Asking
many of my (even non-techie) friends to switch cell phone &lt;span class="caps"&gt;OS&lt;/span&gt; would be
like telling them what color clothes or tie they have to wear to work.
Telling the average 20-year-old that they can&amp;#8217;t use instant messenger or
facebook at work is like telling the average 40-year-old they can&amp;#8217;t
receive a phone call from their spouse or child. Most especially, with
the pervasiveness of Internet access, connected devices and choice in
browsers and other software, these choices are being seen as a part of
life, a part of&amp;nbsp;technology.&lt;/p&gt;
&lt;p&gt;Lastly, and perhaps most importantly to many businesses, the role of &lt;span class="caps"&gt;IT&lt;/span&gt;
as seen by the end-user is changing, and the role of technology in
productivity is changing. For many young college-educated workers, &lt;span class="caps"&gt;IT&lt;/span&gt; is
more of a procurement avenue than a support system. Many would happily
install the software application of their choice (whether it is Firefox,
OpenOffice, or something else) on their own, without the worry of a
formal help desk. There&amp;#8217;s also the issue of productivity -
technologically proficient new hires are already used to a software
environment. They&amp;#8217;ve been able to choose their own applications, &lt;span class="caps"&gt;OS&lt;/span&gt;,
browser, etc. Forcing them to switch - especially if they have been
using an application for years and still do at home - will only result
in lower productivity and some amount of frustration. I know that I, for
one, have almost laughed when people advertising for Linux admin jobs
said I&amp;#8217;d be using the same Windows desktop environment as all of the&amp;nbsp;users.&lt;/p&gt;</summary><category term="microsoft"></category></entry><entry><title>Cablevision Reaches out to touch someone</title><link href="http://blog.jasonantman.com/2010/03/cablevision-reaches-out-to-touch-someone/" rel="alternate"></link><updated>2010-03-03T21:21:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-03-03:2010/03/cablevision-reaches-out-to-touch-someone/</id><summary type="html">&lt;p&gt;As has been in the news (and advertised to high hell) for the past few
days here in &lt;span class="caps"&gt;NJ&lt;/span&gt;, Cablevision and &lt;span class="caps"&gt;ABC&lt;/span&gt; are involved in a feud. Cablevision
is advertising everywhere - I heard at least 4 ads on the drive home
from work about how &lt;span class="caps"&gt;ABC&lt;/span&gt; is making unreasonable demands, asking for $40M,&amp;nbsp;etc.&lt;/p&gt;
&lt;p&gt;Well, then I found something more interesting. I stopped at a friend&amp;#8217;s
after work and turned on the (Cablevision) cable box. Strange. It was a
full-screen ad from Cablevision about the &lt;span class="caps"&gt;ABC&lt;/span&gt; situation. And it seemed
to go on forever. But&amp;#8230; huh? The cable box was tuned to channel&amp;#8230;
1999. I changed the channel, and got regular &lt;span class="caps"&gt;TV&lt;/span&gt;&amp;nbsp;back.&lt;/p&gt;
&lt;p&gt;But when I got home and turned on &lt;em&gt;my&lt;/em&gt; cable box - which was last tuned
to channel 47 and is setup to resume on the last channel it was tuned to
- it also started up to the Cablevision ad on channel&amp;nbsp;1999.&lt;/p&gt;
&lt;p&gt;To anyone who&amp;#8217;s read Jonathan Zittrain&amp;#8217;s &lt;a href="http://www.amazon.com/Future-Internet-How-Stop/dp/0300151241/ref=sr_1_1?ie=UTF8&amp;amp;s=books&amp;amp;qid=1267669057&amp;amp;sr=8-1"&gt;The Future of the Internet and
How to Stop
It&lt;/a&gt;,
this is as clear an indication of the problems with appliancization as&amp;nbsp;anything.&lt;/p&gt;
&lt;p&gt;Don&amp;#8217;t take this lightly. It has some serious implications. Specifically,
the basics of what Cablevision&amp;nbsp;did:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Pushed out a new software version to all of their cable boxes, very
    quickly, that added a new&amp;nbsp;channel.&lt;/li&gt;
&lt;li&gt;Changed an arbitrary setting in the configuration of their
    customer&amp;#8217;s boxes (the channel that displays at power on)&amp;nbsp;remotely.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The idea that Cablevision can control all of their customer&amp;#8217;s boxes
remotely, and this quickly, is a bit disturbing. If any of you have ever
checked out the diagnostic mode on a Scientific Atlanta box, you&amp;#8217;d know
that it&amp;#8217;s more or less a full computer (the &amp;#8220;channels&amp;#8221; are actually
streaming media over &lt;span class="caps"&gt;IP&lt;/span&gt;) and the amount of control that Cablevision has
is virtually&amp;nbsp;limitless.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;(The automatic channel change has been confirmed by a number
&lt;a href="http://bumped.org/tek/2010/03/03/abc7-vs-cablevision-abc-may-go-off-the-air-march-7th-here-we-go-again/"&gt;of&lt;/a&gt;
&lt;a href="http://www.northjersey.com/arts_entertainment/030110_Disney_ABC_may_go_dark_on_Cablevision_in_New_York.html"&gt;other&lt;/a&gt;
&lt;a href="http://blogs.app.com/inthemoney/2010/03/02/attention-cablevision-customers-here-we-go-again/comment-page-1/"&gt;people&lt;/a&gt;.)&lt;/em&gt;&lt;/p&gt;</summary><category term="appliance"></category><category term="cablevision"></category><category term="freedom"></category></entry><entry><title>The Newest Generation of Hackers</title><link href="http://blog.jasonantman.com/2010/03/the-newest-generation-of-hackers/" rel="alternate"></link><updated>2010-03-02T21:45:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-03-02:2010/03/the-newest-generation-of-hackers/</id><summary type="html">&lt;p&gt;&lt;em&gt;Note for non-technical readers (not that I expect there to be many).
The title of this post includes the word &amp;#8220;hacker&amp;#8221;. If you think that has
anything to do with illegal acts or unethical behavior, you&amp;#8217;ve fallen
victim to what happens when the mainstream media latches on to a term
they don&amp;#8217;t understand. The
&lt;a href="http://www.catb.org/jargon/html/H/hacker.html"&gt;definition&lt;/a&gt; of
this word is far from negative. Within the geek community, the title
&amp;#8220;hacker&amp;#8221; is the utmost compliment - something like Grand Master in the
martial arts, or perhaps whatever title is given to an eminent artist.
It both describes someone who is an expert in their field. Or, more
generally, someone who enjoys seeking knowledge simply for the sake of
knowledge - figuring out how things work, how to make them, and how to
make them better. If you&amp;#8217;re looking for a term that describes a
criminal, &amp;#8220;attacker&amp;#8221;, &amp;#8220;malicious user&amp;#8221; or &amp;#8220;computer criminal&amp;#8221; work fine.
While I wouldn&amp;#8217;t by any extent consider myself a hacker in the
super-genius-wizard sense of the term, I do definitely subscribe to the
hacker ethic - the burning need to figure out how things work and make
them&amp;nbsp;better.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Thanks to the snow at the end of last week, and a long weekend, I
actually got to do some reading that didn&amp;#8217;t involve man pages or books
strictly about software. I finally finished &lt;a href="http://www.amazon.com/Daemon-Gnu-Penguin-Peter-Salus/dp/097903423X"&gt;The Daemon, the Gnu, and
the
Penguin&lt;/a&gt;
by Peter H. Salus, a wonderful book (with a great foreword by maddog
Hall). I also &lt;em&gt;finally&lt;/em&gt; got a chance to start reading &lt;a href="http://www.amazon.com/Cathedral-Bazaar-Musings-Accidental-Revolutionary/dp/0596001088/"&gt;The Cathedral &lt;span class="amp"&gt;&amp;amp;&lt;/span&gt;
the Bazaar: Musings on Linux and Open Source by an Accidental
Revolutionary&lt;/a&gt;
by Eric S. Raymond (&lt;span class="caps"&gt;ESR&lt;/span&gt;). I&amp;#8217;m only up to page 50 or so, but it&amp;#8217;s an
equally good book, and I&amp;#8217;ve been looking forward to reading it for&amp;nbsp;years.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ve always been very interested in history (heck, I have a minor in
it), and specifically the history of my other interests. When
photography took up most of my time, I read every photo history book I
could get my hands on (including many primary sources on now-archaic
techniques). In the past few years, I&amp;#8217;ve been amassing books on
computing history (specifically &lt;span class="caps"&gt;ARPANET&lt;/span&gt;/the Internet and Unix/Linux/Free
software) at a near-alarming&amp;nbsp;rate.&lt;/p&gt;
&lt;p&gt;Through all of my reading, two main things have struck me: the utterly
amazing feats accomplished by previous generations, and how my own
generation takes them for granted. I was born in 1987 which, I feel,
makes me part of a very small group who were lucky enough to grow up
during the real rise of the Internet. I remember playing simple games on
my grandmother&amp;#8217;s (business) &lt;span class="caps"&gt;386DX&lt;/span&gt; long before I could read most of the
words on the screen. But I also remember my father dialing in to an &lt;span class="caps"&gt;ISP&lt;/span&gt;
(I honestly don&amp;#8217;t remember which one) on a 9600 baud serial modem, and
how unique that was at the time (at least among kids my age). By 13 or
so, I had a 10BaseT network in my house, sharing a 56k dial-up
connection between two computers. I feel that I&amp;#8217;m part of a short
historical period of kids who &amp;#8220;grew up&amp;#8221; with computers, used them in
middle school, are perfectly at home with them, but still remember
dial-up, the launch of Windows 98, and ordering Linux on CDs because you
just couldn&amp;#8217;t get it any other way (too young to have access to the
resources of a college, only&amp;nbsp;dial-up).&lt;/p&gt;
&lt;p&gt;Anyway, on to my&amp;nbsp;point&amp;#8230;&lt;/p&gt;
&lt;p&gt;As I read about those who stepped before me (and my generation), those
who thought up such amazing ideas as Unix, the Internet, networking and
most of the software and protocols we have today, I realize how big
their shoes are, and how difficult it will be for the next generation to
fill them. Sure, we have Facebook, &lt;span class="caps"&gt;RSS&lt;/span&gt; feeds, Web 2.0 and smartphones,
but will we be able to innovate on the level that those who came before
us did? And then it strikes me how much we young aspiring hackers take
for granted. How many aspects of technology today would be seemed
impossible 20 years ago, but we use without a second&amp;nbsp;thought.&lt;/p&gt;
&lt;p&gt;The last generation of hackers and programmers were raised on software
distribution tapes. Their idea of &amp;#8220;open&amp;#8221; was formed by what they were
used to - a Cathedral development model, with regular releases
(production, perhaps beta, perhaps even less) and accompanying source
code. However, in the pre-Internet days, they were still bound by
physical media. They were still bound to the Cathedral development
model, to a small and tight-knit group of sages determining when the
world was ready to see the fruits of their&amp;nbsp;labor.&lt;/p&gt;
&lt;p&gt;The current generation - those of us just out of college or grad school,
or even younger - think of Linux as the quintessential open source
project. For those of us who came into computing when Linux was already
around (I first ran Linux in 2001 when, at 14, I bought the
newly-released &lt;span class="caps"&gt;CD&lt;/span&gt; set of SuSE 7.3), Linux sets the bar. It&amp;#8217;s what we
were raised on (at least in terms of open source). Fixed releases - even
with source - seem antiquated, pre-Internet, our fathers&amp;#8217; open source.
To us, open means nightly builds, world-readable ticket/bug trackers,
anonymous Git or &lt;span class="caps"&gt;SVN&lt;/span&gt; access, and &lt;span class="caps"&gt;RSS&lt;/span&gt; feeds of every commit. It means
being able to see every line of code at every moment in time, even if
we&amp;#8217;ve never e-mailed one of the&amp;nbsp;developers.&lt;/p&gt;
&lt;p&gt;Even just a few years ago, the word &amp;#8220;open&amp;#8221; was used by vendors to mean
almost anything - everything from software based on Linux, to software
that included source (regardless of the license) to software that just
used (patent encumbered) documented protocols or formats. For the next
generation, even the generation entering the workforce now, open means
much more. It means transparency in development, in code, in
documentation, in&amp;nbsp;management.&lt;/p&gt;
&lt;p&gt;Many times, I&amp;#8217;ve found an &amp;#8220;open&amp;#8221; software project, and searched their
web site endlessly looking for links to Git or &lt;span class="caps"&gt;SVN&lt;/span&gt; or &lt;span class="caps"&gt;CVS&lt;/span&gt;. Or looked
endlessly for the (internal) bug tracker. Every time, I had to remind
myself that the world, even many of the open source projects, are still
far behind my expectations. Even Google&amp;#8217;s Android Open Source project
only has code merged in periodically from the production (closed) tree,
and maintains a separate bug tracker. Far from my expectation of just
having some parts of the tree unavailable on the Internet, and some
classes of bugs filtered out from public&amp;nbsp;view.&lt;/p&gt;
&lt;p&gt;Nobody - not even Microsoft - can deny that the world is moving more and
more to open source. It&amp;#8217;s already the de-facto standard on the Internet,
but it&amp;#8217;s moving more and more to the desktop every day. And, as this
happens, the expectations of what open means (increasingly more
transparent than just &amp;#8220;open&amp;#8221;) are also increasing. The software world -
both proprietary and open source - will have to keep up. And, hopefully,
as the generation raised on the Internet begins to fill the ranks of
geeks in the workforce, we&amp;#8217;ll see more and more open source&amp;nbsp;usage.&lt;/p&gt;
&lt;p&gt;As a side note, I&amp;#8217;d be very interested to see how open source use
compares to demographics. I know that Linux use (on student-owned
computers) at most colleges is way above the global average, and the
same goes for&amp;nbsp;Firefox.&lt;/p&gt;</summary><category term="free"></category><category term="hacker"></category><category term="linux"></category><category term="open source"></category><category term="svn"></category></entry><entry><title>Links for Tuesday, March 2, 2010</title><link href="http://blog.jasonantman.com/2010/03/links-for-tuesday-march-2-2010/" rel="alternate"></link><updated>2010-03-02T11:49:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-03-02:2010/03/links-for-tuesday-march-2-2010/</id><summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href="http://utcc.utoronto.ca/~cks/space/blog/solaris/SunDown"&gt;Chris&amp;#8217;s Wiki ::&amp;nbsp;blog/solaris/SunDown&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://utcc.utoronto.ca/~cks/space/blog/solaris/ReadingSolarisTeaLeaves"&gt;Chris&amp;#8217;s Wiki ::&amp;nbsp;blog/solaris/ReadingSolarisTeaLeaves&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://highscalability.com/blog/2010/2/26/mysql-and-memcached-end-of-an-era.html"&gt;High Scalability - High Scalability - MySQL and Memcached: End of
    an&amp;nbsp;Era?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.networkworld.com/community/node/58042"&gt;Should Open Source Be An Enemy Of The State? | NetworkWorld.com&amp;nbsp;Community&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://sysadmin1138.net/mt/blog/2010/02/dealing-with-user-20.shtml?utm_source=feedburner&amp;amp;utm_medium=feed&amp;amp;utm_campaign=Feed:+Sysadmin1138+(SysAdmin1138+Events)&amp;amp;utm_content=Google+Reader"&gt;Dealing with User 2.0 - SysAdmin118&amp;nbsp;Expounds&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>New web server, WP optimization</title><link href="http://blog.jasonantman.com/2010/02/new-web-server-wp-optimization/" rel="alternate"></link><updated>2010-02-28T23:19:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-02-28:2010/02/new-web-server-wp-optimization/</id><summary type="html">&lt;p&gt;Tonight, more or less on a whim, I moved my blog from my older (dual
1GHz Pentium &lt;span class="caps"&gt;III&lt;/span&gt; Coppermine, &lt;span class="caps"&gt;1GB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt;, 10k &lt;span class="caps"&gt;RPM&lt;/span&gt; &lt;span class="caps"&gt;SCSI&lt;/span&gt; disks, Compaq
Proliant &lt;span class="caps"&gt;DL360&lt;/span&gt; G1, OpenSuSE 10.2 32-bit) web server to my newer one
(dual 1.4GHz Pentium &lt;span class="caps"&gt;III&lt;/span&gt;, &lt;span class="caps"&gt;2GB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt;, 10k &lt;span class="caps"&gt;RPM&lt;/span&gt; &lt;span class="caps"&gt;SCSI&lt;/span&gt; disks, &lt;span class="caps"&gt;HP&lt;/span&gt; Proliant &lt;span class="caps"&gt;DL360&lt;/span&gt;
G2, CentOS 5.3 32-bit). I did some profiling with
&lt;a href="http://httpd.apache.org/docs/2.0/programs/ab.html"&gt;ab&lt;/a&gt; (ApacheBench),
and just moving from one server to the other got some serious
performance gains (I was profiling with runs of 1000 requests total, 10
concurrent requests). I also added the &lt;a href="http://wordpress.org/extend/plugins/w3-total-cache/"&gt;W3 Total
Cache&lt;/a&gt; Wordpress
plugin, which got the numbers to look even&amp;nbsp;better!&lt;/p&gt;
&lt;p&gt;As a side note, this was all done pretty quickly (moving the database
and tarball for the vhost, installing the plugin, changing &lt;span class="caps"&gt;DNS&lt;/span&gt;), so
please give me a heads-up if you experience any&amp;nbsp;problems.&lt;/p&gt;
&lt;p&gt;The numbers are rather&amp;nbsp;impressive:&lt;/p&gt;
&lt;table border="1"&gt;
&lt;tr&gt;
&lt;td&gt;
&lt;/td&gt;
&lt;th&gt;
Total Time(s)

&lt;/th&gt;
&lt;th&gt;
&lt;span class="caps"&gt;RPS&lt;/span&gt;

&lt;/th&gt;
&lt;th&gt;
Avg. Connection Time (ms)

&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;
Old Server

&lt;/th&gt;
&lt;td&gt;
1192.252

&lt;/td&gt;
&lt;td&gt;
838.75

&lt;/td&gt;
&lt;td&gt;
11,893

&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;
New Server

&lt;/th&gt;
&lt;td&gt;
569.121

&lt;/td&gt;
&lt;td&gt;
1757.09

&lt;/td&gt;
&lt;td&gt;
5,667

&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;
Default W3tc Config

&lt;/th&gt;
&lt;td&gt;
23.754

&lt;/td&gt;
&lt;td&gt;
42,098.44

&lt;/td&gt;
&lt;td&gt;
237

&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;
Tuned W3tc

&lt;/th&gt;
&lt;td&gt;
12.281

&lt;/td&gt;
&lt;td&gt;
81,428.76

&lt;/td&gt;
&lt;td&gt;
122

&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;

&lt;p&gt;All tests were performed on my workstation, a Dell Precision 470, two
dual-core Xeons at 2.8 GHz, &lt;span class="caps"&gt;2GB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt;, &lt;span class="caps"&gt;16GB&lt;/span&gt; swap, OpenSuSE 11.1 64-bit.
This was on the same &lt;span class="caps"&gt;LAN&lt;/span&gt; and subnet as the servers, with the workstation
connected via a 1Gbps copper Ethernet link and the web-serving
interfaces of the servers connected via 100Mbps (There&amp;#8217;s a trunk in
between, from the gigabit aggregation switch to the 100Mbps distribution&amp;nbsp;switch).&lt;/p&gt;</summary><category term="apache"></category><category term="optimization"></category><category term="performance"></category><category term="wordpress"></category></entry><entry><title>My Android Apps</title><link href="http://blog.jasonantman.com/2010/02/my-android-apps/" rel="alternate"></link><updated>2010-02-28T12:39:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-02-28:2010/02/my-android-apps/</id><summary type="html">&lt;p&gt;&lt;strong&gt;Update 2010-08-15&lt;/strong&gt; - I&amp;#8217;ve also added some new apps to an &lt;a href="/2010/08/updated-android-app-list/"&gt;updated
post&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The past 48 hours has been very eventful in my Android world. Thanks to
the instructions on &lt;a href="http://rootyourdroid.info"&gt;rootyourdroid.info&lt;/a&gt;
(hey, it&amp;#8217;s an expensive phone and locked hardware - I&amp;#8217;m not fooling
around the way I would with something &lt;a href="/2009/11/root-on-a-cyclades-acs-console-server/"&gt;more
common&lt;/a&gt;),
I rooted my droid and did a few minor hacks. Though, I must say, it
pains me to see all of the post-rooting instructions based on access via
adb, instead of using a terminal emulator on the phone. Also, last
night, my mother (definitely &lt;em&gt;not&lt;/em&gt; a technical person) for a Droid - and
loves it! (My dad got one a month or two&amp;nbsp;ago).&lt;/p&gt;
&lt;p&gt;Anyway, in the last 24 hours, I&amp;#8217;ve gone app-crazy. I thought I&amp;#8217;d share
some of my findings here. Unfortunately, while a few of the app/file
managers out there do dump a list of applications, I can&amp;#8217;t find one that
dumps a list including the package names (which are required to create
an effective link to the app). If any of you know of one, please
enlighten me. For now, I&amp;#8217;ll construct this list by hand (using the list
from &lt;a href="market://details?id=com.metago.astro"&gt;&lt;span class="caps"&gt;ASTRO&lt;/span&gt;&lt;/a&gt; 2.2.4), and maybe
write an app to do it in the&amp;nbsp;future.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;(Note: These links all use the market:// &lt;span class="caps"&gt;URI&lt;/span&gt; scheme, so they&amp;#8217;re only
useful if clicked on an Android device with the Market&amp;nbsp;app.)&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="market://details?id=lysesoft.andftp"&gt;AndFTP&lt;/a&gt; (1.3) - A good
    &lt;span class="caps"&gt;FTP&lt;/span&gt;/&lt;span class="caps"&gt;SFTP&lt;/span&gt; client for Android, includes pubkey-based authentication
    and host&amp;nbsp;storage.&lt;/li&gt;
&lt;li&gt;&lt;a href="market://details?id=net.sf.andbatdog.batterydog"&gt;Android Battery
    Dog&lt;/a&gt; (0.1.2) - An
    app that runs as a service and collects &lt;em&gt;detailed&lt;/em&gt; statistics on
    battery usage, including temperature, charge percent, voltage,
    discharge rate, battery technology and external power status. While
    it can display a graph or formatted data, its&amp;#8217; real shining point is
    the ability to export timestamped semicolon-delimited data files for
    external graphing and&amp;nbsp;analysis.&lt;/li&gt;
&lt;li&gt;&lt;a href="market://details?id=com.appdroid.anycut"&gt;Any Cut&lt;/a&gt; (1.0) - Allows
    you to create shortcuts on your home screen to almost anything,
    including Android &lt;span class="caps"&gt;OS&lt;/span&gt; Acitvities, direct calls or direct text&amp;nbsp;messages.&lt;/li&gt;
&lt;li&gt;&lt;a href="market://details?id=com.metago.astro"&gt;&lt;span class="caps"&gt;ASTRO&lt;/span&gt;&lt;/a&gt; (2.2.4) - File manager
    that allows copying of files on the device (both internal memory and
    &lt;span class="caps"&gt;SD&lt;/span&gt; card), image and file viewing, listing/management of apps
    (including finding out the package name of an App), reading of tar
    and tgz files,&amp;nbsp;etc.&lt;/li&gt;
&lt;li&gt;&lt;a href="market://details?id=com.geekyouup.android.widgets.battery"&gt;Battery
    Widget&lt;/a&gt;
    (1.5.2, by mippin) - Very simple widget for the home screen that
    takes up one square and shows current battery level. When clicked,
    provides shortcuts to settings screens for display, &lt;span class="caps"&gt;GPS&lt;/span&gt;, WiFi and&amp;nbsp;Bluetooth.&lt;/li&gt;
&lt;li&gt;&lt;a href="market://details?id=com.apksoftware.compass"&gt;Compass&lt;/a&gt; (1.1) -
    Simple compass app. Shows a compass which seems to be accurate,
    current lat/long and current street address. Has extensive settings
    and some nice skins for the&amp;nbsp;compass.&lt;/li&gt;
&lt;li&gt;&lt;a href="market://details?id=org.connectbot"&gt;ConnectBot&lt;/a&gt; (1.6.2) - A very
    good &lt;span class="caps"&gt;SSH&lt;/span&gt; client for Android. Allows storage of multiple hosts,
    pubkey-based authentication (with a master password), etc.
    Unfortunately, doesn&amp;#8217;t seem to have any way (that I can find) to
    enter certain characters, such as tab and pipe&amp;nbsp;(|).&lt;/li&gt;
&lt;li&gt;&lt;a href="market://details?id=com.mgeek.android.DolphinBrowser.Browser"&gt;Dolphin
    Browser&lt;/a&gt;
    (2.5.0) - An alternate browser for Android. I haven&amp;#8217;t used it
    extensively yet, but it shows multiple tabs at the top of the screen
    like Firefox (easier to switch between tabs than the stock browser&amp;#8217;s
    Menu -&gt; Windows) and &lt;strong&gt;supports iPhone-like multitouch on the
    Droid&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="market://details?id=com.gmail.nagamatu.drocap2"&gt;drocap2&lt;/a&gt; (2.07) -
    Screen capture program (requires root). Allows you to trigger a
    capture from the notifications bar and stores captures on the &lt;span class="caps"&gt;SD&lt;/span&gt;&amp;nbsp;card.&lt;/li&gt;
&lt;li&gt;&lt;a href="market://details?id=com.motorola.dlight"&gt;DroidLight&lt;/a&gt; (3.0) - Nice
    twist on the usual flashlight app. By Motorola, this app triggers
    the camera&amp;#8217;s flash &lt;span class="caps"&gt;LED&lt;/span&gt; in a steady burn mode, providing very good
    light output. Probably a real battery&amp;nbsp;killer.&lt;/li&gt;
&lt;li&gt;&lt;a href="market://details?id=com.levelup.foxyring"&gt;FoxyRing&lt;/a&gt; (1.12) - This
    was an ANdroid Developer Challenge winner and, among other things,
    it claims to monitor ambient sound levels and adjust your ringer
    volume to match them. Unfortunately, due to the overly restrictive
    End User License Agreement (&lt;span class="caps"&gt;EULA&lt;/span&gt;), specifically the strong
    provisions against reverse engineering and redistribution, I was
    forced to uninstall the app before even trying&amp;nbsp;it.&lt;/li&gt;
&lt;li&gt;&lt;a href="market://details?id=com.eclipsim.gpsstatus2"&gt;&lt;span class="caps"&gt;GPS&lt;/span&gt; Status&lt;/a&gt; (3.0.3) -
    Very nice app. Provides a display like a real &lt;span class="caps"&gt;GPS&lt;/span&gt;, showing the
    location and status of various satellites (in a rotating compass),
    heading and orientation, number of fixes, estimated error (DoP),
    signal strength graph for stelites, speed, altitude, pitch/tilt of
    phone, magnetic field, acceleration, coordinates and time of last&amp;nbsp;fix.&lt;/li&gt;
&lt;li&gt;&lt;a href="market://details?id=com.magicandroidapps.iperf"&gt;iPerf&lt;/a&gt; (1.07) - An
    iPerf client for Android that seems to work fine. How cool! Seems to
    be a wrapper around the binary, lets you specify &lt;span class="caps"&gt;CLI&lt;/span&gt; arguments,
    shows console&amp;nbsp;output.&lt;/li&gt;
&lt;li&gt;&lt;a href="market://details?id=com.meebo"&gt;Meebo &lt;span class="caps"&gt;IM&lt;/span&gt;&lt;/a&gt; (22) - A simple, good,
    multi-protocol &lt;span class="caps"&gt;IM&lt;/span&gt;&amp;nbsp;application.&lt;/li&gt;
&lt;li&gt;&lt;a href="market://details?id=com.imkurt.metaldetector"&gt;Metal Detector&lt;/a&gt;
    (1.2-&lt;span class="caps"&gt;RELEASE&lt;/span&gt;) - Maybe not that useful, but way cool. The Droid (and
    perhaps other phones?) uses the compass to detect magnetic fields to
    trigger the modes for car dock and multimedia dock. This turns it
    into a metal detector. Wonderful cool-ness&amp;nbsp;factor.&lt;/li&gt;
&lt;li&gt;&lt;a href="market://details?id=de.schoar.nagroid"&gt;Nagroid&lt;/a&gt; (0.0.7) - A Nagios
    watcher for Android. Can be configured with only one &lt;span class="caps"&gt;URL&lt;/span&gt;, but can do
    &lt;span class="caps"&gt;HTTP&lt;/span&gt; Basic Auth and handle self-signed &lt;span class="caps"&gt;SSL&lt;/span&gt; certs. Options to hide
    everything that&amp;#8217;s &lt;span class="caps"&gt;OK&lt;/span&gt;, and show only unhandled (un-acknowledged)
    problems. Also can start a service to poll and alert at regular
    intervals. Only down side is that it only handles one Nagios&amp;nbsp;&lt;span class="caps"&gt;URL&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="market://details?id=info.lamatricexiste.network"&gt;Network Discovery&lt;/a&gt;
    (0.2.7.1) - Intersting little app that I haven&amp;#8217;t played around with
    much. Does port scans of IPs and runs a &amp;#8220;network discovery&amp;#8221; of the
    &lt;span class="caps"&gt;LAN&lt;/span&gt;, though it doesn&amp;#8217;t say whether it is active (ping/port scanning)
    or passive (&lt;span class="caps"&gt;ARP&lt;/span&gt;). Displays info on devices (&lt;span class="caps"&gt;IP&lt;/span&gt;, &lt;span class="caps"&gt;MAC&lt;/span&gt; address, decodes
    &lt;span class="caps"&gt;MAC&lt;/span&gt; manufacturer name from address) and a button to run a port&amp;nbsp;scan.&lt;/li&gt;
&lt;li&gt;&lt;a href="market://details?id=com.eolwral.osmonitor"&gt;OSMonitor&lt;/a&gt; (1.1.0) -
    Good process monitor for Android - shows running processes. load
    from each process, total &lt;span class="caps"&gt;CPU&lt;/span&gt; usage, network information for all NICs
    (WiFi, &lt;span class="caps"&gt;BT&lt;/span&gt;, cellular/&lt;span class="caps"&gt;PPP&lt;/span&gt;), active &lt;span class="caps"&gt;TCP&lt;/span&gt; connections, battery status,
    storage status (of &lt;span class="caps"&gt;ALL&lt;/span&gt; filesystems), and internal&amp;nbsp;log.&lt;/li&gt;
&lt;li&gt;&lt;a href="market://details?id=com.mm.network"&gt;Ping&lt;/a&gt; (1.5.3) - Simple ping
    app. Lets you enter an &lt;span class="caps"&gt;IP&lt;/span&gt; and select how many pings to send out.
    Shows console&amp;nbsp;output.&lt;/li&gt;
&lt;li&gt;&lt;a href="market://details?id=com.shazam.android"&gt;Shazam&lt;/a&gt; (1.3) - Yup, same
    thing that was the killer app for&amp;nbsp;iPhone.&lt;/li&gt;
&lt;li&gt;&lt;a href="market://details?id=com.riteshsahu.SMSBackupRestore"&gt;&lt;span class="caps"&gt;SMS&lt;/span&gt; Backup &lt;span class="amp"&gt;&amp;amp;&lt;/span&gt;
    Restore&lt;/a&gt; (2.1)&lt;ul&gt;
&lt;li&gt;Allows backup and restore of &lt;span class="caps"&gt;SMS&lt;/span&gt; data to/from &lt;span class="caps"&gt;SD&lt;/span&gt; card, as an &lt;span class="caps"&gt;XML&lt;/span&gt;
file. Good for Droid users who experience the &lt;a href="http://code.google.com/p/android/issues/detail?id=5669"&gt;disappearing
&lt;span class="caps"&gt;SMS&lt;/span&gt;&lt;/a&gt;&amp;nbsp;bug.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="market://details?id=org.zwanoo.android.speedtest"&gt;Speed Test&lt;/a&gt;
    (1.7.0) - A simple speed test app for Android from speedtest.net.
    Not sure how accurate it is, but it does upload and download tests
    over WiFi or&amp;nbsp;cellular/&lt;span class="caps"&gt;PPP&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="market://details?id=com.wasserwaage"&gt;Spirit Level Plus&lt;/a&gt; (1.2) -
    Simple but cool. Spirit level for the phone, using the builtin
    accelerometer. Seems relatively&amp;nbsp;accurate.&lt;/li&gt;
&lt;li&gt;&lt;a href="market://details?id=com.sportstracklive.stopwatch"&gt;StopWatch&lt;/a&gt;
    (1.07) - &lt;span class="caps"&gt;AWFUL&lt;/span&gt;. It&amp;#8217;s a stopwatch app, but I could &lt;em&gt;not&lt;/em&gt; get it to
    stop displaying stuff in the notifications&amp;nbsp;bar.&lt;/li&gt;
&lt;li&gt;&lt;a href="market://details?id=jackpal.androidterm"&gt;Terminal Emulator&lt;/a&gt; (1.0.4)&lt;ul&gt;
&lt;li&gt;Terminal emulator for Android. It feels so wonderful to be able to
pull up an app, pop open the keyboard, and type &amp;#8220;su&amp;#8221; on my phone. On
the down side, once again, I can&amp;#8217;t figure out how to enter the pipe
or tab characters, and I don&amp;#8217;t know what shell the phone has on&amp;nbsp;it.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="market://details?id=com.farproc.wifi.analyzer"&gt;Wifi Analyzer&lt;/a&gt;
    (2.2.9) - &lt;strong&gt;&lt;span class="caps"&gt;REALLY&lt;/span&gt; &lt;span class="caps"&gt;COOL&lt;/span&gt;&lt;/strong&gt;. Vaguely
    &lt;a href="http://www.metageek.net/products/wi-spy-24x"&gt;WiSpy&lt;/a&gt; like, but I
    doubt it&amp;#8217;s accurate. Shows a graph of spectrum utilization with
    SSIDs and signal strength, a time-based graph of signal strength per
    &lt;span class="caps"&gt;SSID&lt;/span&gt;, a simple list of APs with channel number, &lt;span class="caps"&gt;BSSID&lt;/span&gt;, frequency,
    signal strength and encryption, and a simple &amp;#8220;signal meter&amp;#8221;. Looks
    like it could be pretty&amp;nbsp;useful.&lt;/li&gt;
&lt;li&gt;&lt;a href="market://details?id=gr.androiddev.WifiScanner"&gt;WifiScanner&lt;/a&gt; (1.7) -
    Simple WiFi scanner app. Shows all detected WiFi APs along with
    &lt;span class="caps"&gt;SSID&lt;/span&gt;, &lt;span class="caps"&gt;BSSID&lt;/span&gt;/&lt;span class="caps"&gt;MAC&lt;/span&gt;, signal level, channel and&amp;nbsp;encryption.&lt;/li&gt;
&lt;/ul&gt;</summary><category term="android"></category><category term="apps"></category><category term="droid"></category></entry><entry><title>On FIle Sharing, DRM, and customer choice</title><link href="http://blog.jasonantman.com/2010/02/on-file-sharing-drm-and-customer-choice/" rel="alternate"></link><updated>2010-02-27T13:04:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-02-27:2010/02/on-file-sharing-drm-and-customer-choice/</id><summary type="html">&lt;p&gt;There&amp;#8217;s been a &lt;em&gt;lot&lt;/em&gt; of buzz over the past few years about &lt;span class="caps"&gt;DRM&lt;/span&gt;, file
sharing, &amp;#8220;intellectual property theft&amp;#8221;, etc. A lot of that has been the
two extreme sides - the media industry and their &amp;#8220;have it our way&amp;#8221;
attitude, and the extremists who feel that everything digital should be
freely shareable by everyone. I don&amp;#8217;t fall into either of those
categories, and I don&amp;#8217;t think the majority of people do&amp;nbsp;either.&lt;/p&gt;
&lt;p&gt;First, let&amp;#8217;s look at a bit of history. In my early childhood (1990&amp;#8217;s),
cassettes were giving way to CDs, and &lt;span class="caps"&gt;VHS&lt;/span&gt; tapes were the norm for
videos. You could go to any corner store and buy a blank cassette tape
or &lt;span class="caps"&gt;VHS&lt;/span&gt; tape, and it was widely known that people recorded &lt;span class="caps"&gt;TV&lt;/span&gt; shows or
copied audio or video tapes. To cope with this, a portion of the
purchase price of every blank tape was distributed among media companies
and artists, to compensate them for the copies being made. It seemed
that everyone was happy about this - nobody was trying to ban the sale
of blank tapes, and my neighborhood video rental store never made me
sign a contract promising not to copy a rented tape. There seemed to be
a balance between the need for profit and what consumers wanted to&amp;nbsp;do.&lt;/p&gt;
&lt;p&gt;That all changed when the world went digital - first audio CDs, then
movies on &lt;span class="caps"&gt;DVD&lt;/span&gt;. It requires mention that almost all of the problems faced
by the media industry (namely &amp;#8220;piracy&amp;#8221; and file sharing) were brought by
the industry itself. I vividly remember, over a period of a mere two
years or so, the transition from &lt;span class="caps"&gt;VHS&lt;/span&gt; to &lt;span class="caps"&gt;DVD&lt;/span&gt;. I remember going to the
video rental store (we were late adopters, nobody in my family had a
standalone &lt;span class="caps"&gt;DVD&lt;/span&gt; player) and being told that new releases were no longer
coming out on &lt;span class="caps"&gt;VHS&lt;/span&gt;. We &lt;em&gt;had&lt;/em&gt; to buy a &lt;span class="caps"&gt;DVD&lt;/span&gt; player. This was a format that
was pushed on consumers by the movie industry, and was pushed hard and
fast. While everyone talked of the quality benefits, it was obvious that
distributors were in love with the format&amp;#8217;s cheap and quick
reproduction. I simply do not believe that the movie industry was
unaware (especially given the proliferation of &lt;span class="caps"&gt;DVD&lt;/span&gt; drives in computers)
that this cheap reproduction was as easily available to consumers as it
was to them. If they were unaware, we must ask how their
million-dollar-a-year technical teams never mentioned it. You can&amp;#8217;t have
your cake and eat it too. The movie industry &lt;em&gt;chose&lt;/em&gt; to convert to a
format that&amp;#8217;s easily copied. The movie industry &lt;em&gt;chose&lt;/em&gt; to convert to a
format that could be easily read - and copied - on any home computer.
They should be forced to accept that choice, and the effect that anyone
with a computer can duplicate or share their products. If they didn&amp;#8217;t
want people to do this, they should have stuck with &lt;span class="caps"&gt;VHS&lt;/span&gt;, or gone to a
higher-quality tape&amp;nbsp;format.&lt;/p&gt;
&lt;p&gt;But, I digress. The main point that I want to make is about consumer
choice, and how that effects purchasing (and sharing)&amp;nbsp;habits.&lt;/p&gt;
&lt;p&gt;In my parent&amp;#8217;s generation, and those before it, customers voiced their
choice through making a purchase or not making a purchase. If they
didn&amp;#8217;t like a car salesman&amp;#8217;s attitude, they&amp;#8217;d buy the car from someone
else. If they didn&amp;#8217;t like the terms of a warranty, they&amp;#8217;d buy their
washing machine from Sears instead of the local store. If they didn&amp;#8217;t
like their phone company, they&amp;#8217;d&amp;nbsp;switch.&lt;/p&gt;
&lt;p&gt;My generation, in the digital age, was faced with a different choice -
buy or share. The recording and movie industries more or less made this
choice for us. They wouldn&amp;#8217;t let us buy how we wanted to, so we made the
other&amp;nbsp;choice.&lt;/p&gt;
&lt;p&gt;This choice required a bit of a tangent to explain. The industry wants
us to think of file sharing as stealing. When sharing digital files,
they want us to think of the fact that the file is duplicated (i.e. my
friend now has it, but I still have it too). This is simply a
side-effect of how digital systems work. Whether right or wrong, whether
antiquated or not, in most human minds the concept of stealing is
inextricably linked to physical property. Walking into a library and
walking out with a book that you didn&amp;#8217;t check out is clearly stealing.
However, most people wouldn&amp;#8217;t think the same thing of photocopying some
pages from the book. Most people wouldn&amp;#8217;t think of photocopying a
newspaper article and mailing it to their friend as stealing. How many
people, in the day of audio cassettes, thought of it as &amp;#8220;stealing&amp;#8221; when
they copied a tape for their friend? I&amp;#8217;d guess that, for the vast
majority of people, file sharing is much more closely associated with
these actions than walking out of a record store with a&amp;nbsp;&lt;span class="caps"&gt;CD&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;My personal theory is that a large amount of file sharing (of
copyrighted material) would stop if the movie industry would let people
buy the way they&amp;nbsp;want.&lt;/p&gt;
&lt;p&gt;There was a time, a few years ago, when I got almost all of my music
through peer-to-peer file sharing (though, unlike many, I didn&amp;#8217;t allow
uploads). I never thought much of it - I shared lots of things with my
friends, why not music? Then &lt;span class="caps"&gt;RIAA&lt;/span&gt; started their &lt;span class="caps"&gt;PR&lt;/span&gt; and lawsuit
campaigns. They started suing college kids for sharing music - and suing
them for a &lt;em&gt;lot&lt;/em&gt; more than even the cost of the CDs they&amp;#8217;d &amp;#8220;stolen&amp;#8221; (and
that&amp;#8217;s ignoring the fact that they just &amp;#8220;stole&amp;#8221; the information on the
CDs, so the actual cost should have been lower, less the physical media
and distribution costs). So, I heard what the recording industry was
telling me: we don&amp;#8217;t like you. I stopped downloading music, and I also
stopped buying it. For about 3 1/2 years, I listened to what I already
had on &lt;span class="caps"&gt;CD&lt;/span&gt;, or the radio, but nothing&amp;nbsp;new.&lt;/p&gt;
&lt;p&gt;Then there was iTunes. You could buy whatever music you wanted, usually
for less than $1. But you had to use their software, which didn&amp;#8217;t run on
Linux. And if you wanted to listen to it away from your computer, you
had to use an iPod. And you couldn&amp;#8217;t burn it to &lt;span class="caps"&gt;CD&lt;/span&gt;, so it wouldn&amp;#8217;t work
with the older stereo in my&amp;nbsp;car.&lt;/p&gt;
&lt;p&gt;Finally, the industry woke up. Amazon came out with their &lt;span class="caps"&gt;MP3&lt;/span&gt; store,
where I could buy individual songs or complete albums, as standard
(non-DRMed) &lt;span class="caps"&gt;MP3&lt;/span&gt; files, that I could listen to on my cell phone, any of
my computers, or burn to &lt;span class="caps"&gt;CD&lt;/span&gt; and play in my car. And I&amp;#8217;ve been hooked
ever since - I get all of my music for a low price, in a standard
unrestricted format. I can burn it to &lt;span class="caps"&gt;CD&lt;/span&gt; for my car, put it on my
computers at home and at work, put it on my laptop, put it on my phone.
Thanks to 1-click ordering and instant downloads, I probably spend more
on music now than I did when I had to go to a store to buy CDs. And why?
Because I have choice. Because, finally, they&amp;#8217;ll sell music to me the
way I want it - and I buy&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;I don&amp;#8217;t know of any source of unbiased statistics, but I&amp;#8217;d venture a
guess that since various stores have begun selling &lt;span class="caps"&gt;DRM&lt;/span&gt;-free music
online, the volume of peer-to-peer sharing of copyrighted music files
has gone&amp;nbsp;down.&lt;/p&gt;
&lt;p&gt;But it seems that the movie industry hasn&amp;#8217;t woken up to this, the &lt;span class="caps"&gt;MPAA&lt;/span&gt;
hasn&amp;#8217;t taken a lesson from &lt;span class="caps"&gt;RIAA&lt;/span&gt;. While options are starting to appear -
NetFlix streaming and others - they still haven&amp;#8217;t made the realization
that customers will continue to choose &amp;#8220;other&amp;#8221; until offered the choice
they want. I still can&amp;#8217;t buy and download movies on Linux, and since I
use &lt;a href="http://www.mythtv.org"&gt;MythTV&lt;/a&gt; for my home theater, it&amp;#8217;s no use to
get a NetFlix box. Until offered what they want - a download of an
unencumbered, &lt;span class="caps"&gt;DRM&lt;/span&gt;-free movie file, or full &lt;span class="caps"&gt;DVD&lt;/span&gt; image, people will keep
sharing movies, and will keep renting them and ripping full-resolution&amp;nbsp;copies.&lt;/p&gt;
&lt;p&gt;Finally, it&amp;#8217;s worth mention that the secret Anti-Counterfitting Trade
Agreement
(&lt;a href="http://www.boingboing.net/2010/02/21/acta-internet-enforc.html"&gt;&lt;span class="caps"&gt;ACTA&lt;/span&gt;&lt;/a&gt;)
is obviously tilted in the favor of content producers, and has a number
of &lt;a href="http://www.michaelgeist.ca/content/view/4808/125/"&gt;chilling&lt;/a&gt;
provisions for the Internet. Most importantly, it seeks to reverse
previous law and hold ISPs liable for infringement by their customers.
Firstly, and I say this with all my heart, this is wrong. &lt;em&gt;Until
publishers start successfully suing Xerox for every copy of a page of a
book ever made, don&amp;#8217;t try and hold ISPs responsible for what their
customers do.&lt;/em&gt; But more importantly, this is braindead - we should know
by now that copyright holders can&amp;#8217;t win the cat-and-mouse game. We saw
it with p2p and random ports, etc. Trying to detect transmission of
infringing material is impossible. Once a new method is invented, it
will be bypassed. No matter how many millions the media industry spends
on trying to detect violations, there&amp;#8217;s simply more people working on
the other side, and they&amp;#8217;re probably smarter and better motivated as
well. If the media industry pushes for ISPs to use deep packet
inspection (&lt;span class="caps"&gt;DPI&lt;/span&gt;) technology, the users will just turn to &lt;span class="caps"&gt;PKI&lt;/span&gt; and
encryption to hide their data. If ISPs just look at traffic patterns,
the users will accept slower download times and shape their traffic to
look like web&amp;nbsp;browsing.&lt;/p&gt;
&lt;p&gt;If the media industry really wants to stop file sharing of their content
(instead of just benefiting from lawsuits) the solution is simple - let
consumers buy it the way they&amp;nbsp;want.&lt;/p&gt;</summary><category term="drm"></category><category term="file sharing"></category><category term="intellectual property"></category><category term="IP"></category><category term="music"></category><category term="p2p"></category><category term="peer to peer"></category><category term="shopping"></category></entry><entry><title>Links for Tuesday, February 23, 2010</title><link href="http://blog.jasonantman.com/2010/02/links-for-tuesday-february-23-2010/" rel="alternate"></link><updated>2010-02-23T11:55:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-02-23:2010/02/links-for-tuesday-february-23-2010/</id><summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.boingboing.net/2010/02/21/acta-internet-enforc.html"&gt;&lt;span class="caps"&gt;ACTA&lt;/span&gt; &amp;#8220;internet enforcement&amp;#8221; chapter leaks Boing&amp;nbsp;Boing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.michaelgeist.ca/content/view/4808/125/"&gt;Michael Geist - &lt;span class="caps"&gt;ACTA&lt;/span&gt; Internet Chapter Leaks: Renegotiates &lt;span class="caps"&gt;WIPO&lt;/span&gt;,
    Sets 3 Strikes as&amp;nbsp;Model&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.pcworld.com/article/189868/chuck_norris_botnet_karatechops_routers_hard.html"&gt;Chuck Norris Botnet Karate-chops Routers Hard -&amp;nbsp;PCWorld&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.lockergnome.com/knitter/2007/10/08/boot-linux-faster-with-an-open-bios/"&gt;techblog&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://yro.slashdot.org/story/10/02/22/1447205/Suspension-of-Disbelief?from=rss&amp;amp;utm_source=feedburner&amp;amp;utm_medium=feed&amp;amp;utm_campaign=Feed:+Slashdot/slashdotYourRightsOnline+(Slashdot:+Your+Rights+Online)&amp;amp;utm_content=Google+Reader"&gt;Slashdot Your Rights Online Story | Suspension of&amp;nbsp;Disbelief&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://techflash.com/seattle/2010/02/microsoft_amazon_in_patent_deal.html"&gt;Microsoft, Amazon strike patent deal covering Kindle and&amp;nbsp;Linux&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.linuxinsider.com/rsstory/69401.html"&gt;Linux News: Legal: &lt;span class="caps"&gt;FOSS&lt;/span&gt; Dev Gets Damages in Precedent-Setting Model
    Train&amp;nbsp;Case&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://thedailywtf.com/Articles/Testing-the-Path-to-Pain.aspx"&gt;Testing the Path to Pain - The Daily&amp;nbsp;&lt;span class="caps"&gt;WTF&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.michaelgeist.ca/content/view/4809/125/"&gt;Michael Geist - &lt;span class="caps"&gt;EU&lt;/span&gt; Data Protection Supervisor Warns Against &lt;span class="caps"&gt;ACTA&lt;/span&gt;,
    Calls 3 Strikes&amp;nbsp;Disproportionate&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://blogs.apache.org/foundation/entry/the_apache_software_foundation_announces2"&gt;The Apache Software Foundation Announces the 15th Anniversary of
    the Apache &lt;span class="caps"&gt;HTTP&lt;/span&gt; Web Server : The Apache Software Foundation&amp;nbsp;Blog&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.fsf.org/blogs/community/google-free-on2-vp8-for-youtube/"&gt;Open letter to Google: free &lt;span class="caps"&gt;VP8&lt;/span&gt;, and use it on YouTube - Free
    Software&amp;nbsp;Foundation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://arstechnica.com/open-source/news/2010/02/ruling-foss-devs-can-collect-damages-from-license-violators.ars"&gt;&lt;span class="caps"&gt;FOSS&lt;/span&gt; devs can collect damages from license&amp;nbsp;violators&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.wired.com/playbook/2010/02/massive-network-is-an-olympian-feat/"&gt;Massive Network is an Olympian Feat |&amp;nbsp;Playbook&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>A Cartoon about Me</title><link href="http://blog.jasonantman.com/2010/02/a-cartoon-about-me/" rel="alternate"></link><updated>2010-02-22T14:33:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-02-22:2010/02/a-cartoon-about-me/</id><summary type="html">&lt;p&gt;Just found this today on one of my all-time favorite sites,
&lt;a href="http://xkcd.com"&gt;&lt;span class="caps"&gt;XKCD&lt;/span&gt;&lt;/a&gt;. I swear it&amp;#8217;s about&amp;nbsp;me:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.xkcd.com/705/"&gt;&lt;img alt="XKCD number
705" src="http://imgs.xkcd.com/comics/devotion_to_duty.png" /&gt;&lt;/a&gt;&lt;/p&gt;</summary><category term="humor"></category><category term="sysadmin"></category><category term="XKCD"></category></entry><entry><title>Parsing Nagios status.dat in PHP</title><link href="http://blog.jasonantman.com/2010/02/parsing-nagios-status-dat-in-php/" rel="alternate"></link><updated>2010-02-21T22:42:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-02-21:2010/02/parsing-nagios-status-dat-in-php/</id><summary type="html">&lt;p&gt;&lt;strong&gt;If you&amp;#8217;re just looking for the script or &lt;span class="caps"&gt;PHP&lt;/span&gt; module&lt;/strong&gt;, you can get
them at:
&lt;a href="http://github.com/jantman/php-nagios-xml"&gt;http://github.com/jantman/php-nagios-xml&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;A while ago (back in late 2008), I wrote a &lt;span class="caps"&gt;PHP&lt;/span&gt; script that parses the
Nagios status.dat file into an associative array. My original use was to
output &lt;span class="caps"&gt;XML&lt;/span&gt; which was then read by another script on another server and
used for a small custom &lt;span class="caps"&gt;GUI&lt;/span&gt;. It&amp;#8217;s a very simple &lt;span class="caps"&gt;PHP&lt;/span&gt; script that just
takes the path of the status.dat file (which, obviously, must be
readable by the user running the&amp;nbsp;script).&lt;/p&gt;
&lt;p&gt;At that time, I was using Nagios v2. Since then, I&amp;#8217;ve moved to Nagios
v3, and have updated the script to include the ability to parse v3
status.dat files, as well as a function to detect the version of a
status file. I also refactored the code so that the parsing functions
are all contained in a single file (statusXML.php.inc) which is safe to
include in other scripts. The actual statusXML.php file now just
includes examples of how to call all of the functions and output &lt;span class="caps"&gt;XML&lt;/span&gt;
(though it is equally useful to output the serialized array, or use it&amp;nbsp;directly).&lt;/p&gt;
&lt;p&gt;Since I posted my script online, two people have been kind enough to
send back their&amp;nbsp;modifications:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.krzywanski.net/"&gt;Artur Krzywański&lt;/a&gt; modified the original
    (&lt;a href="https://github.com/jantman/php-nagios-xml/blob/9926602ef4868a898661b6ea0f430ff8ccba4dd3/parseNagiosXML.php"&gt;r4&lt;/a&gt;)
    version of
    &lt;a href="https://github.com/jantman/php-nagios-xml/blob/master/statusXML.php"&gt;statusXML.php&lt;/a&gt;
    to allow selection of the keys to be&amp;nbsp;returned.&lt;/li&gt;
&lt;li&gt;Whitham D. Reeve &lt;span class="caps"&gt;II&lt;/span&gt; of &lt;a href="http://www.gci.com"&gt;General Communication,
    Inc.&lt;/a&gt;, who needed higher performance for a very
    large status file, rewrote my script in C as a &lt;span class="caps"&gt;PHP&lt;/span&gt;&amp;nbsp;module.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Both of these generous contributions have been included in my &lt;a href="https://github.com/jantman/php-nagios-xml"&gt;Github
repository&lt;/a&gt; as of the current
commit. Unfortunately, due to my delay in putting my Nagios3 code into
svn, both of these contributions are &lt;strong&gt;Nagios v2&lt;/strong&gt;&amp;nbsp;only.&lt;/p&gt;
&lt;p&gt;As time permits, I plan on merging Artur&amp;#8217;s changes into the current
version of statusXML.php.inc. Unfortunately, C isn&amp;#8217;t one of my strong
points, but I plan on also updating Whitham&amp;#8217;s &lt;span class="caps"&gt;PHP&lt;/span&gt; module code to work
with Nagios3 as soon as&amp;nbsp;possible.&lt;/p&gt;
&lt;p&gt;Stay tuned for updates, and thanks to both gentlemen for contributing
their work. I&amp;#8217;m always interested in hearing how people are using my
code, and how they are making it&amp;nbsp;better.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Also:&lt;/strong&gt; While I added this project to &lt;a href="http://exchange.nagios.org/"&gt;Nagios
Exchange&lt;/a&gt;, and plan on adding it to
&lt;a href="http://www.monitoringexchange.org/"&gt;Monitoring Exchange&lt;/a&gt;, I don&amp;#8217;t
always keep those sites up to date (I can&amp;#8217;t access Nagios Exchange right
now, and who knows if I&amp;#8217;ll have time to update it tomorrow). I
&lt;em&gt;strongly&lt;/em&gt; recommend directly checking out from Git at
&lt;a href="https://github.com/jantman/php-nagios-xml"&gt;https://github.com/jantman/php-nagios-xml&lt;/a&gt;.&lt;/p&gt;</summary><category term="Nagios"></category><category term="PHP"></category><category term="xml"></category></entry><entry><title>Thunderbird SSL “Domain Name Mismatch”</title><link href="http://blog.jasonantman.com/2010/02/thunderbird-ssl-domain-name-mismatch/" rel="alternate"></link><updated>2010-02-12T09:34:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-02-12:2010/02/thunderbird-ssl-domain-name-mismatch/</id><summary type="html">&lt;p&gt;Some of my servers that are only for internal/personal use have &lt;span class="caps"&gt;SSL&lt;/span&gt;
certs with a mismatched hostname. The cert for my mail server is issued
for the &lt;span class="caps"&gt;CNAME&lt;/span&gt; used for my mail server, not the actual hostname. Of
course, this means that Thunderbird gives me some annoying errors
because they&amp;#8217;re&amp;nbsp;worried:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Domain Name Mismatch in Thunderbird" src="/GFX/Domain_Name_Mismatch.png" /&gt;&lt;/p&gt;
&lt;p&gt;Luckily, there&amp;#8217;s an
&lt;a href="https://addons.mozilla.org/en-US/thunderbird/addon/2131"&gt;add-on&lt;/a&gt; called
&amp;#8220;Remember Mismatched Domains&amp;#8221; that adds a simple &amp;#8220;remember this
decision&amp;#8221; check box, much like the one now found in Firefox. Problem&amp;nbsp;solved!&lt;/p&gt;
&lt;p&gt;&lt;img alt="Thunderbird Domain Name Mismatch after
add-on" src="/GFX/Domain_Name_Mismatch2.png" /&gt;&lt;/p&gt;</summary><category term="certificates"></category><category term="dns"></category><category term="Mozilla"></category><category term="SSL"></category><category term="Thunderbird"></category></entry><entry><title>Apache2 - list Name-Based Virtual Hosts</title><link href="http://blog.jasonantman.com/2010/02/apache2-list-name-based-virtual-hosts/" rel="alternate"></link><updated>2010-02-11T09:48:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-02-11:2010/02/apache2-list-name-based-virtual-hosts/</id><summary type="html">&lt;p&gt;Here&amp;#8217;s a little tidbit that I never knew until I had an
&lt;a href="http://httpd.apache.org/"&gt;Apache2&lt;/a&gt; name-based virtual host problem:
&lt;code&gt;httpd -S&lt;/code&gt; lists the vhosts that are being served by Apache, and how
they were parsed from the config&amp;nbsp;files.&lt;/p&gt;
&lt;p&gt;The output on one of my servers looks something&amp;nbsp;like:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="go"&gt;[root@web2 vhosts.d]# httpd -S&lt;/span&gt;
&lt;span class="go"&gt;VirtualHost configuration:&lt;/span&gt;
&lt;span class="go"&gt;wildcard NameVirtualHosts and _default_ servers:&lt;/span&gt;
&lt;span class="go"&gt;_default_:443          web2.jasonantman.com (/etc/httpd/vhosts.d/ssl-host.conf:7)&lt;/span&gt;
&lt;span class="go"&gt;*:80                   is a NameVirtualHost&lt;/span&gt;
&lt;span class="go"&gt;         default server www.jasonantman.com (/etc/httpd/vhosts.d/000-default.conf:1)&lt;/span&gt;
&lt;span class="go"&gt;         port 80 namevhost www.jasonantman.com (/etc/httpd/vhosts.d/000-default.conf:1)&lt;/span&gt;
&lt;span class="go"&gt;         port 80 namevhost rackman.jasonantman.com (/etc/httpd/vhosts.d/rackman.jasonantman.com.conf:1)&lt;/span&gt;
&lt;span class="go"&gt;         port 80 namevhost whatismyip.jasonantman.com (/etc/httpd/vhosts.d/whatismyip.jasonantman.com.conf:1)&lt;/span&gt;
&lt;span class="go"&gt;Syntax &lt;span class="caps"&gt;OK&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This is quite useful in debugging vhost problems, especially those pesky
times when a request that should go to a specific vhost is being served
by the default (in my case at this time, I had two ServerName directives
instead of a ServerName and a&amp;nbsp;ServerAlias).&lt;/p&gt;</summary><category term="apache"></category><category term="configuration"></category><category term="linux"></category></entry><entry><title>Using nmap to quickly ping all hosts in an address range</title><link href="http://blog.jasonantman.com/2010/02/using-nmap-to-quickly-ping-all-hosts-in-an-address-range/" rel="alternate"></link><updated>2010-02-08T09:10:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-02-08:2010/02/using-nmap-to-quickly-ping-all-hosts-in-an-address-range/</id><summary type="html">&lt;p&gt;At $&lt;span class="caps"&gt;WORK&lt;/span&gt;, the subnet we use for some of our workstations and test boxes
was only recently setup with &lt;span class="caps"&gt;DHCP&lt;/span&gt;. Previously, we&amp;#8217;d used
&lt;span class="caps"&gt;IP&lt;/span&gt;-by-Whiteboard in the office. As a result, most of the recent machines
use &lt;span class="caps"&gt;DHCP&lt;/span&gt;, but there are a few older ones still around using static
addresses. I recently had to add a new machine, so I had to go through
the process of finding out which IPs are in use and which aren&amp;#8217;t (since
some aren&amp;#8217;t in&amp;nbsp;&lt;span class="caps"&gt;DHCP&lt;/span&gt;).&lt;/p&gt;
&lt;p&gt;I decided to be good and update &lt;span class="caps"&gt;DHCP&lt;/span&gt; with records for all machines in
the subnet, whether they&amp;#8217;re actually using &lt;span class="caps"&gt;DHCP&lt;/span&gt; or not. There&amp;#8217;s a quick
way to do this with &lt;code&gt;nmap&lt;/code&gt; using the options for ping scan (&lt;code&gt;-sP&lt;/code&gt;) and
always resolve &lt;span class="caps"&gt;DNS&lt;/span&gt; (&lt;code&gt;-R&lt;/code&gt;):&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="gp"&gt;#&lt;/span&gt; nmap -sP -R 172.16.43.129-159
&lt;span class="go"&gt;Host ar01-hill-hill.example.com (172.16.43.129) appears to be up.&lt;/span&gt;
&lt;span class="go"&gt;&lt;span class="caps"&gt;MAC&lt;/span&gt; Address: 00:11:&lt;span class="caps"&gt;BC&lt;/span&gt;:7D:28:0A (Cisco Systems)&lt;/span&gt;
&lt;span class="go"&gt;Host ccf-hill019-1.example.com (172.16.43.130) appears to be up.&lt;/span&gt;
&lt;span class="go"&gt;&lt;span class="caps"&gt;MAC&lt;/span&gt; Address: 00:00:&lt;span class="caps"&gt;AA&lt;/span&gt;:63:54:&lt;span class="caps"&gt;BB&lt;/span&gt; (Xerox)&lt;/span&gt;
&lt;span class="go"&gt;Host ccf-hill019-2.example.com (172.16.43.131) appears to be down.&lt;/span&gt;
&lt;span class="go"&gt;Host ccf-hill019-3.example.com (172.16.43.132) appears to be down.&lt;/span&gt;
&lt;span class="go"&gt;Host ccf-hill019-4.example.com (172.16.43.133) appears to be down.&lt;/span&gt;
&lt;span class="go"&gt;Host ccf-hill019-5.example.com (172.16.43.134) appears to be down.&lt;/span&gt;
&lt;span class="go"&gt;Host ccf-hill019-6.example.com (172.16.43.135) appears to be down.&lt;/span&gt;
&lt;span class="go"&gt;Host ccf-hill019-7.example.com (172.16.43.136) appears to be up.&lt;/span&gt;
&lt;span class="go"&gt;Host speakeasy.example.com (172.16.43.137) appears to be up.&lt;/span&gt;
&lt;span class="go"&gt;&lt;span class="caps"&gt;MAC&lt;/span&gt; Address: 00:17:A4:13:&lt;span class="caps"&gt;EB&lt;/span&gt;:57 (Global Data Services)&lt;/span&gt;
&lt;span class="go"&gt;Host ccf-hill019-9.example.com (172.16.43.138) appears to be up.&lt;/span&gt;
&lt;span class="go"&gt;&lt;span class="caps"&gt;MAC&lt;/span&gt; Address: 00:17:A4:13:E8:17 (Global Data Services)&lt;/span&gt;
&lt;span class="go"&gt;Host ccf-hill019-10.example.com (172.16.43.139) appears to be down.&lt;/span&gt;
&lt;span class="go"&gt;Host testmac01.example.com (172.16.43.140) appears to be down.&lt;/span&gt;
&lt;span class="go"&gt;Host ccf-hill019-12.example.com (172.16.43.141) appears to be down.&lt;/span&gt;
&lt;span class="go"&gt;Host ccf-hill019-13.example.com (172.16.43.142) appears to be up.&lt;/span&gt;
&lt;span class="go"&gt;&lt;span class="caps"&gt;MAC&lt;/span&gt; Address: 00:0D:29:59:58:00 (Cisco)&lt;/span&gt;
&lt;span class="go"&gt;Host ccf-hill019-14.example.com (172.16.43.143) appears to be down.&lt;/span&gt;
&lt;span class="go"&gt;Host ccf-hill019-15.example.com (172.16.43.144) appears to be down.&lt;/span&gt;
&lt;span class="go"&gt;Host ccf-hill019-16.example.com (172.16.43.145) appears to be down.&lt;/span&gt;
&lt;span class="go"&gt;Host ccf-hill019-17.example.com (172.16.43.146) appears to be down.&lt;/span&gt;
&lt;span class="go"&gt;Host ccf-hill019-18.example.com (172.16.43.147) appears to be up.&lt;/span&gt;
&lt;span class="go"&gt;&lt;span class="caps"&gt;MAC&lt;/span&gt; Address: 00:1E:C2:0D:C1:98 (Unknown)&lt;/span&gt;
&lt;span class="go"&gt;Host ccf-hill019-19.example.com (172.16.43.148) appears to be down.&lt;/span&gt;
&lt;span class="go"&gt;Host ccf-hill019-20.example.com (172.16.43.149) appears to be down.&lt;/span&gt;
&lt;span class="go"&gt;Host ccf-hill019-21.example.com (172.16.43.150) appears to be down.&lt;/span&gt;
&lt;span class="go"&gt;Host lordkris.example.com (172.16.43.151) appears to be down.&lt;/span&gt;
&lt;span class="go"&gt;Host ccf-hill019-23.example.com (172.16.43.152) appears to be down.&lt;/span&gt;
&lt;span class="go"&gt;Host ccf-hill019-24.example.com (172.16.43.153) appears to be down.&lt;/span&gt;
&lt;span class="go"&gt;Host ccf-hill019-25.example.com (172.16.43.154) appears to be down.&lt;/span&gt;
&lt;span class="go"&gt;Host ccf-hill019-26.example.com (172.16.43.155) appears to be down.&lt;/span&gt;
&lt;span class="go"&gt;Host ccf-hill019-27.example.com (172.16.43.156) appears to be down.&lt;/span&gt;
&lt;span class="go"&gt;Host ccf-hill019-28.example.com (172.16.43.157) appears to be down.&lt;/span&gt;
&lt;span class="go"&gt;Host ccf-hill019-29.example.com (172.16.43.158) appears to be down.&lt;/span&gt;
&lt;span class="go"&gt;Host ccf-hill019-30.example.com (172.16.43.159) appears to be down.&lt;/span&gt;
&lt;span class="go"&gt;Nmap finished: 31 &lt;span class="caps"&gt;IP&lt;/span&gt; addresses (7 hosts up) scanned in 0.892 seconds&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;As you can see, the results also (very usefully) include &lt;span class="caps"&gt;MAC&lt;/span&gt; addresses,
so it&amp;#8217;s pretty easy to update &lt;span class="caps"&gt;DHCP&lt;/span&gt; as&amp;nbsp;needed.&lt;/p&gt;</summary><category term="dhcp"></category><category term="nmap"></category><category term="ping"></category><category term="sysadmin"></category></entry><entry><title>Subversion ‘is missing or not locked’ error</title><link href="http://blog.jasonantman.com/2010/01/subversion-is-missing-or-not-locked-error/" rel="alternate"></link><updated>2010-01-29T15:58:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-01-29:2010/01/subversion-is-missing-or-not-locked-error/</id><summary type="html">&lt;p&gt;Recently I was doing some work on a few &lt;span class="caps"&gt;PHP&lt;/span&gt; scripts, and came by a
rather annoying error while trying to commit to&amp;nbsp;subversion:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;svn: Commit failed (details follow):
svn: Working copy &amp;#39;/srv/www/htdocs/newcall/stats/generated&amp;#39; is missing or not locked
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The problem was a directory, &amp;#8220;generated&amp;#8221;. This particular app makes use
of &lt;a href="http://naku.dohcrew.com/libchart"&gt;libchart&lt;/a&gt; to draw simple charts in
&lt;span class="caps"&gt;PHP&lt;/span&gt;. Libchart writes the charts to files, and therefore needs a
directory writable by the Apache user. So, I created the &lt;code&gt;generated/&lt;/code&gt;
directory for these output files, and &lt;code&gt;chown&lt;/code&gt;ed &lt;code&gt;wwwrun:www&lt;/code&gt;. Now,
apparently, the subversion &lt;code&gt;svn add&lt;/code&gt; command doesn&amp;#8217;t check
ownership/writable permissions before adding a directory. So, it added
&lt;code&gt;generated/&lt;/code&gt; to the main list of files, but couldn&amp;#8217;t write the &lt;code&gt;.svn&lt;/code&gt;
directory and add a lock. &lt;span class="caps"&gt;IMHO&lt;/span&gt;, this is an error in the svn&amp;nbsp;client.&lt;/p&gt;
&lt;p&gt;I couldn&amp;#8217;t find any solutions to the problem online. Essentially, I have
an empty directory (or at least nothing useful in it) that got partially
added to svn - it was added to the &lt;code&gt;.svn/entries&lt;/code&gt; file in the parent
directory, but never had its own &lt;code&gt;.svn&lt;/code&gt; directory&amp;nbsp;created.&lt;/p&gt;
&lt;p&gt;The only solution that I found is to manually edit the &lt;code&gt;.svn/entries&lt;/code&gt;
file in the parent directory. &lt;strong&gt;&lt;span class="caps"&gt;WARNING&lt;/span&gt;:&lt;/strong&gt; this isn&amp;#8217;t for the faint of
heart. Be sure you don&amp;#8217;t screw anything&amp;nbsp;up.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Open the &lt;code&gt;.svn/entries&lt;/code&gt; file in the parent directory in a text
    editor (i.e. if the problem directory is &lt;code&gt;stats/generated&lt;/code&gt;, edit
    &lt;code&gt;stats/.svn/entries&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Find the &lt;code&gt;entry&lt;/code&gt; node with the correct &amp;#8220;name&amp;#8221; attribute for the
    directory in question. For stats/generated, in the
    &lt;code&gt;stats/.svn/entries&lt;/code&gt; file, it should look&amp;nbsp;like:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="nt"&gt;&amp;lt;entry&lt;/span&gt;
   &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;generated&amp;quot;&lt;/span&gt;
   &lt;span class="na"&gt;kind=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;dir&amp;quot;&lt;/span&gt;
   &lt;span class="na"&gt;schedule=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;add&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Make the entries file writable (&lt;code&gt;chmod u+w entries&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;Remove the entry from the&amp;nbsp;file.&lt;/li&gt;
&lt;li&gt;Set the entries file back to non-writable (&lt;code&gt;chmod u-w entries&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;Remove any save files if they were created (i.e. &lt;code&gt;entries~&lt;/code&gt; for&amp;nbsp;emacs)&lt;/li&gt;
&lt;li&gt;Remove the directory itself and re-create it, this time adding to
    svn before setting the&amp;nbsp;ownership.&lt;/li&gt;
&lt;li&gt;Commit. It should now&amp;nbsp;work.&lt;/li&gt;
&lt;/ol&gt;</summary><category term="subversion"></category><category term="svn"></category><category term="version control"></category></entry><entry><title>Interesting Links for Tuesday, January 26th 2010</title><link href="http://blog.jasonantman.com/2010/01/interesting-links-for-tuesday-january-26th-2010/" rel="alternate"></link><updated>2010-01-26T11:15:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-01-26:2010/01/interesting-links-for-tuesday-january-26th-2010/</id><summary type="html">&lt;p&gt;&lt;strong&gt;Interesting Links for Tuesday, January 26&lt;sup&gt;th&lt;/sup&gt; 2010&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.wired.com/thisdayintech/2010/01/0125robot-kills-worker/"&gt;Jan. 25, 1979: Robot Kills&amp;nbsp;Human&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.wired.com/threatlevel/2010/01/lawyers-challenge-filesharing-verdict/"&gt;Lawyers Challenge $54,000 &lt;span class="caps"&gt;P2P&lt;/span&gt; Fine As&amp;nbsp;Unconstitutional&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.wired.com/threatlevel/2010/01/verizon-terminating-internet-accessinternet-access/"&gt;Verizon Terminating Copyright Infringers&amp;#8217; Internet&amp;nbsp;Access&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.freesoftwaremagazine.com/columns/linux_performance_linux_slow_bloated"&gt;Linux performance: is Linux becoming just too slow and&amp;nbsp;bloated?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://technologizer.com/2010/01/24/edisons-kindle/"&gt;Mr. Edison&amp;#8217;s Kindle: Fifteen amazing gadget ideas that were way,
    way ahead of their
    time&lt;/a&gt; &lt;em&gt;(though,
    I must say, the author of this blog is really looking at things from
    a modern-day perspective, and his commentary seems to miss how truly
    brilliant these ideas were at the&amp;nbsp;time)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.eff.org/deeplinks/2010/01/blogging-acta-across-globe-cippics-david-fewer-wha"&gt;&lt;span class="caps"&gt;EFF&lt;/span&gt;: Blogging &lt;span class="caps"&gt;ACTA&lt;/span&gt; Across the Globe: &lt;span class="caps"&gt;CIPPIC&lt;/span&gt;&amp;#8217;s David Fewer on What
    &lt;span class="caps"&gt;ACTA&lt;/span&gt; Means for Canadian&amp;nbsp;Citizens&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://sourceforge.net/blog/clarifying-sourceforgenets-denial-of-site-access-for-certain-persons-in-accordance-with-us-law/"&gt;Clarifying SourceForge.net’s denial of site access for certain
    persons in accordance with &lt;span class="caps"&gt;US&lt;/span&gt;&amp;nbsp;law&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.eff.org/deeplinks/2010/01/clinton-internet-freedom-and-principled-stands"&gt;&lt;span class="caps"&gt;EFF&lt;/span&gt;: Clinton on Internet Freedom, and Principled&amp;nbsp;Stands&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;And, most importantly&amp;#8230; &lt;a href="http://www.linuxinsider.com/rsstory/69193.html"&gt;Report: Linux Gains Ground, Windows
Stumbles&lt;/a&gt;. Apparently,
according to Net Applications, Linux&amp;#8217;s market share rose from 1 to 1.02
percent in December 2009, a small but hopeful increase. Windows
marketshare fell from 92.52% to&amp;nbsp;92.21%.&lt;/p&gt;
&lt;p&gt;Like any statistic, there are always multiple sources. The
&lt;a href="www.w3counter.com"&gt;W3Counter.com&lt;/a&gt; reports are a bit brighter for&amp;nbsp;Linux:&lt;/p&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;th&gt;
&lt;span class="caps"&gt;OS&lt;/span&gt;

&lt;/th&gt;
&lt;th&gt;
Nov 2009

&lt;/th&gt;
&lt;th&gt;
Dec. 2009

&lt;/th&gt;
&lt;th&gt;
Change

&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;
Windows &lt;span class="caps"&gt;XP&lt;/span&gt;

&lt;/th&gt;
&lt;td&gt;
57.57%

&lt;/td&gt;
&lt;td&gt;
56.61%

&lt;/td&gt;
&lt;td&gt;
&lt;span style="color: red;"&gt;-0.96%&lt;/span&gt;

&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;
Windows Vista

&lt;/th&gt;
&lt;td&gt;
21.73%

&lt;/td&gt;
&lt;td&gt;
21.29%

&lt;/td&gt;
&lt;td&gt;
&lt;span style="color: red;"&gt;-0.44%&lt;/span&gt;

&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;
Windows 7

&lt;/th&gt;
&lt;td&gt;
4.54%

&lt;/td&gt;
&lt;td&gt;
6.80%

&lt;/td&gt;
&lt;td&gt;
+2.26%

&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;
Windows (Other)

&lt;/th&gt;
&lt;td&gt;
1.85%

&lt;/td&gt;
&lt;td&gt;
1.73%

&lt;/td&gt;
&lt;td&gt;
&lt;span style="color: red;"&gt;-0.12%&lt;/span&gt;

&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;
Mac

&lt;/th&gt;
&lt;td&gt;
7.46%

&lt;/td&gt;
&lt;td&gt;
7.44%

&lt;/td&gt;
&lt;td&gt;
&lt;span style="color: red;"&gt;-0.02%&lt;/span&gt;

&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;
Linux

&lt;/th&gt;
&lt;td&gt;
1.80%

&lt;/td&gt;
&lt;td&gt;
2.14%

&lt;/td&gt;
&lt;td&gt;
+0.34%

&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;

&lt;p&gt;If this is accurate, it shows Linux with a sifnigicant 1-month gain in
marketshare. Also notable is that in December, Android showed up for the
first time, at 0.08%. In all reasonabless, that can be added to the
Linux&amp;nbsp;row.&lt;/p&gt;
&lt;p&gt;Also of interest are W3Counter&amp;#8217;s browser&amp;nbsp;stats:&lt;/p&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;th&gt;
Browser

&lt;/th&gt;
&lt;th&gt;
Nov 2009

&lt;/th&gt;
&lt;th&gt;
Dec. 2009

&lt;/th&gt;
&lt;th&gt;
Change

&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;
&lt;span class="caps"&gt;IE&lt;/span&gt;

&lt;/th&gt;
&lt;td&gt;
51.14%

&lt;/td&gt;
&lt;td&gt;
50.3%

&lt;/td&gt;
&lt;td&gt;
&lt;span style="color: red;"&gt;-0.84%&lt;/span&gt;

&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;
Firefox

&lt;/th&gt;
&lt;td&gt;
31.85%

&lt;/td&gt;
&lt;td&gt;
32%

&lt;/td&gt;
&lt;td&gt;
+0.15%

&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;
Safari

&lt;/th&gt;
&lt;td&gt;
4.58%

&lt;/td&gt;
&lt;td&gt;
4.62%

&lt;/td&gt;
&lt;td&gt;
+0.04%

&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;

&lt;p&gt;Also worth noting on the Browser front is that &lt;span class="caps"&gt;IE8&lt;/span&gt;&amp;#8217;s market share rose
from 21.21% (November) to 22.43% (December) while Firefox 3.5&amp;#8217;s share
jumped from 20.49% in November to 22.18% in December, a very significant
stride for the brand new Firefox version. While &lt;span class="caps"&gt;IE8&lt;/span&gt; has been out
considerably longer than Firefox 3.5, they&amp;#8217;re already almost tied in
market share (and if another jump like that happens, Firefox 3.5 will be
in the lead next&amp;nbsp;month).&lt;/p&gt;</summary></entry><entry><title>Federal Government: Ignoring what we learned 5,000 years ago</title><link href="http://blog.jasonantman.com/2010/01/federal-government-ignoring-what-we-learned-5000-years-ago/" rel="alternate"></link><updated>2010-01-20T21:25:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-01-20:2010/01/federal-government-ignoring-what-we-learned-5000-years-ago/</id><summary type="html">&lt;p&gt;Being a volunteer
&lt;a href="http://en.wikipedia.org/wiki/Emergency_medical_technician"&gt;&lt;span class="caps"&gt;EMT&lt;/span&gt;&lt;/a&gt;, and at
times an outdoorsy-type person, I occasionally get emails from friends
about disaster-related topics. Especially in the post-9/11 days.
Recently, I got an email asking me if I&amp;#8217;d seen the Department of
Homeland Security&amp;#8217;s disaster preparedness site,
&lt;a href="http://www.ready.gov"&gt;ready.gov&lt;/a&gt;. I&amp;#8217;d heard a bit about it, but hadn&amp;#8217;t
really looked around. The site&amp;#8217;s main premise is to educate people about
how to prepare for a disaster - &amp;#8220;get a kit&amp;#8221;, &amp;#8220;make a plan&amp;#8221;, &amp;#8220;be&amp;nbsp;informed&amp;#8221;.&lt;/p&gt;
&lt;p&gt;The site&amp;#8217;s own &lt;a href="http://www.ready.gov/america/about/index.html"&gt;About
page&lt;/a&gt; states that it is
&amp;#8220;designed to educate and empower Americans to prepare for and respond to
emergencies including natural and man-made disasters. The goal of the
campaign is to get the public involved and ultimately to increase the
level of basic preparedness across the&amp;nbsp;nation.&amp;#8221;&lt;/p&gt;
&lt;p&gt;The first step on the site, &lt;a href="http://www.ready.gov/america/getakit/index.html"&gt;&amp;#8220;Get a
Kit&amp;#8221;&lt;/a&gt;, includes a list
of supplies to have on hand as a basic disaster kit. The introduction to
the page&amp;nbsp;reads:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;You may need to survive on your own after an emergency. This means
having your own food, water, and other supplies in sufficient quantity
to last for at least three days. Local officials and relief workers
will be on the scene after a disaster, but they cannot reach everyone
immediately. You could get help in hours, or it might take days. In
addition, basic services such as electricity, gas, water, sewage
treatment, and telephones may be cut off for days, or even a week or&amp;nbsp;longer.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;.&lt;/p&gt;
&lt;p&gt;I will admit, I assumed this would be geared more towards urbanites, not
those of us in the suburbs or rural America (the latter generally being
more accustomed to self-sufficiency), so I adjusted my expectations
accordingly. At first glance, it seems to include most of the things
that the &lt;span class="caps"&gt;EMT&lt;/span&gt; in me would want it&amp;nbsp;to:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Food and&amp;nbsp;water&lt;/li&gt;
&lt;li&gt;First aid&amp;nbsp;kit&lt;/li&gt;
&lt;li&gt;Wrench or pliers to turn off gas&amp;nbsp;line&lt;/li&gt;
&lt;li&gt;Prescription&amp;nbsp;medications&lt;/li&gt;
&lt;li&gt;Bleach (as a disinfectant and for water&amp;nbsp;purification)&lt;/li&gt;
&lt;li&gt;Fire&amp;nbsp;extinguisher&lt;/li&gt;
&lt;li&gt;Matches&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;However, I found a number of things obviously missing. Sure, some are
minor - matches but no mention of fuel, bleach but not even coffee
filters to remove particulate matter from water. I also find it comical
that so many years after the Cold War &lt;a href="http://en.wikipedia.org/wiki/Duck_and_cover"&gt;&amp;#8220;Duck and
Cover&amp;#8221;&lt;/a&gt; approach to nuclear
safety, the government is now telling people to
&lt;a href="http://www.ready.gov/america/makeaplan/shelter_in_place.html"&gt;Shelter-In-Place&lt;/a&gt;
in the event of a biological attack - by covering their doors and
windows with plastic&amp;nbsp;sheeting!&lt;/p&gt;
&lt;p&gt;But by far the most egregious omission from the list - something learned
by man at least 5,000 years ago, and taught to every Boy Scout - is the
simplest tool: a knife. Yup, that&amp;#8217;s right, the Disaster Kit list doesn&amp;#8217;t
include &lt;strong&gt;any variety of cutting implement&lt;/strong&gt;. I don&amp;#8217;t know if whoever
wrote up the list is just scared of getting sued when little Bobby finds
the knife and kills himself, or whether they&amp;#8217;re really that stupid. But
I, for one, never leave my house without some variety of the oldest real
tool devised by man, and can&amp;#8217;t imagine anyone thrown into any sort of
&amp;#8220;survival&amp;#8221; situation without at least a rudimentary way to cut, scrape,
pry, etc. I&amp;#8217;d say that if I were without utilities or organized public
safety for &amp;#8220;at least three days&amp;#8221;, I&amp;#8217;d sure want to be able to make
simple repairs, fashion simple tools, or perhaps cut&amp;nbsp;something.&lt;/p&gt;
&lt;p&gt;On another (albeit less important) note, there are still &lt;em&gt;many, many&lt;/em&gt;
Americans, not just in rural areas, who have a fireplace or wood stove.
What about a few days&amp;#8217; worth of&amp;nbsp;wood?&lt;/p&gt;</summary><category term="disaster"></category><category term="EMS"></category><category term="government"></category><category term="preparedness"></category></entry><entry><title>Android 2.0.1 update</title><link href="http://blog.jasonantman.com/2009/12/android-2-0-1-update/" rel="alternate"></link><updated>2009-12-10T19:52:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-12-10:2009/12/android-2-0-1-update/</id><summary type="html">&lt;p&gt;So, I updated my Droid to Android 2.0.1 today. I&amp;#8217;ll be honest that it
didn&amp;#8217;t work the way I&amp;#8217;d hoped. When I woke up this morning (December
10&lt;sup&gt;th&lt;/sup&gt; 2009) I had an alert dialog on screen telling me that an update
was ready. It gave me three options: &amp;#8220;Install Now&amp;#8221;, &amp;#8220;Install Later&amp;#8221; and
&amp;#8220;More Info&amp;#8221;. The More Info screen didn&amp;#8217;t show me anything useful. Well,
I clicked the &amp;#8220;Later&amp;#8221; option, figuring that when I got home tonight I&amp;#8217;d
turn on WiFi, do a packet capture on the router, and save all of the
traffic (specifically including the name of the update server). Well, it
kept reminding me all day at annoyingly short intervals - probably about
every 10 minutes or so. Finally, when I was home and had the WiFi setup,
I went to try it again and&amp;#8230; yup&amp;#8230; when I clicked on the &amp;#8220;System
Update&amp;#8221; button in Settings, the only option I had was &amp;#8220;Reboot and&amp;nbsp;Install&amp;#8221;.&lt;/p&gt;
&lt;p&gt;So&amp;#8230; first big bitch about the Droid&amp;#8230; Verizon pushed out the update
without my consent. I kept hitting &amp;#8220;Later&amp;#8221; because that was the only way
to get the popup to go away. Apparently. after X times of hitting Later
(and each time your only real options are Later or Now) it will download
the update by itself. Once the update is downloaded, I&amp;#8217;m assuming that
it &lt;em&gt;may&lt;/em&gt; just automatically install on the next reboot. That would be
a bitch thing to&amp;nbsp;do.&lt;/p&gt;
&lt;p&gt;Anyway, the &amp;#8220;More Info&amp;#8221; screen, which provides (as far as I can tell)
the only release notes for the update,&amp;nbsp;states:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;This software update includes enhancements to your &lt;span class="caps"&gt;DROID&lt;/span&gt; by Motorola.
Approximate install time: 6-10 Mins. You will be unable to use your
device or make emergency calls for the duration of the install. The
software updates automatically, and your &lt;span class="caps"&gt;DROID&lt;/span&gt; will power off and on
as part of this software update. For more information please visit:
&lt;a href="www.verizonwireless.com/droidsupport"&gt;www.verizonwireless.com/droidsupport&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Not too helpful. And pretty&amp;nbsp;cryptic.&lt;/p&gt;
&lt;p&gt;Immediately when the phone turned back on, the first thing I noticed is
that the spin-style unlock button has been replaced with an iPhone-style
slide button, and the same for the mute feature. Maybe it&amp;#8217;s just me, but
I also noticed that the on screen keyboard seems to react better to
quick keypresses - perhaps they&amp;#8217;ve enabled multitouch for&amp;nbsp;this?&lt;/p&gt;
&lt;p&gt;Unfortunately, I wasn&amp;#8217;t able to find much release documentation from
Google other than the &lt;a href="http://developer.android.com/sdk/android-2.0.1.html"&gt;&lt;span class="caps"&gt;API&lt;/span&gt;
changes&lt;/a&gt; - no full
release notes or changelog like I&amp;#8217;d like. And not even a summary of
changes that I could&amp;nbsp;find.&lt;/p&gt;
&lt;p&gt;At the &lt;span class="caps"&gt;VZW&lt;/span&gt; droid support site, I found a &lt;a href="http://learning.verizonwireless.com/learning/Droid_Motorola_Software_Update.pdf"&gt;link to a
&lt;span class="caps"&gt;PDF&lt;/span&gt;&lt;/a&gt;
of &amp;#8220;Why to Update&amp;#8221; (&lt;a href="/GFX/Droid_Motorola_Software_Update.pdf"&gt;local
copy&lt;/a&gt;).
This sheet lists the enhancements made by the update
(&amp;#8220;&lt;span class="caps"&gt;AP&lt;/span&gt;:&lt;span class="caps"&gt;ESD56&lt;/span&gt;/&lt;span class="caps"&gt;BP&lt;/span&gt;:C_01.3E.01P&amp;#8221;, build &lt;span class="caps"&gt;ESD56&lt;/span&gt;)&amp;nbsp;as:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class="caps"&gt;OS&lt;/span&gt; stability is&amp;nbsp;improved.&lt;/li&gt;
&lt;li&gt;Battery life is&amp;nbsp;improved.&lt;/li&gt;
&lt;li&gt;Camera auto focus functionality is improved, and time between shots
    is&amp;nbsp;reduced.&lt;/li&gt;
&lt;li&gt;Enhancements for three-way&amp;nbsp;calling.&lt;/li&gt;
&lt;li&gt;Audio for incoming calls is&amp;nbsp;improved.&lt;/li&gt;
&lt;li&gt;When receiving a call on call waiting, the speakerphone now remains&amp;nbsp;on.&lt;/li&gt;
&lt;li&gt;Bluetooth functionality is improved; background echo is&amp;nbsp;eliminated.&lt;/li&gt;
&lt;li&gt;Improved Bluetooth phone book transfer of contacts to in-vehicle
    Bluetooth&amp;nbsp;solutions.&lt;/li&gt;
&lt;li&gt;After closing a &lt;span class="caps"&gt;GPS&lt;/span&gt; application, the &lt;span class="caps"&gt;GPS&lt;/span&gt; icon will now automatically
    be removed from the notification&amp;nbsp;panel.&lt;/li&gt;
&lt;li&gt;Users can now receive &lt;span class="caps"&gt;SMS&lt;/span&gt; and &lt;span class="caps"&gt;MMS&lt;/span&gt; messages after an &lt;span class="caps"&gt;EMS&lt;/span&gt; message is&amp;nbsp;received.&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;SMS&lt;/span&gt; and &lt;span class="caps"&gt;MMS&lt;/span&gt; may now be sent to seven-digit&amp;nbsp;addresses.&lt;/li&gt;
&lt;li&gt;Google contact merging has been updated to accommodate seven-digit&amp;nbsp;numbers.&lt;/li&gt;
&lt;li&gt;Visual Voice Mail notices now arrive&amp;nbsp;instantaneously.&lt;/li&gt;
&lt;li&gt;The corporate calendar widget user interface is&amp;nbsp;updated.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This tiny one-page (and very styish - looks like and in-store
advertising piece) sheet obviously isn&amp;#8217;t anything that could pass for
release notes, especially from Google. It doesn&amp;#8217;t even mention anything
about the changed unlock&amp;nbsp;button!&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ll keep looking around to find a real feature summary/release
notes/changelog, but here&amp;#8217;s my running list (I&amp;#8217;ll update) of what I&amp;#8217;ve&amp;nbsp;found:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Changed the unlock slider to a straight&amp;nbsp;line.&lt;/li&gt;
&lt;li&gt;On screen keyboard typing seems&amp;nbsp;faster.&lt;/li&gt;
&lt;li&gt;Photo taking &lt;em&gt;is&lt;/em&gt; considerably faster, though it&amp;#8217;s still painfully
    slow - it used to take about 10 seconds from shutter button to ready
    to capture next image, it&amp;#8217;s now about 5&amp;nbsp;seconds.&lt;/li&gt;
&lt;li&gt;The &lt;span class="caps"&gt;UI&lt;/span&gt; seems to be a bit more responsive&amp;nbsp;overall.&lt;/li&gt;
&lt;li&gt;I haven&amp;#8217;t checked yet, but I&amp;#8217;ve seen some forum posts about lost
    contacts and Facebook sync&amp;nbsp;issues.&lt;/li&gt;
&lt;/ul&gt;</summary><category term="android"></category><category term="droid"></category><category term="google"></category><category term="motorola"></category><category term="verizon"></category></entry><entry><title>Book Comments: The Future of the Internet and How to Stop It, by Jonathan Zittrain</title><link href="http://blog.jasonantman.com/2009/12/book-comments-the-future-of-the-internet-and-how-to-stop-it-by-jonathan-zittrain/" rel="alternate"></link><updated>2009-12-03T17:34:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-12-03:2009/12/book-comments-the-future-of-the-internet-and-how-to-stop-it-by-jonathan-zittrain/</id><summary type="html">&lt;p&gt;Last week I happened to find a Barnes &lt;span class="amp"&gt;&amp;amp;&lt;/span&gt; Noble gift card in my wallet,
with $75 left on it. What a wonderful discovery! One of the pile of
books that I ordered was &lt;a href="http://futureoftheinternet.org/"&gt;The Future of the Internet&amp;#8212;And How to Stop
It&lt;/a&gt; &lt;a href="http://futureoftheinternet.org/blog"&gt;by Jonathan
Zittrain&lt;/a&gt;. I&amp;#8217;d fully intended to
read the book cover-to-cover, perhaps even digest the content a little,
before throwing my thoughts out there (presumably to get lost into the
vast sea of crap that makes up the &amp;#8220;blogosphere&amp;#8221;). But I just have to
get some thoughts down on&amp;nbsp;paper&amp;#8230;err&amp;#8230;&lt;span class="caps"&gt;LCD&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;First off, when I found out that Zittrain is a professor of Internet Law
at Harvard, it immediately told me two things. First, that he probably
sides with content producers and/or Big &amp;#8216;Net a bit too much. Second,
that he probably doesn&amp;#8217;t really understand what the hell he&amp;#8217;s talking
about, or why people made the choices they have. The fact that the first
chapter of the book, which talks about history, doesn&amp;#8217;t seem to mention
ARPAnet once only confirms this. But, the B&amp;amp;N summary sounded like the
book has a healthy dash of iPhone bashing, so I figured it&amp;#8217;s be a good
read. It was also written in 2008, so I figured that the ideas would be
&lt;em&gt;relatively current&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Well, I&amp;#8217;m just under a quarter of the way into the book, and given the
vast mass of notes I&amp;#8217;ve penned in the margins, I think Mr/ Zittrain and
I wouldn&amp;#8217;t get along too well on a desert island. But I&amp;#8217;ll try to
contain my commentary - and attacks upon the author - until I&amp;#8217;m done
with the book. The thought currently in my mind is a very specific&amp;nbsp;one:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Many technologically savvy people think that bad code is simply a
Microsoft Windows issue. They believe that the Windows &lt;span class="caps"&gt;OS&lt;/span&gt; and the
Internet Explorer browser are particularly poorly designed, and that
&amp;#8220;better&amp;#8221; counterparts (Linux and MacOS, or the Firefox and Opera
browsers) can help protect a user. This is not much added protection.
Not only do these alternative OSes and browsers have their own
vulnerabilities, but the fundamental problem is that the point of a &lt;span class="caps"&gt;PC&lt;/span&gt;
- regardless of its &lt;span class="caps"&gt;OS&lt;/span&gt; - is that its users can easily reconfigure it
to run new software from&amp;nbsp;anywhere.&lt;/p&gt;
&lt;p&gt;To be sure, Microsoft Windows has been the target of malware
infections for years, but this in part reflects Microsoft&amp;#8217;s dominant
market&amp;nbsp;share.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Oh, wow, is it 2004 again? I thought we&amp;#8217;d given up on the &amp;#8220;market share&amp;#8221;
argument. When Apache had 10% of the market share of web servers, people
said it wasn&amp;#8217;t attacked as often because of low market share. Well,
Apache
&lt;a href="http://news.netcraft.com/archives/2009/11/10/november_2009_web_server_survey.html"&gt;currently&lt;/a&gt;
has a 47% share of the market, compared to Microsoft&amp;#8217;s 21%, and it&amp;#8217;s
still more secure, more stable, and has fewer critical
vulnerabilities*. The same market share argument was made about Firefox
when it had 5% market share. Now, the share is projected between
&lt;a href="http://www.w3counter.com/globalstats.php"&gt;31.85%&lt;/a&gt; and
&lt;a href="http://www.w3schools.com/browsers/browsers_stats.asp"&gt;47%&lt;/a&gt;, and it
still has less serious vulnerabilities (ones that can actually damage
your computer) than Windows). I thought this &amp;#8220;market share&amp;#8221; argument was
done&amp;nbsp;with.&lt;/p&gt;
&lt;p&gt;Most important is the thing that most Microsoft-biased pundits (and, of
course, Microsoft themselves) don&amp;#8217;t ever talk about: an amazingly large
number of servers run Linux. Especially e-commerce servers which house
loads of personal information and credit card numbers. Estimates for big
e-commerce sites put non-Windows OSes at 30-50%, and they&amp;#8217;re quite
popular among small sites that probably don&amp;#8217;t have well-trained
SysAdmins. So, if Windows wasn&amp;#8217;t really less secure, wouldn&amp;#8217;t we see
e-commerce servers getting compromised left and&amp;nbsp;right?&lt;/p&gt;
&lt;p&gt;But there&amp;#8217;s a more important point here. It&amp;#8217;s about curtailing the
stupidity of users. I know, in Microsoft&amp;#8217;s defense, that Windows Vista
and Windows 7 are supposed to be better with this. But, at least in the
past, Windows had virtually no privilege separation. With a little code,
you could effect the whole system from an arbitrary binary - or worse,
with ActiveX, through the browser. I was dumbfounded that any user could
install a system-wide application. The real issue here, at least with
older Windows (I don&amp;#8217;t know much about the new ones) is that Windows,
from the beginning, wasn&amp;#8217;t written to be secure. Heck, it wasn&amp;#8217;t even
designed to be attached to a real&amp;nbsp;network.&lt;/p&gt;
&lt;p&gt;Linux does have real security advantages over Windows, and not just
because it has low market share. First is an actual, true implementation
of privilege separation. No matter what I do in my desktop web browser,
no matter what I run, even if I installed a Firefox plugin that wanted
to destroy my machine, it couldn&amp;#8217;t happen. No matter what I let some
random code do, it simply can&amp;#8217;t escape the confines of my user&amp;nbsp;account.&lt;/p&gt;
&lt;p&gt;Ok, ok, I know what you&amp;#8217;re all saying right now. I can hear it from
here: &amp;#8220;but what if the moron does everything as root? what if they just
sudo anything that they&amp;#8217;re asked about?&amp;#8221; Well, I have answers to that,
too. My own distro of choice, &lt;a href="http://www.opensuse.org"&gt;OpenSuSE&lt;/a&gt;
greatly upset me when I went to install 11.1, and the installer showed a
default of one user account, automatic login, and the same password for
the user and root. That&amp;#8217;s just stupid. In fact, it&amp;#8217;s braindead, plain
and simple. I don&amp;#8217;t care how wonderful it would be to get Linux on every
desktop in the world, if we have to destroy every advantage that Linux
has over other OSes, it will be&amp;nbsp;worthless.&lt;/p&gt;
&lt;p&gt;I digress. In the end, it boils down to user education. And, in some
respects, I think that Linux has become too dumbed-down. There are
certain things that simply shouldn&amp;#8217;t be put in a &lt;span class="caps"&gt;GUI&lt;/span&gt;. Excuse my elitism,
but if you can&amp;#8217;t figure out how to configure Apache correctly from the
command line, you have no business running an Apache installation. The
same goes for countless other services and applications. So, what&amp;#8217;s my
solution? Well, here&amp;#8217;s what I do when I install Linux for non-technical
friends. Some of these things are training items, others are things that
I do in terms of configuration and, &lt;span class="caps"&gt;IMHO&lt;/span&gt;, should be &lt;span class="caps"&gt;OS&lt;/span&gt;/distro defaults
(unless you know some esoteric hidden switch to change&amp;nbsp;them).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Disable graphical login as root. This enforces proper use of sudo,
    and also prevents a user from becoming lazy and operating as root on
    a regular&amp;nbsp;basis.&lt;/li&gt;
&lt;li&gt;Pick a good, strong root password. Write it down on a post-it note
    and keep it somewhere near the computer. (Yes, I know what you&amp;#8217;re
    thinking. But if it&amp;#8217;s a home computer, anyone already in the house
    either is trusted, or will own the computer one way or another. I&amp;#8217;d
    rather have everyone in the house have access to the box, than a
    password that a remote attacker can easily brute&amp;nbsp;force.)*&lt;/li&gt;
&lt;li&gt;Disable caching of sudo passwords in the desktop manager, if it
    already isn&amp;#8217;t done. This is a &lt;em&gt;very&lt;/em&gt; bad idea, &lt;span class="caps"&gt;IMHO&lt;/span&gt;, and
    effectively defeats privilege separation. If someone needs to use
    sudo &lt;em&gt;that&lt;/em&gt; often, they&amp;#8217;re either a knowledgeable user, or they&amp;#8217;re
    doing something&amp;nbsp;wrong.&lt;/li&gt;
&lt;li&gt;Set the package manager to use the strictest key verification&amp;nbsp;settings.&lt;/li&gt;
&lt;li&gt;Provide the user with extensive documentation (can be a list of
    links to helpful sites) that includes - &lt;em&gt;this is of paramount
    importance&lt;/em&gt; - a list of common Windows (or whatever &lt;span class="caps"&gt;OS&lt;/span&gt; they&amp;#8217;re
    coming from) programs and their closest Linux equivalents. This is
    another measure to try and dissuade the user from searching for and
    installing arbitrary&amp;nbsp;code.&lt;/li&gt;
&lt;li&gt;Give the user a good, simple explanation of what sudo is, what root
    is, and why they should be worried. One of my analogies - if I have
    time to explain it - is to think of the computer&amp;#8217;s security like a
    jewlery store. Your user account is the front door; only people who
    look honest are buzzed in, but they still can&amp;#8217;t do much damage. The
    root password is the combination to the vault; only very trusted
    people can get in, and they only open it when they absolutely have&amp;nbsp;to.&lt;/li&gt;
&lt;li&gt;Enable a wide range of trusted repositories by default. The more
    likely the user is to find a package in the repos already cached,
    the less likely they are to download arbitrary&amp;nbsp;code.&lt;/li&gt;
&lt;li&gt;Explain to the user that when you install software (as root), you&amp;#8217;re
    essentially giving the developer access to your system. Software
    should be screened by someone who knows what they&amp;#8217;re doing (i.e. the
    community) before you install&amp;nbsp;it.&lt;/li&gt;
&lt;li&gt;I always tell people to *only* install software from the
    repositories I enable. If there&amp;#8217;s something they need and it isn&amp;#8217;t
    available, ask me (or ask the community) and I&amp;#8217;ll make a package and
    upload it to a suitable repository. The key here - and the most
    difficult part - is to conquer the Windows habit of installing
    software from disparate sources, and train the user that only
    software from their repositories, or other community-standard
    repositories, can be&amp;nbsp;trusted.&lt;/li&gt;
&lt;li&gt;Show the user the correct patch/update procedure for their system.
    Depending on skill level and the level of attention you&amp;#8217;re willing
    to give them, it might be advisable to enable automatic updates (if
    the &lt;span class="caps"&gt;OS&lt;/span&gt; doesn&amp;#8217;t have a way to do it, then via&amp;nbsp;cron).&lt;/li&gt;
&lt;li&gt;If the user is a developer or needs to run any services, even just
    for development - i.e. Apache, MySQL, Postfix, etc. - properly
    secure them and give an overview &lt;em&gt;and&lt;/em&gt; links to the proper security&amp;nbsp;procedures.&lt;/li&gt;
&lt;li&gt;Setup a second user account. Explain to the user that this is &lt;em&gt;only&lt;/em&gt;
    to be used for banking and other sensitive activities. Lock it down,
    make sure it&amp;#8217;s in a different group from the main user, don&amp;#8217;t
    install any Firefox&amp;nbsp;plugins.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Unfotunately, a &lt;em&gt;lot&lt;/em&gt; of this is just breaking the bad administration
and security habits shared by most Windows&amp;nbsp;users.&lt;/p&gt;
&lt;p&gt;While we&amp;#8217;re on the topic, a word about package managers. I&amp;#8217;m a Linux
sysadmin, and I believe in &amp;#8216;eating your own dog food&amp;#8217;. I&amp;#8217;ve used Linux
on all of my servers, desktops, and laptops for over 4 years now. I
haven&amp;#8217;t used Windows on a regular basis in ages. I&amp;#8217;d say I touch a
Windows box for about 5 minutes a month, and usually just to use a
browser. A few weeks ago, I was asked to install Windows on a desktop
for someone. I did. I then attempted to install Firefox. Using what I
remembered of Windows, I navigated to the &amp;#8220;Control Panel&amp;#8221; and clicked
(err&amp;#8230; double clicked) on &amp;#8220;Add and Remove Programs&amp;#8221;. Seems logical
enough. I then stared at the screen for about 30 seconds, trying to find
the Search box, where I could type in &amp;#8220;Firefox&amp;#8221;. Finally, I literally
began laughing out loud, when I remembered that Windows doesn&amp;#8217;t have
unified package management, and I&amp;#8217;d need to manually find the Firefox
binary on their web site, download it, and run whatever installer
program Firefox chooses to use. Same issue with updating software. I&amp;#8217;m
utterly perplexed, being a Linux user, that Windows and Mac people still
search through Google or multiple web sites just to find new software.
I&amp;#8217;m even more perplexed that the &lt;span class="caps"&gt;OS&lt;/span&gt; update/patch program doesn&amp;#8217;t also
update all of the software on the system. It seems like the stone&amp;nbsp;ages.&lt;/p&gt;
&lt;p&gt;In my opinion, one of the biggest failings of modern Linux package
management is the assumption (derived from multi-user systems) that all
software should be installed system-wide. Granted, it doesn&amp;#8217;t do a whole
lot to actually protect a single user if they install malicious software
available to just themselves (especially since most desktop installs
these days are probably used as single-user systems), but I really feel
that distros (especially desktop-oriented distros) should have an option
to easily install packages for just the current user, and possibly do
this by&amp;nbsp;default.&lt;/p&gt;
&lt;p&gt;I can&amp;#8217;t find the link right now, but I did find an interesting
article on Microsoft&amp;#8217;s old anti-Linux campaign (&amp;#8220;get the facts&amp;#8221;). One of
the things mentioned was that when Microsoft compared &amp;#8220;vulnerability
counts&amp;#8221;, they were actually comparing: 1) entire Linux distros vs just
the core Windows &lt;span class="caps"&gt;OS&lt;/span&gt;, and 2) counting individual patches in Linux versus
patch sets released by &lt;span class="caps"&gt;MS&lt;/span&gt;. So, not only was &lt;span class="caps"&gt;MS&lt;/span&gt; literally counting apples
and oranges, but they were totally ignoring unfixed vulnerabilities.
Given Microsoft&amp;#8217;s habit of not fixing vulnerabilities - especially in
&amp;#8220;unsupported&amp;#8221; products - it&amp;#8217;s no wonder how they got the numbers to look
so&amp;nbsp;good.&lt;/p&gt;
&lt;p&gt;So, here&amp;#8217;s a thought. People are used to paying for an &lt;span class="caps"&gt;OS&lt;/span&gt; and for
software. Start a Linux vendor that sells a desktop, newbie-oriented
Linux distro. Charge a per-user flat rate for the distro and a bunch of
base packages, that includes X hours of telephone support. Charge per
hour/minute/whatever for additional support. Bundle in secure &lt;span class="caps"&gt;VNC&lt;/span&gt;,
secure remote access, etc. in a way that will allow support to remotely
access the computer, but preserve the privacy and security of the user
(perhaps an app that allows the user to initiate a reverse &lt;span class="caps"&gt;VNC&lt;/span&gt; or &lt;span class="caps"&gt;SSH&lt;/span&gt;
session to support). Lock down root access - allow the user to do it,
but remind them every time that, outside of a specified set of commands,
their actions will be logged and won&amp;#8217;t get full support. Then figure out
a way for support to write a shell script that&amp;#8217;s sent to the user to
perform administrative actions, which will all be listed in relatively
simple terms for the user to examine and approve. Finally, have a
&lt;em&gt;giant&lt;/em&gt; package repo, all of which is free or comes with paid support.
Any F/&lt;span class="caps"&gt;OSS&lt;/span&gt; packages that aren&amp;#8217;t already in the repo can be requested by a
customer, and for a flat fee for the first requesting customer (say,
$10) will be examined, approved, packaged, and added to the&amp;nbsp;repo.&lt;/p&gt;</summary><category term="book"></category><category term="freedom"></category><category term="internet"></category></entry><entry><title>Using Google Maps to produce usable, printable maps</title><link href="http://blog.jasonantman.com/2009/12/using-google-maps-to-produce-usable-printable-maps/" rel="alternate"></link><updated>2009-12-01T14:11:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-12-01:2009/12/using-google-maps-to-produce-usable-printable-maps/</id><summary type="html">&lt;p&gt;This is a follow-up to my &lt;a href="/2009/11/making-maps-from-gis-data-with-inkscape/"&gt;Making maps from &lt;span class="caps"&gt;GIS&lt;/span&gt; data with
Inkscape&lt;/a&gt; post. After
playing around with Inkscape for quite a while, and coming up with the
dismal results seen in that post, I decided there has to be an easier
way. A little Googling turned up &lt;a href="http://www.wipeout44.com/video/misc/google_maps_large.asp"&gt;this video
tutorial&lt;/a&gt; on
how to print large scale maps from Google Maps. It turns out that the
Google Maps &lt;span class="caps"&gt;API&lt;/span&gt; will honor almost any pixel resolution that it&amp;#8217;s passed.
The &lt;a href="https://addons.mozilla.org/en-US/firefox/addon/1146"&gt;Screengrab&lt;/a&gt;
add-on for Firefox has the wonderful capability of being able to capture
a screengrab of page content, at actual resolution, regardless of screen
resolution. So load up a 5000x5000 pixel Google Map, use the Screengrab
addon, and end up with a full 5000x5000 pixel image&amp;nbsp;file.&lt;/p&gt;
&lt;p&gt;After testing this a bit, I decided to go the Google Maps route. This
also has a lot of other added bonuses - I can store my overlay data in
simple &lt;span class="caps"&gt;XML&lt;/span&gt; files, add and remove layers on-the-fly, and also make it
available online (and, theoretically, to any Google Maps-equipped device
used by responders). This even opens up the possibility of using paper
maps as a last resort, and providing the Fire Department with live
hydrant maps on &lt;span class="caps"&gt;GPS&lt;/span&gt;-enabled handheld devices and&amp;nbsp;phones.&lt;/p&gt;
&lt;p&gt;The quirks, however, may need some serious photoshopping (err, rather,
&lt;a href="http://www.gimp.org/"&gt;gimp&lt;/a&gt;ing) to&amp;nbsp;fix:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;With all of the background color, how will this look when&amp;nbsp;printed?&lt;/li&gt;
&lt;li&gt;How do I make the town borders easily defined? It would be a &lt;em&gt;lot&lt;/em&gt;
    of raster editing to remove the background color of areas outside of&amp;nbsp;town.&lt;/li&gt;
&lt;li&gt;How do I overlay a grid for a street name&amp;nbsp;index?&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The first step was to setup a large Google Map to develop with. I used
&lt;span class="caps"&gt;PHP&lt;/span&gt; and Monte Ohrt&amp;#8217;s
&lt;a href="http://www.phpinsider.com/php/code/GoogleMapAPI/"&gt;GoogleMapAPI&lt;/a&gt; &lt;span class="caps"&gt;PHP&lt;/span&gt;
wrapper class. It was simple enough to setup a big (3300x5100px) map,
zoom out in Firefox, and start adding some stuff. My examples and
development pages, if you want to take a peek at the code, are available
in &lt;a href="/GFX/googleMaps.tar.gz"&gt;googleMaps.tar.gz&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The first step was to draw a polygon for the outline of the town. I
found some very detailed information on how to get zip code boundary
lines on Matt Cutts&amp;#8217;
&lt;a href="http://www.mattcutts.com/blog/fun-with-zip-codes/"&gt;blog&lt;/a&gt;. Apparently,
he&amp;#8217;s a Google software engineer, heading up their webspam team. I
grabbed the files from the Census, as described, and came up with the
boundary for my zip code looking&amp;nbsp;like:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;        60      -0.741427638843858E+02       0.409963180802469E+02
      -0.741375870000000E+02       0.410075970000000E+02
      -0.741308870000000E+02       0.410061970000000E+02
      -0.741308870000000E+02       0.410061970000000E+02
      -0.741307260000000E+02       0.410032600000000E+02
      -0.741326870000000E+02       0.409955970000000E+02
      -0.741278870000000E+02       0.409943970000000E+02
      -0.741280870000000E+02       0.409938970000000E+02
      -0.741327870000000E+02       0.409853970000000E+02
      -0.741352870000000E+02       0.409830970000000E+02
      -0.741369600000000E+02       0.409818620000000E+02
      -0.741410520000000E+02       0.409821940000000E+02
      -0.741412870000000E+02       0.409826970000000E+02
      -0.741412870000000E+02       0.409826970000000E+02
      -0.741417870000000E+02       0.409847970000000E+02
      -0.741427870000000E+02       0.409863970000000E+02
      -0.741482870000000E+02       0.409868970000000E+02
      -0.741536880000000E+02       0.409899970000000E+02
      -0.741510880000000E+02       0.409929970000000E+02
      -0.741531880000000E+02       0.409965970000000E+02
      -0.741571880000000E+02       0.409988970000000E+02
      -0.741557880000000E+02       0.410013970000000E+02
      -0.741461870000000E+02       0.410018970000000E+02
      -0.741400870000000E+02       0.410065970000000E+02
      -0.741375870000000E+02       0.410075970000000E+02
END
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;As per Matt&amp;#8217;s instructions, I stripped off the first and last lines,
converted everything to normal decimal notation, and built it into a &lt;span class="caps"&gt;PHP&lt;/span&gt;&amp;nbsp;array:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="x"&gt;$MP_boundary = array();&lt;/span&gt;
&lt;span class="x"&gt;$MP_boundary[] = array(-74.137587, 41.007597);&lt;/span&gt;
&lt;span class="x"&gt;$MP_boundary[] = array(-74.130887, 41.006197);&lt;/span&gt;
&lt;span class="x"&gt;$MP_boundary[] = array(-74.130887, 41.006197);&lt;/span&gt;
&lt;span class="x"&gt;$MP_boundary[] = array(-74.130726, 41.003260);&lt;/span&gt;
&lt;span class="x"&gt;$MP_boundary[] = array(-74.132687, 40.995597);&lt;/span&gt;
&lt;span class="x"&gt;$MP_boundary[] = array(-74.127887, 40.994397);&lt;/span&gt;
&lt;span class="x"&gt;$MP_boundary[] = array(-74.128087, 40.993897);&lt;/span&gt;
&lt;span class="x"&gt;$MP_boundary[] = array(-74.132787, 40.985397);&lt;/span&gt;
&lt;span class="x"&gt;$MP_boundary[] = array(-74.135287, 40.983097);&lt;/span&gt;
&lt;span class="x"&gt;$MP_boundary[] = array(-74.136960, 40.981862);&lt;/span&gt;
&lt;span class="x"&gt;$MP_boundary[] = array(-74.141052, 40.982194);&lt;/span&gt;
&lt;span class="x"&gt;$MP_boundary[] = array(-74.141287, 40.982697);&lt;/span&gt;
&lt;span class="x"&gt;$MP_boundary[] = array(-74.141287, 40.982697);&lt;/span&gt;
&lt;span class="x"&gt;$MP_boundary[] = array(-74.141787, 40.984797);&lt;/span&gt;
&lt;span class="x"&gt;$MP_boundary[] = array(-74.142787, 40.986397);&lt;/span&gt;
&lt;span class="x"&gt;$MP_boundary[] = array(-74.148287, 40.986897);&lt;/span&gt;
&lt;span class="x"&gt;$MP_boundary[] = array(-74.153688, 40.989997);&lt;/span&gt;
&lt;span class="x"&gt;$MP_boundary[] = array(-74.151088, 40.992997);&lt;/span&gt;
&lt;span class="x"&gt;$MP_boundary[] = array(-74.153188, 40.996597);&lt;/span&gt;
&lt;span class="x"&gt;$MP_boundary[] = array(-74.157188, 40.998897);&lt;/span&gt;
&lt;span class="x"&gt;$MP_boundary[] = array(-74.155788, 41.001397);&lt;/span&gt;
&lt;span class="x"&gt;$MP_boundary[] = array(-74.146187, 41.001897);&lt;/span&gt;
&lt;span class="x"&gt;$MP_boundary[] = array(-74.140087, 41.006597);&lt;/span&gt;
&lt;span class="x"&gt;$MP_boundary[] = array(-74.137587, 41.007597);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Though this data doesn&amp;#8217;t seem exactly 100% accurate (at least by my
knowledge of the town, and every map I can find) it&amp;#8217;s quite close and a
very good&amp;nbsp;start.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ll update later this week when I have some more&amp;nbsp;done&amp;#8230;&lt;/p&gt;</summary><category term="catrography"></category><category term="emergency"></category><category term="EMS"></category><category term="google"></category><category term="maps"></category><category term="PHP"></category></entry><entry><title>Making maps from GIS data with Inkscape</title><link href="http://blog.jasonantman.com/2009/11/making-maps-from-gis-data-with-inkscape/" rel="alternate"></link><updated>2009-11-25T09:24:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-11-25:2009/11/making-maps-from-gis-data-with-inkscape/</id><summary type="html">&lt;p&gt;&lt;strong&gt;&lt;span class="caps"&gt;NOTE&lt;/span&gt;-&lt;/strong&gt; I more or less dropped this project, in favor of a more
precise approach, as outlined in &lt;a href="/2009/12/using-google-maps-to-produce-usable-printable-maps/"&gt;Using Google Maps to produce usable,
printable
maps&lt;/a&gt;.
This is being left just to give other people&amp;nbsp;ideas.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Background&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I was recently asked by one of the officers of our volunteer &lt;a href="http://www.mpnj.com/mp_fd.asp"&gt;fire
department&lt;/a&gt; if I could come up with a
good map of our town that could be laminated and put in the trucks. We
currently have a really simple &lt;a href="http://www.mpnj.com/forms/TownMap.pdf"&gt;&lt;span class="caps"&gt;PDF&lt;/span&gt;
map&lt;/a&gt; of our town, but it was done
by a for-profit entity and is only available as the single-size &lt;span class="caps"&gt;PDF&lt;/span&gt;. The
map itself looks&amp;nbsp;like:&lt;/p&gt;
&lt;p&gt;&lt;img alt="town map" src="GFX/TownMap.png" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Data&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;With a little research, I was able to find quite a lot of &lt;span class="caps"&gt;GIS&lt;/span&gt; data on
the &lt;a href="http://www.state.nj.us/dep/gis/"&gt;&lt;span class="caps"&gt;NJ&lt;/span&gt; Department of Environmental Protection &lt;span class="caps"&gt;GIS&lt;/span&gt;
site&lt;/a&gt;. While the &lt;span class="caps"&gt;GIS&lt;/span&gt; viewer software by
&lt;a href="http://www.esri.com"&gt;&lt;span class="caps"&gt;ESRI&lt;/span&gt;&lt;/a&gt; seems to be the usual choice, I found that
the &lt;span class="caps"&gt;GPL&lt;/span&gt;&amp;#8217;ed &lt;a href="http://www.qgis.org/"&gt;Quantum &lt;span class="caps"&gt;GIS&lt;/span&gt;&lt;/a&gt; project (available in the
OpenSuSE
&lt;a href="http://download.opensuse.org/repositories/Application:/Geo/"&gt;Application:Geo&lt;/a&gt;
repository) displayed the data quite nicely. The only major issue was
with street names - there was no way to label lines with two fields from
the metadata (the &lt;span class="caps"&gt;TIGER&lt;/span&gt;/Line files have separate fields for the street
name and the st/rd/ln suffix). More importantly, I needed something that
both looked nice and included overlays (specifically of the fire
department&amp;#8217;s hydrant&amp;nbsp;map).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span class="caps"&gt;SVG&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;A little research led me to the
&lt;a href="http://wiki.github.com/kbh3rd/shptosvg"&gt;shptosvg&lt;/a&gt; perl script that
converts a shapefile to &lt;span class="caps"&gt;SVG&lt;/span&gt;. As the streets within our town won&amp;#8217;t change
any time soon, I figured it was the most logical solution, when
producing a map for print where I would need to re-scale and edit
overlay layers - to just get the data I needed into &lt;span class="caps"&gt;SVG&lt;/span&gt; and do the rest
there. I was able to export both the county roads shapefile and the
state municipal boundaries shapefile to an &lt;span class="caps"&gt;SVG&lt;/span&gt; drawing, and then open
that in &lt;a href="http://www.inkscape.org/"&gt;Inkscape&lt;/a&gt;. To export them, I&amp;nbsp;used:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;perl shptosvg.pl -x3300 -y5100 -p1 -d0.5 berrds00.shp muni_boundaries/nj_munis.shp &amp;gt; test2.svg
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;where berrds00.shp is the &lt;span class="caps"&gt;TIGER&lt;/span&gt;/Line roads shapefile for our county
(from the 2000 census) and muni_boundaries/nj_munis.shp is the
shapefile for the &lt;span class="caps"&gt;NJ&lt;/span&gt; municipal boundaries. The x and y sizes (3300px and
5100px, respectively) were based on an 11x17&amp;#8221; sheet printed at&amp;nbsp;300dpi.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Initial&amp;nbsp;Work&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The initial work was a real pain. I moved each group of objects (the
municipal boundaries and the county road lines) to a separate layer and
then ungrouped them. Next, I began the painstaking process of deleting
all of the objects outside of our town boundary, except the roads
directly around our town. Once this was done, I used File -&gt; Document
Properties -&gt; Fit to Page Selection to &amp;#8220;crop&amp;#8221; the canvas to the
remaining objects. Thanks to the nature of &lt;strong&gt;S&lt;/strong&gt;&lt;span class="caps"&gt;VG&lt;/span&gt;, I was able to crop
the page down and then scale it up again to 11x17&amp;#8221; without any loss of
data or quality. I then moved the roads outside of our town (luckily,
most of the roads from the &lt;span class="caps"&gt;TIGER&lt;/span&gt; data ended up being made up of a series
of line segments, with most of them having a break at the town boundary)
to another layer, so that they could be easily given a light gray color.
I also gave the down boundary a nice red color. Finally, as I neglected
to include a railroad shapefile when I did the original conversion to
&lt;span class="caps"&gt;SVG&lt;/span&gt;, and adding one would obviously not jive with the massive deletion
and re-scaling I&amp;#8217;d done, I drew in the one railroad line running through
town by hand, and gave it a nice dashed line&amp;nbsp;type.&lt;/p&gt;
&lt;p&gt;At this point, I ended up with something that looked&amp;nbsp;like:&lt;/p&gt;
&lt;p&gt;&lt;img alt="inkscape work version 1" src="GFX/inkscape.png" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Cleaning&amp;nbsp;Up&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I now had the following tasks to&amp;nbsp;perform:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Find a nicer way to show the street lines. The ideal would be a line
    made up of 1-2px lines on either side, with a white center. Second
    best would just be thinner&amp;nbsp;lines.&lt;/li&gt;
&lt;li&gt;Cleanup the roads around the town boundary - make sure they&amp;#8217;re black
    within the town and gray outside. If need be. delete some lines and
    re-draw them to split at the town&amp;nbsp;boundary.&lt;/li&gt;
&lt;li&gt;Add labels for the bordering&amp;nbsp;towns.&lt;/li&gt;
&lt;li&gt;The big one - add street name&amp;nbsp;labels.&lt;/li&gt;
&lt;li&gt;Perhaps add in icons/labels/boxes for churches, schools, municipal
    buildings,&amp;nbsp;etc.&lt;/li&gt;
&lt;li&gt;Add in, once I get a copy of the map, the fire department hydrant
    locations as another&amp;nbsp;layer.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;And the added bonuses that I&amp;#8217;d like to&amp;nbsp;do:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Add house numbering on a block level for each&amp;nbsp;street.&lt;/li&gt;
&lt;li&gt;Add a grid overlay, with an index of streets by grid square on the&amp;nbsp;back.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;As of right now (about &lt;span class="caps"&gt;9AM&lt;/span&gt; on November 25, 2009) this is where I stand.
I&amp;#8217;ll update a bit more when I get farther&amp;nbsp;along.&lt;/p&gt;</summary><category term="gis"></category><category term="inkscape"></category><category term="map"></category><category term="shapefile"></category><category term="svg"></category></entry><entry><title>Android links - maps, dial a phone number</title><link href="http://blog.jasonantman.com/2009/11/android-links-maps-dial-a-phone-number/" rel="alternate"></link><updated>2009-11-22T10:25:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-11-22:2009/11/android-links-maps-dial-a-phone-number/</id><summary type="html">&lt;p&gt;If you&amp;#8217;ve used Google search from an Android device to search for a
business, you&amp;#8217;ve probably noticed the two interesting &amp;#8220;buttons&amp;#8221; to the
right of the search listing - &amp;#8220;Get Directions&amp;#8221; and a button for the
phone number. It turns out, these are pretty easy to&amp;nbsp;implement.&lt;/p&gt;
&lt;p&gt;The &amp;#8220;Get Directions&amp;#8221; link is a simple link to &lt;a href="http://maps.google.com"&gt;Google
Maps&lt;/a&gt; like &lt;a href="http://maps.google.com/maps?daddr=42+Pierce+Ave,+Midland+Park,+NJ+07432"&gt;This
One&lt;/a&gt;.
The links are actually pretty&amp;nbsp;simple:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="nt"&gt;&amp;lt;a&lt;/span&gt; &lt;span class="na"&gt;href=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;http://maps.google.com/maps?daddr=42+Pierce+Ave%2C+Midland+Park%2C+&lt;span class="caps"&gt;NJ&lt;/span&gt;+07432&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;Get Directions&lt;span class="nt"&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;It just uses a regular Google Maps &lt;span class="caps"&gt;URL&lt;/span&gt;, with the destination address
encoded. When the link is clicked in the Android browser, a dialog pops
up asking the user whether he wants to open it with the browser or the
Maps application. If Maps is selected, it automatically opens with the
address from the &lt;span class="caps"&gt;URL&lt;/span&gt; in the destination input box, the phone&amp;#8217;s current
location as the start input, and gives easy access to directions and&amp;nbsp;navigation.&lt;/p&gt;
&lt;p&gt;The telephone links are a bit more interesting. Apparently, the Android
browser uses the Phone app to handle the &amp;#8220;tel&amp;#8221; scheme, as defined by
&lt;a href="http://tools.ietf.org/html/rfc3966"&gt;&lt;span class="caps"&gt;RFC&lt;/span&gt; 3966&lt;/a&gt;.Therefore, clicking a
link&amp;nbsp;like:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="nt"&gt;&amp;lt;a&lt;/span&gt; &lt;span class="na"&gt;href=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;tel:2015555555&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;201-555-5555&lt;span class="nt"&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;on Android will bring up the Phone app and pre-enter the digits for
2015555555. Luckily, it doesn&amp;#8217;t automatically dial the number. If you
want to give it a try and are using Android:
&lt;a href="tel:2015555555"&gt;201-555-5555&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The final step is how to implement this. I don&amp;#8217;t know if most mobile
browsers (Blackberry? iPhone?) also support the &amp;#8220;tel&amp;#8221; &lt;span class="caps"&gt;URI&lt;/span&gt; scheme, or how
they&amp;#8217;ll handle Google Maps links. But if you&amp;#8217;re looking to include
Android-specific content, the user agent string from my Motorola Droid
(Android 2.0) looks&amp;nbsp;like:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;Mozilla/5.0 (Linux; U;Android 2.0; en-us; Droid Build/ESD20) AppleWebKit/530.17 (KHTML, like Gecko) Version/4.0 Mobile Safari/530.17
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;I know that there are a number of &lt;span class="caps"&gt;PHP&lt;/span&gt; classes out there to detect
browsers (like &lt;a href="http://chrisschuld.com/projects/browser-php-detecting-a-users-browser-from-php/"&gt;Chris Schuld&amp;#8217;s
browser.php&lt;/a&gt;)
and some things to detect mobile device capabilities (like
&lt;a href="http://wurfl.sourceforge.net/nphp/"&gt;&lt;span class="caps"&gt;WURFL&lt;/span&gt;&lt;/a&gt; or &lt;a href="http://freshmeat.net/projects/tera_wurfl/"&gt;Tera
&lt;span class="caps"&gt;WURFL&lt;/span&gt;&lt;/a&gt;, both using the
&lt;a href="http://en.wikipedia.org/wiki/Wurfl"&gt;&lt;span class="caps"&gt;WURFL&lt;/span&gt;&lt;/a&gt; data). However, if you just
need to know whether your user is on Android or not, I&amp;#8217;d personally
recommend just checking the user agent string for &amp;#8220;Linux&amp;#8221;, &amp;#8220;Android&amp;#8221; and
&amp;#8220;WebKit&amp;#8221; until a better browser identification system is found, as these
are not likely to change in the near&amp;nbsp;future.&lt;/p&gt;</summary><category term="android"></category><category term="google"></category><category term="html"></category></entry><entry><title>root on a Cyclades ACS console server</title><link href="http://blog.jasonantman.com/2009/11/root-on-a-cyclades-acs-console-server/" rel="alternate"></link><updated>2009-11-18T16:21:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-11-18:2009/11/root-on-a-cyclades-acs-console-server/</id><summary type="html">&lt;p&gt;At work we have a Cyclades &lt;span class="caps"&gt;ACS16&lt;/span&gt; console server (running
Cyclades-&lt;span class="caps"&gt;ACS16&lt;/span&gt;-Linux V_3.2.0 (Jan/04/08)). While the docs claim all
sorts of &lt;span class="caps"&gt;LDAP&lt;/span&gt; features, there&amp;#8217;s nothing (either in the web &lt;span class="caps"&gt;GUI&lt;/span&gt; or the
&lt;span class="caps"&gt;CLI&lt;/span&gt; configuration tool) to setup &lt;span class="caps"&gt;LDAP&lt;/span&gt; with &lt;span class="caps"&gt;TLS&lt;/span&gt; or required group
membership. I tried modifying the /etc/ldap.conf and /etc/nsswitch.conf
files, running &lt;code&gt;saveconf&lt;/code&gt; and &lt;code&gt;runconf&lt;/code&gt; and even rebooting, but no luck.
It was apparent that I needed root on the box. Unfortunately, they don&amp;#8217;t
give you root, and their sudo command is locked down. But, I figured, if
sudo would let me &lt;/code&gt; and &lt;code&gt;chown&lt;/code&gt; and &lt;code&gt;cat&lt;/code&gt; and &lt;code&gt;mv&lt;/code&gt; (enough to
switch out the ldap.conf and nsswitch.conf files), root should be pretty&amp;nbsp;easy.&lt;/p&gt;
&lt;p&gt;The failing of Cyclades&amp;#8217; sudo lockdown is that it allows sudo execution
of a few random shell scripts, and also allows&amp;nbsp;`mv`.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;/etc/sudoers&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;# sudoers file.
#
# This file MUST be edited with the &amp;#39;visudo&amp;#39; command as root.
#
# See the sudoers man page for the details on how to write a sudoers file.
#

# User alias specification

# Runas alias specification

# Host alias specification

# Cmnd alias specification
Cmnd_Alias     SH_CMDS = /bin/cp,  
                        /bin/chown,  
                        /bin/egrep,  
                        /bin/grep,  
                        /bin/cat,  
                        /bin/tar,  
                        /bin/kill,  
                        /bin/mkdir,  
                        /bin/mv,  
                        /bin/rm,  
                        /bin/sed,  
                        /bin/touch,  
                        /sbin/reboot,  
                        /usr/bin/killall,  
                        /usr/bin/w,  
                        /bin/w_cas,  
                        /bin/sess_mngt,  
                        /sbin/route,  
                        /bin/what

Cmnd_Alias     CONF_FILES = /bin/vi /etc/network/st_routes,  
                           /bin/vi /etc/portslave/pslave.conf,  
                           /bin/vi /etc/resolv.conf

Cmnd_Alias     APPLICATIONS = /bin/pmCommand,  
                             /bin/saveconf,  
                             /bin/restoreconf,  
                             /bin/runconf,  
                             /bin/daemon.sh,  
                             /bin/manageService.sh,  
                             /bin/dsviewKillAdmin,   
                             /bin/pmfwupgrade,   
                             /bin/adsap2_clear,   
                             /bin/upgrade_power.sh,   
                             /bin/signal_ras

# User privilege specification
# root can run any command on any host as any user.
root    ALL = (ALL) ALL

# admin user group command specification.
%admin      ALL = NOPASSWD: SH_CMDS, CONF_FILES, APPLICATIONS
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;So, /bin/upgrade_power.sh doesn&amp;#8217;t look like we&amp;#8217;re using it too much.
Here&amp;#8217;s our root procedure. Before doing this, create the
&lt;code&gt;/home/admin/foo.sh&lt;/code&gt; script.&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;sudo cp /bin/upgrade_power.sh /bin/upgrade_power.sh.SAVE
sudo chown root:root /home/admin/foo.sh
sudo mv /home/admin/foo.sh /bin/upgrade_power.sh
sudo /bin/upgrade_power.sh
sudo cat /etc/sudoers &lt;span class="c"&gt;# just to verify that it worked&lt;/span&gt;
sudo mv /bin/upgrade_power.sh.&lt;span class="caps"&gt;SAVE&lt;/span&gt; /bin/upgrade_power.sh &lt;span class="c"&gt;# set things back to the way they were&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;And the key to all of it is the simple &lt;code&gt;/home/admin/foo.sh&lt;/code&gt; script:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="c"&gt;#!/bin/bash&lt;/span&gt;

chmod u+w /etc/sudoers
&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;%admin      &lt;span class="caps"&gt;ALL&lt;/span&gt; = &lt;span class="caps"&gt;NOPASSWD&lt;/span&gt;: &lt;span class="caps"&gt;ALL&lt;/span&gt;&amp;quot;&lt;/span&gt; &amp;gt;&amp;gt; /etc/sudoers
chmod u-w /etc/sudoers
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;That&amp;#8217;s&amp;nbsp;it!&lt;/p&gt;</summary><category term="acs"></category><category term="cyclades"></category><category term="gettingroot"></category></entry><entry><title>Droid Camera problem solved</title><link href="http://blog.jasonantman.com/2009/11/droid-camera-problem-solved/" rel="alternate"></link><updated>2009-11-18T13:17:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-11-18:2009/11/droid-camera-problem-solved/</id><summary type="html">&lt;p&gt;Gizmodo - &lt;a href="http://gizmodo.com/5407482/the-real-reason-the-droids-camera-fixed-itself"&gt;The Real Reason the Droid&amp;#8217;s Camera Fixed
Itself&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Well, it&amp;#8217;s definitely good news to know that the problem with the camera
on my beautiful new Droid is only a software issue. However it&amp;#8217;s not too
reassuring to know that Google (or could it have been Motorola devs?)
let code out which obviously has a bit of an issue with a&amp;#8230; rather
predictable&amp;#8230;&amp;nbsp;value.&lt;/p&gt;</summary><category term="android"></category><category term="droid"></category><category term="motorola"></category></entry><entry><title>Motorola Droid - Volume way too low</title><link href="http://blog.jasonantman.com/2009/11/motorola-droid-volume-way-too-low/" rel="alternate"></link><updated>2009-11-17T08:51:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-11-17:2009/11/motorola-droid-volume-way-too-low/</id><summary type="html">&lt;p&gt;I&amp;#8217;m not sure how I did it, but I&amp;#8217;ve had my Droid for a few hours under a
week - the phone&amp;#8217;s uptime is about 187 hours - and I&amp;#8217;ve already got a
major problem. Sometime this weekend, somehow, the volume for everything
got set way too low. Incoming call ringer, notifications, alarms, Google
Maps Navigation, everything seems to be playing through the speaker at
the regular in-call volume - i.e. the volume that it should be at if the
handset is up to my&amp;nbsp;ear.&lt;/p&gt;
&lt;p&gt;I happened by one &lt;a href="http://pocketnow.com/tech-news/droid-can-you-hear-me-now"&gt;blog
post&lt;/a&gt;
mentioning this issue. The two resolutions mentioned were a soft reset
and a replacement of the phone. Hoping for the former, I performed a
soft reset - using the good &amp;#8216;ol Ctrl + Alt + Del sequence - and this
seems to have fixed it. Now I just have to hope that it stays&amp;nbsp;fixed&amp;#8230;&lt;/p&gt;
&lt;p&gt;My personal theory is that some application - whether a code problem or
a crash - left the speaker in a low-volume state. Most likely was my
poking around in the hidden menus which, at one point, killed the Phone
app&amp;nbsp;process.&lt;/p&gt;</summary><category term="android"></category><category term="droid"></category></entry><entry><title>Weekend of Code (Android)</title><link href="http://blog.jasonantman.com/2009/11/weekend-of-code-android/" rel="alternate"></link><updated>2009-11-12T01:35:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-11-12:2009/11/weekend-of-code-android/</id><summary type="html">&lt;p&gt;The Droid is here (literally, sitting in my pocket), and I have the next
two days off of work - plus the weekend. Minus personal commitments,
that&amp;#8217;s about two full (call it 16 hour) days to get some work done.
While I have lots of things that could use my attention - a number of
neglected projects, my big new PHPsa project, and some server
consolidation at home - I&amp;#8217;ve decided to dedicate the time to Android&amp;nbsp;development.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ve got the &lt;span class="caps"&gt;ADK&lt;/span&gt; installed and running, and the emulator is wonderful
(especially with the Droid skin). And I know it&amp;#8217;s wrong, but I think I&amp;#8217;m
going to be developing the first app for Android 2.0 (especially given
the new
&lt;a href="http://developer.android.com/reference/android/provider/ContactsContract.html"&gt;ContactsContract&lt;/a&gt;
&lt;span class="caps"&gt;API&lt;/span&gt; in&amp;nbsp;5).&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m having a few issues with &lt;a href="http://subclipse.tigris.org/"&gt;Subclipse&lt;/a&gt;,
even on the latest OpenSuSE 11.1, and still have a few things I want to
do on the phone&amp;#8230; but hopefully I&amp;#8217;ll have a beta build of the app by
the end of the weekend. I&amp;#8217;ve already done most of the data modeling and
sketched out the&amp;nbsp;storyboard.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m not going to say much about what the app is until it&amp;#8217;s ready, but
it&amp;#8217;s something targeted at people like me - SysAdmins with way too many
things on their plate for their number of waking&amp;nbsp;hours.&lt;/p&gt;</summary><category term="android"></category><category term="google"></category></entry><entry><title>Running a script on USB drive insertion</title><link href="http://blog.jasonantman.com/2009/11/running-a-script-on-usb-drive-insertion/" rel="alternate"></link><updated>2009-11-11T11:47:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-11-11:2009/11/running-a-script-on-usb-drive-insertion/</id><summary type="html">&lt;p&gt;Before I even get into how to do this, &lt;strong&gt;be warned:&lt;/strong&gt; this is a &lt;em&gt;really&lt;/em&gt;
bad idea unless you can ensure total physical access control to the
machine. About the only place I&amp;#8217;d ever use it is in a non-networked
embedded system in a secure location. Its original intent is to handle
loading of pictures onto a Linux-based digital photo&amp;nbsp;frame.&lt;/p&gt;
&lt;p&gt;So, you want to run a specific script on insertion of a &lt;span class="caps"&gt;USB&lt;/span&gt; drive.
Here&amp;#8217;s how to use udev to do&amp;nbsp;it:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Create &lt;code&gt;/etc/udev/rules.d/99-usbhook.rules&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;ACTION==&amp;quot;add&amp;quot;,KERNEL==&amp;quot;sd*&amp;quot;, SUBSYSTEMS==&amp;quot;usb&amp;quot;, ATTRS{product}==&amp;quot;Mass Storage&amp;quot;, RUN+=&amp;quot;/root/bin/usbhook %k&amp;quot;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This will run &amp;#8220;/root/bin/usbook&amp;#8221;, passing it the device name as an
argument, every time a &lt;span class="caps"&gt;USB&lt;/span&gt; Mass Storage device is plugged&amp;nbsp;in.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;run &lt;code&gt;udevcontrol reload_rules&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;Create your usbhook&amp;nbsp;script.&lt;/li&gt;
&lt;li&gt;Enjoy&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Here is my usbhook script to copy all files from a &lt;span class="caps"&gt;USB&lt;/span&gt; mass storage disk
to a specific location. It includes quite a bit of debugging, and also
checks for the presence of a file called &amp;#8220;foobarbaz.txt&amp;#8221; on the device
before copying the files&amp;nbsp;over.&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="c"&gt;#!/bin/bash&lt;/span&gt;

&lt;span class="c"&gt;# script to move over all files from a &lt;span class="caps"&gt;USB&lt;/span&gt; key&lt;/span&gt;
&lt;span class="c"&gt;# when it is inserted into the system.&lt;/span&gt;

&lt;span class="c"&gt;# should be called from a udev rule like:&lt;/span&gt;
&lt;span class="c"&gt;#&lt;span class="caps"&gt;ACTION&lt;/span&gt;==&amp;quot;add&amp;quot;,&lt;span class="caps"&gt;KERNEL&lt;/span&gt;==&amp;quot;sd*&amp;quot;, &lt;span class="caps"&gt;SUBSYSTEMS&lt;/span&gt;==&amp;quot;usb&amp;quot;, &lt;span class="caps"&gt;ATTRS&lt;/span&gt;{product}==&amp;quot;Mass Storage&amp;quot;, &lt;span class="caps"&gt;RUN&lt;/span&gt;+=&amp;quot;/root/bin/usbhook %k&amp;quot;&lt;/span&gt;

&lt;span class="c"&gt;# Copyright 2009 Jason Antman.  &lt;/span&gt;
&lt;span class="c"&gt;# &lt;/span&gt;

&lt;span class="c"&gt;# &lt;span class="caps"&gt;CONFIGURATION&lt;/span&gt;&lt;/span&gt;
&lt;span class="nv"&gt;&lt;span class="caps"&gt;DEBUG&lt;/span&gt;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;1 &lt;span class="c"&gt;# set to 1 for debugging output&lt;/span&gt;
&lt;span class="nv"&gt;&lt;span class="caps"&gt;DEST&lt;/span&gt;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/home/foo/&amp;quot;&lt;/span&gt; &lt;span class="c"&gt;# destination for files&lt;/span&gt;


&lt;span class="nv"&gt;&lt;span class="caps"&gt;DEVICE&lt;/span&gt;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;$1&amp;quot;&lt;/span&gt; &lt;span class="c"&gt;# the device name&lt;/span&gt;
&lt;span class="nv"&gt;&lt;span class="caps"&gt;LOGFACILITY&lt;/span&gt;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;kernel.info&amp;quot;&lt;/span&gt; &lt;span class="c"&gt;# for debugging output&lt;/span&gt;


&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; &lt;span class="k"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;&lt;span class="caps"&gt;DEBUG&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;:=0&lt;/span&gt;&lt;span class="k"&gt;}&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; 1 &lt;span class="o"&gt;]&lt;/span&gt;; &lt;span class="k"&gt;then &lt;/span&gt;logger &lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;LOGFACILITY&lt;/span&gt;&amp;quot;&lt;/span&gt; usbhook called with arguments: &lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;DEVICE&lt;/span&gt;&amp;quot;&lt;/span&gt;; &lt;span class="k"&gt;fi&lt;/span&gt;

sleep 5 &lt;span class="c"&gt;# delay 5 seconds to wait for mount&lt;/span&gt;

mount | grep &lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;DEVICE&lt;/span&gt;&amp;quot;&lt;/span&gt;
&lt;span class="nv"&gt;&lt;span class="caps"&gt;FOO&lt;/span&gt;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;$?&amp;quot;&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; &lt;span class="nv"&gt;$&lt;span class="caps"&gt;FOO&lt;/span&gt;&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; 0 &lt;span class="o"&gt;]&lt;/span&gt;;
&lt;span class="k"&gt;then&lt;/span&gt;
&lt;span class="k"&gt;    if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; &lt;span class="k"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;&lt;span class="caps"&gt;DEBUG&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;:=0&lt;/span&gt;&lt;span class="k"&gt;}&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; 1 &lt;span class="o"&gt;]&lt;/span&gt;; &lt;span class="k"&gt;then &lt;/span&gt;logger &lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;LOGFACILITY&lt;/span&gt;&amp;quot;&lt;/span&gt; usbhook device mounted: &lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;DEVICE&lt;/span&gt;&amp;quot;&lt;/span&gt;; &lt;span class="k"&gt;fi&lt;/span&gt;
&lt;span class="k"&gt;else&lt;/span&gt;
&lt;span class="k"&gt;    if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; &lt;span class="k"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;&lt;span class="caps"&gt;DEBUG&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;:=0&lt;/span&gt;&lt;span class="k"&gt;}&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; 1 &lt;span class="o"&gt;]&lt;/span&gt;; &lt;span class="k"&gt;then &lt;/span&gt;logger &lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;LOGFACILITY&lt;/span&gt;&amp;quot;&lt;/span&gt; usbhook device &lt;span class="caps"&gt;NOT&lt;/span&gt; mounted: &lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;DEVICE&lt;/span&gt;&amp;quot;&lt;/span&gt; - exiting; &lt;span class="k"&gt;fi&lt;/span&gt;
&lt;span class="k"&gt;    &lt;/span&gt;&lt;span class="nb"&gt;exit &lt;/span&gt;0
&lt;span class="k"&gt;fi&lt;/span&gt;

&lt;span class="nv"&gt;&lt;span class="caps"&gt;BAR&lt;/span&gt;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;mount | grep &lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;DEVICE&lt;/span&gt;&amp;quot;&lt;/span&gt; | awk &lt;span class="s1"&gt;&amp;#39;{ print $3 }&amp;#39;&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;BAR&lt;/span&gt;/foobarbaz.txt&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="k"&gt;then&lt;/span&gt;
&lt;span class="k"&gt;    if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; &lt;span class="k"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;&lt;span class="caps"&gt;DEBUG&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;:=0&lt;/span&gt;&lt;span class="k"&gt;}&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; 1 &lt;span class="o"&gt;]&lt;/span&gt;; &lt;span class="k"&gt;then &lt;/span&gt;logger &lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;LOGFACILITY&lt;/span&gt;&amp;quot;&lt;/span&gt; usbhook &lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;BAR&lt;/span&gt;&amp;quot;&lt;/span&gt;/foobarbaz.txt found; &lt;span class="k"&gt;fi&lt;/span&gt;
&lt;span class="k"&gt;else&lt;/span&gt;
&lt;span class="k"&gt;    if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; &lt;span class="k"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;&lt;span class="caps"&gt;DEBUG&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;:=0&lt;/span&gt;&lt;span class="k"&gt;}&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; 1 &lt;span class="o"&gt;]&lt;/span&gt;; &lt;span class="k"&gt;then &lt;/span&gt;logger &lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;LOGFACILITY&lt;/span&gt;&amp;quot;&lt;/span&gt; usbhook &lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;BAR&lt;/span&gt;&amp;quot;&lt;/span&gt;/foobarbaz.txt &lt;span class="caps"&gt;NOT&lt;/span&gt; found - exiting; &lt;span class="k"&gt;fi&lt;/span&gt;
&lt;span class="k"&gt;    &lt;/span&gt;&lt;span class="nb"&gt;exit &lt;/span&gt;0
&lt;span class="k"&gt;fi&lt;/span&gt;

cp -R &lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;DEVICE&lt;/span&gt;&amp;quot;&lt;/span&gt;/* &lt;span class="s2"&gt;&amp;quot;$&lt;span class="caps"&gt;DEST&lt;/span&gt;&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This was tested on &lt;a href="http://www.opensuse.org"&gt;OpenSuSE&lt;/a&gt;&amp;nbsp;10.3.&lt;/p&gt;</summary><category term="linux"></category><category term="script"></category><category term="udev"></category><category term="usb"></category></entry><entry><title>Droid!</title><link href="http://blog.jasonantman.com/2009/11/droid/" rel="alternate"></link><updated>2009-11-10T08:46:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-11-10:2009/11/droid/</id><summary type="html">&lt;p&gt;I don&amp;#8217;t like writing posts with a low useful content quotient, but here&amp;nbsp;goes.&lt;/p&gt;
&lt;p&gt;After having only one new (i.e. not used) phone in eight years - and the
one new one was a Treo 700p, obsolete when I bought it - I decided to
bite the bullet. I bought a Droid! While I was almost dead-set on it
before I even held it in the store, my feelings of love at first sight
were even more clear when I started to play around with&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;So, here&amp;#8217;s a little overview of what I did first, what my
plans/questions are, and what&amp;#8217;s&amp;nbsp;next.&lt;/p&gt;
&lt;p&gt;First&amp;nbsp;minutes/day:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Unpack everything and start to figure things out. Test phone, &lt;span class="caps"&gt;SMS&lt;/span&gt;,&amp;nbsp;data.&lt;/li&gt;
&lt;li&gt;Setup &lt;span class="caps"&gt;IMAP&lt;/span&gt; email for my personal account (need to look into&amp;nbsp;&lt;span class="caps"&gt;IMAP&lt;/span&gt;-&lt;span class="caps"&gt;IDLE&lt;/span&gt;).&lt;/li&gt;
&lt;li&gt;Go through the entire Settings menu and try to set things up. Find
    out that the default apps can&amp;#8217;t be removed. The app screen, by
    default, is pretty&amp;nbsp;full&amp;#8230;&lt;/li&gt;
&lt;li&gt;Export my contacts from my Palm (no sync cable, had to use
    &lt;a href="http://php-pdb.sourceforge.net/"&gt;php-pdb&lt;/a&gt; to export a &lt;span class="caps"&gt;CSV&lt;/span&gt;, then
    manually edit &lt;span class="caps"&gt;ALL&lt;/span&gt; of them in&amp;nbsp;Gmail.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;So after having the phone for about 12 hours, here&amp;#8217;s what I&amp;#8217;ve installed
on&amp;nbsp;it:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Listen (Google Labs)&lt;/strong&gt; - Great podcatcher app. The speaker is a
    bit too quiet for easy listening on the drive to work, so I&amp;#8217;ll need
    to get one of those &lt;span class="caps"&gt;FM&lt;/span&gt; radio&amp;nbsp;interfaces.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;AnyCut&lt;/strong&gt; - allows creation of arbitrary shortcuts on the desktop,
    including direct&amp;nbsp;dial.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ConnectBot&lt;/strong&gt; - full-featured &lt;span class="caps"&gt;SSH&lt;/span&gt; client including key-based auth
    and storage of multiple user/host&amp;nbsp;settings.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Meebo &lt;span class="caps"&gt;IM&lt;/span&gt;&lt;/strong&gt; - &lt;span class="caps"&gt;IM&lt;/span&gt; client. It does &lt;span class="caps"&gt;AIM&lt;/span&gt;, which is nice, but doesn&amp;#8217;t do&amp;nbsp;&lt;span class="caps"&gt;IRC&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Android Battery Dog&lt;/strong&gt; - App that graphs battery voltage,
    temperature, capacity over time and also stores a simple &lt;span class="caps"&gt;CSV&lt;/span&gt; log
    (which I intend to parse out later for historical&amp;nbsp;data).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Bookmarking for Delicious&lt;/strong&gt; - Allows saving of bookmarks to
    &lt;a href="del.icio.us"&gt;del.icio.us&lt;/a&gt; (but not&amp;nbsp;retrieval).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;To Do List&lt;/strong&gt; - A very simple To Do list app, until I find
    something that works with Google Tasks. No&amp;nbsp;syncing.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;VoiceMemo (JavaCodeLand.com)&lt;/strong&gt; - A really simple voice memo&amp;nbsp;app.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;WiFinder (PGMsoft)&lt;/strong&gt; - Pretty much useless. Shows a scan of WiFi
    networks, but only shows encryption, channel number, and signal
    strength in&amp;nbsp;bars.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The few problems I&amp;#8217;ve noticed so&amp;nbsp;far:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The touch-sensitive buttons along the bottom row (specifically the
    search button) seem to be right where my thumb wants to rest when
    holding the phone in landscape&amp;nbsp;mode.&lt;/li&gt;
&lt;li&gt;As others have mentioned, the camera quality isn&amp;#8217;t great, but it&amp;#8217;s
    much better than my Treo&amp;nbsp;700p.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;My list for future&amp;nbsp;research/development:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class="caps"&gt;WAP&lt;/span&gt; pages for my web-based personal finance app, fuel log,&amp;nbsp;etc.&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;IMAP&lt;/span&gt;&amp;nbsp;&lt;span class="caps"&gt;IDLE&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;Tasks/to do app that syncs with Google&amp;nbsp;Tasks.&lt;/li&gt;
&lt;li&gt;A &lt;a href="http://oreilly.com/catalog/9780596007836"&gt;Cycle System&lt;/a&gt;&amp;nbsp;app.&lt;/li&gt;
&lt;li&gt;How to quickly mute all sounds on the&amp;nbsp;phone.&lt;/li&gt;
&lt;li&gt;How to do tones by person or group for not only ringtones (phone)
    but also &lt;span class="caps"&gt;SMS&lt;/span&gt;, Email, etc. Also, a way to set certain hours of the
    day when audible alerts will be disabled, other than a specified
    whitelist (email, &lt;span class="caps"&gt;SMS&lt;/span&gt;,&amp;nbsp;etc.)&lt;/li&gt;
&lt;li&gt;Verizon Visual&amp;nbsp;Voicemail&lt;/li&gt;
&lt;li&gt;Do some development with the geolocation &lt;span class="caps"&gt;JS&lt;/span&gt;&amp;nbsp;&lt;span class="caps"&gt;API&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;Console on the&amp;nbsp;phone?&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;SCP&lt;/span&gt;/&lt;span class="caps"&gt;SFTP&lt;/span&gt;&amp;nbsp;program.&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;TV&lt;/span&gt; listings (perhaps a &lt;span class="caps"&gt;WAP&lt;/span&gt; version of my script that pulls from
    &lt;a href="http://www.schedulesdirect.org/"&gt;SchedulesDirect&lt;/a&gt; (unfortunately,
    due to their redistribution policy, this is a private, authenticated&amp;nbsp;page).&lt;/li&gt;
&lt;li&gt;Nagios&amp;nbsp;checker/notifier&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;RSS&lt;/span&gt;&amp;nbsp;reader&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;WAP&lt;/span&gt; page for &lt;a href="http://www.php-ems-tools.com"&gt;&lt;span class="caps"&gt;PHP&lt;/span&gt; &lt;span class="caps"&gt;EMS&lt;/span&gt; Tools&lt;/a&gt;&amp;nbsp;callin.&lt;/li&gt;
&lt;li&gt;How to handle &lt;span class="caps"&gt;IMAP&lt;/span&gt;&amp;nbsp;folders?&lt;/li&gt;
&lt;li&gt;Script to backup Gmail contacts, other data stored with&amp;nbsp;Google.&lt;/li&gt;
&lt;li&gt;Thunderbird Gmail contact&amp;nbsp;sync.&lt;/li&gt;
&lt;li&gt;A wifi scanner/survey software that shows all of the important stuff
    like signal strength in dbm, noise floor,&amp;nbsp;etc.&lt;/li&gt;
&lt;li&gt;Something like kismet that integrates the &lt;span class="caps"&gt;GPS&lt;/span&gt; and wifi&amp;nbsp;scanning.&lt;/li&gt;
&lt;/ul&gt;</summary><category term="android"></category><category term="droid"></category><category term="google"></category></entry><entry><title>Nagios and check plugins run as root</title><link href="http://blog.jasonantman.com/2009/11/nagios-and-check-plugins-run-as-root/" rel="alternate"></link><updated>2009-11-05T17:05:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-11-05:2009/11/nagios-and-check-plugins-run-as-root/</id><summary type="html">&lt;p&gt;No matter how much we may not like it, and no matter how insecure it can
potentially be, we occasionally have to run Nagios check scripts
(written in scripting languages) as root. (On a side note, this method
is also used for my
&lt;a href="http://multibindadmin.jasonantman.com/"&gt;MultiBindAdmin&lt;/a&gt; project&amp;#8217;s &lt;span class="caps"&gt;DNS&lt;/span&gt;
file push). Here&amp;#8217;s how to do&amp;nbsp;it:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Write your check script in the language of your choice and test as&amp;nbsp;root.&lt;/li&gt;
&lt;li&gt;Grab
    &lt;a href="https://github.com/jantman/nagios-scripts/master/setuid-prog.c"&gt;setuid-prog.c&lt;/a&gt;
    from&amp;nbsp;GitHub.&lt;/li&gt;
&lt;li&gt;uncomment the &lt;span class="caps"&gt;DEFINE&lt;/span&gt; for FULL_PATH, change the string to the full
    path to your&amp;nbsp;script.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Be sure&lt;/strong&gt; your script is owned by root, and is chmod &lt;strong&gt;at most&lt;/strong&gt;&amp;nbsp;755.&lt;/li&gt;
&lt;li&gt;Compile setuid-prog.c:
    &lt;code&gt;gcc -o {check_script_name}-wrapper setuid-prog.c&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Put the resulting binary in your plugin&amp;nbsp;directory.&lt;/li&gt;
&lt;li&gt;Assuming your checks run as user nagios and group nagios, chown the
    binary to root:nagios and chmod&amp;nbsp;4755.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;This allows the use of the &lt;span class="caps"&gt;SUID&lt;/span&gt; bit with&amp;nbsp;scripts.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Use at your own risk.&lt;/strong&gt; I only recommend this on systems where the
Nagios account is strongly authenticated, and where &lt;span class="caps"&gt;ALL&lt;/span&gt; users are&amp;nbsp;trusted.&lt;/p&gt;</summary><category term="Nagios"></category></entry><entry><title>Nagios check_by_ssh and NAT</title><link href="http://blog.jasonantman.com/2009/10/nagios-check_by_ssh-and-nat/" rel="alternate"></link><updated>2009-10-22T13:58:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-10-22:2009/10/nagios-check_by_ssh-and-nat/</id><summary type="html">&lt;p&gt;At a remote location, I have a number of machines to monitor but only
one &lt;span class="caps"&gt;IP&lt;/span&gt; (dynamic on a residential connection). Most of my remote
monitoring with Nagios uses check_by_ssh. Previously, I&amp;#8217;d used one
host for Nagios to &lt;span class="caps"&gt;SSH&lt;/span&gt; to, and then chained together another
check_by_ssh to reach the remote hosts. Unfortunately, this means
nothing past the one first host can get monitored if the first host is
down. All of the other hosts (everything is behind &lt;span class="caps"&gt;NAT&lt;/span&gt;) have &lt;span class="caps"&gt;SSH&lt;/span&gt; visible
externally on different&amp;nbsp;ports.&lt;/p&gt;
&lt;p&gt;&lt;span class="caps"&gt;SSH&lt;/span&gt; itself doesn&amp;#8217;t like one &lt;span class="caps"&gt;IP&lt;/span&gt;/hostname with &lt;span class="caps"&gt;SSH&lt;/span&gt; on different ports -
host key verification will fail, as the &lt;span class="caps"&gt;SSH&lt;/span&gt; client only looks at the
address that it&amp;#8217;s connecting to, not the port number. Normally, this is
bypassed by using a &lt;code&gt;.ssh/config&lt;/code&gt; file&amp;nbsp;like:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;Host foo1
        Hostname foo.example.com
        HostKeyAlias foo1
        CheckHostIP no
        Port 22
        User nagios

Host foo2
        Hostname foo.example.com
        HostKeyAlias foo2
        CheckHostIP no
        Port 222
        User nagios

Host foo3
        Hostname foo.example.com
        HostKeyAlias foo3
        CheckHostIP no
        Port 10022
        User nagios
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;And then you &lt;span class="caps"&gt;SSH&lt;/span&gt; using the &amp;#8220;Host&amp;#8221; named in the config file, not the
actual&amp;nbsp;hostname.&lt;/p&gt;
&lt;p&gt;Unfortunately, the only way to get check_by_ssh to do this was a bit
messy, and required defining a bunch of extra macros for each&amp;nbsp;host:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;./check_by_ssh -o Hostname=foo.example.com -o HostKeyAlias=foo1 -o CheckHostIP=no -o Port=222 -o User=nagios -H foo.example.com -C uptime
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;So, I made a quick little patch for check_by_ssh.c (patched against
the released nagios-plugins-1.4.14)&amp;nbsp;:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="gd"&gt;--- check_by_ssh.c      2009-10-22 14:32:26.000000000 -0400&lt;/span&gt;
&lt;span class="gi"&gt;+++ check_by_ssh_ORIG.c 2009-10-22 14:12:15.000000000 -0400&lt;/span&gt;
&lt;span class="gu"&gt;@@ -181,7 +181,6 @@&lt;/span&gt;
                {&amp;quot;skip&amp;quot;, optional_argument, 0, &amp;#39;S&amp;#39;}, /* backwards compatibility */
                {&amp;quot;skip-stdout&amp;quot;, optional_argument, 0, &amp;#39;S&amp;#39;},
                {&amp;quot;skip-stderr&amp;quot;, optional_argument, 0, &amp;#39;E&amp;#39;},
&lt;span class="gd"&gt;-               {&amp;quot;ssh-config&amp;quot;, optional_argument, 0, &amp;quot;F&amp;quot;},&lt;/span&gt;
                {&amp;quot;proto1&amp;quot;, no_argument, 0, &amp;#39;1&amp;#39;},
                {&amp;quot;proto2&amp;quot;, no_argument, 0, &amp;#39;2&amp;#39;},
                {&amp;quot;use-ipv4&amp;quot;, no_argument, 0, &amp;#39;4&amp;#39;},
&lt;span class="gu"&gt;@@ -199,7 +198,7 @@&lt;/span&gt;
                        strcpy (argv[c], &amp;quot;-t&amp;quot;);

        while (1) {
&lt;span class="gd"&gt;-               c = getopt_long (argc, argv, &amp;quot;Vvh1246fqt:H:O:p:i:u:l:C:S::E::n:s:o:F:&amp;quot;, longopts,&lt;/span&gt;
&lt;span class="gi"&gt;+               c = getopt_long (argc, argv, &amp;quot;Vvh1246fqt:H:O:p:i:u:l:C:S::E::n:s:o:&amp;quot;, longopts,&lt;/span&gt;
                                 &amp;amp;option);

                if (c == -1 || c == &lt;span class="caps"&gt;EOF&lt;/span&gt;)
&lt;span class="gu"&gt;@@ -222,7 +221,7 @@&lt;/span&gt;
                                timeout_interval = atoi (optarg);
                        break;
                case &amp;#39;H&amp;#39;:                                                                       /* host */
&lt;span class="gd"&gt;-                 /* host_or_die(optarg); */     /* commented out 2009-10-22 by jantman for ssh config file use */&lt;/span&gt;
&lt;span class="gi"&gt;+                       host_or_die(optarg);&lt;/span&gt;
                        hostname = optarg;
                        break;
                case &amp;#39;p&amp;#39;: /* port number */
&lt;span class="gu"&gt;@@ -300,12 +299,6 @@&lt;/span&gt;
                        else
                                skip_stderr = atoi (optarg);
                        break;
&lt;span class="gd"&gt;-               /* added 2009-10-22 by jantman for ssh -F option (config file) */&lt;/span&gt;
&lt;span class="gd"&gt;-               case &amp;#39;F&amp;#39;:                                                                       /* ssh config file */&lt;/span&gt;
&lt;span class="gd"&gt;-                       comm_append(&amp;quot;-F&amp;quot;);&lt;/span&gt;
&lt;span class="gd"&gt;-                       comm_append(optarg);&lt;/span&gt;
&lt;span class="gd"&gt;-                       break;&lt;/span&gt;
&lt;span class="gd"&gt;-               /* &lt;span class="caps"&gt;END&lt;/span&gt; added 2009-10-22 by jantman */&lt;/span&gt;
                case &amp;#39;o&amp;#39;:                                                                       /* Extra options for the ssh command */
                        comm_append(&amp;quot;-o&amp;quot;);
                        comm_append(optarg);
&lt;span class="gu"&gt;@@ -411,8 +404,6 @@&lt;/span&gt;
   printf (&amp;quot;    %s\n&amp;quot;, _(&amp;quot;Ignore all or (if specified) first n lines on &lt;span class="caps"&gt;STDERR&lt;/span&gt; [optional]&amp;quot;));
   printf (&amp;quot; %s\n&amp;quot;, &amp;quot;-f&amp;quot;);
   printf (&amp;quot;    %s\n&amp;quot;, _(&amp;quot;tells ssh to fork rather than create a tty [optional]. This will always return &lt;span class="caps"&gt;OK&lt;/span&gt; if ssh is executed&amp;quot;));
&lt;span class="gd"&gt;-  printf (&amp;quot; %s\n&amp;quot;, &amp;quot;-F&amp;quot;);&lt;/span&gt;
&lt;span class="gd"&gt;-  printf (&amp;quot;    %s\n&amp;quot;, _(&amp;quot;path to ssh config file [optional]&amp;quot;));&lt;/span&gt;
   printf (&amp;quot; %s\n&amp;quot;,&amp;quot;-C, --command=&amp;#39;&lt;span class="caps"&gt;COMMAND&lt;/span&gt; &lt;span class="caps"&gt;STRING&lt;/span&gt;&amp;#39;&amp;quot;);
   printf (&amp;quot;    %s\n&amp;quot;, _(&amp;quot;command to execute on the remote machine&amp;quot;));
   printf (&amp;quot; %s\n&amp;quot;,&amp;quot;-l, --logname=&lt;span class="caps"&gt;USERNAME&lt;/span&gt;&amp;quot;);
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;It works fine. The only problem is that I disabled the check that the
given hostname/&lt;span class="caps"&gt;IP&lt;/span&gt; is valid, so instead of getting a nice &amp;#8220;Invalid
hostname/address - foobar&amp;#8221; error, you&amp;#8217;ll get the usual &amp;#8220;Remote command
execution failed: ssh: foobar: Name or service not known&amp;#8221; error (though
it will still give an exit code of 3). I had to do this because
check_by_ssh was checking for a valid hostname itself, though &lt;span class="caps"&gt;SSH&lt;/span&gt;
needs to be passed the &amp;#8220;Host&amp;#8221; alias as defined in the config&amp;nbsp;file.&lt;/p&gt;
&lt;p&gt;With the patch, we now have something nice and clean&amp;nbsp;like:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;./check_by_ssh -H foo1 -F /home/nagios/.ssh/config -l nagios -i /home/nagios/.ssh/id_dsa -C uptime
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Which only adds the &amp;#8220;-F&amp;#8221; flag to what I was already using, and is safe
to use for all&amp;nbsp;hosts.&lt;/p&gt;
&lt;p&gt;When I get a chance, I&amp;#8217;ll figure out a way to gracefully deal with the
host aliases (&amp;#8220;fake hostnames&amp;#8221;) and submit a patch. Most likely, I&amp;#8217;ll
add another option so that you have to specify both the actual hostname
(so it can check that it exists) and the alias used in the config file
(perhaps&amp;nbsp;&amp;#8221;-a&amp;#8221;?)&lt;/p&gt;</summary><category term="monitoring"></category><category term="Nagios"></category></entry><entry><title>Puppet problems with hostname in autosign.conf - Invalid pattern</title><link href="http://blog.jasonantman.com/2009/10/puppet-problems-with-hostname-in-autosignconf-invalid-pattern/" rel="alternate"></link><updated>2009-10-14T14:45:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-10-14:2009/10/puppet-problems-with-hostname-in-autosignconf-invalid-pattern/</id><summary type="html">&lt;p&gt;In playing with Puppet (0.24.8 on clients and server) today (well,
building a new host) I came by a strange error when I ran puppet on the&amp;nbsp;client:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;err: Could not request certificate: Certificate retrieval failed: Invalid pattern css-storemanager
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The thing that was so strange is that &amp;#8220;css-storemanager&amp;#8221; is the name of
a host at my site, controlled by Puppet, but it has nothing to do with
the host I was building. They&amp;#8217;re different boxes, on different subnets,
in different rooms. One is a SunFire and the other is an &lt;span class="caps"&gt;HP&lt;/span&gt;&amp;nbsp;desktop.&lt;/p&gt;
&lt;p&gt;Google turned up nothing. Running puppetmasterd with &lt;code&gt;--debug --trace&lt;/code&gt;
yielded:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;info: Listening on port 8140
notice: Starting Puppet server version 0.24.8
notice: Allowing unauthenticated client ccf-hill019-12.example.edu(172.x.x.x) access to puppetca.getcert
/usr/lib/ruby/site_ruby/1.8/puppet/network/authstore.rb:289:in `parse&amp;#39;
/usr/lib/ruby/site_ruby/1.8/puppet/network/authstore.rb:170:in `pattern=&amp;#39;
/usr/lib/ruby/site_ruby/1.8/puppet/network/authstore.rb:151:in `initialize&amp;#39;
/usr/lib/ruby/site_ruby/1.8/puppet/network/authstore.rb:80:in `new&amp;#39;
/usr/lib/ruby/site_ruby/1.8/puppet/network/authstore.rb:80:in `store&amp;#39;
/usr/lib/ruby/site_ruby/1.8/puppet/network/authstore.rb:20:in `allow&amp;#39;
/usr/lib/ruby/site_ruby/1.8/puppet/network/handler/ca.rb:54:in `autosign?&amp;#39;
/usr/lib/ruby/site_ruby/1.8/puppet/network/handler/ca.rb:51:in `each&amp;#39;
/usr/lib/ruby/site_ruby/1.8/puppet/network/handler/ca.rb:51:in `autosign?&amp;#39;
/usr/lib/ruby/site_ruby/1.8/puppet/network/handler/ca.rb:50:in `open&amp;#39;
/usr/lib/ruby/site_ruby/1.8/puppet/network/handler/ca.rb:50:in `autosign?&amp;#39;
/usr/lib/ruby/site_ruby/1.8/puppet/network/handler/ca.rb:112:in `getcert&amp;#39;
/usr/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `to_proc&amp;#39;
/usr/lib/ruby/site_ruby/1.8/puppet/network/xmlrpc/processor.rb:52:in `call&amp;#39;
/usr/lib/ruby/site_ruby/1.8/puppet/network/xmlrpc/processor.rb:52:in `protect_service&amp;#39;
/usr/lib/ruby/site_ruby/1.8/puppet/network/xmlrpc/processor.rb:85:in `setup_processor&amp;#39;
/usr/lib/ruby/1.8/xmlrpc/server.rb:336:in `call&amp;#39;
/usr/lib/ruby/1.8/xmlrpc/server.rb:336:in `dispatch&amp;#39;
/usr/lib/ruby/1.8/xmlrpc/server.rb:323:in `each&amp;#39;
/usr/lib/ruby/1.8/xmlrpc/server.rb:323:in `dispatch&amp;#39;
/usr/lib/ruby/1.8/xmlrpc/server.rb:366:in `call_method&amp;#39;
/usr/lib/ruby/1.8/xmlrpc/server.rb:378:in `handle&amp;#39;
/usr/lib/ruby/site_ruby/1.8/puppet/network/xmlrpc/processor.rb:44:in `process&amp;#39;
/usr/lib/ruby/site_ruby/1.8/puppet/network/xmlrpc/webrick_servlet.rb:68:in `service&amp;#39;
/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service&amp;#39;
/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run&amp;#39;
/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread&amp;#39;
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start&amp;#39;
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread&amp;#39;
/usr/lib/ruby/1.8/webrick/server.rb:95:in `start&amp;#39;
/usr/lib/ruby/1.8/webrick/server.rb:92:in `each&amp;#39;
/usr/lib/ruby/1.8/webrick/server.rb:92:in `start&amp;#39;
/usr/lib/ruby/1.8/webrick/server.rb:23:in `start&amp;#39;
/usr/lib/ruby/1.8/webrick/server.rb:82:in `start&amp;#39;
/usr/lib/ruby/site_ruby/1.8/puppet.rb:293:in `start&amp;#39;
/usr/lib/ruby/site_ruby/1.8/puppet.rb:144:in `newthread&amp;#39;
/usr/lib/ruby/site_ruby/1.8/puppet.rb:143:in `initialize&amp;#39;
/usr/lib/ruby/site_ruby/1.8/puppet.rb:143:in `new&amp;#39;
/usr/lib/ruby/site_ruby/1.8/puppet.rb:143:in `newthread&amp;#39;
/usr/lib/ruby/site_ruby/1.8/puppet.rb:291:in `start&amp;#39;
/usr/lib/ruby/site_ruby/1.8/puppet.rb:290:in `each&amp;#39;
/usr/lib/ruby/site_ruby/1.8/puppet.rb:290:in `start&amp;#39;
/usr/sbin/puppetmasterd:285
err: Invalid pattern css-storemanager
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;After a bit of investigation into that trace, I found the following code
in &lt;code&gt;/usr/lib/ruby/site_ruby/1.8/puppet/network/authstore.rb&lt;/code&gt; starting on
line&amp;nbsp;242:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;            &lt;span class="c1"&gt;# Parse our input pattern and figure out what kind of allowal&lt;/span&gt;
            &lt;span class="c1"&gt;# statement it is.  The output of this is used for later matching.&lt;/span&gt;
            &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;parse&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;
                &lt;span class="k"&gt;when&lt;/span&gt; &lt;span class="sr"&gt;/^(\d+\.){1,3}\*$/&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="c1"&gt;# an ip address with a &amp;#39;*&amp;#39; at the end&lt;/span&gt;
                    &lt;span class="vi"&gt;@name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="ss"&gt;:ip&lt;/span&gt;
                    &lt;span class="n"&gt;match&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="vg"&gt;$1&lt;/span&gt;
                    &lt;span class="n"&gt;match&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sub!&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;.&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                    &lt;span class="n"&gt;ary&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;.&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

                    &lt;span class="n"&gt;mask&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="n"&gt;ary&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;match&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                    &lt;span class="k"&gt;when&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;
                    &lt;span class="k"&gt;when&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;16&lt;/span&gt;
                    &lt;span class="k"&gt;when&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;24&lt;/span&gt;
                    &lt;span class="k"&gt;else&lt;/span&gt;
                        &lt;span class="k"&gt;raise&lt;/span&gt; &lt;span class="no"&gt;AuthStoreError&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Invalid &lt;span class="caps"&gt;IP&lt;/span&gt; pattern %s&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;
                    &lt;span class="k"&gt;end&lt;/span&gt;

                    &lt;span class="vi"&gt;@length&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;mask&lt;/span&gt;

                    &lt;span class="n"&gt;ary&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pop&lt;/span&gt;
                    &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="n"&gt;ary&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;length&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;
                        &lt;span class="n"&gt;ary&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;push&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;0&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                    &lt;span class="k"&gt;end&lt;/span&gt;

                    &lt;span class="k"&gt;begin&lt;/span&gt;
                        &lt;span class="vi"&gt;@pattern&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="no"&gt;IPAddr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;new&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ary&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;.&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;/&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;mask&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;to_s&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                    &lt;span class="k"&gt;rescue&lt;/span&gt; &lt;span class="no"&gt;ArgumentError&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;detail&lt;/span&gt;
                        &lt;span class="k"&gt;raise&lt;/span&gt; &lt;span class="no"&gt;AuthStoreError&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Invalid &lt;span class="caps"&gt;IP&lt;/span&gt; address pattern %s&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;
                    &lt;span class="k"&gt;end&lt;/span&gt;
                &lt;span class="k"&gt;when&lt;/span&gt; &lt;span class="sr"&gt;/^([a-zA-Z][-\w]*\.)+[-\w]+$/&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="c1"&gt;# a full hostname&lt;/span&gt;
                    &lt;span class="vi"&gt;@name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="ss"&gt;:domain&lt;/span&gt;
                    &lt;span class="vi"&gt;@pattern&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;munge_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                &lt;span class="k"&gt;when&lt;/span&gt; &lt;span class="sr"&gt;/^\*(\.([a-zA-Z][-\w]*)){1,}$/&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="c1"&gt;# *.domain.com&lt;/span&gt;
                    &lt;span class="vi"&gt;@name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="ss"&gt;:domain&lt;/span&gt;
                    &lt;span class="vi"&gt;@pattern&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;munge_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                    &lt;span class="vi"&gt;@pattern&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pop&lt;/span&gt; &lt;span class="c1"&gt;# take off the &amp;#39;*&amp;#39;&lt;/span&gt;
                    &lt;span class="vi"&gt;@length&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="vi"&gt;@pattern&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;length&lt;/span&gt;
                &lt;span class="k"&gt;else&lt;/span&gt;
                    &lt;span class="c1"&gt;# Else, use the IPAddr class to determine if we&amp;#39;ve got a&lt;/span&gt;
                    &lt;span class="c1"&gt;# valid &lt;span class="caps"&gt;IP&lt;/span&gt; address.&lt;/span&gt;
                    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;=~&lt;/span&gt; &lt;span class="sr"&gt;/\/(\d+)$/&lt;/span&gt;
                        &lt;span class="vi"&gt;@length&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;Integer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="vg"&gt;$1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                    &lt;span class="k"&gt;end&lt;/span&gt;
                    &lt;span class="k"&gt;begin&lt;/span&gt;
                        &lt;span class="vi"&gt;@pattern&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="no"&gt;IPAddr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;new&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                    &lt;span class="k"&gt;rescue&lt;/span&gt; &lt;span class="no"&gt;ArgumentError&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;detail&lt;/span&gt;
                        &lt;span class="k"&gt;raise&lt;/span&gt; &lt;span class="no"&gt;AuthStoreError&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Invalid pattern %s&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;
                    &lt;span class="k"&gt;end&lt;/span&gt;
                    &lt;span class="vi"&gt;@name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="ss"&gt;:ip&lt;/span&gt;
                &lt;span class="k"&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Following the trace back, I took a look at
&lt;code&gt;/usr/lib/ruby/site_ruby/1.8/puppet/network/handler/ca.rb&lt;/code&gt; starting at
line&amp;nbsp;50:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;            &lt;span class="n"&gt;auth&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="ss"&gt;Puppet&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="ss"&gt;:Network&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="no"&gt;AuthStore&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;new&lt;/span&gt;
            &lt;span class="no"&gt;File&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;autosign&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;
                &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;each&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;
                    &lt;span class="k"&gt;next&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="o"&gt;=~&lt;/span&gt; &lt;span class="sr"&gt;/^\s*#/&lt;/span&gt;
                    &lt;span class="k"&gt;next&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="o"&gt;=~&lt;/span&gt; &lt;span class="sr"&gt;/^\s*$/&lt;/span&gt;
                    &lt;span class="n"&gt;auth&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;allow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;chomp&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                &lt;span class="p"&gt;}&lt;/span&gt;
            &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;After looking at this, it clicked that it must be what evaluates
autosign.conf. Taking a look at mine, one line stood out: a line
containing only &amp;#8220;css-storemanager&amp;#8221;, not a &lt;span class="caps"&gt;FQDN&lt;/span&gt; like all the rest. The
parse() function in authstore.rb only accepts &lt;span class="caps"&gt;IP&lt;/span&gt; addresses and FQDNs (or
&lt;span class="caps"&gt;IP&lt;/span&gt; addresses ending in a wildcard, or wildcard FQDNs). It appears to
choke on hostnames (a string that doesn&amp;#8217;t match an &lt;span class="caps"&gt;FQDN&lt;/span&gt; or &lt;span class="caps"&gt;IP&lt;/span&gt;).
Interestingly, it also evaluates in order, and stops evaluating
autosign.conf once it finds a match. So, if you&amp;#8217;re a Bad Person like me,
and left autosign turned on for all of your hosts, you wouldn&amp;#8217;t notice
this until you try and build a new&amp;nbsp;box.&lt;/p&gt;
&lt;p&gt;To solve this, just remove any offending lines from&amp;nbsp;autosign.conf.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ve filed a bug report on the Puppet Trac: &lt;a href="http://projects.reductivelabs.com/issues/2723"&gt;Issue
2723&lt;/a&gt;.&lt;/p&gt;</summary><category term="autosign.conf"></category><category term="hostname"></category><category term="puppet"></category></entry><entry><title>Project Announcement - PHPsa</title><link href="http://blog.jasonantman.com/2009/09/project-announcement-phpsa/" rel="alternate"></link><updated>2009-09-29T15:36:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-09-29:2009/09/project-announcement-phpsa/</id><summary type="html">&lt;p&gt;So, here&amp;#8217;s the &amp;#8220;official&amp;#8221; scoop on the new project that I&amp;#8217;m
planning/starting to work on. I&amp;#8217;m calling it PHPsa for now, and it&amp;#8217;s
going to (hopefully) be an integrated dashboard/portal for SysAdmins.
While there are a number of tools that fit into this general category
(perhaps with &lt;a href="http://www.alienvault.com/home.php?section=News"&gt;&lt;span class="caps"&gt;OSSIM&lt;/span&gt;&lt;/a&gt;
being the closest, though it&amp;#8217;s security-minded), I feel that there&amp;#8217;s a
real gap in terms of tool integration. My daily workflow, which includes
multiple trips to and correlation among Nagios, Cacti, &lt;span class="caps"&gt;DNS&lt;/span&gt;, &lt;span class="caps"&gt;DHCP&lt;/span&gt;,
Puppet, logs, and other tools really leaves something to be desired. So,
I&amp;#8217;m setting out to create a modular SysAdmin dashboard that unifies many
of the common SysAdmin-related tools into a modular&amp;nbsp;dashboard.&lt;/p&gt;
&lt;p&gt;The first overall design goals that I&amp;#8217;ve set&amp;nbsp;are:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;A modular, plugin-based architecture that allows admins to select
    which features/tools they want, and allows easy development of new&amp;nbsp;modules.&lt;/li&gt;
&lt;li&gt;Design with legacy tools in mind - easy ways to tie in to tools that
    weren&amp;#8217;t written with PHPsa in mind, both in terms of linking to
    information and gathering/unifying&amp;nbsp;information.&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;RBAC&lt;/span&gt;, including per-module rules and the possibility for a limited
    read-only view (client/user&amp;nbsp;mode).&lt;/li&gt;
&lt;li&gt;Use of data sources, specifically web-based/&lt;span class="caps"&gt;REST&lt;/span&gt; APIs where
    available, and databases otherwise, from existing tools with as
    little modification as&amp;nbsp;possible.&lt;/li&gt;
&lt;li&gt;Support for database abstraction, though I&amp;#8217;ll be using&amp;nbsp;MySQL.&lt;/li&gt;
&lt;li&gt;Eventually, implement &lt;span class="caps"&gt;RSS&lt;/span&gt; feeds of pertinent&amp;nbsp;information.&lt;/li&gt;
&lt;li&gt;Balance Ajax/&lt;span class="caps"&gt;DHTML&lt;/span&gt; with the desire for important things to have
    canonical, static, bookmark-able&amp;nbsp;URLs.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;So, here are some of the things that I&amp;#8217;m planning on integrating, with
obvious bias towards getting my own projects done before I integrate
pre-existing&amp;nbsp;tools:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://multibindadmin.jasonantman.com"&gt;MultiBindAdmin&lt;/a&gt;, my &lt;span class="caps"&gt;DNS&lt;/span&gt; and
    &lt;span class="caps"&gt;DHCP&lt;/span&gt; administration tool (specifically geared towards split-view &lt;span class="caps"&gt;DNS&lt;/span&gt;
    with the inside view behind&amp;nbsp;&lt;span class="caps"&gt;NAT&lt;/span&gt;).&lt;/li&gt;
&lt;li&gt;&lt;a href="http://rackman.jasonantman.com/"&gt;RackMan&lt;/a&gt;, my tool for mapping
    devices&amp;#8217; physical locations in racks (and tacking&amp;nbsp;patching).&lt;/li&gt;
&lt;li&gt;My simple config tool for
    &lt;a href="http://www.puppetlabs.com"&gt;Puppet&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://nagios.org/"&gt;Nagios&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.cacti.net/"&gt;Cacti&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Nathan Hubbard&amp;#8217;s &lt;a href="http://www.machdb.org/"&gt;MachDB&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.bacula.org/en/"&gt;Bacula&lt;/a&gt; (monitoring/status&amp;nbsp;only).&lt;/li&gt;
&lt;li&gt;Syslog via &lt;a href="http://www.rsyslog.com/"&gt;rsyslog&lt;/a&gt; (or any other
    syslog-to-&lt;span class="caps"&gt;SQL&lt;/span&gt;&amp;nbsp;solution).&lt;/li&gt;
&lt;li&gt;Possibly a front-end to &lt;a href="http://www.google.com/analytics/"&gt;Google
    Analytics&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Some of my custom scripts for graphing SpamAssassin, &lt;span class="caps"&gt;DNS&lt;/span&gt; queries,&amp;nbsp;etc.&lt;/li&gt;
&lt;li&gt;Some sort of Apache log analysis, like
    &lt;a href="http://www.mrunix.net/webalizer/"&gt;Webalizer&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Mail log analysis, possibly
    &lt;a href="http://awstats.sourceforge.net/"&gt;AWstats&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;So, the first big issues that I&amp;#8217;m going to&amp;nbsp;tackle:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;General layout. Specifically, how to handle a more-or-less
    consistent layout while integrating tools that weren&amp;#8217;t designed for
    PHPsa. I&amp;#8217;ll probably end up using iFrames (or even a frameset) for
    tools that don&amp;#8217;t integrate&amp;nbsp;well.&lt;/li&gt;
&lt;li&gt;How to correlate data/objects between different tools (i.e. how to
    display information from Nagios, Cacti, MultiBindAdmin and MachDB
    for a given&amp;nbsp;host?).&lt;/li&gt;
&lt;li&gt;Do I want to use a templating engine like
    &lt;a href="http://www.smarty.net/"&gt;Smarty&lt;/a&gt; or hand-code all of the&amp;nbsp;&lt;span class="caps"&gt;HTML&lt;/span&gt;?&lt;/li&gt;
&lt;li&gt;How will I handle&amp;nbsp;plugins?&lt;/li&gt;
&lt;li&gt;How much code do I want to re-write and how much can I use as-is
    from other tools? And, on a related note, how much existing data can
    I access easily from other tools, vs having to use grabber scripts
    that dump data in&amp;nbsp;MySQL?&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Update 2010-02-03&lt;/strong&gt;: I think this may become a semi-official project
for me at $work, which means that I&amp;#8217;ll be able to dedicate quite a bit
more time to it. Unfortunately, it also means that I will, most likely,
have to give up Nathan Hubbard&amp;#8217;s &lt;a href="http://www.machdb.org/"&gt;MachDB&lt;/a&gt; in
favor of &lt;a href="http://www.ocsinventory-ng.org/"&gt;&lt;span class="caps"&gt;OCS&lt;/span&gt; Inventory &lt;span class="caps"&gt;NG&lt;/span&gt;&lt;/a&gt;, a more
mature project that already includes inventory support for Linux,
Windows and&amp;nbsp;Mac.&lt;/p&gt;</summary><category term="bind"></category><category term="cacti"></category><category term="dns"></category><category term="Nagios"></category><category term="PHPsa"></category><category term="Projects"></category><category term="puppet"></category><category term="rsyslog"></category><category term="sysadmin"></category><category term="syslog"></category></entry><entry><title>First big Android … fisaco</title><link href="http://blog.jasonantman.com/2009/09/first-big-android-fisaco/" rel="alternate"></link><updated>2009-09-29T08:44:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-09-29:2009/09/first-big-android-fisaco/</id><summary type="html">&lt;p&gt;Well, I wanted to call this a $#!\^storm, but I don&amp;#8217;t think it&amp;#8217;s grown
to those proportions yet. But any new platform will have its hiccups,
and Google is relatively new to the &lt;span class="caps"&gt;OS&lt;/span&gt;&amp;nbsp;world.&lt;/p&gt;
&lt;p&gt;So, here&amp;#8217;s the news. Google issued a legal Cease and Desist order to a
developer Steve Kondik (known as
&lt;a href="http://twitter.com/cyanogen"&gt;Cyanogen&lt;/a&gt;). The story goes something like
this&amp;#8230; Steve is an active Android developer, doing a lot of work on the
lower-level stuff (lower level than apps), including multi-touch and
more home screens. His changes are essentially at the &lt;span class="caps"&gt;OS&lt;/span&gt;-level, and
Android doesn&amp;#8217;t have a full-fledged package management/patching
mechanism like Linux distros, so making use of them requires recompiling
stuff and re-flashing the device with a new &lt;span class="caps"&gt;ROM&lt;/span&gt; image (since the
installation apps can&amp;#8217;t handle stuff this low-level). Here&amp;#8217;s the rub: in
order to work on a device, the &lt;span class="caps"&gt;ROM&lt;/span&gt; image needs to include both
closed-source Google apps and proprietary (device manufacturer) drivers.
While these apps and drivers are available for download, the license
terms prohibit redistribution. But in order for Steve to create a
fully-functional &lt;span class="caps"&gt;ROM&lt;/span&gt; image, he has to include the closed&amp;nbsp;code.&lt;/p&gt;
&lt;p&gt;There are some writeups on this at &lt;a href="http://www.linux-mag.com/cache/7544/1.html"&gt;Linux
Magazine&lt;/a&gt; and a good, timely
analysis at &lt;a href="http://www.linuxinsider.com/rsstory/68237.html?wlc=1254230361"&gt;Linux
Insider&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;There&amp;#8217;s also a clarification by Google&amp;#8217;s Dan Morrill on the &lt;a href="http://android-developers.blogspot.com/2009/09/note-on-google-apps-for-android.html"&gt;Android
Developers&lt;/a&gt;&amp;nbsp;blog.&lt;/p&gt;
&lt;p&gt;So, what&amp;#8217;s my take on all this (not that another guy taking about this
is&amp;nbsp;needed)?&lt;/p&gt;
&lt;p&gt;Firstly, I think this is relatively minor. The community will work
around it, whether with Google&amp;#8217;s blessing or not. The bigger issue
that&amp;#8217;s coming to light is the fact that Google isn&amp;#8217;t simply altruistic,
they&amp;#8217;re a for-profit entity. They have every right to be, and they have
every right to exercise some amount of control over Android. The
community needs to realize that Android isn&amp;#8217;t a silver bullet, and isn&amp;#8217;t
even the Linux of the phone world. On the other hand, Google needs to
realize two important facts: 1) the openness of Android is what&amp;#8217;s
driving developers to it, and they need to do all they can to continue
that, and 2) most of those developers are flat-out used to running Linux
with an all-&lt;span class="caps"&gt;GPL&lt;/span&gt; system, and aren&amp;#8217;t used to the concept of not being able
to roll their own&amp;nbsp;distribution.&lt;/p&gt;
&lt;p&gt;So what&amp;#8217;s my&amp;nbsp;advice?&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Google should further decouple their Apps from the Android platform.
    Specifically, instead of requiring users to back things up, they
    should provide a redistributable application that installs their
    other apps. &lt;em&gt;Allow a user to flash a bare-bones community &lt;span class="caps"&gt;ROM&lt;/span&gt; image,
    and then pull whatever else they want from Google.&lt;/em&gt; If Google
    intends on toeing the line that Android is Free but the (Google)
    Apps aren&amp;#8217;t, then Google should provide an acceptable means for
    users of community &lt;span class="caps"&gt;ROM&lt;/span&gt; images to easily and painlessly re-install
    the closed Google apps on that&amp;nbsp;image.&lt;/li&gt;
&lt;li&gt;Google should require that handset manufacturers do the same. Create
    a redistributable application that can be part of community &lt;span class="caps"&gt;ROM&lt;/span&gt;
    images, which will (via tethering or whatever) download and install
    any proprietary device-specific drivers that are&amp;nbsp;needed.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Bottom line of my opinion - it&amp;#8217;s fine if Google exercises their full
control over their own closed apps. But they should provide an avenue
for non-technical end-users to easily upgrade a community (i.e. Free)
&lt;span class="caps"&gt;ROM&lt;/span&gt; image with the expected Google Apps and device manufacturer&amp;nbsp;software.&lt;/p&gt;</summary><category term="android"></category><category term="google"></category></entry><entry><title>rsyslog on CentOS5</title><link href="http://blog.jasonantman.com/2009/09/rsyslog-on-centos5/" rel="alternate"></link><updated>2009-09-17T15:45:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-09-17:2009/09/rsyslog-on-centos5/</id><summary type="html">&lt;p&gt;&lt;strong&gt;Update July 2011&lt;/strong&gt; - We&amp;#8217;ve been using rsyslog for our centralized
syslog infrastructure at &lt;a href="http://services.rutgers.edu/"&gt;work&lt;/a&gt; (site
being redesigned at the moment) for about a year now. As a result, our
colleagues at &lt;a href="http://oss.rutgers.edu"&gt;Rutgers University Open System
Solutions&lt;/a&gt; have been nice enough to include
rsyslog in their &lt;a href="http://koji.rutgers.edu"&gt;koji&lt;/a&gt; build system. Updated
packages of rsyslog for CentOS 5 x86 and x86_64 are available
&lt;a href="http://koji.rutgers.edu/koji/buildinfo?buildID=2140"&gt;here&lt;/a&gt;. Please be
aware that they have some dependencies of specific &lt;span class="caps"&gt;RU&lt;/span&gt; versions. It&amp;#8217;s
probably best if you download the source &lt;span class="caps"&gt;RPM&lt;/span&gt; and build it yourself using
rpmbuild. The current &lt;a href="http://koji.rutgers.edu/koji/rpminfo?rpmID=14051"&gt;5.6.2 source
package&lt;/a&gt; includes a
CentOS 5 spec file and other related scripts. This &lt;span class="caps"&gt;RPM&lt;/span&gt; repository is
only open to the public as a courtesy, so please download once at most
and distribute it to your servers&amp;nbsp;yourself.&lt;/p&gt;
&lt;p&gt;Having finally setup my storage server (I know it&amp;#8217;s not much, but for me
starting with &lt;span class="caps"&gt;1TB&lt;/span&gt; is wonderful), I actually got around to redoing my
centralized logging infrastructure. Here&amp;#8217;s a small summary of what I
have to&amp;nbsp;handle:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;logs from 15 hosts at 2 locations, including Cisco devices and a mix
    of syslog and syslog-ng Linux&amp;nbsp;boxen.&lt;/li&gt;
&lt;li&gt;Remote location logs forwarded to one server at remote location,
    then to centralized log server via &lt;span class="caps"&gt;SSH&lt;/span&gt; port&amp;nbsp;forwarding.&lt;/li&gt;
&lt;li&gt;48-hour retention of full iptables border firewall logs (\~&amp;nbsp;&lt;span class="caps"&gt;3GB&lt;/span&gt;/day).&lt;/li&gt;
&lt;li&gt;Future plans to have all logs stored in&amp;nbsp;MySQL.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I&amp;#8217;d previously had most of the boxes logging to an older host with low
disk space, but had to discontinue this due to lack of storage. Having
assessed the options, and with definite plans to log to a database, I
decided to go with &lt;a href="http://www.rsyslog.com"&gt;rsyslog&lt;/a&gt; for the centralized&amp;nbsp;host.&lt;/p&gt;
&lt;p&gt;Unfortunately, stable rsyslog is up to 4.4.x, with 5.x in development,
and the newest package I could find for CentOS was 2.something. So, I
set about building it from source. It was a *very* difficult build on
my machine (CentOS 5.3, 2.6.18-128.el5 #1 &lt;span class="caps"&gt;SMP&lt;/span&gt; i686). Unfortunately, I
don&amp;#8217;t have an &lt;span class="caps"&gt;RPM&lt;/span&gt; build environment setup, but here&amp;#8217;s how I accomplished&amp;nbsp;it:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;If not already done, &lt;code&gt;yum install rpmforge-release&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;yum install gnutls-devel gnutls libatomic\_ops-devel gcc43 java-1.6.0-openjdk-devel&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Download
    &lt;a href="http://rsyslog.com/Downloads-index-req-viewdownload-cid-1-orderby-dateD.phtml"&gt;rsyslog-4.5.2&lt;/a&gt;
    (currently Beta). Extract, &lt;code&gt;cd&lt;/code&gt; into the&amp;nbsp;directory.&lt;/li&gt;
&lt;li&gt;To test the performance difference from MySQL,
    &lt;code&gt;yum install php-pgsql postgresql postgresql-devel postgresql-libs postgresql-server&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Edit the &lt;code&gt;configure&lt;/code&gt; script, add &lt;code&gt;-DHAVE\_ATOMIC\_BUILTINS&lt;/code&gt;
    to the &lt;code&gt;DEFS&lt;/code&gt; line (28936 in this&amp;nbsp;version).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;export CC=/usr/bin/gcc43&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;export CCDEPMODE="depmode=gcc4"&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;export CFLAGS="-O3 -march=i686"&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;./configure --enable-mysql --enable-omtemplate --enable-gnutls --enable-pgsql&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;make &amp;amp;&amp;amp; make install&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;For my system, I used the &lt;code&gt;/etc/sysconfig/rsyslog&lt;/code&gt; and &lt;code&gt;/etc/init.d/rsyslog&lt;/code&gt;
from the 2.x rsyslog RPMs, with some modifications as&amp;nbsp;follows:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;/etc/sysconfig/rsyslog&lt;/code&gt; &lt;em&gt;(comments have been removed to save space)&lt;/em&gt;:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;# -c4   version 4 compatibility mode
# -x     disable DNS for remote messages (don&amp;#39;t want it to hang if DNS is down
# -4     IPv4 only
SYSLOGD_OPTIONS=&amp;quot;-c4 -x -4&amp;quot;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;/etc/init.d/rsyslog&lt;/code&gt; &lt;em&gt;(comments have been removed to save space)&lt;/em&gt;:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="c"&gt;#!/bin/bash&lt;/span&gt;
&lt;span class="c"&gt;#&lt;/span&gt;
&lt;span class="c"&gt;# rsyslog        Starts rsyslogd.&lt;/span&gt;
&lt;span class="c"&gt;#&lt;/span&gt;
&lt;span class="c"&gt;#&lt;/span&gt;
&lt;span class="c"&gt;# chkconfig: - 12 88&lt;/span&gt;
&lt;span class="c"&gt;# description: Syslog is the facility by which many daemons use to log   &lt;/span&gt;
&lt;span class="c"&gt;# messages to various system log files.  It is a good idea to always   &lt;/span&gt;
&lt;span class="c"&gt;# run rsyslog.&lt;/span&gt;
&lt;span class="c"&gt;### &lt;span class="caps"&gt;BEGIN&lt;/span&gt; &lt;span class="caps"&gt;INIT&lt;/span&gt; &lt;span class="caps"&gt;INFO&lt;/span&gt;&lt;/span&gt;
&lt;span class="c"&gt;# Provides: $syslog&lt;/span&gt;
&lt;span class="c"&gt;# Required-Start: $local_fs $network $remote_fs&lt;/span&gt;
&lt;span class="c"&gt;# Required-Stop: $local_fs $network $remote_fs&lt;/span&gt;
&lt;span class="c"&gt;# Default-Stop: 0 1 2 3 4 5 6&lt;/span&gt;
&lt;span class="c"&gt;# Short-Description: Enhanced system logging and kernel message trapping daemons&lt;/span&gt;
&lt;span class="c"&gt;# Description: Rsyslog is an enhanced multi-threaded syslogd supporting,&lt;/span&gt;
&lt;span class="c"&gt;#              among others, MySQL, syslog/tcp, &lt;span class="caps"&gt;RFC&lt;/span&gt; 3195, permitted&lt;/span&gt;
&lt;span class="c"&gt;#              sender lists, filtering on any message part, and fine&lt;/span&gt;
&lt;span class="c"&gt;#              grain output format control.&lt;/span&gt;
&lt;span class="c"&gt;### &lt;span class="caps"&gt;END&lt;/span&gt; &lt;span class="caps"&gt;INIT&lt;/span&gt; &lt;span class="caps"&gt;INFO&lt;/span&gt;&lt;/span&gt;

&lt;span class="c"&gt;# Source function library.&lt;/span&gt;
. /etc/init.d/functions

&lt;span class="nv"&gt;&lt;span class="caps"&gt;RETVAL&lt;/span&gt;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;0

start&lt;span class="o"&gt;()&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
        &lt;span class="o"&gt;[&lt;/span&gt; -x /sbin/rsyslogd &lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="nb"&gt;exit &lt;/span&gt;5

        &lt;span class="c"&gt;# Do not start rsyslog when sysklogd is running&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; -e /var/run/syslogd.pid &lt;span class="o"&gt;]&lt;/span&gt; ; &lt;span class="k"&gt;then&lt;/span&gt;
&lt;span class="k"&gt;                &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;$&amp;quot;Shut down sysklogd before you run rsyslog&amp;quot;&lt;/span&gt;;
                &lt;span class="nb"&gt;exit &lt;/span&gt;1;
        &lt;span class="k"&gt;fi&lt;/span&gt;

        &lt;span class="c"&gt;# Source config&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; -f /etc/sysconfig/rsyslog &lt;span class="o"&gt;]&lt;/span&gt; ; &lt;span class="k"&gt;then&lt;/span&gt;
                . /etc/sysconfig/rsyslog
        &lt;span class="k"&gt;else&lt;/span&gt;
&lt;span class="k"&gt;                &lt;/span&gt;&lt;span class="nv"&gt;SYSLOGD_OPTIONS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;-m 0&amp;quot;&lt;/span&gt;
        &lt;span class="k"&gt;fi&lt;/span&gt;

&lt;span class="k"&gt;        if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; -z &lt;span class="s2"&gt;&amp;quot;$SYSLOG_UMASK&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt; ; &lt;span class="k"&gt;then&lt;/span&gt;
&lt;span class="k"&gt;              &lt;/span&gt;&lt;span class="nv"&gt;SYSLOG_UMASK&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;077;
        &lt;span class="k"&gt;fi&lt;/span&gt;
&lt;span class="k"&gt;        &lt;/span&gt;&lt;span class="nb"&gt;umask&lt;/span&gt; &lt;span class="nv"&gt;$SYSLOG_UMASK&lt;/span&gt;

        &lt;span class="nb"&gt;echo&lt;/span&gt; -n &lt;span class="s2"&gt;$&amp;quot;Starting system logger: &amp;quot;&lt;/span&gt;
        daemon rsyslogd &lt;span class="nv"&gt;$SYSLOGD_OPTIONS&lt;/span&gt;
        &lt;span class="nv"&gt;&lt;span class="caps"&gt;RETVAL&lt;/span&gt;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$?&lt;/span&gt;
        &lt;span class="nb"&gt;echo&lt;/span&gt;
        &lt;span class="o"&gt;[&lt;/span&gt; &lt;span class="nv"&gt;$&lt;span class="caps"&gt;RETVAL&lt;/span&gt;&lt;/span&gt; -eq 0 &lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; touch /var/lock/subsys/rsyslog
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nv"&gt;$&lt;span class="caps"&gt;RETVAL&lt;/span&gt;&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;
stop&lt;span class="o"&gt;()&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
        &lt;span class="nb"&gt;echo&lt;/span&gt; -n &lt;span class="s2"&gt;$&amp;quot;Shutting down system logger: &amp;quot;&lt;/span&gt;
        killproc rsyslogd
        &lt;span class="nv"&gt;&lt;span class="caps"&gt;RETVAL&lt;/span&gt;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$?&lt;/span&gt;
        &lt;span class="nb"&gt;echo&lt;/span&gt;
        &lt;span class="o"&gt;[&lt;/span&gt; &lt;span class="nv"&gt;$&lt;span class="caps"&gt;RETVAL&lt;/span&gt;&lt;/span&gt; -eq 0 &lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; rm -f /var/lock/subsys/rsyslog
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nv"&gt;$&lt;span class="caps"&gt;RETVAL&lt;/span&gt;&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;
reload&lt;span class="o"&gt;()&lt;/span&gt;  &lt;span class="o"&gt;{&lt;/span&gt;
    &lt;span class="nv"&gt;&lt;span class="caps"&gt;RETVAL&lt;/span&gt;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;1
    &lt;span class="nv"&gt;syslog&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;cat /var/run/rsyslogd.pid 2&amp;gt;/dev/null&lt;span class="sb"&gt;`&lt;/span&gt;
    &lt;span class="nb"&gt;echo&lt;/span&gt; -n &lt;span class="s2"&gt;&amp;quot;Reloading system logger...&amp;quot;&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; -n &lt;span class="s2"&gt;&amp;quot;${syslog}&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; -e /proc/&lt;span class="s2"&gt;&amp;quot;${syslog}&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt;; &lt;span class="k"&gt;then&lt;/span&gt;
&lt;span class="k"&gt;        &lt;/span&gt;&lt;span class="nb"&gt;kill&lt;/span&gt; -&lt;span class="caps"&gt;HUP&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;$syslog&amp;quot;&lt;/span&gt;;
        &lt;span class="nv"&gt;&lt;span class="caps"&gt;RETVAL&lt;/span&gt;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$?&lt;/span&gt;
    &lt;span class="k"&gt;fi&lt;/span&gt;
&lt;span class="k"&gt;    if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; &lt;span class="nv"&gt;$&lt;span class="caps"&gt;RETVAL&lt;/span&gt;&lt;/span&gt; -ne 0 &lt;span class="o"&gt;]&lt;/span&gt;; &lt;span class="k"&gt;then&lt;/span&gt;
&lt;span class="k"&gt;        &lt;/span&gt;failure
    &lt;span class="k"&gt;else&lt;/span&gt;
&lt;span class="k"&gt;        &lt;/span&gt;success
    &lt;span class="k"&gt;fi&lt;/span&gt;
&lt;span class="k"&gt;    &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt;
&lt;span class="nb"&gt;    &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nv"&gt;$&lt;span class="caps"&gt;RETVAL&lt;/span&gt;&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;
rhstatus&lt;span class="o"&gt;()&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
        status rsyslogd
&lt;span class="o"&gt;}&lt;/span&gt;
restart&lt;span class="o"&gt;()&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
        stop
        start
&lt;span class="o"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;$1&amp;quot;&lt;/span&gt; in
  start&lt;span class="o"&gt;)&lt;/span&gt;
        start
        ;;
  stop&lt;span class="o"&gt;)&lt;/span&gt;
        stop
        ;;
  restart&lt;span class="o"&gt;)&lt;/span&gt;
        restart
        ;;
  reload|force-reload&lt;span class="o"&gt;)&lt;/span&gt;
        reload
        ;;
  status&lt;span class="o"&gt;)&lt;/span&gt;
        rhstatus
        ;;
  condrestart&lt;span class="o"&gt;)&lt;/span&gt;
        &lt;span class="o"&gt;[&lt;/span&gt; -f /var/lock/subsys/rsyslog &lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; restart &lt;span class="o"&gt;||&lt;/span&gt; :
        ;;
  *&lt;span class="o"&gt;)&lt;/span&gt;
        &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;$&amp;quot;Usage: $0 {start|stop|restart|reload|force-reload|condrestart}&amp;quot;&lt;/span&gt;
        &lt;span class="nb"&gt;exit &lt;/span&gt;2
&lt;span class="k"&gt;esac&lt;/span&gt;

&lt;span class="nb"&gt;exit&lt;/span&gt; &lt;span class="nv"&gt;$?&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;My rsyslog.conf file&lt;/strong&gt;:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;# uncomment next line for debugging, use graphvis to see the graph
#$GenerateConfigGraph /root/rsyslog-graph.dot
$ModLoad imklog
$ModLoad imtcp
$ModLoad imudp
$ModLoad imuxsock

# template
$template RemoteHost,&amp;quot;/var/log/HOSTS/%HOSTNAME%/%$YEAR%/%$MONTH%/%$DAY%/%syslogfacility-text%.log&amp;quot;
# used for Cisco, vanilla syslog when we can&amp;#39;t parse host name
$template RemoteFromHost,&amp;quot;/var/log/HOSTS/%FROMHOST%/%$YEAR%/%$MONTH%/%$DAY%/%syslogfacility-text%.log&amp;quot;

# NOTE - we can&amp;#39;t bind UDP to a ruleset, so it enters the local RuleSet
#   and has to be dealt with here

$RuleSet local

# for cisco, vyatta - doesn&amp;#39;t send hostname, need to use IP manually
:fromhost, isequal, &amp;quot;192.168.0.99&amp;quot; ?RemoteFromHost
:fromhost, isequal, &amp;quot;192.168.0.99&amp;quot; ~
:fromhost, isequal, &amp;quot;192.168.0.103&amp;quot; ?RemoteFromHost
:fromhost, isequal, &amp;quot;192.168.0.103&amp;quot; ~
:fromhost, isequal, &amp;quot;192.168.0.97&amp;quot; ?RemoteFromHost
:fromhost, isequal, &amp;quot;192.168.0.97&amp;quot; ~
:fromhost, isequal, &amp;quot;192.168.0.111&amp;quot; ?RemoteFromHost
:fromhost, isequal, &amp;quot;192.168.0.111&amp;quot; ~
# anything from a remote host gets logged as such
:source, isequal, &amp;quot;&amp;quot; ?RemoteHost
:source, isequal, &amp;quot;&amp;quot; ~

#
# LOCAL LOGGING
#

kern.*                                                 /var/log/messages
*.info;mail.none;authpriv.none;cron.none                /var/log/messages
authpriv.*                                              /var/log/secure
mail.*                                                  -/var/log/maillog
cron.*                                                  /var/log/cron
*.emerg                                                 *
uucp,news.crit                                          /var/log/spooler
local7.*                                                /var/log/boot.log

# use the local RuleSet as default
$DefaultRuleset local

#
# BEGIN centralized logging stuff added 2009-09-16 by jantman
#

# define ruleset for remote logging
$RuleSet remote

*.* ?RemoteHost

# bind ruleset to tcp listener
$InputTCPServerBindRuleset remote
# and activate it:
$InputTCPServerRun 5000

$UDPServerRun 514
$UDPServerRun 5000

#
# END remote logging
#
&lt;/pre&gt;&lt;/div&gt;</summary><category term="centos"></category><category term="logging"></category><category term="rsyslog"></category><category term="syslog"></category></entry><entry><title>DNS Move</title><link href="http://blog.jasonantman.com/2009/09/dns-move/" rel="alternate"></link><updated>2009-09-17T13:07:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-09-17:2009/09/dns-move/</id><summary type="html">&lt;p&gt;Yesterday I finally began moving &lt;span class="caps"&gt;DNS&lt;/span&gt; for my sites from GoDaddy to my own
in-house system of master/slave
&lt;a href="https://www.isc.org/software/bind"&gt;&lt;span class="caps"&gt;BIND9&lt;/span&gt;&lt;/a&gt;. While both &lt;span class="caps"&gt;DNS&lt;/span&gt; servers are
currently at the same location and on the same &lt;span class="caps"&gt;WAN&lt;/span&gt; connection (heck,
they&amp;#8217;re beind the same router, too), so is all of the rest of my
infrastructure. Migrating jasonantman.com was definitely the most
critical task, this has allowed me to easily use my new project,
&lt;a href="http://multibindadmin.jasonantman.com"&gt;MultiBIND Admin&lt;/a&gt; to manage &lt;span class="caps"&gt;DNS&lt;/span&gt;.
In addition to just being simpler than using GoDaddy&amp;#8217;s tool, it allows
me to manage &lt;span class="caps"&gt;DNS&lt;/span&gt; for both the external view and the NATed internal view
in one tool. I did have a brief mail outage thanks to some incorrect &lt;span class="caps"&gt;MX&lt;/span&gt;
records being served by the slave, and a few other issues with the
caching &lt;span class="caps"&gt;DNS&lt;/span&gt; servers at work not expiring the old records, but all seems
to be well now. It was a relatively smooth transition, though I haven&amp;#8217;t
yet moved over some of my older less used&amp;nbsp;domains.&lt;/p&gt;
&lt;p&gt;The next part of my project, when I move the ambulance corps hosted
services in-house, will be trying to find a decently-priced &lt;span class="caps"&gt;DNS&lt;/span&gt; hosting
company that will just act as a slave, to keep &lt;span class="caps"&gt;DNS&lt;/span&gt; up if my &lt;span class="caps"&gt;WAN&lt;/span&gt;
connection goes&amp;nbsp;down.&lt;/p&gt;</summary><category term="bind"></category><category term="dns"></category><category term="multibindadmin"></category></entry><entry><title>September 2009 Project Updates</title><link href="http://blog.jasonantman.com/2009/09/september-2009-project-updates/" rel="alternate"></link><updated>2009-09-17T13:00:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-09-17:2009/09/september-2009-project-updates/</id><summary type="html">&lt;p&gt;I know I haven&amp;#8217;t been posting a lot, but here&amp;#8217;s an update on some of my&amp;nbsp;projects:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.php-ems-tools.com"&gt;&lt;span class="caps"&gt;PHP&lt;/span&gt; &lt;span class="caps"&gt;EMS&lt;/span&gt; Tools&lt;/a&gt; - I&amp;#8217;ve done quite a
    bit of work for the &lt;a href="http://www.midlandparkambulance.com"&gt;ambulance
    corps&lt;/a&gt;, and intend on rolling
    this into the main distribution. I&amp;#8217;ve also added an Asterisk/&lt;span class="caps"&gt;AGI&lt;/span&gt;
    module to handle crew call-ins. It&amp;#8217;s going to be a long road, as I
    have to manually diff the ambulance corps version to the trunk
    version and merge the changes (leaving out anything specific to our
    organization), but I plan on doing it. The next version will also
    include historical tracking of roster information (member
    information, status, positions, committees, etc.) and &lt;span class="caps"&gt;LDAP&lt;/span&gt;
    integration for&amp;nbsp;authentication.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;PHPsa&lt;/strong&gt; - My new project, tentatively called PHPsa, is an
    integrated dashboard for sysadmins. The idea is to develop a
    plugin-based portal for &lt;span class="caps"&gt;SA&lt;/span&gt; tools. Currently, I will be including
    some of my own projects - MultiBindAdmin (a tool to administer &lt;span class="caps"&gt;BIND&lt;/span&gt;
    and DHCPd, specifically geared towards split-view &lt;span class="caps"&gt;DNS&lt;/span&gt; with the
    inside behind &lt;span class="caps"&gt;NAT&lt;/span&gt;) and RackMan (a tool to track and visualize the
    location of devices within racks, including ability to temporarily
    move devices around) - as well as my updates to Nathan Hubbard&amp;#8217;s
    &lt;a href="http://www.machdb.org/"&gt;MachDB&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I&amp;#8217;ve also done quite a bit of customization of the current version of
Nathan Hubbard&amp;#8217;s &lt;a href="http://www.machdb.org/"&gt;MachDB&lt;/a&gt;. It adds detailed
network interface information, information on expansion slots, and some
extra details for the system and storage. I plan on developing a patch
and contacting Nathan once I get a chance. It also includes a Python
collector script that I&amp;nbsp;developed.&lt;/p&gt;</summary><category term="machdb"></category><category term="php ems tools"></category><category term="PHPsa"></category><category term="Projects"></category><category term="rackman"></category></entry><entry><title>Dealing with unplanned downtime - productively</title><link href="http://blog.jasonantman.com/2009/09/dealing-with-unplanned-downtime-productively/" rel="alternate"></link><updated>2009-09-17T12:50:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-09-17:2009/09/dealing-with-unplanned-downtime-productively/</id><summary type="html">&lt;p&gt;While I&amp;#8217;ve read and really appreciate &lt;a href="http://whatexit.org/tal/"&gt;Tom
Limoncelli&lt;/a&gt;&amp;#8216;s &lt;a href="http://www.amazon.com/o/ASIN/0596007833/tomontime-20"&gt;Time Management for System
Administrators&lt;/a&gt;,
the current state of my life (mainly that it&amp;#8217;s split between work,
personal projects, a freelance client, administering the systems of a
the &lt;a href="http://www.midlandparkambulance.com"&gt;ambulance corps&lt;/a&gt; and real
people, and that my &amp;#8220;work day&amp;#8221; is whenever I&amp;#8217;m awake) has prevented me
from really implementing most of the advice. However, I do try to be as
productive as I&amp;nbsp;can.&lt;/p&gt;
&lt;p&gt;Without getting into details, a few weeks ago, $&lt;span class="caps"&gt;WORK&lt;/span&gt; suffered a major
electrical failure that required everything in the data center to be
powered down. This happened around 10:30 &lt;span class="caps"&gt;AM&lt;/span&gt;, and the majority of groups
simply powered down their machines and left, planning to return around 2
&lt;span class="caps"&gt;AM&lt;/span&gt; (the estimated power restoration time). After getting our machines
down and stopping for pizza, I remembered how much of a pain it was to
work in the racks bringing everything down. While my group only has two
racks, we&amp;#8217;ve had a lot of changeover lately, and the cabling had gotten
quote messy. Noting this, I mentioned it to my two higher-ups,
remembering that we had a stock of assorted length patch cables. We were
able to make an &amp;#8220;emergency&amp;#8221; run to our cable vendor and pick up a box of
1- 2- and 3-foot power&amp;nbsp;cables.&lt;/p&gt;
&lt;p&gt;While everyone else was home or in their offices dodging the pieces of
falling sky (everything was down including VoIP and mail), we were the
only group getting real productive work done in the data center. The
power failure, rather than a catastrophic event, was a great opportunity
- the only time we could pull &lt;em&gt;every&lt;/em&gt; cable in a production rack and
re-do all power and&amp;nbsp;patches.&lt;/p&gt;
&lt;p&gt;So, here&amp;#8217;s my &lt;span class="caps"&gt;SA&lt;/span&gt; tip for the day - everyone has some big projects that
they&amp;#8217;d like to do, require downtime, but aren&amp;#8217;t critical enough to
schedule something. So, keep a list of these and have the parts on hand.
Whether it&amp;#8217;s a &amp;#8220;just in case&amp;#8221; hardware swap-out, re-patching, or
anything else, eventually you (depending on the environment that you
work in) might have one of those times when the solution to the problem
is out of your hands and there&amp;#8217;s nothing else to do. Use this time&amp;nbsp;productively.&lt;/p&gt;</summary><category term="sysadmin"></category><category term="time management"></category></entry><entry><title>Apache holding strong, IIS declining</title><link href="http://blog.jasonantman.com/2009/07/apache-holding-strong-iis-declining/" rel="alternate"></link><updated>2009-07-23T14:23:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-07-23:2009/07/apache-holding-strong-iis-declining/</id><summary type="html">&lt;p&gt;According to the latest (June 2009) &lt;a href="http://news.netcraft.com/archives/2009/06/17/june_2009_web_server_survey.html"&gt;NetCraft web server
survey&lt;/a&gt;,
the Free/Open Source &lt;a href="http://httpd.apache.org/"&gt;Apache web server&lt;/a&gt; is
now hosting 50.46% of all active web sites surveyed (about 38 Million).
Microsoft&amp;#8217;s &lt;span class="caps"&gt;IIS&lt;/span&gt; server is at 28.05% (or about 29 Million) - a 7.64%
decline from &lt;span class="caps"&gt;IIS&lt;/span&gt;&amp;#8217;s May 2009 statistics. Interestingly, Google holds
12.2%, presumably most of that is their own content or content generated
by their&amp;nbsp;applications.&lt;/p&gt;
&lt;p&gt;This is nothing new - both Free/Open Source software and Unix-related
stuff has always had a stronger share in the server (and Internet)
market than Microsoft products. And, despite all of Microsoft&amp;#8217;s
&lt;a href="http://en.wikipedia.org/wiki/Fear,_uncertainty_and_doubt"&gt;&lt;span class="caps"&gt;FUD&lt;/span&gt;&lt;/a&gt;, it&amp;#8217;s
clear that Apache is still more popular than &lt;span class="caps"&gt;IIS&lt;/span&gt; by a large margin -
probably in no small part due to the extendability and scalability of
Apache, and its security record (just take a look at the difference in
&lt;a href="http://www.gauravv.com/2009/01/14/difference-between-apache-and-iis/"&gt;system
calls&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;The real shining example, however, comes from looking at the stats on
the Internet&amp;#8217;s million busiest sites - 66.26% running Apache and only
18.77% running &lt;span class="caps"&gt;IIS&lt;/span&gt;, which has been constant for the better part of the
last year. That says quite a bit about the stability and scalability of
Apache. Not to mention that a lot of the really big sites run their own
custom-modified versions of Apache which may or may not be identified as
Apache in a&amp;nbsp;survey.&lt;/p&gt;</summary><category term="apache"></category><category term="iis"></category><category term="web server"></category></entry><entry><title>DNS - Open Source rules</title><link href="http://blog.jasonantman.com/2009/07/dns-open-source-rules/" rel="alternate"></link><updated>2009-07-23T13:37:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-07-23:2009/07/dns-open-source-rules/</id><summary type="html">&lt;p&gt;&lt;span class="caps"&gt;DNS&lt;/span&gt; is arguably one of the most important services on the Internet.
Without it, every domain name and email address we know would be
meaningless. We&amp;#8217;d be thrown back into the days of &lt;span class="caps"&gt;IP&lt;/span&gt; addresses without
corresponding names. And, given everything that depends on &lt;span class="caps"&gt;DNS&lt;/span&gt;, it&amp;#8217;s
also one of the most important services from a security standpoint.
Compromised &lt;span class="caps"&gt;DNS&lt;/span&gt; servers could cause end-of-the-world havoc for whatever
zones they&amp;nbsp;control.&lt;/p&gt;
&lt;p&gt;So here&amp;#8217;s a fact that Microsoft and the other proprietary guys don&amp;#8217;t
want you to know: &lt;strong&gt;58.65% of &lt;span class="caps"&gt;DNS&lt;/span&gt; servers that are listed as being
authoritative for .com or .net domains are running the free/open source
&lt;a href="https://www.isc.org/software/BIND/"&gt;&lt;span class="caps"&gt;ISC&lt;/span&gt; &lt;span class="caps"&gt;BIND&lt;/span&gt;&lt;/a&gt;. Less than 0.3% are using
a Microsoft product&lt;/strong&gt;. To me, that says&amp;nbsp;something.&lt;/p&gt;
&lt;p&gt;This is according to the October 2008 &lt;a href="http://dns.measurement-factory.com/surveys/200810.html"&gt;measurement factory &lt;span class="caps"&gt;DNS&lt;/span&gt; server
survey&lt;/a&gt; of 99+
Million addresses (618,000+&amp;nbsp;hosts).&lt;/p&gt;</summary><category term="bind"></category><category term="dns"></category><category term="market share"></category></entry><entry><title>Microsoft submits driver code for Linux kernel</title><link href="http://blog.jasonantman.com/2009/07/microsoft-submits-driver-code-for-linux-kernel/" rel="alternate"></link><updated>2009-07-23T09:32:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-07-23:2009/07/microsoft-submits-driver-code-for-linux-kernel/</id><summary type="html">&lt;p&gt;I read a very interesting &lt;a href="http://www.linux-mag.com/cache/7439/1.html"&gt;article on
Linux-Mag.com&lt;/a&gt; today. The
gist of it is that Microsoft (as happily announced in a &lt;a href="http://www.microsoft.com/presspass/features/2009/Jul09/07-20LinuxQA.mspx"&gt;press
release&lt;/a&gt;)
has submitted 20,000 lines of code for inclusion into the kernel.
Specifically, the code is comprised of a number of drivers that will
enable Linux to run better under Microsoft&amp;nbsp;Hyper-V.&lt;/p&gt;
&lt;p&gt;Yes, that&amp;#8217;s right, Microsoft released code under GPLv2 and is asking for
it to be put in Linux. They released it under the license that they call
&amp;#8220;cancer&amp;#8221;. And the entire purpose is, essentially, saying &amp;#8220;we want your
project to run well as a guest under our&amp;nbsp;hypervisor.&lt;/p&gt;
&lt;p&gt;The Linux Mag article did touch on some recent news, such as Microsoft&amp;#8217;s
&lt;a href="http://www.linux-mag.com/id/7325"&gt;lawsuit against TomTom&lt;/a&gt; (&lt;a href="http://arstechnica.com/microsoft/news/2009/03/microsoft-and-tomtom-settle-patent-dispute.ars"&gt;settled in
late
March&lt;/a&gt;)
claiming that the Linux kernel infringes their &lt;span class="caps"&gt;VFAT&lt;/span&gt; patents and the 2004
&lt;a href="http://ec.europa.eu/comm/competition/antitrust/cases/decisions/37792/en.pdf"&gt;&lt;span class="caps"&gt;EU&lt;/span&gt; antitrust case
(&lt;span class="caps"&gt;PDF&lt;/span&gt;)&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;A number of things are immediately apparent to&amp;nbsp;me:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The only reason for this is so Linux will virtualize well under&amp;nbsp;Windows/Hyper-V.&lt;/li&gt;
&lt;li&gt;Microsoft doesn&amp;#8217;t seem to be making any similar effort to allow
    Windows to virtualize well under Xen (and it seems to me that many
    more people would want Windows on a reliable Linux host than the
    other way&amp;nbsp;around).&lt;/li&gt;
&lt;li&gt;Microsoft reached a settlement with TomTom, but never did anything
    to indemnify the Linux community at&amp;nbsp;large.&lt;/li&gt;
&lt;li&gt;This is &lt;strong&gt;not&lt;/strong&gt; a Microsoft endorsement (or even recognition) of the&amp;nbsp;&lt;span class="caps"&gt;GPL&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;Microsoft &lt;a href="http://www.linux-watch.com/news/NS6670466370.html"&gt;made
    threats&lt;/a&gt; about
    Linux violating &amp;#8220;over 228&amp;#8221; of its patents in&amp;nbsp;2007.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There&amp;#8217;s a
&lt;a href="http://www.kroah.com/log/linux/microsoft-linux-hyper-v-drivers.html"&gt;post&lt;/a&gt;
on &lt;a href="http://www.kroah.com/log/"&gt;Greg Kroah-Hartman&amp;#8217;s blog&lt;/a&gt; (he&amp;#8217;s the
kernel maintainer who will - or will not - eventually be in charge of
the inclusion of the code). It should be noted that &lt;strong&gt;this all started&lt;/strong&gt;
due to a guy who I really admire, &lt;a href="http://linux-network-plumber.blogspot.com/"&gt;Stephen
Hemminger&lt;/a&gt;, the principal
engineer at Vyatta (whose router product I absolutely love, and their
mock advertisements are just as wonderful). Steve has a &lt;a href="http://linux-network-plumber.blogspot.com/2009/07/congratulations-microsoft.html"&gt;post on his
blog&lt;/a&gt;
giving the&amp;nbsp;background.&lt;/p&gt;
&lt;p&gt;So what do &lt;em&gt;I&lt;/em&gt; think should be done? Include the code. But first&amp;#8230; (I
know Microsoft doing all of this at once would be a dream, but maybe one
or two of them would be&amp;nbsp;nice)&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;If they haven&amp;#8217;t already done so, Microsoft should publicly recognize
    the &lt;span class="caps"&gt;GPL&lt;/span&gt; and all of its terms as being a legally binding&amp;nbsp;license.&lt;/li&gt;
&lt;li&gt;Prior to having any Microsoft code included in the Linux kernel,
    Microsoft publicly states that the Linux kernel, as of the time they
    submitted their code, does not infringe on any Microsoft
    intellectual&amp;nbsp;property.&lt;/li&gt;
&lt;li&gt;It would be nice of Microsoft would agree to some level of
    cooperation with the Linux&amp;nbsp;community.&lt;/li&gt;
&lt;li&gt;Microsoft pledges to allow, support, and actively develop for
    Windows as a guest under Xen and&amp;nbsp;&lt;span class="caps"&gt;KVM&lt;/span&gt;.&lt;/li&gt;
&lt;/ol&gt;</summary><category term="gpl"></category><category term="kernel"></category><category term="linux"></category><category term="microsoft"></category></entry><entry><title>New Projects</title><link href="http://blog.jasonantman.com/2009/07/new-projects/" rel="alternate"></link><updated>2009-07-16T14:05:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-07-16:2009/07/new-projects/</id><summary type="html">&lt;p&gt;In terms of ongoing projects, I should be updating RackMan sometime
soon, and also adding the demo&amp;nbsp;site.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ve begun to move &lt;span class="caps"&gt;DNS&lt;/span&gt; for all of my domains in-house, mostly because
since everything is behind &lt;span class="caps"&gt;NAT&lt;/span&gt;, it&amp;#8217;s a real pain to manage &lt;span class="caps"&gt;DNS&lt;/span&gt; entries
in two places (one of them being GoDaddy&amp;#8217;s web interface). Because of
the &lt;span class="caps"&gt;NAT&lt;/span&gt; issue, I&amp;#8217;m also writing my own &lt;span class="caps"&gt;BIND&lt;/span&gt; configuration tool,
currently named &lt;a href="http://multibindadmin.jasonantman.com"&gt;MultiBIND
Admin&lt;/a&gt;. In addition to managing
multiple zones in a sane way, it stores all configuration in MySQL.
Among other things, it can store different &lt;span class="caps"&gt;IP&lt;/span&gt; addresses for A records
for the inside and outside views. Zone files can either be pulled by a
script on the name server (push capability is being worked on) or
downloaded (for uploading to a &lt;span class="caps"&gt;DNS&lt;/span&gt; hosting provider like&amp;nbsp;GoDaddy).&lt;/p&gt;
&lt;p&gt;For my final project for my &lt;span class="caps"&gt;XML&lt;/span&gt; web design class, I&amp;#8217;m going to be making
some &amp;#8220;mashup&amp;#8221; with RackMan, Google Maps, Google Visualizer, Nagios, and
a few other&amp;nbsp;tools&amp;#8230;&lt;/p&gt;
&lt;p&gt;Stay&amp;nbsp;tuned&amp;#8230;&lt;/p&gt;</summary><category term="bind"></category><category term="dns"></category><category term="google"></category><category term="PHPsa"></category><category term="rackman"></category></entry><entry><title>Problems with TheAntennaFarm.com</title><link href="http://blog.jasonantman.com/2009/07/problems-with-theantennafarmcom/" rel="alternate"></link><updated>2009-07-14T00:33:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-07-14:2009/07/problems-with-theantennafarmcom/</id><summary type="html">&lt;p&gt;When I did the &lt;a href="/2009/07/update-on-my-f-250-icom-mobile-antennas-strobes/"&gt;communications upgrades to my
truck&lt;/a&gt;,
I was originally going to order the antennas and mounts from
&lt;a href="http://www.tessco.com/"&gt;Tessco&lt;/a&gt;, but I found that &lt;a href="http://www.theantennafarm.com"&gt;The Antenna
Farm&lt;/a&gt; in Montana had the best price on
the &lt;span class="caps"&gt;IC&lt;/span&gt;-F5061, and also carried the antennas and mounts. I must first say
that there was a notice on the Antenna Farm web site that they had moved
to a new location a few days before I placed my order. I waited to place
my order until the web site stated that things were shipping&amp;nbsp;normally.&lt;/p&gt;
&lt;p&gt;When I placed my order, I added in the &amp;#8220;notes&amp;#8221; field that I would like
tracking numbers sent to me as soon as they were available, as I had
requested &lt;span class="caps"&gt;UPS&lt;/span&gt; shipping. I received an initial order confirmation. After
waiting a few days, I had received neither a confirmation that my card
was charged nor a tracking number. The order status on their web site
was still listed as &amp;#8220;processing&amp;#8221;. I called back four days after placing
my order, and it took five calls over two days to get anything other
than an answering machine. When I finally got through to John (the owner
and, as far as I can tell, sole employee), the voice quality of their
phone line was so poor I could hardly communicate. I got enough of his
end of the conversation to understand that I should email him, which I
did (for the second or third time). In the email, I stated that I was
having the equipment installed, so I really needed to know when it would
arrive in order to schedule an&amp;nbsp;installation.&lt;/p&gt;
&lt;p&gt;I placed the order early on a Monday morning. After numerous attempts to
make contact, and no change in the &amp;#8220;processing&amp;#8221; status on the web site,
I finally got an email back on Thursday afternoon stating that some of
the antenna mounts were out of stock, and part of the order would be
drop shipped from the distributor, and should be there the next day.
Still no mention of a tracking number, which I had requested numerous
times. I&amp;#8217;ve done quite a bit of selling on Ebay, and know how easy it is
to provide a customer with this information. He also stated that the
high frequency antenna mount for the WiFI antenna was out of stock at
the distributor as well, so he had them make up a more expensive one at
no extra&amp;nbsp;cost.&lt;/p&gt;
&lt;p&gt;The drop ship box arrived the next day, Friday. It contained the two
antennas (I ordered the WiFi antenna directly from L-Com) and two
antenna mounts - *one* of the Antenex &lt;span class="caps"&gt;MB8X&lt;/span&gt;&amp;#8217;s, and the high frequency
mount for the WiFi antenna. The WiFi &lt;span class="caps"&gt;NMO&lt;/span&gt; mount was &lt;em&gt;definitelty&lt;/em&gt; not the
one I ordered. I know John incurred extra cost in having them custom add
a connector, but it didn&amp;#8217;t look like any &lt;span class="caps"&gt;NMO&lt;/span&gt; mount I had ever seen (it
appeared to accept a pin in the center, as opposed to having a flat disc
to make&amp;nbsp;contact).&lt;/p&gt;
&lt;p&gt;The next week, on Tuesday, the Icom radio arrived. It was as ordered,
but the second Antenex &lt;span class="caps"&gt;MB8X&lt;/span&gt; was nowhere to be found. I did finally
receive a tracking number about 24 hours prior to&amp;nbsp;delivery.&lt;/p&gt;
&lt;p&gt;Two weeks after I placed my order (with three day &lt;span class="caps"&gt;UPS&lt;/span&gt; shipping),
&lt;a href="http://kensautoelectric.com/"&gt;Ken&lt;/a&gt; managed to fit me in early in the
morning. I told him about the missing third antenna mount, and he agreed
to use one from his stock. Much to my dismay, when he dropped off the
truck, I learned that *neither* of the antenna mounts that arrived
were true &lt;span class="caps"&gt;NMO&lt;/span&gt; mounts, and thus they were both&amp;nbsp;useless.&lt;/p&gt;
&lt;p&gt;Overall, I&amp;#8217;m horribly disappointed with The Antenna Farm. The lack of
communication is appalling, regardless of whether they&amp;#8217;re having
telephone problems or not (and I find it hard to believe that this guy
doesn&amp;#8217;t have a cell phone, or can&amp;#8217;t setup something VoIP-based). The
online feedback on order status is nonexistent, and I might as well have
had it shipped &lt;span class="caps"&gt;USPS&lt;/span&gt;, because I only got one tracking number and that was
a mere day before delivery. One of three antenna mounts was never
received (though John did refund me the cost) and the other two were not
as specified. He clearly has no idea how to deal with someone who
actually has a timeframe - perhaps normal for someone who does most of
his business with hams and not public safety (I guess that&amp;#8217;s my fault
for choosing a bad vendor). When he found out that there would be delays
in fulfilling my order, John should have contacted me and asked me how I
wanted to proceed. The bulk of my order was drop shipped from Tessco,
who I&amp;#8217;ve done business with before and would have been more than happy
to order direct&amp;nbsp;from.&lt;/p&gt;
&lt;p&gt;The programming kit for the F5061 that I ordered from The Antenna Farm,
which was listed as &amp;#8220;you buy the cable, we throw in the software&amp;#8221;,
arrived as a loose cable in the radio box and a home-burned &lt;span class="caps"&gt;CD&lt;/span&gt;, without
even any writing on it to say what it was, with a simple zip file of the
installer. I don&amp;#8217;t know what Icom&amp;#8217;s licensing agreement is, but I doubt
they&amp;#8217;d be happy about this, as the software isn&amp;#8217;t available on their web&amp;nbsp;site.&lt;/p&gt;
&lt;p&gt;To top it all off, I was told by my installer that he stopped buying
from The Antenna Farm a few years ago due to endless&amp;nbsp;problems.&lt;/p&gt;</summary><category term="antennafarm"></category><category term="communications"></category><category term="EMS"></category><category term="radio"></category></entry><entry><title>Update on my F-250 - Icom mobile, antennas, strobes</title><link href="http://blog.jasonantman.com/2009/07/update-on-my-f-250-icom-mobile-antennas-strobes/" rel="alternate"></link><updated>2009-07-14T00:15:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-07-14:2009/07/update-on-my-f-250-icom-mobile-antennas-strobes/</id><summary type="html">&lt;p&gt;I&amp;#8217;ve done a bit of work on my truck since my last update, and also have
some new photos. The work done&amp;nbsp;includes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Added 4 strobes head to rear of truck, with strobe box in &lt;span class="caps"&gt;NEMA&lt;/span&gt;
    enclosure in&amp;nbsp;bed.&lt;/li&gt;
&lt;li&gt;Icom F5061 (&lt;span class="caps"&gt;VHF&lt;/span&gt; 50W) mobile radio in&amp;nbsp;console&lt;/li&gt;
&lt;li&gt;Three antenna mounts and antennae on roof - WiFi antenna, &lt;span class="caps"&gt;VHF&lt;/span&gt; mobile
    antenna and wideband scanner antenna. The installation and wiring
    was done by &lt;a href="http://kensautoelectric.com/"&gt;Ken&amp;#8217;s Auto Electric&lt;/a&gt; of
    Midland Park, &lt;span class="caps"&gt;NJ&lt;/span&gt; (Ken is a great guy, and prices very&amp;nbsp;reasonably).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Click photos for larger&amp;nbsp;version.&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="/GFX/truck2009-07-03/P1010180.JPG"&gt;&lt;img alt="Looking good after a wash and detail..." src="/GFX/truck2009-07-03/P1010180_small.JPG" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Looking good after a wash and&amp;nbsp;detail&amp;#8230;&lt;/p&gt;
&lt;p&gt;&lt;a href="/GFX/truck2009-07-03/P1010185.JPG"&gt;&lt;img alt="Another photo after the wash (before antenna installation)" src="/GFX/truck2009-07-03/P1010185_small.JPG" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Another photo after the wash (before antenna&amp;nbsp;installation)&lt;/p&gt;
&lt;p&gt;&lt;a href="/GFX/truck2009-07-03/P1010160.JPG"&gt;&lt;img alt="Front lighting job finished." src="/GFX/truck2009-07-03/P1010160_small.JPG" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Front lighting job&amp;nbsp;finished.&lt;/p&gt;
&lt;p&gt;&lt;a href="/GFX/truck2009-07-03/P1010159.JPG"&gt;&lt;img alt="Direct frontal view (before antennae)" src="/GFX/truck2009-07-03/P1010159_small.JPG" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Direct frontal view (before antennae). The Dual Avenger is barely
visible behind the Super Duty graphic at the top of the windshield, but
shows through very clearly when&amp;nbsp;lit.&lt;/p&gt;
&lt;p&gt;&lt;a href="/GFX/truck2009-07-03/P1010156.JPG"&gt;&lt;img alt="Running board mounted LIN4's." src="/GFX/truck2009-07-03/P1010156_small.JPG" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Running board mounted&amp;nbsp;&lt;span class="caps"&gt;LIN4&lt;/span&gt;&amp;#8217;s.&lt;/p&gt;
&lt;p&gt;&lt;a href="/GFX/truck2009-07-03/P1010154.JPG"&gt;&lt;img alt="Rear license plate mounted LIN3s and rear strobes." src="/GFX/truck2009-07-03/P1010154_small.JPG" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Rear license plate mounted LIN3s and rear&amp;nbsp;strobes.&lt;/p&gt;
&lt;p&gt;&lt;a href="/GFX/truck2009-07-03/P1010148.JPG"&gt;&lt;img alt="Closeup of rear LIN3s on license plate bracket." src="/GFX/truck2009-07-03/P1010148_small.JPG" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Closeup of rear LIN3s on license plate&amp;nbsp;bracket.&lt;/p&gt;
&lt;p&gt;&lt;a href="/GFX/truck2009-07-03/P1010165.JPG"&gt;&lt;img alt="Icom F5061 mounted in center console, wired to center antenna." src="/GFX/truck2009-07-03/P1010165_small.JPG" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Icom F5061 mounted in center console, wired to center&amp;nbsp;antenna.&lt;/p&gt;
&lt;p&gt;&lt;a href="/GFX/truck2009-07-03/P1010151.JPG"&gt;/&lt;span class="caps"&gt;GFX&lt;/span&gt;/truck2009-07-03/P1010151_small.&lt;span class="caps"&gt;JPG&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Video&lt;/strong&gt; of rear lights (LIN3s and strobes) during the day. Quicktime
&lt;span class="caps"&gt;MOV&lt;/span&gt;, 20 seconds, 26 &lt;span class="caps"&gt;MB&lt;/span&gt;. &lt;a href="/GFX/truck2009-07-03/P1010151.MOV"&gt;download/view&amp;nbsp;video&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="/GFX/truck2009-07-03/P1010186.JPG"&gt;/&lt;span class="caps"&gt;GFX&lt;/span&gt;/truck2009-07-03/P1010186_small.&lt;span class="caps"&gt;JPG&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Video&lt;/strong&gt; of truck lit at night, shot from all sides. 24 seconds,
Quicktime &lt;span class="caps"&gt;MOV&lt;/span&gt;, 29 Mb. &lt;a href="/GFX/truck2009-07-03/P1010186.MOV"&gt;download/view video&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href="/GFX/truckPhotos2009-07-07/DSC_0180.JPG"&gt;/&lt;span class="caps"&gt;GFX&lt;/span&gt;/truckPhotos2009-07-07/DSC_0180_small.&lt;span class="caps"&gt;JPG&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="/GFX/truckPhotos2009-07-07/DSC_0182.JPG"&gt;/&lt;span class="caps"&gt;GFX&lt;/span&gt;/truckPhotos2009-07-07/DSC_0182_small.&lt;span class="caps"&gt;JPG&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="/GFX/truckPhotos2009-07-07/DSC_0183.JPG"&gt;/&lt;span class="caps"&gt;GFX&lt;/span&gt;/truckPhotos2009-07-07/DSC_0183_small.&lt;span class="caps"&gt;JPG&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Antenna installation by &lt;a href="http://kensautoelectric.com/"&gt;Ken&amp;#8217;s Auto
Electric&lt;/a&gt;. Front to&amp;nbsp;rear:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://www.l-com.com/item.aspx?id=22288"&gt;L-Com &lt;span class="caps"&gt;HG2405U&lt;/span&gt;-&lt;span class="caps"&gt;NMO&lt;/span&gt;&lt;/a&gt; 2.4GHz
    5dBi WiFi antenna for future&amp;nbsp;laptop.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.theantennafarm.com/catalog/index.php?main_page=product_info&amp;amp;products_id=721"&gt;Antenex
    &lt;span class="caps"&gt;QW152B&lt;/span&gt;&lt;/a&gt;
    152-162MHz 1/4 wave unity gain &lt;span class="caps"&gt;VHF&lt;/span&gt; antenna hooked up to Icom&amp;nbsp;mobile.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.theantennafarm.com/catalog/index.php?main_page=product_info&amp;amp;products_id=1048"&gt;Antenex
    &lt;span class="caps"&gt;ABSCANC&lt;/span&gt;&lt;/a&gt;
    150/450/800 MHz scanner&amp;nbsp;antenna.&lt;/li&gt;
&lt;/ol&gt;</summary><category term="antennafarm"></category><category term="antennas"></category><category term="emergency"></category><category term="EMS"></category><category term="f250"></category><category term="icom"></category><category term="lights"></category><category term="radio"></category><category term="truck"></category></entry><entry><title>Daily Work - Nagios SNMP traps, Vyatta, JasonAntman.com upgrades</title><link href="http://blog.jasonantman.com/2009/06/daily-work-nagios-snmp-traps-vyatta-jasonantmancom-upgrades/" rel="alternate"></link><updated>2009-06-27T01:03:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-06-27:2009/06/daily-work-nagios-snmp-traps-vyatta-jasonantmancom-upgrades/</id><summary type="html">&lt;p&gt;So it&amp;#8217;s been a very busy day. I was up until 5 &lt;span class="caps"&gt;AM&lt;/span&gt; or so working on
implementing &lt;a href="http://reductivelabs.com/trac/puppet/"&gt;Puppet&lt;/a&gt; at home.
I&amp;#8217;m building two new boxes - a storage (centralized home
directory)/syslog (to MySQL) server and a second web server (possibly
also to handle Nagios) - and I decided that they&amp;#8217;ll be totally built by
Puppet. The only thing I had to give up on was setting up the &lt;span class="caps"&gt;NFS&lt;/span&gt; share
for my home directory on the new storage box and installing and testing
&lt;a href="http://www.rsyslog.com/"&gt;rsyslog&lt;/a&gt; on&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;This afternoon around 7, I started on my weekend projects for &lt;a href="http://www.midlandparkambulance.com"&gt;the
ambulance corps&lt;/a&gt; - setting up
&lt;a href="http://www.nagios.org"&gt;Nagios&lt;/a&gt; to receive &lt;span class="caps"&gt;SNMP&lt;/span&gt; traps from the &lt;span class="caps"&gt;APC&lt;/span&gt; &lt;span class="caps"&gt;UPS&lt;/span&gt;
and moving over to the new &lt;a href="http://www.vyatta.org"&gt;Vyatta&lt;/a&gt;-based router
(from &lt;a href="http://m0n0.ch/wall/"&gt;m0n0wall&lt;/a&gt;). I&amp;#8217;d attempted the router
before, but had to rollback - I&amp;#8217;m using an old
&lt;a href="http://www.bluesocket.com/"&gt;BlueSocket&lt;/a&gt; controller for hardware - it&amp;#8217;s
just a nice black 1U enclosure with a stock Intel motherboard, &lt;span class="caps"&gt;20GB&lt;/span&gt; &lt;span class="caps"&gt;HDD&lt;/span&gt;,
&lt;span class="caps"&gt;512MB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt; and three 10/100 NICs. The first time, I was unable to get
link on either of the two NICs I was using, so I decided to&amp;nbsp;rollback.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Nagios &lt;span class="caps"&gt;SNMP&lt;/span&gt;&amp;nbsp;Traps&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I found a good starting point for Nagios &lt;span class="caps"&gt;SNMP&lt;/span&gt; traps on the &lt;a href="http://altinity.blogs.com/dotorg/2006/03/lessons_in_snmp.html"&gt;OpsView
blog&lt;/a&gt;. I
setup `snmptrapd` on the Nagios server and hacked together a little
Python script to just write all of the traps to a file. After some
testing with `snmptrap` on my laptop, I did a test by pulling the
power plug of the &lt;span class="caps"&gt;UPS&lt;/span&gt;, waiting about 30 seconds, and then plugging it
back in. Sure enough, the little old &lt;a href="/2007/03/apc-ap9605-powernet-snmp-card/"&gt;&lt;span class="caps"&gt;AP9605&lt;/span&gt; PowerNet &lt;span class="caps"&gt;SNMP&lt;/span&gt;
card&lt;/a&gt;
generated two &lt;span class="caps"&gt;SNMP&lt;/span&gt; traps - one for power loss and one for power regained
- both of which showed up in the test&amp;nbsp;file&lt;/p&gt;
&lt;p&gt;The next step will be deciding how to get the traps into Nagios -
specifically whether I want to go with something heavy-weight, like
&lt;a href="http://snmptt.sourceforge.net/"&gt;SNMPtt&lt;/a&gt; that can handle other devices,
or whether I want to code a simple script myself just to deal with the
&lt;span class="caps"&gt;APC&lt;/span&gt;&amp;nbsp;cards.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Router&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The main reason why I wanted to make the switch from m0n0 to Vyatta was
to ease the setup and maintenance of an IPsec tunnel from the ambulance
&lt;span class="caps"&gt;HQ&lt;/span&gt; to my house, so I could push backups (relatively small) over the &lt;span class="caps"&gt;WAN&lt;/span&gt;
to my infrastructure (or, rather, have Bacula pull the backups). Another
big bonus was finally having a way of configuring and checking things
through &lt;span class="caps"&gt;SSH&lt;/span&gt; without having to port-forward a web &lt;span class="caps"&gt;GUI&lt;/span&gt;. Another bonus of
having a real Linux system under the router is the ability to make
custom Nagios check scripts and easily execute them. Something I hadn&amp;#8217;t
thought of - but became obvious during the switchover - is the ability
to run full-fledged `tcpdump` on the router&amp;nbsp;itself.&lt;/p&gt;
&lt;p&gt;After building the new config myself, and confirming that the system ran
in isolation, I moved it over to production. The first issue was a bit
of a thinko on my part - the interfaces on the &lt;span class="caps"&gt;BSC&lt;/span&gt; are actually arranged
on the back of the box like eth0&amp;#8212;&amp;#8212;-eth2&amp;#8212;&amp;#8212;-eth1, so I originally had
the &lt;span class="caps"&gt;LAN&lt;/span&gt; uplink in the wrong interface. After correcting that and waiting
for the network to stabilize, I noticed a total external connectivity
failure. After some troubleshooting - thanks to tcpdump on the router -
it occurred to me that the (ancient) cable modem needs to be rebooted
when the router &lt;span class="caps"&gt;MAC&lt;/span&gt;&amp;nbsp;changes.&lt;/p&gt;
&lt;p&gt;I honestly don&amp;#8217;t remember the other problems that I ran into, but
eventually I ended up getting almost-full functionality - and then a
total network outage. A tcpdump on my laptop showed some really really
weird &lt;span class="caps"&gt;BOOTP&lt;/span&gt; traffic with addresses of 255.255.255.255. After doing some
troubleshooting and monitoring port counters on the switch, I narrowed
it down to coming from a single Windows box and the wireless access
point. After shutting off both ports, things seemed to stabilize. I also
had some &amp;#8220;martian address&amp;#8221; issues with one of the boxes, but decided to
roll the box and that solved&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;Over the next day or so, I&amp;#8217;ll be reconfiguring Nagios both at home and
at the ambulance corps to cope with the changes and add in the requisite
monitoring, and keep an eye on things. Assuming all goes well, I&amp;#8217;ll
power down the old router on&amp;nbsp;Sunday.&lt;/p&gt;
&lt;p&gt;On the home front, I&amp;#8217;ve moved over from my old storage machine to the
old one - essentially just the &lt;span class="caps"&gt;NFS&lt;/span&gt; mount, and moved over a tarball of
everything else. I also added a 1000Base-&lt;span class="caps"&gt;SX&lt;/span&gt; card to the new box, though
it appears that I&amp;#8217;m out of fiber patch cords. The old storage box was
brought down for the first time in about 3 years (aside from brief
outages for hardware upgrades or array rebuilds). Assuming I got
everything off of it, it will be relegated to the spares&amp;nbsp;pile.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m going to make a serious effort to post on a daily basis, if only for
my own future reference. I should have the demo of
&lt;a href="http://rackman.jasonantman.com"&gt;RackMan&lt;/a&gt; out soon, and I&amp;#8217;m also about
to start on integrating it with Nathan Hubbard&amp;#8217;s
&lt;a href="http://www.machdb.org/"&gt;MachDB&lt;/a&gt; as well as a &lt;span class="caps"&gt;PHP&lt;/span&gt; script I wrote to pull
port names and MACs from Cisco switches and associate them with NICs in
machines. Hopefully I&amp;#8217;ll also have some interesting Puppet stuff out&amp;nbsp;soon.&lt;/p&gt;</summary><category term="apc"></category><category term="bluesocket"></category><category term="Nagios"></category><category term="snmp"></category><category term="vyatta"></category></entry><entry><title>Netgear ReadyNAS 1100 and long UID numbers</title><link href="http://blog.jasonantman.com/2009/06/netgear-readynas-1100-and-long-uid-numbers/" rel="alternate"></link><updated>2009-06-23T16:45:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-06-23:2009/06/netgear-readynas-1100-and-long-uid-numbers/</id><summary type="html">&lt;p&gt;I spent part of the day installing a &lt;a href="http://www.netgear.com/Products/Storage/ReadyNAS1100.aspx"&gt;Netgear ReadyNAS
1100&lt;/a&gt; for
backup storage. It&amp;#8217;s a cute little 1U storage appliance with 4 &lt;span class="caps"&gt;SATA&lt;/span&gt; disk
bays, two Gig copper ports and about every sort of hokey service you
could possibly want in something that&amp;#8217;s billed as a small business
storage server but running a sort-of-scaled-up home appliance &lt;span class="caps"&gt;OS&lt;/span&gt;. That
being said, it comes at a wonderful price (we bought one empty and added
4x 1.&lt;span class="caps"&gt;5TB&lt;/span&gt; disks) and runs&amp;nbsp;Linux.&lt;/p&gt;
&lt;p&gt;I had a few minor issues with the installation (more along the lines of
trying to do things that weren&amp;#8217;t clearly documented rather than problems
with the unit). NetGear tech support (&amp;#8220;ProSupport Labs&amp;#8221;) was quite good
once I got past the first level or two, and Mark H. who helped me with
most of my issues was one of the best tech support people I&amp;#8217;ve ever
spoken to. In fact, he probably ties with &lt;a href="/2007/03/managing-g1-proliant-servers-with-modern-linux/"&gt;Paulo from
&lt;span class="caps"&gt;HP&lt;/span&gt;&lt;/a&gt;
for the best tech support person I&amp;#8217;ve ever dealt&amp;nbsp;with.&lt;/p&gt;
&lt;p&gt;Anyway, the only issue with the NetGear installation that we weren&amp;#8217;t
able to resolve was the fact that the web configuration tool
(&amp;#8220;Frontview&amp;#8221;) will only accept UIDs of a maximum of five characters.
Here at Rutgers, we have a unified &lt;span class="caps"&gt;UID&lt;/span&gt; space, with numbers well in
excess of 100,000. As a result, my plan of having &lt;span class="caps"&gt;NFS&lt;/span&gt; play well wasn&amp;#8217;t
really going to work. Mark wasn&amp;#8217;t able to come up with a solution
(obviously - it&amp;#8217;s something that, at best, can get fixed in the next
version of the firmware) but he took copious notes, had me confirm them,
and told me he&amp;#8217;d bring it up to the ReadyNAS engineering team when they
meet Thursday, and will try and e-mail me back to follow up. He also
spent quite some time on the phone with me, both of us researching what
kernel the ReadyNAS 4.1.5 firmware runs (2.6.17.8, mostly vanilla Debian
as per mark) and when long &lt;span class="caps"&gt;UID&lt;/span&gt; support was available (at least 2.4).
Overall, I was very impressed that Mark knew quite a bit about Linux -
even more than your average Linux desktop user - and quite a bit about
the internals of the&amp;nbsp;ReadyNAS.&lt;/p&gt;
&lt;p&gt;Just on a hunch, after my tech support call, I used the Frontview
&amp;#8220;Config Backup&amp;#8221; tool&amp;#8217;s &amp;#8220;Users and Groups&amp;#8221; option to backup the user and
group information. Sure enough, it was just a force-download of a Zip
archive&amp;#8230; of the pertinent files. I was able to hand-hack /etc/passwd
and re-upload it, and it seemed to work&amp;nbsp;fine.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;The following is &lt;strong&gt;&lt;span class="caps"&gt;NOT&lt;/span&gt;&lt;/strong&gt; endorsed by Netgear in any way, shape or form.
It&amp;#8217;s a hack that may or may not work. Do this at your own risk - I have
no idea if some future (or past) firmware change might make bad things
happen, or whether there are some features which don&amp;#8217;t jive with this.
All I&amp;#8217;ve tested is &lt;span class="caps"&gt;HTTP&lt;/span&gt; logins, the fact that the web interface shows
the &gt;2\^16 &lt;span class="caps"&gt;UID&lt;/span&gt; correctly, and&amp;nbsp;&lt;span class="caps"&gt;NFS&lt;/span&gt;.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Procedure:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Create desired user in Frontview tool, leaving &lt;span class="caps"&gt;UID&lt;/span&gt; field blank. (In
    my case, the user is assigned the next sequential &lt;span class="caps"&gt;UID&lt;/span&gt;,&amp;nbsp;1002).&lt;/li&gt;
&lt;li&gt;Frontview &amp;#8220;System&amp;#8221; -&gt; &amp;#8220;Config Backup&amp;#8221;, &amp;#8220;Backup&amp;#8221; tab, select only
    &amp;#8220;Users and&amp;nbsp;Groups&amp;#8221;.&lt;/li&gt;
&lt;li&gt;Download config files and&amp;nbsp;unzip.&lt;/li&gt;
&lt;li&gt;Open &lt;code&gt;/etc/passwd&lt;/code&gt; from the config archive in a text editor, change the
    automatically assigned &lt;span class="caps"&gt;UID&lt;/span&gt; (1002) to the desired &lt;span class="caps"&gt;UID&lt;/span&gt;&amp;nbsp;(101739).&lt;/li&gt;
&lt;li&gt;Re-zip the directory tree and re-upload to&amp;nbsp;ReadyNAS.&lt;/li&gt;
&lt;li&gt;Enjoy.&lt;/li&gt;
&lt;/ol&gt;</summary><category term="debian"></category><category term="helpdesk"></category><category term="netgear"></category><category term="readynas"></category></entry><entry><title>Blinkenlights (blinkenlichten)</title><link href="http://blog.jasonantman.com/2009/06/blinkenlights-blinkenlichten/" rel="alternate"></link><updated>2009-06-23T10:54:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-06-23:2009/06/blinkenlights-blinkenlichten/</id><summary type="html">&lt;p&gt;I&amp;#8217;ll be posting more on this in the next few days, but I did a few more
upgrades at home, including a Proliant
&lt;a href="http://h18000.www1.hp.com/products/quickspecs/10902_na/10902_na.html"&gt;&lt;span class="caps"&gt;DL380G2&lt;/span&gt;&lt;/a&gt;
to replace my aged &lt;span class="caps"&gt;ML370&lt;/span&gt; (G1) storage box (array is failing badly) and a
Proliant &lt;a href="http://h18000.www1.hp.com/products/quickspecs/11049_na/11049_na.HTML"&gt;&lt;span class="caps"&gt;DL360&lt;/span&gt;
G2&lt;/a&gt;
as a second web server (and possibly moving Nagios over to that&amp;nbsp;box).&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m running into some problems with the old management card for the
Tripp Lite &lt;span class="caps"&gt;UPS&lt;/span&gt;, and I have a few other issues to sort out, but here&amp;#8217;s a
photo that I took this weekend after the upgrades (yes, it&amp;#8217;s a bit
blurry - that happens handheld at 1/10&amp;nbsp;sec).&lt;/p&gt;
&lt;p&gt;&lt;img alt="blinkenlights" src="/GFX/Das_Blinkenlights.gif" /&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;span class="caps"&gt;ACHTUNG&lt;/span&gt;! &lt;span class="caps"&gt;ALLES&lt;/span&gt; &lt;span class="caps"&gt;LOOKENSPEEPERS&lt;/span&gt;!
 Alles touristen und non-technischen looken peepers! Das
computermachine ist nicht fuer gefingerpoken und mittengrabben.
 Ist easy schnappen der springenwerk, blowenfusen und poppencorken mit
spitzensparken. Ist nicht fuer gewerken bei das dumpkopfen. Das
rubbernecken sichtseeren keepen das cotten-pickenen hans in das
pockets muss; relaxen und watchen das&amp;nbsp;blinkenlichten.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;(For those of you who aren&amp;#8217;t familiar with it,
&lt;a href="http://www.catb.org/jargon/html/B/blinkenlights.html"&gt;blinkenlights&lt;/a&gt;).&lt;/p&gt;</summary></entry><entry><title>Please Don’t resize my browser</title><link href="http://blog.jasonantman.com/2009/06/please-dont-resize-my-browser/" rel="alternate"></link><updated>2009-06-22T23:48:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-06-22:2009/06/please-dont-resize-my-browser/</id><summary type="html">&lt;p&gt;It always amazes me to see how much &amp;#8220;old school&amp;#8221; web design practice is
still out there. I&amp;#8217;m talking about commercial sites (not MySpace pages)
that blatantly ignore web standards about both content and user
experience. This isn&amp;#8217;t just a Linux thing, though some aspect of it
certainly is. The web site of my home town,
&lt;a href="http://www.mpnj.com"&gt;mpnj.com&lt;/a&gt; uses a Flash-based navigation menu that
even the official, proprietary Flash player for Linux won&amp;#8217;t support -
the transparency renders as white, obscuring the text beneath the fully
extended size of the menu. I emailed the developer about this on the
launch day, and was told in no uncertain terms that - despite the fact
that he had a fully-functional alternate version - Linux wasn&amp;#8217;t
important enough to fix the site. Ironically for a town government web
page, it also doesn&amp;#8217;t incorporate any accessibility features, which
seems to be standard for most of these poor&amp;nbsp;designs.&lt;/p&gt;
&lt;p&gt;There are still countless large news sites whose Flash-based video
players won&amp;#8217;t run under Linux, and even CitiBank&amp;#8217;s credit card site has
a flash ad that plays incorrectly under&amp;nbsp;Linux.&lt;/p&gt;
&lt;p&gt;The real pain that I happened to see today was a company who uses
coupons.com to allow customers to print out retail coupons. My first
surprise was that to print the coupons, you have to download Windows or
Mac software. I&amp;#8217;m not quite sure how many people will do this, but it&amp;#8217;s
probably how viruses spread so quickly (people who will download
anything that claims to get them half a dollar off of a roll of toilet
paper, or whatever the coupons are for). So, that&amp;#8217;s not cool - most
coupons I&amp;#8217;ve gotten were just &lt;span class="caps"&gt;HTML&lt;/span&gt; emails or PDFs. If their thinking is
to control the distribution (they make some comment about a &amp;#8220;paper-based
printer, not a fax or &lt;span class="caps"&gt;PDF&lt;/span&gt; creator&amp;#8221;), they&amp;#8217;ve obviously forgotten about
photocopy machines and scanners, let alone capturing the spool file on&amp;nbsp;Mac.&lt;/p&gt;
&lt;p&gt;More striking, however, was the shock of opening their help page. My
primary monitor is a 24&amp;#8221; widescreen, and I generally keep a browser
window occupying half the screen width and a terminal next to it. Once I
opened their &amp;#8220;help&amp;#8221; site, it promptly resized my browser window to a
tiny&amp;nbsp;640x480!&lt;/p&gt;
&lt;p&gt;This problem, unfortunately, isn&amp;#8217;t as rare as it should be. There are
still sites that force browser size, disable right clicks (I hadn&amp;#8217;t seen
that since about 2004 until a few weeks ago&amp;#8230; obviously someone who&amp;#8217;s
never used `wget`) or have a page that doesn&amp;#8217;t fully work in FireFox
on any platform. Even worse, my personal pet peeve (as at the time of
writing this I have about 50+ tabs open in Firefox, and it&amp;#8217;s only using
a small sliver of my &lt;span class="caps"&gt;2GB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt;) is sites that don&amp;#8217;t play well with tabbed
browsing - either using only JavaScript for &lt;em&gt;all&lt;/em&gt; navigation links, or
opening all links (site-wide) in the same tab/window. I don&amp;#8217;t know how
many web sites have lost my business because of this. Or the one I know
of that starts a new shopping cart for every tab opened (so if I open
each product I want to buy in a new tab, when I add them all to the
cart, it ends up with only&amp;nbsp;one).&lt;/p&gt;
&lt;p&gt;I don&amp;#8217;t know how there can be anyone out there who&amp;#8217;s still not using
valid &lt;span class="caps"&gt;XHTML&lt;/span&gt; with all of the accessibility features for anything new,
especially a commercial site. But even more so, how can there still be
people designing web sites who disregard the golden rule of web design:
&lt;strong&gt;Don&amp;#8217;t mess with someone&amp;#8217;s browser.&lt;/strong&gt; Leave things like where to open
the link and how big to make the browser to the user. If they&amp;#8217;re not
technically literate, changing what &amp;#8220;usually happens&amp;#8221; will just confuse
them. If they&amp;#8217;re well-versed in how to use a web browser, like me,
they&amp;#8217;ll just get aggravated by having someone else change their workflow
(I doubt the guys who designed those sites would like it if I told them
they had to design the whole thing in Emacs). If they&amp;#8217;re somewhere in
the middle (just found Ctrl+click in Firefox), you&amp;#8217;ll confuse them. And
God forbid they&amp;#8217;re blind and using a page reader&amp;#8230; good luck with
JavaScript or Flash&amp;nbsp;navigation.&lt;/p&gt;</summary><category term="design"></category><category term="standards"></category><category term="web"></category></entry><entry><title>Cisco CatOS GBIC Information</title><link href="http://blog.jasonantman.com/2009/06/cisco-catos-gbic-information/" rel="alternate"></link><updated>2009-06-20T11:35:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-06-20:2009/06/cisco-catos-gbic-information/</id><summary type="html">&lt;p&gt;I have a Cisco &lt;span class="caps"&gt;WS&lt;/span&gt;-G4912 (12-port Gigabit aggregation switch) that I&amp;#8217;m
using to bring my network up to Gig-E. It&amp;#8217;s about all that I could
afford, and works fine. Most of my older servers are running &lt;span class="caps"&gt;1000BASE&lt;/span&gt;-&lt;span class="caps"&gt;SX&lt;/span&gt;
multimode fiber, but I decided to use copper GBICs for the new boxes
that have onboard Gig-E ports. Unfortunately, $100+ for Cisco GBICs was
way too much for me, so I found some third-party GBICs on Ebay from
&lt;a href="http://members.ebay.com/ws/eBayISAPI.dll?ViewUserPage&amp;amp;userid=tnetusa"&gt;TNet
&lt;span class="caps"&gt;USA&lt;/span&gt;&lt;/a&gt;
right in Fairfield,&amp;nbsp;&lt;span class="caps"&gt;NJ&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;I wanted to make sure the GBICs work right, so I happened to find out
about the undocumented CatOS command `show sprom [mod/port]` which
shows the serial &lt;span class="caps"&gt;PROM&lt;/span&gt;&amp;nbsp;information.&lt;/p&gt;</summary><category term="catos"></category><category term="cisco"></category><category term="gbic"></category><category term="networking"></category></entry><entry><title>HP Prolaint iLO SSH Problems</title><link href="http://blog.jasonantman.com/2009/06/hp-prolaint-ilo-ssh-problems/" rel="alternate"></link><updated>2009-06-11T23:52:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-06-11:2009/06/hp-prolaint-ilo-ssh-problems/</id><summary type="html">&lt;p&gt;There&amp;#8217;s a known issue with the &lt;span class="caps"&gt;SSH&lt;/span&gt; implementation in the iLO firmware
for &lt;span class="caps"&gt;HP&lt;/span&gt; Proliant servers (specifically G2 and G3) and OpenSSH 5.1p1.
There was a
&lt;a href="http://marc.info/?l=openssh-unix-dev&amp;amp;m=122095298729858&amp;amp;w=2"&gt;thread&lt;/a&gt; on
the OpenSSH developers list that referenced this problem and suggested a
solution, but it doesn&amp;#8217;t seem to be a sure&amp;nbsp;fix.&lt;/p&gt;
&lt;p&gt;This problem is present on my &lt;span class="caps"&gt;DL360&lt;/span&gt; G2&amp;#8217;s which are running the 1.84
2006-05-05 version of the iLO firmware (iLO 1.84 pass9) with the P26
2004.05.01 version of the system firmware. I also see the issue on a
&lt;span class="caps"&gt;DL380G3&lt;/span&gt; running iLO 1.92 2008.04.24 and system firmware P29 2004.09.15.
The only way that I can reliably get into the iLO is by SSHing from a
box with an older version of &lt;span class="caps"&gt;SSH&lt;/span&gt;, such as&amp;nbsp;4.2p1.&lt;/p&gt;
&lt;p&gt;Most of the things that I could find online referenced unsetting the
&lt;span class="caps"&gt;LANG&lt;/span&gt; environment variable (&lt;code&gt;unset LANG&lt;/code&gt;) and then SSHing with agent forwarding disabled (&lt;code&gt;ssh -a hostname-ilo&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;Unfortunately this combination doesn&amp;#8217;t seem to do it for&amp;nbsp;me.&lt;/p&gt;
&lt;p&gt;I happened to stumble by &lt;a href="http://www.mail-archive.com/debian-ssh@lists.debian.org/msg00904.html"&gt;this
post&lt;/a&gt;
to the debian-ssh mailing list, which suggested that shortening the new
OpenSSH version string fixed the&amp;nbsp;problem.&lt;/p&gt;
&lt;p&gt;I was able to confirm that the version string is, in fact, the sole
problem. I downloaded the source of OpenSSH 5.2p1 and, with the
following small patch to version.h, managed to get &lt;span class="caps"&gt;SSH&lt;/span&gt; working to the
iLO&amp;nbsp;perfectly:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="gd"&gt;--- openssh-patched/version.h   2009-06-12 00:35:48.000000000 -0400&lt;/span&gt;
&lt;span class="gi"&gt;+++ openssh-5.2p1/version.h     2009-02-22 19:09:26.000000000 -0500&lt;/span&gt;
&lt;span class="gu"&gt;@@ -1,6 +1,6 @@&lt;/span&gt;
 /* $OpenBSD: version.h,v 1.55 2009/02/23 00:06:15 djm Exp $ */

&lt;span class="gd"&gt;-#define SSH_VERSION    &amp;quot;OpenSSH&amp;quot;&lt;/span&gt;
&lt;span class="gi"&gt;+#define SSH_VERSION    &amp;quot;OpenSSH_5.2&amp;quot;&lt;/span&gt;

&lt;span class="gd"&gt;-#define SSH_PORTABLE   &amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="gi"&gt;+#define SSH_PORTABLE   &amp;quot;p1&amp;quot;&lt;/span&gt;
 #define SSH_RELEASE    SSH_VERSION SSH_PORTABLE
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;I patched version.h, ran &lt;code&gt;./configure&lt;/code&gt;, &lt;code&gt;make&lt;/code&gt;, and then copied the
compiled ssh binary to /usr/bin/ilossh, so that my original ssh binary
would be intact, and the ilossh binary would be left alone by &lt;span class="caps"&gt;RPM&lt;/span&gt;&amp;nbsp;upgrades.&lt;/p&gt;</summary><category term="ilo"></category><category term="openssh"></category><category term="proliant"></category><category term="ssh"></category></entry><entry><title>300 hits</title><link href="http://blog.jasonantman.com/2009/05/300-hits/" rel="alternate"></link><updated>2009-05-22T00:12:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-05-22:2009/05/300-hits/</id><summary type="html">&lt;p&gt;I know I&amp;#8217;ve been letting my blog die off a bit lately, mainly due to the
giant amount of work I&amp;#8217;ve been doing. I plan on updating a lot more over
the next few&amp;nbsp;weeks.&lt;/p&gt;
&lt;p&gt;I happened to get a comment on one of my
&lt;a href="/2009/02/routhost-dns-problems-godaddy-and-security-through-obscurity/"&gt;posts&lt;/a&gt;
today, so I decided to take a peek at webalizer and see how things are
doing. Apparently, I&amp;#8217;m getting 300+ hits/day, including a quite nice
array of search queries. Unfortunately, due to the way I redid my
logging infrastructure, I don&amp;#8217;t have any historical data (and it seems
like the webalizer history is still broken, as I&amp;#8217;m only seeing data for
this month). But&amp;nbsp;cool!&lt;/p&gt;</summary></entry><entry><title>Changing the title of a Konsole window</title><link href="http://blog.jasonantman.com/2009/05/changing-the-title-of-a-konsole-window/" rel="alternate"></link><updated>2009-05-19T15:10:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-05-19:2009/05/changing-the-title-of-a-konsole-window/</id><summary type="html">&lt;p&gt;For those of you who use &lt;span class="caps"&gt;KDE&lt;/span&gt; and Konsole, you can easily change the
title of the Konsole window with the&amp;nbsp;command:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;dcop &lt;span class="nv"&gt;$KONSOLE_DCOP_SESSION&lt;/span&gt; renameSession &lt;span class="s1"&gt;&amp;#39;NewSessionName&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;this is pretty handy if, like me, you end up having a bunch of screen
sessions running in different Konsole&amp;nbsp;windows.&lt;/p&gt;</summary><category term="kde"></category><category term="knosone"></category></entry><entry><title>Acer X233Hbid Review</title><link href="http://blog.jasonantman.com/2009/05/acer-x233hbid-review/" rel="alternate"></link><updated>2009-05-18T17:27:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-05-18:2009/05/acer-x233hbid-review/</id><summary type="html">&lt;p&gt;I just bought myself a new monitor for my
&lt;a href="http://www.mythtv.org"&gt;MythTV&lt;/a&gt; box, as I&amp;#8217;ve moved my beautiful Acer
&lt;span class="caps"&gt;AL2416W&lt;/span&gt; 24&amp;#8221;er to my new desktop. The chosen monitor, based on price,
reviews and features, is the Acer X233Hbid. It&amp;#8217;s a 23&amp;#8221; 16:9 (not 16:10)
monitor that runs at 1920x1080, provides true 1080p, and has an &lt;span class="caps"&gt;HDMI&lt;/span&gt;
input (not that I&amp;#8217;d ever use a
&lt;a href="http://www.eff.org/deeplinks/2007/01/hdcp-screwing-fans-more-ways-ever"&gt;restricted&lt;/a&gt;
connection). After a few minutes of having it turned on and running, the
picture quality is quite nice, even with quite a bit of&amp;nbsp;glare.&lt;/p&gt;
&lt;p&gt;However, I have two major complaints within the first ten minutes of
unboxing&amp;nbsp;it:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;No real manual, nor an online copy&lt;/strong&gt;. The monitor comes only with
    a Quick Start Guide. There&amp;#8217;s no printed full manual. More
    distressingly, it isn&amp;#8217;t even listed in their list of monitor models
    on their Support site. There&amp;#8217;s no manual copy online either. There
    was a &lt;span class="caps"&gt;CD&lt;/span&gt; provided with the user&amp;#8217;s manual on it. However, for a
    company that sells netbooks with no &lt;span class="caps"&gt;CD&lt;/span&gt; drive, this seems like quite
    a bad decision. But why, you ask, would I need a manual for my&amp;nbsp;monitor?&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;No &lt;span class="caps"&gt;VESA&lt;/span&gt; mounting instructions&lt;/strong&gt; One of my main criteria in
    choosing a monitor was that it allow
    &lt;a href="http://en.wikipedia.org/wiki/VESA_mount"&gt;&lt;span class="caps"&gt;VESA&lt;/span&gt;&lt;/a&gt; mounting, as I have
    my MythTV monitor on a monitor arm (easily adjustable angle so
    others in the room can see). The Acer X233Hbid has a 100x100mm &lt;span class="caps"&gt;VESA&lt;/span&gt;
    mounting space on the back. However, in a rare design mistake
    (unlike my 24&amp;#8221; Acer &lt;span class="caps"&gt;AL2416W&lt;/span&gt;), the monitor stand is two parts - one
    rectangular column about 4&amp;#8221; long attached to the back of the
    monitor, and a base with a column which mates with the one on the
    back of the monitor. Unfortunately, the column part on the back of
    the monitor came pre-attached, and there was no mention in the
    manual of &lt;span class="caps"&gt;VESA&lt;/span&gt; mounting or how to remove the&amp;nbsp;column.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Column removal:&lt;/strong&gt; The part of the monitor base which ships attached to
the monitor is a fairly easy removal. Though I was originally worried
about breaking something on my beautiful new screen, I found two plastic
pieces on either side of the pre-attached part of the base which
appeared to be snap-in trim pieces. Prying them off with a screwdriver
revealed four screws which hold this piece to the monitor. Not only was
removal easy, but the trim pieces snapped back into place for a nice
clean&amp;nbsp;look.&lt;/p&gt;</summary><category term="acer"></category><category term="cant fix stupid"></category><category term="monitor"></category><category term="review"></category></entry><entry><title>OpenSuSE Internet2 Mirror</title><link href="http://blog.jasonantman.com/2009/05/opensuse-internet2-mirror/" rel="alternate"></link><updated>2009-05-13T13:36:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-05-13:2009/05/opensuse-internet2-mirror/</id><summary type="html">&lt;p&gt;I just bought a &amp;#8220;new&amp;#8221; desktop - I was thinking of doing an insane &lt;span class="caps"&gt;AMD&lt;/span&gt;
Phenom &lt;span class="caps"&gt;II&lt;/span&gt; x4 940 (quad-core 3.0GHz) box - but I happened to find a used
machine from $&lt;span class="caps"&gt;WORK&lt;/span&gt;; a Dell Precision 470 workstation, dual Xeon Nocona
2.8GHz processors, &lt;span class="caps"&gt;4GB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt; (takes up to &lt;span class="caps"&gt;16GB&lt;/span&gt;). So, I need a &lt;span class="caps"&gt;DVD&lt;/span&gt; of my
usual desktop distro (&lt;a href="http://www.opensuse.org"&gt;OpenSuSE&lt;/a&gt;) for x64.
Being that I&amp;#8217;m at work (&lt;a href="http://www.rutgers.edu"&gt;Rutgers Unviersity&lt;/a&gt;), I
figured the quickest thing would be to find an
&lt;a href="http://en.wikipedia.org/wiki/Internet2"&gt;Internet2&lt;/a&gt; mirror, as Rutgers
has 400Gbps peering on&amp;nbsp;NJedgeNet.&lt;/p&gt;
&lt;p&gt;Unfortunately, the &lt;a href="http://mirrors.opensuse.org/list/11.1.html"&gt;OpenSuSE Mirror
List&lt;/a&gt; doesn&amp;#8217;t mention which
sites have I2 peering. Luckily, the first logical one I tried - the
Harvard mirror - was showing an I2/&lt;span class="caps"&gt;MAGIPE&lt;/span&gt; route via&amp;nbsp;traceroute.&lt;/p&gt;
&lt;p&gt;If anyone else needs an I2 mirror of OpenSuSE,
&lt;a href="http://mirrors.med.harvard.edu/opensuse/"&gt;http://mirrors.med.harvard.edu/opensuse/&lt;/a&gt;
seems to do it. My desktop was getting a sustained +/- 160 Mbps transfer
rate, and I got the entire 4.&lt;span class="caps"&gt;3GB&lt;/span&gt; &lt;span class="caps"&gt;DVD&lt;/span&gt; image in under 2-1/2&amp;nbsp;minutes.&lt;/p&gt;</summary><category term="internet2"></category><category term="opensuse"></category></entry><entry><title>Building a Rebuild-able Site</title><link href="http://blog.jasonantman.com/2009/05/building-a-rebuild-able-site/" rel="alternate"></link><updated>2009-05-06T08:42:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-05-06:2009/05/building-a-rebuild-able-site/</id><summary type="html">&lt;p&gt;At $&lt;span class="caps"&gt;WORK&lt;/span&gt;, my group runs about two dozen servers that provide services
for over 60,000 users. They&amp;#8217;re a mix of Windows and Linux, with some old
Solaris stuff thrown in there. The one thing they have in common is
they&amp;#8217;re all hand-built, hand-configured, and old. They&amp;#8217;ve been around
for a while. At the moment, we don&amp;#8217;t even have an adequate backup&amp;nbsp;system.&lt;/p&gt;
&lt;p&gt;So, being the closest thing to a SysAdmin we have (my official title is
still Student Systems Programmer), it&amp;#8217;s my job to build a new
installation, configuration and backup infrastructure. We&amp;#8217;ve already
standardized on &lt;a href="http://www.centos.org"&gt;CentOS&lt;/a&gt; as a University-wide
distro, and have a local full mirror, so I don&amp;#8217;t need to choose a
distro. I do, however, have to plan the installation and backup
architecture. The main requirements&amp;nbsp;are:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Lowest overall time for bare-metal recovery to a working&amp;nbsp;system.&lt;/li&gt;
&lt;li&gt;Ease of use, as people other than myself will need to administer it
    (so they should be able to do so from a cheat sheet in the&amp;nbsp;wiki).&lt;/li&gt;
&lt;li&gt;Repeatability - it should be easy and intuitive to make an
    almost-exact-copy of a&amp;nbsp;machine.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I started a thread a few days ago on the &lt;span class="caps"&gt;SAGE&lt;/span&gt; mailing list, which you
can find
&lt;a href="http://mailman.sage.org/pipermail/sage-members/2009/msg00447.html"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;At the moment, it looks like the general idea that I&amp;#8217;m going with is to
use &lt;a href="http://fedoraproject.org/wiki/Anaconda/Kickstart"&gt;Kickstart&lt;/a&gt; to
install the systems, using a basic and minimal Kickstart file. Basic
package selection (minimalist) with just what&amp;#8217;s needed to configure the
system with a hostname and network settings for the management &lt;span class="caps"&gt;VLAN&lt;/span&gt;.
I&amp;#8217;ll then have Kickstart install and configure a configuration
management package - I&amp;#8217;m leaning towards
&lt;a href="http://reductivelabs.com/products/puppet/"&gt;Puppet&lt;/a&gt; over
&lt;a href="http://www.cfengine.org/"&gt;Cfengine&lt;/a&gt; and am starting testing. The config
management software will handle all of the customization for the system
(everything different from the base generic Kickstart install) so it&amp;#8217;s
all kept under the control of config management from step&amp;nbsp;1.&lt;/p&gt;
&lt;p&gt;The final part is a backup system, mainly for whatever eventually -
whether out of human error or simple laziness - ends up out of the
config management system&amp;#8217;s control. Our previous &lt;span class="caps"&gt;SA&lt;/span&gt; had settled on
&lt;a href="http://www.zmanda.com/"&gt;Zmanda&lt;/a&gt;, the paid version of
&lt;a href="http://www.amanda.org/"&gt;Amanda&lt;/a&gt;, which comes with specific plugins for
MySQL and &lt;span class="caps"&gt;MSSQL&lt;/span&gt;. I&amp;#8217;m also looking at &lt;a href="http://www.bacula.org"&gt;Bacula&lt;/a&gt;,
mainly because of its&amp;#8217; advanced features, scheduling (especially the new
scheduling in Bacula 3) and&amp;nbsp;scalability.&lt;/p&gt;
&lt;p&gt;The beauty that I see in having Kickstart do something minimal and then
letting Puppet handle the rest is that (especially since we&amp;#8217;ve
standardized on SunFire X4100&amp;#8217;s with identical configurations) I can
kickstart and rack up a few spare machines, and to get them up and
running all I need to do is power them up (iLOM) and tell Puppet what to
make&amp;nbsp;them.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m currently starting testing of both Puppet itself and getting
Kickstart to start the puppet install and daemon (instructions from
&lt;a href="http://watzmann.net/blog/index.php?cat=21"&gt;David Lutterkort&amp;#8217;s blog (Red Hat software
engineer)&lt;/a&gt;). We&amp;#8217;ll see how
everything&amp;nbsp;goes&amp;#8230;&lt;/p&gt;</summary><category term="backup"></category><category term="configuration"></category><category term="kickstart"></category><category term="linux"></category><category term="puppet"></category><category term="recovery"></category><category term="work"></category></entry><entry><title>Brother HL2170W DHCP Problems</title><link href="http://blog.jasonantman.com/2009/04/brother-hl2170w-dhcp-problems/" rel="alternate"></link><updated>2009-04-11T11:53:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-04-11:2009/04/brother-hl2170w-dhcp-problems/</id><summary type="html">&lt;p&gt;Two weeks ago, I &lt;a href="/2009/03/brother-hl-2170w-great-features-from-a-personal-laser-printer/"&gt;wrote about the Brother
&lt;span class="caps"&gt;HL&lt;/span&gt;-2170W&lt;/a&gt;
that I got for my mother. It seemed absolutely wonderful. Until the
night of March 31st, just before Conficker was supposed to strike. Being
that mom&amp;#8217;s computer is the only one at home running Windows, I finished
up a long-standing project - and moved her desktop, printer, and AppleTV
over to a separate &lt;span class="caps"&gt;VLAN&lt;/span&gt; that&amp;#8217;s not routable to anything else internal
(i.e. anything important, or anything of mine). I&amp;#8217;d already had the
&amp;#8220;client&amp;#8221; &lt;span class="caps"&gt;VLAN&lt;/span&gt; setup for a while, so it was just a matter of tweaking the
firewall rules and moving the static &lt;span class="caps"&gt;DHCP&lt;/span&gt; assignments from one subnet to
the&amp;nbsp;other.&lt;/p&gt;
&lt;p&gt;Well, that&amp;#8217;s where the problems started. While her Windows &lt;span class="caps"&gt;XP&lt;/span&gt; desktop
and AppleTV coped nicely, and got their new addresses in &lt;span class="caps"&gt;DHCP&lt;/span&gt; as they
should, the &lt;span class="caps"&gt;HL2170W&lt;/span&gt; did not, As a matter of fact, after two hours, I
hadn&amp;#8217;t seen a single &lt;span class="caps"&gt;DHCP&lt;/span&gt; request, even though I had the lease time set
to 10 minutes for both subnets. So, I tried administratively downing the
switch port a few times, to no avail. After a day of waiting, I came
back to the problem - and &lt;em&gt;still&lt;/em&gt; found nothing in the &lt;span class="caps"&gt;DHCP&lt;/span&gt; logs from
that printer. I emailed mom and asked her to power-cycle it a few
times&amp;#8230; still nothing! It wasn&amp;#8217;t even requesting &lt;span class="caps"&gt;DHCP&lt;/span&gt; when rolled, let
alone at a regular&amp;nbsp;interval!&lt;/p&gt;
&lt;p&gt;Fast forward a week or so, to today. I&amp;#8217;m ready to call Brother Support,
as my mother hasn&amp;#8217;t had use of her new printer in a week and a half. I&amp;#8217;m
infuriated - I&amp;#8217;ve rolled the printer dozens of times, and not a single
event in the &lt;span class="caps"&gt;DHCP&lt;/span&gt; log. I know it&amp;#8217;s sending traffic from the port - I&amp;#8217;ve
reset the counters and they&amp;#8217;re changing. I tried moving it back to the
original &lt;span class="caps"&gt;VLAN&lt;/span&gt; and confirmed that it still has its&amp;#8217; original &lt;span class="caps"&gt;IP&lt;/span&gt;. I could
get into the web interface via &lt;a href="http://lynx.isc.org/"&gt;lynx&lt;/a&gt; and *tell
it* to refresh &lt;span class="caps"&gt;DHCP&lt;/span&gt;, but this seemed quite pointless - there&amp;#8217;s no way
it&amp;#8217;s physically possible to send the web request and then switch the
port to the new &lt;span class="caps"&gt;VLAN&lt;/span&gt; before it gets&amp;nbsp;&lt;span class="caps"&gt;DHCP&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;So, I&amp;#8217;m ready to call Brother Support. I then notice that the printer is
turned off at the moment. From the switch log, it looks as though it&amp;#8217;s
been powered off for six days. So, I turn it on. And then go about
starting my prep for the Brother call, first opening up a tail on the
&lt;span class="caps"&gt;DHCP&lt;/span&gt; server log, grepped for the proper interface. And, wouldn&amp;#8217;t you
know, as I get up to let the dog out, the printer starts spitting out&amp;nbsp;pages!&lt;/p&gt;
&lt;p&gt;As far as I can tell, there&amp;#8217;s something &lt;em&gt;seriously wrong&lt;/em&gt; with the
Brother &lt;span class="caps"&gt;HL&lt;/span&gt;-2170W &lt;span class="caps"&gt;DHCP&lt;/span&gt; implementation. Specifically, it didn&amp;#8217;t get an
address on the new &lt;span class="caps"&gt;VLAN&lt;/span&gt; until it was powered off for a *long* time.
Even reboots wouldn&amp;#8217;t trigger a request, until the box had been powered
off for &lt;em&gt;days&lt;/em&gt;. More importantly, though, it seems that it only gets
&lt;span class="caps"&gt;DHCP&lt;/span&gt; &lt;strong&gt;&lt;em&gt;once&lt;/em&gt;&lt;/strong&gt; when it boots, and totally disregards the lease&amp;nbsp;time!&lt;/p&gt;</summary><category term="dhcp"></category><category term="hl2170w"></category><category term="printer"></category><category term="vlan"></category></entry><entry><title>New Idea for Updates</title><link href="http://blog.jasonantman.com/2009/04/new-idea-for-updates/" rel="alternate"></link><updated>2009-04-04T01:25:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-04-04:2009/04/new-idea-for-updates/</id><summary type="html">&lt;p&gt;It&amp;#8217;s been a while since I&amp;#8217;ve posted any meaningful updates here. And
it&amp;#8217;s not for lack of work - actually, I have a page-long list of
projects I&amp;#8217;ve finished and things I&amp;#8217;ve discovered that I want to share
with&amp;#8230; well&amp;#8230; whoever finds me on Google. I&amp;#8217;ve got some new code that
needs attention - lots of tiny little make-life-easier scripts and some
not-so-tiny stuff - as well as a few interesting things I&amp;#8217;ve found, and
some projects that deserve&amp;nbsp;updates.&lt;/p&gt;
&lt;p&gt;So, over the next week, I&amp;#8217;m going to try and make it my purpose to start
posting updates and shortening the list of things to mention. However,
I&amp;#8217;ve also decided to set aside a few minutes at the end of each day to
post whatever I did/found that&amp;#8217;s interesting, or add some updates on
ongoing projects. Perhaps also have a weekly writing hour (probably on
the weekend) to post larger&amp;nbsp;updates.&lt;/p&gt;
&lt;p&gt;It&amp;#8217;s also worth note that, for the most part, I never started a blog in
the hopes of having subscribers. I simply think of this as a place to
post some useful things that I do or figure out, in the hopes that other
people will stumble by and also find them&amp;nbsp;useful.&lt;/p&gt;
&lt;p&gt;So, what have I been up to lately? Let&amp;#8217;s start with the past two&amp;nbsp;days:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Trying to get &lt;a href="http://freeradius.org/"&gt;FreeRADIUS&lt;/a&gt; to authenticate
    with groupOfNames objects in &lt;a href="http://www.openldap.org/"&gt;OpenLDAP&lt;/a&gt;,
    the intended end result being centralized authentication for
    &lt;a href="http://m0n0.ch/wall/"&gt;m0n0wall&lt;/a&gt;&amp;#8216;s captive&amp;nbsp;portal.&lt;/li&gt;
&lt;li&gt;At work, designing a system to test the client-visible functionality
    of a &lt;em&gt;large&lt;/em&gt; captive portal system (on the order of 700 &lt;span class="caps"&gt;AP&lt;/span&gt;&amp;#8217;s and 50k
    users) - essentially, sitting on a client &lt;span class="caps"&gt;VLAN&lt;/span&gt; and checking &lt;span class="caps"&gt;DHCP&lt;/span&gt;,
    &lt;span class="caps"&gt;DNS&lt;/span&gt;, &lt;span class="caps"&gt;HTTP&lt;/span&gt; redirects, and the validity of the login&amp;nbsp;page.&lt;/li&gt;
&lt;li&gt;Security auditing of everything at home, and trying to find a
    working &lt;a href="http://www.nessus.org"&gt;Nessus&lt;/a&gt; web&amp;nbsp;interface.&lt;/li&gt;
&lt;li&gt;Continuing on my move over to static &lt;span class="caps"&gt;IP&lt;/span&gt; - specifically starting to
    roll out &lt;span class="caps"&gt;HTTPS&lt;/span&gt; for some internal&amp;nbsp;stuff.&lt;/li&gt;
&lt;li&gt;Trying to get &lt;a href="http://www.vyatta.org"&gt;Vyatta&lt;/a&gt;&amp;#8216;s &lt;span class="caps"&gt;VPN&lt;/span&gt; to work with a
    dynamically-IPed m0n0wall endpoint (in&amp;nbsp;network-to-network).&lt;/li&gt;
&lt;li&gt;Some cabling upgrades at home and at &lt;a href="http://www.midlandparkambulance.com"&gt;the ambulance
    corps&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Slowly but surely trying to make major changes and release a new
    version of &lt;a href="http://www.php-ems-tools.com"&gt;&lt;span class="caps"&gt;PHP&lt;/span&gt; &lt;span class="caps"&gt;EMS&lt;/span&gt; Tools&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Get &lt;a href="http://www.bacula.org"&gt;Bacula&lt;/a&gt; working&amp;nbsp;better.&lt;/li&gt;
&lt;li&gt;Load test this web server, and decide if it&amp;#8217;s time for new&amp;nbsp;hardware.&lt;/li&gt;
&lt;li&gt;Some new stuff for my&amp;nbsp;truck.&lt;/li&gt;
&lt;li&gt;Get rid of &lt;a href="http://www.mediawiki.org"&gt;MediaWiki&lt;/a&gt; as my
    &lt;a href="http://www.jasonantman.com"&gt;homepage&lt;/a&gt; and replace it with a&amp;nbsp;&lt;span class="caps"&gt;CMS&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;Continue my move to SubVersion and setup ViewVC for&amp;nbsp;it.&lt;/li&gt;
&lt;li&gt;Rewrite my resume and start looking for jobs, as I&amp;#8217;m finishing
    classes in&amp;nbsp;July.&lt;/li&gt;
&lt;li&gt;Try to get some sleep and keep my&amp;nbsp;sanity.&lt;/li&gt;
&lt;/ul&gt;</summary><category term="updates"></category></entry><entry><title>Brother HL-2170W - great features from a personal laser printer</title><link href="http://blog.jasonantman.com/2009/03/brother-hl-2170w-great-features-from-a-personal-laser-printer/" rel="alternate"></link><updated>2009-03-18T21:29:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-03-18:2009/03/brother-hl-2170w-great-features-from-a-personal-laser-printer/</id><summary type="html">&lt;p&gt;&lt;strong&gt;I&amp;#8217;ve posted an &lt;a href="/2009/04/brother-hl2170w-dhcp-problems/"&gt;update about serious &lt;span class="caps"&gt;DHCP&lt;/span&gt; problems with this
unit&lt;/a&gt;.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Last week my mother&amp;#8217;s printer died, and she asked me to find a new one
for her. After a quick look on &lt;a href="http://www.newegg.com"&gt;NewEgg&lt;/a&gt; (sort by
ratings is a wonderful thing) I found the &lt;a href="http://www.brother-usa.com/Printer/ModelDetail.aspx?ProductID=hl2170W"&gt;Brother
&lt;span class="caps"&gt;HL&lt;/span&gt;-2170W&lt;/a&gt;.
Aside from having a wireless interface (only a security hole, as far as
I&amp;#8217;m concerned) it seemed pretty cool - tiny B&amp;amp;W laser, Ethernet, &lt;span class="caps"&gt;PCL6&lt;/span&gt;,
23ppm, 32 &lt;span class="caps"&gt;MB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt;, 250 sheet capacity and 2400x600 dpi. So, for a mere
$99 &lt;span class="caps"&gt;USD&lt;/span&gt;, I bought it for&amp;nbsp;her.&lt;/p&gt;
&lt;p&gt;When the printer showed up, I was a bit let down to find no sticker
bearing the &lt;span class="caps"&gt;MAC&lt;/span&gt; address on either the box or the printer itself - and
given the one-button hard control, there wasn&amp;#8217;t a way to manually print
a config sheet. So, after plugging it into the network and using the
&lt;span class="caps"&gt;DHCP&lt;/span&gt; logs to give it a static assignment, a quick reboot of the printer
had everything working. As usual, I skipped to the last few pages in the
installation manual, and found the ½ page section on the web interface.
Configuration was pretty simple - change the admin password, disable a
bunch of unneeded services, etc. And then, when playing around with the
admin interface, I found a bit of a holy grail - there in the
enable/disable services screen were two options that I found unusual for
a &amp;#8220;personal&amp;#8221; printer; &lt;strong&gt;Telnet&lt;/strong&gt; and &lt;strong&gt;&lt;span class="caps"&gt;SNMP&lt;/span&gt;&lt;/strong&gt;. I immediately tried both.
An snmpwalk revealed the usual (&lt;span class="caps"&gt;RFC1213&lt;/span&gt;, &lt;span class="caps"&gt;HOST&lt;/span&gt;-&lt;span class="caps"&gt;RESOURCES&lt;/span&gt;, and
Printer-&lt;span class="caps"&gt;MIB&lt;/span&gt;) including information on status and consumables. Though the
Telnet login process wasn&amp;#8217;t terribly intuitive, &amp;#8220;help&amp;#8221; revealed familiar
set/show/clear functionality as well as an option to zero out counters.
While I was a bit let down to see that there wasn&amp;#8217;t a way to view
consumable status or printer status, it did allow access to every
conceivable configuration parameter, including a few that weren&amp;#8217;t
mentioned on the web&amp;nbsp;interface.&lt;/p&gt;
&lt;p&gt;All in all, while I can&amp;#8217;t comment about reliability or quality yet, this
cute little printer seems to have quite a feature set, especially when
it comes to manageability and remote troubleshooting (a good thing for
any printer that&amp;#8217;s used by a family member who you support). And best of
all, it supports &lt;span class="caps"&gt;IPP&lt;/span&gt; and&amp;nbsp;&lt;span class="caps"&gt;LPR&lt;/span&gt;.&lt;/p&gt;</summary><category term="printer"></category><category term="review"></category></entry><entry><title>Lazy Spammers</title><link href="http://blog.jasonantman.com/2009/03/lazy-spammers/" rel="alternate"></link><updated>2009-03-18T08:01:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-03-18:2009/03/lazy-spammers/</id><summary type="html">&lt;p&gt;This is by no means rare, but I happened to be checking through my spam
folder before deleting the contents (I used to just do this once a week
or so, but apparently since jasonantman.com is up and running correctly
and listening on port 25, the volume has increased a bit) and came by
this&amp;nbsp;email:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Subject:
Dear $TO_EMAIL 17.3.2009 84% &lt;span class="caps"&gt;0FF&lt;/span&gt;
From: Best Price &amp;lt;$TO_EMAIL&amp;gt;
Date: Tue, 17 Mar 2009 16:45:54 -0400 (&lt;span class="caps"&gt;EDT&lt;/span&gt;)
To:&amp;nbsp;&amp;lt;$TO_EMAIL&amp;gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Wow. I know that spammers aren&amp;#8217;t exactly world-class programmers, but
this seems like something that anyone who&amp;#8217;s been in &lt;span class="caps"&gt;CS101&lt;/span&gt; would realize
is&amp;nbsp;wrong&amp;#8230;.&lt;/p&gt;
&lt;p&gt;On the positive side, maybe I should just add a SpamAssassin rule to
trigger for anything with &amp;#8220;$TO_EMAIL&amp;#8221; in the headers. Not that I&amp;#8217;d need
it in this case, as the message had a score of 21.7 and my threshold is&amp;nbsp;5.0&amp;#8230;.&lt;/p&gt;</summary><category term="lazy"></category><category term="spam"></category></entry><entry><title>Many Many Changes; Downtime</title><link href="http://blog.jasonantman.com/2009/03/many-many-changes/" rel="alternate"></link><updated>2009-03-07T19:05:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-03-07:2009/03/many-many-changes/</id><summary type="html">&lt;p&gt;Well, I don&amp;#8217;t have time to go into a lot of detail, but I thought I&amp;#8217;d
give a recap of what&amp;#8217;s going on. I went down to Mount Holly, &lt;span class="caps"&gt;NJ&lt;/span&gt;
yestserday morning - about a 2-/12 hour drive each way, and picked up a
41U rack for the basement. Pretty damn heavy, took me two hours to
disassemble it, wrangle it down the stairs, and get it back together.
It&amp;#8217;s an old round-hole rack, which didn&amp;#8217;t seem to matter much until I
found that the tabs of the Dell Rapid Rails are just a bit too big to
fit in it, so neither my rack &lt;span class="caps"&gt;KMM&lt;/span&gt; nor the rails for my mail server will
fit. A bigger problem, though, is that the guy told me it was the
standard &lt;span class="caps"&gt;HP&lt;/span&gt; 29&amp;#8221; deep, and I found it to be 28-1/4&amp;#8221; deep when I started
racking things up. So, though I just spent $200 on rails for old
Proliants, they&amp;#8217;re all about 1/2&amp;#8221; too long to&amp;nbsp;fit.&lt;/p&gt;
&lt;p&gt;Yesterday, I also had Cablevision show up to install the new Optimum
Business with 5 static&amp;nbsp;IPs.&lt;/p&gt;
&lt;p&gt;So, last night around 9:00, I started the arduous task of (for the first
time ever) powering down &lt;span class="caps"&gt;ALL&lt;/span&gt; of my machines, moving them to the new
rack, and re-cabling. That took about 2-1/2 hours, after which my intent
was to bring up the new Optimum connection, configure the Vyatta router,
and roll over mail and web. From what I&amp;#8217;d read of the Vyatta docs it
seemed a relatively straightforward task, and being the stubborn jackass
that I am, I decied, &amp;#8220;hey, it&amp;#8217;s my personal site, it&amp;#8217;s low traffic, and
I want it up before I go to sleep. I&amp;#8217;ll roll over &lt;span class="caps"&gt;DNS&lt;/span&gt; &lt;em&gt;before&lt;/em&gt; I bring
everything&amp;nbsp;up.&amp;#8221;&lt;/p&gt;
&lt;p&gt;That was a &lt;strong&gt;very bad idea&lt;/strong&gt;. Vyatta isn&amp;#8217;t nearly as
simple as it seems - especially for someone who isn&amp;#8217;t really a network
(or at least router/firewall) guy. When they say Enterprise, they mean
robust. They also mean that week-long bootcamps aren&amp;#8217;t for naught. It
took me about half an hour to figure out that even if no &amp;#8220;firewall&amp;#8221;
ruleset is associated with an interface, it still has an implicit drop
all. And if you only want to firewall what&amp;#8217;s coming in from the outside
world, and let everything out, you need to add explicit allow all rules
to the in and out sides of the &lt;span class="caps"&gt;LAN&lt;/span&gt; inteface and the out side of the &lt;span class="caps"&gt;WAN&lt;/span&gt;&amp;nbsp;interface.&lt;/p&gt;
&lt;p&gt;To top all this off, I had some serious still-unexplained &lt;span class="caps"&gt;DHCP&lt;/span&gt; problems
on the &lt;span class="caps"&gt;LAN&lt;/span&gt;, a serious issue since I just set all my hosts to &lt;span class="caps"&gt;DHCP&lt;/span&gt; (which
I&amp;#8217;ll probably undo soon). So, Yesterday was network work from 7:30 &lt;span class="caps"&gt;AM&lt;/span&gt; to
3 &lt;span class="caps"&gt;AM&lt;/span&gt; today (including driving to pickup the rack). By the time 3 &lt;span class="caps"&gt;AM&lt;/span&gt;
rolled around, I was quite unhappy that I decided to roll over &lt;span class="caps"&gt;DNS&lt;/span&gt; in
order to force myself to get things working, as I ended up going back to
FiOS for client access only. Today started around 10 &lt;span class="caps"&gt;AM&lt;/span&gt;, and here I am -
6:30 &lt;span class="caps"&gt;PM&lt;/span&gt;, and I just got things working partially right. I have mail
working - arguably the most important - for jasonantman.com only, though
I have yet to setup any&amp;nbsp;aliases.&lt;/p&gt;
&lt;p&gt;On the web side, I&amp;#8217;m working to setup name-based vhosts for all of the
subdomains, but for some reason, blog is showing up for everything.
Luckily it works right. So we&amp;#8217;ll&amp;nbsp;see&amp;#8230;.&lt;/p&gt;</summary><category term="firewall"></category><category term="optimum"></category><category term="rack"></category><category term="router"></category><category term="wan"></category></entry><entry><title>Big Changes to JasonAntman.com</title><link href="http://blog.jasonantman.com/2009/03/big-changes-to-jasonantmancom/" rel="alternate"></link><updated>2009-03-05T10:22:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-03-05:2009/03/big-changes-to-jasonantmancom/</id><summary type="html">&lt;p&gt;Well, I finally broke down and ordered Optimum Business. Come tomorrow,
I&amp;#8217;ll be moving from Verizon FiOS residential with a dynamic &lt;span class="caps"&gt;IP&lt;/span&gt;, much
blocked (hence jantman.dyndns.org:10011) and 10Mbps down/2Mbps up to
Optimum Business with 30 down/5 up, a block of 5 static IPs, and no
blocked&amp;nbsp;ports.&lt;/p&gt;
&lt;p&gt;It&amp;#8217;s going to be a crazy weekend. Probably not the best thing the week
before midterms, but oh well. Tomorrow morning I&amp;#8217;m picking up a 42U rack
for home to replace the Sears shelving unit my boxes are currently on.
Cablevision is supposed to be here between 2-5 &lt;span class="caps"&gt;PM&lt;/span&gt; to do the install
(yes, they insist that for Business they do the install, even though
it&amp;#8217;s only a 4-foot coax run from the first splitter to the demarc). I&amp;#8217;ve
got &lt;a href="http://www.vyatta.org"&gt;Vyatta&lt;/a&gt; &lt;span class="caps"&gt;CE5&lt;/span&gt; Beta installed on a &lt;a href="http://h18000.www1.hp.com/products/quickspecs/11049_na/11049_na.HTML"&gt;Proliant
&lt;span class="caps"&gt;DL360G2&lt;/span&gt;&lt;/a&gt;
as the new router, ready to go (after some configuration). I&amp;#8217;ll probably
keep FiOS up until I know the new router is working correctly (I&amp;#8217;ll do a
test on my management&amp;nbsp;&lt;span class="caps"&gt;VLAN&lt;/span&gt;).&lt;/p&gt;
&lt;p&gt;Once Optimum and the new router is up, the fun&amp;nbsp;starts:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Forward the appropriate ports on the new router, including 80 (in
    addition to&amp;nbsp;10011).&lt;/li&gt;
&lt;li&gt;Bring the old router down and make sure the new one is up,
    operational, and forwarding all the right&amp;nbsp;ports.&lt;/li&gt;
&lt;li&gt;Update DynDNS to point to the first &lt;span class="caps"&gt;IP&lt;/span&gt;, used as a catch-all for old
    DynDNS&amp;nbsp;links.&lt;/li&gt;
&lt;li&gt;Begin assignment of the 5 IPs (everything will be behind &lt;span class="caps"&gt;NAT&lt;/span&gt;) based
    on a list of what hosts need valid reverse &lt;span class="caps"&gt;DNS&lt;/span&gt;, and then adding
    other ports (NATed) as&amp;nbsp;needed.&lt;/li&gt;
&lt;li&gt;Update &lt;span class="caps"&gt;DNS&lt;/span&gt; for JasonAntman.com and the other&amp;nbsp;domains.&lt;/li&gt;
&lt;li&gt;Update Optimum reverse&amp;nbsp;&lt;span class="caps"&gt;DNS&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;Ensure that everything works as planned, &lt;span class="caps"&gt;DNS&lt;/span&gt; is up, ports are
    forwarded, and everything is as before (at least in terms of&amp;nbsp;&lt;span class="caps"&gt;HTTP&lt;/span&gt;).&lt;/li&gt;
&lt;li&gt;Once &lt;span class="caps"&gt;DNS&lt;/span&gt; is up, reconfigure Apache to have a vhost handling any
    legacy requests to port 10011 and rewrite them to&amp;nbsp;www.jasonantman.com.&lt;/li&gt;
&lt;li&gt;Setup a vhost for &amp;#8216;www&amp;#8217; that takes URLs that used to be
    subdirectories (i.e. www.jasonantman.com/blog) and rewrites them to
    requests for the appropriate subdomain. Simultaneously move
    everything from the default vhost to name-based&amp;nbsp;vhosts.&lt;/li&gt;
&lt;li&gt;Ensure that old jantman.dyndns.org:10011 requests are being
    redirected properly, and requests for subdirectories under the web
    root are going to the right&amp;nbsp;subdomain.&lt;/li&gt;
&lt;li&gt;Check that this all works acceptably with the existing
    blogger-to-wordpress rewrite&amp;nbsp;script.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Finally&lt;/strong&gt; start rolling out some of the new services that I had
    waiting for the new&amp;nbsp;connection.&lt;/li&gt;
&lt;li&gt;Start the arduous process of reconfiguring my mail server, moving
    from Fetchmail from Verizon to an actual mail server, make
    everything work, and make sure my IPs aren&amp;#8217;t&amp;nbsp;blacklisted.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Ugh.&lt;/strong&gt; Find anywhere in the entire &amp;#8216;net where my old @verizon.net
    address appeared (especially GoDaddy, DynDNS, other important stuff)
    and change it to the new jasonantman.com&amp;nbsp;address.&lt;/li&gt;
&lt;li&gt;Since this is all in my mother&amp;#8217;s basement (there&amp;#8217;s nothing like a
    mother&amp;#8217;s love, especially when it comes to a constant hum emanating
    from the ground level of a house), figure out what to do for her
    when the verizon.net email goes&amp;nbsp;away.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;So I might have some downtime this weekend, but when things come back
up, I&amp;#8217;ll be done with this DynDNS and Port 10011&amp;nbsp;crap.&lt;/p&gt;</summary><category term="fios"></category><category term="optimum"></category><category term="vyatta"></category></entry><entry><title>My Take on the MS TomTom Suit</title><link href="http://blog.jasonantman.com/2009/03/my-take-on-the-ms-tomtom-suit/" rel="alternate"></link><updated>2009-03-05T10:05:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-03-05:2009/03/my-take-on-the-ms-tomtom-suit/</id><summary type="html">&lt;p&gt;To keep it short, I&amp;#8217;m sure anyone who winds up here has already heard
about the recent Microsoft lawsuit against TomTom, alleging patent
infringement. Coverage has been extensive, including
&lt;a href="http://www.groklaw.net/article.php?story=20090226070041454"&gt;GrokLaw&lt;/a&gt;
and &lt;a href="http://www.linux-mag.com/id/7258"&gt;Linux Magazine&lt;/a&gt;. While the
mentioned patents include car navigation technology (at least the names
of the patents seem amazingly vague) and &lt;span class="caps"&gt;FAT&lt;/span&gt; . Most of the news stories
I&amp;#8217;ve read say that it&amp;#8217;s &amp;#8220;good for Linux&amp;#8221; and will never see the inside
of a&amp;nbsp;courtroom.&lt;/p&gt;
&lt;p&gt;Maybe I&amp;#8217;m just a pessimist, but I see the idea behind this as much worse
than &amp;#8220;good for Linux&amp;#8221;. &lt;span class="caps"&gt;MS&lt;/span&gt; chose one company to sue. TomTom just happens
to be not only a household name, but also posted a $1.2 Billion loss
last year. It seems to me this is more of a &lt;span class="caps"&gt;FUD&lt;/span&gt; campaign than anything
else&amp;#8230; the best case for Microsoft is that they could strangle TomTom
in a legal battle, perhaps force them to go under, and then ensure a
media spin along the lines of &amp;#8220;Know that company that made the &lt;span class="caps"&gt;GPS&lt;/span&gt; in
every car? They used Linux in it, they got sued by Microsoft, and
they&amp;#8217;re no&amp;nbsp;more.&amp;#8221;&lt;/p&gt;
&lt;p&gt;While I haven&amp;#8217;t always been a fan of TomTom - and am still bothered by
the fact that my (stolen, no longer in my possession) TomTom One ran
Linux but wouldn&amp;#8217;t give me a console or even let me see the filesystem -
I&amp;#8217;ll be watching this closely, and hoping that the powers that be will
not let the angry dinosaur crush a company over a series of patents that
are either horribly obvious (anyone other than Garmin having a claim to
any &lt;span class="caps"&gt;GPS&lt;/span&gt;-related idea is beyond me) or just horrible&amp;nbsp;(&lt;span class="caps"&gt;FAT&lt;/span&gt;?!?!?!).&lt;/p&gt;
&lt;p&gt;On a final note - isn&amp;#8217;t it about time that the &lt;span class="caps"&gt;US&lt;/span&gt; finally dealt with
this damn software patent thing? Not only does it horribly stifle
innovation (not good to do in a bad economy), and I have a hard time
grasping the claim that Microsoft&amp;#8217;s developers are so all-powerful that
they&amp;#8217;re the only people that thought of technology X, but it&amp;#8217;s about
time that the &lt;span class="caps"&gt;US&lt;/span&gt; government got the balls to look Microsoft in the eyes
and say, &amp;#8220;you&amp;#8217;re not the only game in town anymore. Get used to&amp;nbsp;it.&amp;#8221;&lt;/p&gt;</summary><category term="lawsuit"></category><category term="microsoft"></category><category term="patents"></category><category term="tomtom"></category></entry><entry><title>Vyatta Initial Impressions</title><link href="http://blog.jasonantman.com/2009/02/vyatta-initial-impressions/" rel="alternate"></link><updated>2009-02-26T10:06:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-02-26:2009/02/vyatta-initial-impressions/</id><summary type="html">&lt;p&gt;I&amp;#8217;m part-way through the major overhaul of my home network (hosting this
blog and everything else jasonantman.com) that I&amp;#8217;ve been planning for
quite some time. The current hardware is&amp;#8230; uh&amp;#8230; currently&amp;#8230; described
on my Hardware
page, but I soon plan on ditching the wiki and moving to a &lt;span class="caps"&gt;CMS&lt;/span&gt; for my
entire&amp;nbsp;site.&lt;/p&gt;
&lt;p&gt;Anyway, so far I&amp;#8217;ve decommissioned my aged &lt;span class="caps"&gt;HP&lt;/span&gt; ProCurve 2424M switch
and replaced it with used but less-aged Cisco 2948G from &lt;a href="http://horizondatacom.com/"&gt;Horizon
Datacom&lt;/a&gt; (purchased on Ebay). Quite an
upgrade. In order to handle network backups a little better, I&amp;#8217;m also
adding a Cisco 4912G 12-port Gigabit (&lt;span class="caps"&gt;GBIC&lt;/span&gt;) aggregation switch for the
administrative/backup &lt;span class="caps"&gt;VLAN&lt;/span&gt; - though this was purchased via ebay from
&lt;a href="http://stores.ebay.com/RedApe-Technologies"&gt;RedApe Technologies&lt;/a&gt; in &lt;span class="caps"&gt;PA&lt;/span&gt;.
The switch came with 12 &lt;span class="caps"&gt;1000BASE&lt;/span&gt;-&lt;span class="caps"&gt;SX&lt;/span&gt; GBICs, and I plan to do a mix of
copper (&lt;span class="caps"&gt;1000BASE&lt;/span&gt;-T) where it&amp;#8217;s already available (onboard NICs) and
&lt;span class="caps"&gt;1000BASE&lt;/span&gt;-&lt;span class="caps"&gt;SX&lt;/span&gt; where there&amp;#8217;s enough room in the box for a&amp;nbsp;card.&lt;/p&gt;
&lt;p&gt;On the hardware side, I also have 2 new boxes - a set of &lt;span class="caps"&gt;HP&lt;/span&gt; Proliant
&lt;a href="http://h18000.www1.hp.com/products/quickspecs/11049_na/11049_na.HTML"&gt;&lt;span class="caps"&gt;DL360&lt;/span&gt;
G2&lt;/a&gt;&amp;#8216;s
from &lt;a href="http://www.mjsglobal.com/"&gt;&lt;span class="caps"&gt;MJS&lt;/span&gt; Global&lt;/a&gt;, who I&amp;#8217;ve done business
with before. The prices were great, and though one of them showed up
with a faulty temperature sensor that prevents boot, &lt;span class="caps"&gt;MJS&lt;/span&gt; has been
wonderful and is shipping me a replacement motherboard. One of the boxes
will be running &lt;a href="http://www.vyatta.org/"&gt;Vyatta&lt;/a&gt; (vee-&lt;span class="caps"&gt;AH&lt;/span&gt;-tha) &lt;span class="caps"&gt;VC5&lt;/span&gt;
router/firewall software, and the other will be a new services box
running internal &lt;span class="caps"&gt;DNS&lt;/span&gt;, &lt;span class="caps"&gt;DHCP&lt;/span&gt;, &lt;span class="caps"&gt;NTP&lt;/span&gt;, and whatever&amp;nbsp;else.&lt;/p&gt;
&lt;p&gt;On the hardware side, I&amp;#8217;m also planning some extended downtime a few
weekends from now, when I should finally have a 42U rack to replace the
Sears shelves my equipment is now on. It&amp;#8217;ll be a fun-filled evening of
racking equipment and re-patching everything. Also, hopefully within a
few weeks, I&amp;#8217;ll be moving my &lt;span class="caps"&gt;WAN&lt;/span&gt; pipe from Verizon FiOS residential to
Optimum Business, which is essentially re-packaged residential but
provides 5 static IPs, no blocked ports, and 30 Mbps down/5 Mbps&amp;nbsp;up.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Vyatta&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;When planning this upgrade, I think I looked at every open source router
package out there, as well as some of the lower-end or older Cisco
models. I&amp;#8217;m currently running &lt;a href="http://www.ipcop.org/"&gt;IPcop&lt;/a&gt;, which does
everything I need except it doesn&amp;#8217;t handle multiple &lt;span class="caps"&gt;WAN&lt;/span&gt; IPs, and all
configuration is via a web interface - which means every time I want to
make a change remotely (and during the week I&amp;#8217;m not home) I have to
forward &lt;span class="caps"&gt;HTTPS&lt;/span&gt; over &lt;span class="caps"&gt;SSH&lt;/span&gt;. After doing an extensive feature comparison, I
ended up narrowing it down to a relative newcomer - Vyatta. Though I
don&amp;#8217;t know how much of it is marketing hype, they are targeted squarely
at Cisco, and provide relatively enterprise-level features; a
JunOS-based &lt;span class="caps"&gt;CLI&lt;/span&gt;, &lt;span class="caps"&gt;BGP&lt;/span&gt;, &lt;span class="caps"&gt;OSPF&lt;/span&gt;, and all of the other important&amp;nbsp;stuff.&lt;/p&gt;
&lt;p&gt;Yesterday I attempted an install of Vyatta &lt;span class="caps"&gt;CE&lt;/span&gt; 5 Beta on one of the
&lt;span class="caps"&gt;DL360G2&lt;/span&gt;&amp;#8217;s. The only real problem that I found was the install script
doesn&amp;#8217;t support &lt;span class="caps"&gt;CCISS&lt;/span&gt; drives, as found in the Proliants, but a few
manual hacks to the script fixed that. By far the best thing about
Vyatta is it&amp;#8217;s based on vanilla Debian Lenny, and full root shell access
is available, so modifying the install script - or even adding
non-Vyatta packages - is a cinch. I haven&amp;#8217;t really played around with it
too much, but it appears to be a wonderful mix of Linux and an
enterprise router &lt;span class="caps"&gt;CLI&lt;/span&gt;. While root has a full &lt;span class="caps"&gt;BASH&lt;/span&gt; shell, and the Vyata
commands are all done as shell aliases (so users still have access to
shell primitives and &lt;span class="caps"&gt;OS&lt;/span&gt; commands), configuration is accomplished via a
JunOS-like command set. You still get &amp;#8220;commit&amp;#8221; and &amp;#8220;rollback&amp;#8221; in config
mode, and can still do fun things like save and load configs to/from
tftp, ftp and &lt;em&gt;http&lt;/em&gt;. On the other hand, I doubt I&amp;#8217;ll do config backups
that way since I can just use scp or&amp;nbsp;sftp.&lt;/p&gt;
&lt;p&gt;The Vyatta box will probably go home this weekend, and get hooked up to
the network for config-only use (and I can always get in via iLO on the
hardware) and hopefully come up sometime in the next few&amp;nbsp;weeks.&lt;/p&gt;
&lt;p&gt;At this point, the most daunting task is figuring out how to get all of
the existing links to my site to work - since jantman.dyndns.org will be
legacy, and most of the site structure will probably change to use
name-based vhosts. Lately I&amp;#8217;ve been trying to use the real subdomains in
all of my public links, so the transition (planned for a while) will
work, but I&amp;#8217;m sure there are still plenty of links out there that will
need dealing with (maybe keep port 10011 serving &lt;span class="caps"&gt;HTTP&lt;/span&gt; with a massive
mod_rewrite script to redirect to the right place???), as well as
checking everything on the web server to make sure there aren&amp;#8217;t any
absolute URLs (like&amp;nbsp;WordPress).&lt;/p&gt;</summary><category term="cisco"></category><category term="networking"></category><category term="router"></category><category term="vyatta"></category></entry><entry><title>ROUThost DNS problems; GoDaddy and Security through Obscurity</title><link href="http://blog.jasonantman.com/2009/02/routhost-dns-problems-godaddy-and-security-through-obscurity/" rel="alternate"></link><updated>2009-02-25T11:07:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-02-25:2009/02/routhost-dns-problems-godaddy-and-security-through-obscurity/</id><summary type="html">&lt;p&gt;The external-facing web site and (internal use) mailing list for the
&lt;a href="http://www.midlandparkambulance.com"&gt;ambulance corps&lt;/a&gt; is hosted by
&lt;a href="http://www.routhost.com"&gt;ROUThost&lt;/a&gt;. Not my choice, it was inherited.
ROUThost, first off, appears to be a fly-by-night hosting provider that
just buys a few boxes in a colo facility. I should have known to raise a
stink when they say you need to fax a copy of your driver&amp;#8217;s license to
get &lt;span class="caps"&gt;SSH&lt;/span&gt; turned on, and that you have to agree - in legalese - not to
mess with anyone else&amp;#8217;s configs. Well, last night, &lt;span class="caps"&gt;DNS&lt;/span&gt; for the site went
down. As in nothing, wouldn&amp;#8217;t resolve at all. I submitted a ticket
online for ROUThost&amp;#8217;s &amp;#8220;24x7&amp;#8221; support - by the way, they don&amp;#8217;t have a
phone number, only an online ticket form. After 2h 34m 40s of downtime,
the issue resolved itself and I downgraded the ticket from &amp;#8220;critical&amp;#8221; to
medium. Now, 11 hours later, it still hasn&amp;#8217;t been replied to. And my
emails to support and management - 2 hours ago - are&amp;nbsp;unanswered.&lt;/p&gt;
&lt;p&gt;Once the problem started, I knew the yearly contract with ROUThost was a
bad idea - even at $35/year &lt;span class="caps"&gt;USD&lt;/span&gt;. So, given the great experience I&amp;#8217;ve had
with them as registrar for my myriad domains, I took a look at
&lt;a href="http://www.godaddy.com"&gt;GoDaddy&amp;#8217;s Site&lt;/a&gt;. They offer shared
hosting at around $4/month (for shared on a Linux box) and are currently
offering some deals, so I figured it would be a good idea. I know and
trust GoDaddy&amp;#8217;s support, and have had an account with them for &lt;em&gt;quite
some time&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;The ambulance corp&amp;#8217;s web site, hosted through ROUThost, does essentially
three things; provide a minimal web presence (the whole web root is
probably &amp;lt; 1Mb minus the photo albums), five e-mail forwarders for the
officers and a &lt;a href="http://www.gnu.org/software/mailman/index.html"&gt;&lt;span class="caps"&gt;GNU&lt;/span&gt;
MailMan&lt;/a&gt; mailing list
for internal business. Unfortunately, I couldn&amp;#8217;t find anything in their
&amp;#8220;features&amp;#8221; list mentioning MialMan or any other listserv, or even what
&lt;span class="caps"&gt;MTA&lt;/span&gt;/&lt;span class="caps"&gt;MDA&lt;/span&gt; they&amp;nbsp;run.&lt;/p&gt;
&lt;p&gt;I put a call in to GoDaddy &amp;#8220;Sales/Support&amp;#8221;. The poor guy had never heard
of MailMan, but asked &amp;#8220;one of the hosting guys&amp;#8221; and was told it would
only be supported on dedicate hosting accounts. Not exactly financially
feasible for a mailing list with 30 subscribers, maybe 2 messages a day,
and a monthly &lt;span class="caps"&gt;HTTP&lt;/span&gt; transfer of under 20Mb. I was told their shared
hosting packages don&amp;#8217;t include any mailing list/listserv software,
though they include every &lt;span class="caps"&gt;CMS&lt;/span&gt; and language known to man. Hell-bent to
get away from ROUThost, I then asked if they ran an &lt;span class="caps"&gt;MDA&lt;/span&gt; that supported
piping mail to a command, as can be done with .procmailrc. After a brief
hold (not to sound cynical, but I&amp;#8217;m sure the gentleman was looking up
&amp;#8220;&lt;span class="caps"&gt;MDA&lt;/span&gt;&amp;#8221;) he came back on the line and told me they didn&amp;#8217;t. I then switched
to problem-solving mode and asked what &lt;span class="caps"&gt;MTA&lt;/span&gt; and &lt;span class="caps"&gt;MDA&lt;/span&gt; they were running.
Another brief hold, and I was told &lt;em&gt;&amp;#8220;I can&amp;#8217;t tell you that&amp;#8221;&lt;/em&gt;. Speechless
for a moment, I asked what that meant; &lt;em&gt;&amp;#8220;we don&amp;#8217;t give out that
information&amp;#8221;&lt;/em&gt;. Just about ready to begin explaining &lt;span class="caps"&gt;SMTP&lt;/span&gt; headers, I gave
up and thanked him for his&amp;nbsp;time.&lt;/p&gt;
&lt;p&gt;Ok, so Sales probably doesn&amp;#8217;t understand &lt;span class="caps"&gt;SMTP&lt;/span&gt; headers. I&amp;#8217;d considered
trying to find mail from a GoDaddy Linux hosted box and check the
headers, but I figured I couldn&amp;#8217;t do that before the call ended. So, now
I&amp;#8217;m left with a dilemma. ROUThost is not, in my opinion, reliable, and
their support is flat-out nonexistent. 11 hours is far too long to wait
for a reply to a &amp;#8220;critical&amp;#8221; ticket when someone claims 24x7 support.
However, by previous experience, GoDaddy would be my next choice - but
not only do they ot support mailing lists - arguably the most used
feature of our current hosted account - but they won&amp;#8217;t even tell a
customer what &lt;span class="caps"&gt;MTA&lt;/span&gt; they&amp;#8217;re running. I&amp;#8217;m too let down by this to telnet 25
on one of their boxes and see what&amp;nbsp;happens.&lt;/p&gt;
&lt;p&gt;So what&amp;#8217;s left? I guess waiting until (hopefully some time within the
next few weeks) I upgrade to Optimum static &lt;span class="caps"&gt;IP&lt;/span&gt; at home, and consider
running it all there (and hope mains power never goes out for more than
30&amp;nbsp;minutes?)&lt;/p&gt;</summary><category term="dns"></category><category term="godaddy"></category><category term="hosting"></category><category term="routhost"></category><category term="security through obscurity"></category><category term="support"></category></entry><entry><title>Online Exams and Reality</title><link href="http://blog.jasonantman.com/2009/02/online-exams-and-reality/" rel="alternate"></link><updated>2009-02-17T22:32:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-02-17:2009/02/online-exams-and-reality/</id><summary type="html">&lt;p&gt;A friend recently showed me the syllabus for one of her classes, which
is partially given online through the &lt;a href="http://sakaiproject.org/portal"&gt;Sakai course management
system&lt;/a&gt;. At the bottom was a section on
course policies which stated, in part, that the &amp;#8220;Academic Integrity
policy is in full effect&amp;#8221;. Apparently, this professor is giving online
exams in Sakai. The policy goes on to state that not only is
collaborative test-taking not allowed, but also that use of any
resources (including a textbook) is not allowed. The policy states that
use of electronic resources (&amp;#8220;a second web browser&amp;#8221;) is also not
allowed, and that the course management system includes &amp;#8220;features&amp;#8221; to
prevent &amp;#8220;cheating&amp;#8221; - enumerated as a time stamp for every&amp;nbsp;answer.&lt;/p&gt;
&lt;p&gt;To me at least, this shows not only an unrealistic outlook, but also a
horrible lack of understanding about&amp;nbsp;technology.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Does this professor actually expect that he can have students taken
    an exam at home, on a computer, and none of them will Google an
    answer? If so, he should take some steps to actually prevent such
    actions - like having the students take the exam in a proctored
    environment. If not, what is the purpose of this&amp;nbsp;intimidation?&lt;/li&gt;
&lt;li&gt;I know I&amp;#8217;m not a programming wizard, but if someone can tell me the
    algorithm to determine whether or not a student is cheating - &lt;em&gt;based
    solely on their answers and the submission time of each answer&lt;/em&gt; -
    I&amp;#8217;d really like to be&amp;nbsp;enlightened.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;If professors want to administer exams online and prevent students from
using &lt;em&gt;any&lt;/em&gt; outside resources, it seems to me like the only way to
realistically do this is to setup a human-proctored computer lab
(perhaps University-wide at a number of locations, available for members
of any class) that allows access only to &lt;span class="caps"&gt;HTTP&lt;/span&gt;/&lt;span class="caps"&gt;HTTPS&lt;/span&gt; for the course
management system and nothing else. All the human proctor would have to
do is sit in the room and make sure students aren&amp;#8217;t looking in textbooks
or conferring with each&amp;nbsp;other.&lt;/p&gt;</summary><category term="cms"></category><category term="course management"></category><category term="education"></category></entry><entry><title>Why DRM is bad for consumers</title><link href="http://blog.jasonantman.com/2009/02/why-drm-is-bad-for-consumers/" rel="alternate"></link><updated>2009-02-10T09:06:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-02-10:2009/02/why-drm-is-bad-for-consumers/</id><summary type="html">&lt;p&gt;While some people whom I greatly admire have &lt;a href="http://www.gnu.org/philosophy/opposing-drm.html"&gt;stronger
feelings&lt;/a&gt; than I on the
subject, and many others, I felt the need to share some thoughts on &lt;span class="caps"&gt;DRM&lt;/span&gt;
this&amp;nbsp;morning.&lt;/p&gt;
&lt;p&gt;Here at Rutgers, we had been promoting
&lt;a href="http://en.wikipedia.org/wiki/Ruckus_Network"&gt;Ruckus&lt;/a&gt; for music
downloading. The idea was that if you go to Rutgers, you get to use
their service for free and download your music. I&amp;#8217;ve never used it. Even
if their software had &lt;em&gt;worked&lt;/em&gt; with Linux, it&amp;#8217;s still so badly &lt;span class="caps"&gt;DRM&lt;/span&gt;&amp;#8217;ed
that I couldn&amp;#8217;t even burn the music to a &lt;span class="caps"&gt;CD&lt;/span&gt;. Being an old-fashioned
person who has a regular old non-&lt;span class="caps"&gt;MP3&lt;/span&gt; cd player in my truck, what good
would that do&amp;nbsp;me?&lt;/p&gt;
&lt;p&gt;So, today Ruckus just shows&amp;nbsp;this:  &lt;/p&gt;
&lt;p&gt;&lt;img alt="Ruckus shutdown graphic" src="/GFX/ruckus_final.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ll admit it, I&amp;#8217;m not the least bit sad to see it go. And not just
because it was Windows-only at a time when Linux is gaining in
popularity and MacOS is all-out exploding. What was my real problem with
it? The &lt;span class="caps"&gt;DRM&lt;/span&gt;. What good is a bunch of 1&amp;#8217;s and 0&amp;#8217;s if I can&amp;#8217;t use it the
way I like? You couldn&amp;#8217;t burn Ruckus music to &lt;span class="caps"&gt;CD&lt;/span&gt;, and I doubt you could
use it on my ancient Sansa &lt;span class="caps"&gt;512MB&lt;/span&gt; &lt;span class="caps"&gt;MP3&lt;/span&gt; player either, as it doesn&amp;#8217;t
support &lt;span class="caps"&gt;DRM&lt;/span&gt; (and runs&amp;nbsp;Linux).&lt;/p&gt;
&lt;p&gt;So what&amp;#8217;s my final thought? From
&lt;a href="http://www.techcrunch.com/2009/02/06/college-music-service-ruckus-shuts-down/"&gt;TechCrunch.com&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;We’re told that music that has not passed its “renew date” still
works, but that music that has expired will no longer work because the
&lt;span class="caps"&gt;DRM&lt;/span&gt; licensing server has apparently shut&amp;nbsp;down.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;If &lt;span class="caps"&gt;DRM&lt;/span&gt; wasn&amp;#8217;t bad enough to begin with, the music you already have will
just &lt;strong&gt;stop working&lt;/strong&gt;&amp;#8230; because the original distributor isn&amp;#8217;t there
anymore to tell it to&amp;nbsp;work.&lt;/p&gt;</summary><category term="drm"></category><category term="music"></category><category term="rutgers"></category></entry><entry><title>My Dream Network</title><link href="http://blog.jasonantman.com/2009/02/my-dream-network/" rel="alternate"></link><updated>2009-02-07T01:15:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-02-07:2009/02/my-dream-network/</id><summary type="html">&lt;p&gt;On the same thread as the &lt;a href="/2009/02/community-datacenter/"&gt;last
post&lt;/a&gt;, some
thoughts on my ideal network, or the hosts on that&amp;nbsp;network:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;One &amp;#8220;gold master&amp;#8221; installation/kickstart file of a single chosen
    distro, with a base set of packages, including site-specific
    packages. (or something like this implemented in a configuration
    management&amp;nbsp;system)&lt;/li&gt;
&lt;li&gt;All new installations performed over the network in an automated
    fashion, and from a local&amp;nbsp;repository.&lt;/li&gt;
&lt;li&gt;Software updates are automated (either through a configuration
    management tool or something like the behemoth I talked about
    &lt;a href="/2008/10/my-biggest-problem-with-linux/"&gt;here&lt;/a&gt;)
    and pulled from a local repository (perhaps one which mirrors the
    mainline repos, but only downloads a package the first time it&amp;#8217;s&amp;nbsp;requested?).&lt;/li&gt;
&lt;li&gt;&lt;a href="http://reductivelabs.com/trac/puppet"&gt;Puppet&lt;/a&gt; or
    &lt;a href="http://www.cfengine.org/"&gt;CFengine&lt;/a&gt; on each machine. Better than
    just having them is having each machine automatically added when
    it&amp;#8217;s created. Even better yet would be to have Puppet or CFengine
    combined with something like
    &lt;a href="https://fedorahosted.org/cobbler/"&gt;Cobbler&lt;/a&gt;, so I can define a new
    machine in {puppet|cfengine}, list its&amp;#8217; &lt;span class="caps"&gt;MAC&lt;/span&gt; address, then netboot
    the box and come back in a few hours to have an &lt;span class="caps"&gt;OS&lt;/span&gt; installed,
    packages installed and the machine configured, monitored in Nagios,
    monitored for security and backed&amp;nbsp;up.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.tripwire.com/"&gt;Tripwire&lt;/a&gt; or some other sort of security
    software, as well as centralized logging and auditing, on every&amp;nbsp;box.&lt;/li&gt;
&lt;li&gt;A small number of additional &amp;#8220;package groups&amp;#8221; to add to the &amp;#8220;gold
    master&amp;#8221; via config management - something like &amp;#8220;web server&amp;#8221;
    (Apache2, &lt;span class="caps"&gt;PHP&lt;/span&gt;, MySQL, log analysis for them, etc.), &amp;#8220;development
    server&amp;#8221; (&lt;span class="caps"&gt;CVS&lt;/span&gt;, debuggers, etc.). These would also update the backup
    system to include appropriate directories, update Nagios configs,&amp;nbsp;etc.&lt;/li&gt;
&lt;li&gt;A good way - if even a human making notes in a per-machine text file&lt;ul&gt;
&lt;li&gt;of tracking the &amp;#8220;little stuff&amp;#8221; like that one cron script that
makes everything work right, the location of that hacked-together
Python script, etc. A way to easily remember the things needed to
recreate a box which aren&amp;#8217;t found in &lt;code&gt;rpm -qa&lt;/code&gt; or any obvious&amp;nbsp;overviews.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.bacula.org"&gt;Bacula&lt;/a&gt; or &lt;a href="http://www.amanda.org/"&gt;&lt;span class="caps"&gt;AMANDA&lt;/span&gt;&lt;/a&gt;
    setup to backup every box, perhaps with some sort of template system
    for server types - every machine gets &lt;code&gt;/root&lt;/code&gt; and &lt;code&gt;/etc&lt;/code&gt; backed up,
    but web servers get &lt;code&gt;/srv/www&lt;/code&gt; and mail servers get &lt;code&gt;/var/mail&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Nagios setup to monitor everything logical on every box. Perhaps
    this would use a configuration management engine to handle Nagios
    configs, so that for example if any Proliant hardware is used,
    {config management program} will figure this out, install the &lt;span class="caps"&gt;HPASM&lt;/span&gt;
    packages, put the appropriate check scripts on the box, and update
    the Nagios configs. Likewise, adding Apache to a machine should
    cause it to be monitored in the Nagios&amp;nbsp;configs.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Unfortunately, as I&amp;#8217;m not independently wealthy, I don&amp;#8217;t have the time
to quit my job, wipe every machine I own, and start from scratch. But it
sure would be nice to be able to, one day, start a server farm from
scratch and be able to implement some of these cool&amp;nbsp;things&amp;#8230;&lt;/p&gt;</summary><category term="configuration"></category><category term="dream network"></category><category term="ideal network"></category><category term="management"></category></entry><entry><title>Community Datacenter</title><link href="http://blog.jasonantman.com/2009/02/community-datacenter/" rel="alternate"></link><updated>2009-02-07T00:50:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-02-07:2009/02/community-datacenter/</id><summary type="html">&lt;p&gt;I&amp;#8217;ve been planning a lot of administrative work lately&amp;#8230; I have a few
machines that need &lt;span class="caps"&gt;OS&lt;/span&gt; upgrades, my backup system is barely functional
(it needs both a new, large disk and a configuration overhaul), and I&amp;#8217;m
planning a switch to static &lt;span class="caps"&gt;IP&lt;/span&gt; service - which means not only a new
&lt;a href="http://www.vyatta.com/"&gt;router/firewall&lt;/a&gt; to design, configure and
monitor, as well as moving some services previously run by
&lt;a href="http://www.ipcop.org/"&gt;IPcop&lt;/a&gt; over to a dedicated box, but also finally
adding three IPsec VPNs, monitoring them and tunneling all sorts of
stuff over them, and reconfiguring all of my &lt;span class="caps"&gt;DNS&lt;/span&gt;, finding any hard-coded
URLs, and a slew of other&amp;nbsp;projects.&lt;/p&gt;
&lt;p&gt;So this got me thinking. While there are a number of reasons why I run
such a complex network at home (mainly including maintaining my presence
on the web and my email, providing temporary hosting for freelance work,
the convenience of file access from anywhere, the breadth of
administrative experience it gives me, and a way to test new
technologies) there are some parts of it that I just don&amp;#8217;t like dealing
with. I&amp;#8217;ve never been a really network-centric guy, and the idea of
having to setup a router/firewall (I&amp;#8217;m going with
&lt;a href="http://www.vyatta.com"&gt;Vyatta&lt;/a&gt; as it seems to be the &lt;em&gt;only&lt;/em&gt; thing that
will deal with the complex configuration I want) for all this just to
get 5 static IPs seems a bit much. Not to mention there&amp;#8217;s just too much
running on all those boxen (8 at home, 2 at school, plus 3 others at 2
other locations) for me to keep a handle on all of it and still be a
full-time student, work 30 hours/week, and do freelance work.
Something&amp;#8217;s always bound to get ignored - sometimes backups stop for a
week, sometimes Nagios goes haywire, and sometimes Cacti stops graphing
for a month before I notice&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;The biggest thing I learned from running all of these systems for
personal use is to start everything consistently and with a plan. My
oldest box in semi-production is running SuSE 9.3, installed somewhere
between April and October of 2005. It was ignored for so long (a period
when it wasn&amp;#8217;t being used for much) that I now can&amp;#8217;t even perform
updates, as the update sequence is virtually impossible to accomplish.
Then again, re-purposed desktops shouldn&amp;#8217;t be in &amp;#8220;production&amp;#8221; for 4
years. Anyway, perhaps the biggest lesson in trying to deal with all of
this is the importance of consistency. Not just attempting to
standardize on one distribution, but also making a local image that
includes the standard packages, configurations, and other important
stuff - like the Nagios user account and local plugins and maybe even
the public &lt;span class="caps"&gt;SSH&lt;/span&gt; key of the Nagios box. Even better would be a
configuration management system like
&lt;a href="http://reductivelabs.com/trac/puppet"&gt;Puppet&lt;/a&gt; or
&lt;a href="http://www.cfengine.org/"&gt;CFengine&lt;/a&gt;, or even manually keeping all of
the distros updated to a common&amp;nbsp;version.&lt;/p&gt;
&lt;p&gt;But, I digress. The real point of this post was supposed to be a simple
idea: I have all of this running at home, and I know quite a few &lt;span class="caps"&gt;IT&lt;/span&gt;
people who have a similar setup at home or at work, or have considerable
resources at a hosting/colo facility. So, why not start a &amp;#8220;community
datacenter&amp;#8221; project? At home I have to do everything from backups to
firewall and router administration to security. I&amp;#8217;d be much happier just
handling network/service monitoring, log analysis, and some tool and web
scripting. I know a few Cisco-heads who run their &amp;#8220;home&amp;#8221; LANs on chassis
switches, but find it such a pain to reconfigure Apache or run a
monitoring app. I&amp;#8217;m sure someone&amp;#8217;s thought of this in the past, and
probably tried it, but why don&amp;#8217;t some guys (who can be trusted) get
together, find some colo space (or anywhere with power and connectivity)
and start, essentially, a co-op data center? Assuming you could find a
large enough circle of trusted friends, I&amp;#8217;m sure you could find someone
willing to volunteer every service needed - from network engineering to
backups, monitoring, and security - in exchange for some rack space and
connectivity, or even a virtual host. I know I&amp;#8217;d opt in any second - or
even let someone throw a box in my basement in exchange for someone to
help read through logs or setup a &lt;span class="caps"&gt;HTTPS&lt;/span&gt; &lt;span class="caps"&gt;VPN&lt;/span&gt;, if it weren&amp;#8217;t for the
archaic equipment I&amp;#8217;m&amp;nbsp;running.&lt;/p&gt;
&lt;p&gt;Just a&amp;nbsp;thought&amp;#8230;&lt;/p&gt;</summary><category term="community"></category><category term="datacenter"></category></entry><entry><title>My Birthday!</title><link href="http://blog.jasonantman.com/2009/02/my-birthday/" rel="alternate"></link><updated>2009-02-06T23:35:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-02-06:2009/02/my-birthday/</id><summary type="html">&lt;p&gt;I happened to be working with some timestamps today and noticed that
we&amp;#8217;re starting to get into territory like &lt;code&gt;1234094400&lt;/code&gt;. So, being the
geek that I am, I wondered when we&amp;#8217;d finally hit &lt;code&gt;1234567890&lt;/code&gt;. The
answer is 2009-02-13T18:31:30-05:00, which happens to be 18:31:30 on my
birthday.&amp;nbsp;Yay!&lt;/p&gt;</summary><category term="birthday"></category><category term="timestamp"></category></entry><entry><title>How To Wipe a Bunch of Machines Quickly</title><link href="http://blog.jasonantman.com/2009/02/how-to-wipe-a-bunch-of-machines-quickly/" rel="alternate"></link><updated>2009-02-03T15:51:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-02-03:2009/02/how-to-wipe-a-bunch-of-machines-quickly/</id><summary type="html">&lt;p&gt;&lt;strong&gt;Updated 2009-03-05, see&amp;nbsp;bottom.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;At work the other week, we decommissioned 24 old desktops - Dell &lt;span class="caps"&gt;GX280&lt;/span&gt;&amp;#8217;s
that were used in the student labs as print release stations. They
didn&amp;#8217;t have anything sensitive on them, just Windows &lt;span class="caps"&gt;XP&lt;/span&gt;, but with
licensing and all we have to wipe Windows off of them before surplussing
them. Since there were 24 of them, it wasn&amp;#8217;t exactly going to be the
quickest task. Moreover, the &lt;span class="caps"&gt;GX280&lt;/span&gt;&amp;#8217;s we used don&amp;#8217;t have &lt;em&gt;any&lt;/em&gt; removable
media&amp;nbsp;drives.&lt;/p&gt;
&lt;p&gt;A few people mentioned &lt;a href="http://www.dban.org/"&gt;Darik&amp;#8217;s Boot And Nuke&lt;/a&gt;
(&lt;span class="caps"&gt;DBAN&lt;/span&gt;), which is a bootable Linux distro (&lt;span class="caps"&gt;CD&lt;/span&gt; or floppy) aimed at wiping
all of the fixed disks attached to a machine. While they do offer an
&amp;#8220;Enterprise&amp;#8221; version that supports network booting (and logging wipe
verifications to a central machine), the pricing isn&amp;#8217;t exactly favorable
for a small project (or something that just needs Windows to go away,
not a DoD-grade 7-pass overwrite with random data). Between the lack of
a &lt;span class="caps"&gt;CD&lt;/span&gt; drive and the apparent need to select wiping options at boot, this
didn&amp;#8217;t seem to be the best method for&amp;nbsp;me.&lt;/p&gt;
&lt;p&gt;Luckily, with a little googling, I came by the
&lt;a href="https://fedorahosted.org/cobbler/"&gt;Cobbler&lt;/a&gt; project, a ready-to-run
install server aimed at automating network-based &lt;span class="caps"&gt;OS&lt;/span&gt; installation. It
turns out that Cobbler has a wiki article on &lt;a href="https://fedorahosted.org/cobbler/wiki/SystemRetirement"&gt;system
retirement&lt;/a&gt; that
deals with using Cobbler to automate a network boot of &lt;span class="caps"&gt;DBAN&lt;/span&gt;. Cobbler
takes control of &lt;span class="caps"&gt;DHCP&lt;/span&gt; and &lt;span class="caps"&gt;TFTP&lt;/span&gt;, boots the machine(s) to a &lt;span class="caps"&gt;PXE&lt;/span&gt; boot menu,
and allows selection of one of the cobbler&amp;nbsp;&amp;#8220;profiles&amp;#8221;.&lt;/p&gt;
&lt;p&gt;The general procedure is something along these&amp;nbsp;lines:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Get the &lt;span class="caps"&gt;DBAN&lt;/span&gt; iso and grab the .ima image off of it. Loopback mount&amp;nbsp;it.&lt;/li&gt;
&lt;li&gt;Copy the &lt;code&gt;initrd&lt;/code&gt; and kernel into &lt;code&gt;/opt/cobbler/dban&lt;/code&gt; as
    &lt;code&gt;initrd.img&lt;/code&gt; and &lt;code&gt;vmlinuz&lt;/code&gt;,&amp;nbsp;respectively.&lt;/li&gt;
&lt;li&gt;Assuming you have cobblerd running (cobbler check), add a Distro for
    &lt;span class="caps"&gt;DBAN&lt;/span&gt;:
    &lt;code&gt;cobbler distro add --name=DBAN-1.0.7-i386 --kernel=/opt/cobbler/dban/vmlinuz --initrd=/opt/cobbler/dban/initrd.img --kopts="root=/dev/ram0 init=/rc nuke=dwipe floppy=0,16,cmos"&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Add a Profile for it:
    &lt;code&gt;cobbler profile add --name=DBAN-1.0.7-i386 --distro=DBAN-1.0.7-i386&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cobbler sync&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Assuming all went well, when we &lt;span class="caps"&gt;PXE&lt;/span&gt; boot a machine on the same &lt;span class="caps"&gt;LAN&lt;/span&gt; as
the Cobbler system, we&amp;#8217;ll get &lt;span class="caps"&gt;DHCP&lt;/span&gt; and a &lt;span class="caps"&gt;PXE&lt;/span&gt; boot menu which will list
&lt;code&gt;DBAN-1.0.7.i386&lt;/code&gt; as one of the options. On some of the &lt;span class="caps"&gt;GX280&lt;/span&gt;&amp;#8217;s that I
did, I had to go into the &lt;span class="caps"&gt;BIOS&lt;/span&gt; and enable &lt;span class="caps"&gt;PXE&lt;/span&gt; boot (or select &lt;span class="caps"&gt;PXE&lt;/span&gt; from
the &lt;span class="caps"&gt;BIOS&lt;/span&gt; boot menu). Now, when &lt;span class="caps"&gt;DBAN&lt;/span&gt; boots, we&amp;#8217;ll get the standard dmesg
output and then a selection screen allowing us to pick a wipe type (I
used the single pass all zeros for just getting rid of the old &lt;span class="caps"&gt;OS&lt;/span&gt;) and
select which disks to wipe. If you use the default wipe, just press
&amp;#8220;space&amp;#8221; to select all disks and then &amp;#8220;F10&amp;#8221; to begin the&amp;nbsp;wipe.&lt;/p&gt;
&lt;p&gt;This process allowed me to wipe 7 machines at once (8 port &lt;span class="caps"&gt;KVM&lt;/span&gt;, 1 port
for the server). With a better &lt;span class="caps"&gt;KVM&lt;/span&gt; or (even better yet) a totally
automatic system as described below, it would essentially be limited to
whatever the server and network hardware will&amp;nbsp;handle.&lt;/p&gt;
&lt;p&gt;To add a little more automation, we can run
&lt;code&gt;cobbler system add --name=default --profile=DBAN-1.0.7-i386&lt;/code&gt; which adds
a default profile to Cobbler, saying that any machines with MACs not
specifically assigned to a profile should boot the &lt;span class="caps"&gt;DBAN&lt;/span&gt; profile, and
bypassing the &lt;span class="caps"&gt;PXE&lt;/span&gt; boot&amp;nbsp;menu.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span class="caps"&gt;WARNING&lt;/span&gt;:&lt;/strong&gt; what follows will setup Cobbler and &lt;span class="caps"&gt;DBAN&lt;/span&gt; to automatically
wipe all &lt;span class="caps"&gt;PXE&lt;/span&gt;-booting devices without &lt;span class="caps"&gt;ANY&lt;/span&gt; human intervention. Use at your
own risk and, for God&amp;#8217;s sake, don&amp;#8217;t plug your server into a production
network (I recommend this only in a lab environment with a dedicated
switch, all machines in one physical area, and no possibility of getting
on the same &amp;#8216;net as production&amp;nbsp;machines).&lt;/p&gt;
&lt;p&gt;It&amp;#8217;s theoretically possible to totally automate this setup. According to
the &lt;span class="caps"&gt;DBAN&lt;/span&gt; docs, it will also accept kernel options (kopts) that effect
how dnuke works - specifically, &lt;code&gt;--autonuke&lt;/code&gt; to tell it to wipe without
human intervention and a method option such as &lt;code&gt;--method=zero&lt;/code&gt; to select
the wipe method. This means that if we &lt;span class="caps"&gt;PXE&lt;/span&gt; boot with kernel options set
to &lt;code&gt;nuke="dwipe --autonuke --method=zero"&lt;/code&gt; we should go straight to the
dwipe utility (the heart of &lt;span class="caps"&gt;DBAN&lt;/span&gt;) and automatically wipe all disks by
writing zeros once - without operator intervention. Unfortunately,
there&amp;#8217;s a &lt;a href="https://fedorahosted.org/cobbler/ticket/148"&gt;bug&lt;/a&gt; in the
current (1.4.0) Cobbler which prevents quote-encapsulated strings in
kopts, meaning that we can&amp;#8217;t set one kernel option to a string with
whitespace as needed here. If this bug is fixed, it should allow this
process to work without any operator intervention, assuming the clients
will &lt;span class="caps"&gt;PXE&lt;/span&gt;&amp;nbsp;boot.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Updated 2009-03-05&lt;/strong&gt; I haven&amp;#8217;t tested it yet, but apparently the
Cobbler bug preventing complex kernel options has &lt;a href="https://fedorahosted.org/pipermail/cobbler/2009-February/002874.html"&gt;been
fixed&lt;/a&gt;.
The fix should be included in the 1.4.3 release and is currently in the
development&amp;nbsp;tree.&lt;/p&gt;</summary><category term="automation"></category><category term="cobbler"></category><category term="dban"></category><category term="pxe"></category><category term="retirement"></category><category term="security"></category><category term="wiping"></category></entry><entry><title>Truck Wiring and Lighting - Part I</title><link href="http://blog.jasonantman.com/2009/02/truck-wiring-and-lighting-part-i/" rel="alternate"></link><updated>2009-02-03T12:20:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-02-03:2009/02/truck-wiring-and-lighting-part-i/</id><summary type="html">&lt;p&gt;As mentioned in my &lt;a href="/2009/02/custom-truck-console/"&gt;Custom Truck
Console&lt;/a&gt;
post, since my truck was stolen and now recovered (with all of the
emergency equipment stripped out - weird) I&amp;#8217;ve got to start from
scratch. Since I finished the console, I&amp;#8217;ve started work on redoing the
lighting. The first grueling step was to check continuity of the
existing wiring (what was left of it), strip out everything that didn&amp;#8217;t
work, and rehab what did. Then I did a few pulls, mainly a giant pull
from the console to under the hood of six 16-ga wires and three 12-ga,
along with a massive run of 6-ga welding cable direct from the battery
(with a circuit breaker) to the&amp;nbsp;console.&lt;/p&gt;
&lt;p&gt;There&amp;#8217;s a thread covering this install over at
&lt;a href="http://www.elightbars.org/bb/post59822.html"&gt;elightbars.org&lt;/a&gt; as well as
a thread on the &lt;a href="http://www.elightbars.org/bb/post24858.html"&gt;previous (original)
installation&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This is part 1 of (hopefully only) 2. The list of what&amp;#8217;s installed so
far&amp;nbsp;is:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Custom&amp;nbsp;console.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.galls.com/style.html?assort=general_catalog&amp;amp;style=SE082"&gt;Galls
    &lt;span class="caps"&gt;SE082&lt;/span&gt;&lt;/a&gt;
    switch box - 3-position slider, 5 on/off rocker switches and one
    on-off-(on) rocker&amp;nbsp;switch.&lt;/li&gt;
&lt;li&gt;Radio Shack
    &lt;a href="http://wiki.radioreference.com/index.php/Pro-433"&gt;Pro-433&lt;/a&gt; scanner,
    hopefully to be replaced by a &lt;a href="http://www.icomamerica.com/en/products/landmobile/mobiles/f5061_series/default.aspx"&gt;Icom
    F5061&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;B/B Whelen Dual Avenger above rearview&amp;nbsp;mirror.&lt;/li&gt;
&lt;li&gt;Unitrol 80K air horn (siren wires not&amp;nbsp;connected)&lt;/li&gt;
&lt;li&gt;2x &lt;a href="http://www.sirennet.com/sn1c.html"&gt;Sirennet 100W speakers&lt;/a&gt;
    mounted in front&amp;nbsp;bumper.&lt;/li&gt;
&lt;li&gt;2x B/B Whelen &lt;span class="caps"&gt;LIN4&lt;/span&gt;&amp;#8217;s on &lt;a href="http://www.1075lighting.com"&gt;10-75
    Lighting&lt;/a&gt; front license plate&amp;nbsp;bracket.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The console with equipment mounted in&amp;nbsp;it:&lt;/p&gt;
&lt;p&gt;&lt;img alt="console" src="/GFX/TruckConsole/DSC_0057_small.JPG" /&gt;&lt;/p&gt;
&lt;p&gt;Dual Avenger (B/B) on headliner bracket above rearview mirror - it &lt;em&gt;just&lt;/em&gt;&amp;nbsp;fits:&lt;/p&gt;
&lt;p&gt;&lt;img alt="dual avenger on headliner bracket" src="/GFX/TruckConsole/DSC_0065_small.JPG" /&gt;&lt;/p&gt;
&lt;p&gt;Avenger from the&amp;nbsp;outside:&lt;/p&gt;
&lt;p&gt;&lt;img alt="avenger from the outside" src="/GFX/TruckConsole/DSC_0073_small.JPG" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="avenger from the outside, lit" src="/GFX/TruckConsole/DSC_0075_small.JPG" /&gt;&lt;/p&gt;
&lt;p&gt;10-75 Intersection Bracket behind front license plate. B/B&amp;nbsp;&lt;span class="caps"&gt;LIN4&lt;/span&gt;&amp;#8217;s:&lt;/p&gt;
&lt;p&gt;&lt;img alt="10-75 intersection bracket" src="/GFX/TruckConsole/DSC_0066_small.JPG" /&gt;&lt;/p&gt;
&lt;p&gt;SirenNet 100W speakers behind front&amp;nbsp;bumper:&lt;/p&gt;
&lt;p&gt;&lt;img alt="speakers in front bumper" src="/GFX/TruckConsole/DSC_0068_small.JPG" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Coming&amp;nbsp;next:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;4x (!!!) blue Whelen 500 Linear Super &lt;span class="caps"&gt;LED&lt;/span&gt;&amp;#8217;s in front grill, mounted
    with chrome&amp;nbsp;flanges.&lt;/li&gt;
&lt;li&gt;B/B &lt;span class="caps"&gt;LIN4&lt;/span&gt;&amp;#8217;s on front running board&amp;nbsp;mounts.&lt;/li&gt;
&lt;li&gt;Blue &lt;span class="caps"&gt;LIN3&lt;/span&gt;&amp;#8217;s on rear license plate&amp;nbsp;bracket.&lt;/li&gt;
&lt;li&gt;Some sort of lights in the rear window - if I can afford it,
    blue/amber Whelen 400 Linear&amp;#8217;s (6-over-6) independently&amp;nbsp;switched.&lt;/li&gt;
&lt;li&gt;Icom F5061 &lt;span class="caps"&gt;VHF&lt;/span&gt;&amp;nbsp;mobile.&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;VHF&lt;/span&gt; antenna, either roof mount or mounted in a &lt;a href="http://www.geotool.com/antmount.htm"&gt;stake
    pocket&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</summary><category term="console"></category><category term="emergency"></category><category term="emergency vehicle"></category><category term="EMS"></category><category term="lighting"></category><category term="truck"></category></entry><entry><title>Custom truck console</title><link href="http://blog.jasonantman.com/2009/02/custom-truck-console/" rel="alternate"></link><updated>2009-02-03T10:35:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-02-03:2009/02/custom-truck-console/</id><summary type="html">&lt;p&gt;I&amp;#8217;ll keep this post relatively to the point (the original full story is
on &lt;a href="http://www.elightbars.org"&gt;eLightbars.org&lt;/a&gt;
&lt;a href="http://www.elightbars.org/bb//topic401009.html"&gt;here&lt;/a&gt; and
&lt;a href="http://www.elightbars.org/bb/post59822.html"&gt;here&lt;/a&gt;). My 2006 Ford F-250
&lt;span class="caps"&gt;CC&lt;/span&gt; &lt;span class="caps"&gt;XLT&lt;/span&gt; was stolen in September, 2008. It was recovered about a month
later, after Geico said they&amp;#8217;d pay out, and after I&amp;#8217;d bought another
vehicle. Anyway, it came back from the body shop about 2 months later,
and it was time to begin customizing it again. The main parts of the
project were wiring and installation and building a custom&amp;nbsp;console&amp;#8230;&lt;/p&gt;
&lt;p&gt;My main inspiration was some of the custom consoles done by places like
&lt;a href="http://www.odysseyauto.com/"&gt;Odyssey&lt;/a&gt;, though I wanted something
carpeted (hopefully a close match to the factory interior). The main
idea I was working off of was this one from&amp;nbsp;Odyssey:  &lt;/p&gt;
&lt;p&gt;&lt;img alt="Odyssey Excursion
console" src="http://www.odysseyauto.com/cabinets/Images/cabpics/excurcon-lg.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;The general idea was to have a replacement for the factory console which
would allow mounting of a radio, emergency lighting controls, and a few
other things while not sacrificing storage space. The specific
requirements that I came up with&amp;nbsp;included:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Mount over the transmission hump more or less where the factory
    console is, forward to the&amp;nbsp;dash.&lt;/li&gt;
&lt;li&gt;Allow access to the pull-out cupholders in the dash and not impede
    access to any&amp;nbsp;controls.&lt;/li&gt;
&lt;li&gt;Fasten to the floor using only the four factory console&amp;nbsp;bolts.&lt;/li&gt;
&lt;li&gt;Allow mounting of at least one radio, one switch box, &lt;span class="caps"&gt;GPS&lt;/span&gt; and&amp;nbsp;scanner.&lt;/li&gt;
&lt;li&gt;Radio and switch box should be mounted using the &lt;a href="http://www.jottodesk.com/"&gt;Jotto
    Desk&lt;/a&gt; faceplates that I had from the &lt;span class="caps"&gt;CVPI&lt;/span&gt;&amp;nbsp;console.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;The real clincher that prevented me from using a stock console:&lt;/em&gt; Have a large storage
    compartment comparable to the factory&amp;nbsp;console.&lt;/li&gt;
&lt;li&gt;Provide a set of rear&amp;nbsp;cupholders.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I spent some time over the course of three days or so measuring the
console area of the truck and drawing out my initial plan in &lt;span class="caps"&gt;CAD&lt;/span&gt;
(specifically the demo version of &lt;a href="http://www.qcad.org/qcad.html"&gt;&lt;span class="caps"&gt;QCAD&lt;/span&gt;&lt;/a&gt;
for Linux - regrettably not Free software). Once I had the plans drawn
up and was satisfied that the angles and measurements were within
acceptable tolerance, I made a full-scale prototype out of foam core
board. With a little shaving of the corners, I managed to get a
relatively good form and transferred it to ½&amp;#8221; cabinet-grade luan
plywood. It was a bit difficult with only a jigsaw, but worked out
relatively well. While I can&amp;#8217;t seem to find any pictures of the foam
core, here are some of the wood form being assembled and the test fit in
the&amp;nbsp;truck:&lt;/p&gt;
&lt;p&gt;&lt;img alt="first assembly and test of console" src="/GFX/TruckConsole/console2-small.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="first assembly and test of console" src="/GFX/TruckConsole/console1-small.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="first assembly and test of console" src="/GFX/TruckConsole/console3-small.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;I&amp;#8217;d originally been a bit worried about the structural integrity, but I
found that by clamping the corners, pre-drilling and securing them with
aggressive wood screws at approximately 1 screw per 1.5 inches along the
joints, the plywood held together&amp;nbsp;fine.&lt;/p&gt;
&lt;p&gt;After testing the fit and checking that the four factory bolt holes
lined up correctly (which they did, and also held the console quite
securely), I pulled it back out and started the process of carpeting it.
I bought 2 yards (76 x 72 inch) of color #8078 &amp;#8220;Dark Grey/Quartz&amp;#8221; plush
cut pile automotive carpet from
&lt;a href="http://www.stockinteriors.com/"&gt;StockInteriors.com&lt;/a&gt;, for about $80 with
shipping. It turns out that the color isn&amp;#8217;t an exact match to the
factory carpet (I got 6 sample squares from them and this was the
closest color) but it&amp;#8217;s a good medium between the carpet and&amp;nbsp;upholstery.&lt;/p&gt;
&lt;p&gt;Planning for how to cover this wooden behemoth with carpet took quite a
few hours, and short of making it into a week-long job of sewing, I
decided to wrap the sides and back with one piece, folded over on the
bottom and top edges of the storage box, then use separate pieces for
the top of the console and the front (which would be adjacent to the
dash and mostly hidden from view). I started off with a plan to use &lt;a href="http://solutions.3m.com/wps/portal/3M/en_US/3M-Super-77/Super77/SprayAdhesive/"&gt;3M
Super
90&lt;/a&gt;
spray adhesive, on the advice of an &lt;a href="http://www.elightbars.org"&gt;&lt;span class="caps"&gt;ELB&lt;/span&gt;&lt;/a&gt;
member. Unfortunately, I could only find &lt;a href="http://solutions.3m.com/wps/portal/3M/en_US/3M-Super-77/Super77/SprayAdhesive/"&gt;Super
77&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Prior to carpeting, I had to get the equipment mounting openings down to
about 8.5&amp;#8221; for the 8.75&amp;#8221; Jotto faceplates. I cut some excess luan
plywood down into 2&amp;#8221; wide strips and then cut them to length for the
openings, sandwiching about three together with &lt;a href="http://www.liquidnails.com/products/product.jsp?productId=42"&gt;Liquid
Nails&lt;/a&gt; and
then mounted them vertically on the sides of the&amp;nbsp;console.&lt;/p&gt;
&lt;p&gt;Carpeting the console at 2 &lt;span class="caps"&gt;AM&lt;/span&gt; probably wasn&amp;#8217;t the best idea. I looked at
how the cut edges of the carpet would meet and the corners, and decided
I&amp;#8217;d need some sort of edge molding to make it look good - preferably
black powder coated aluminum, somewhere around ½&amp;#8221; legs. As such, I
decided to forgo most of the glue and stapled the carpet at the edges,
planning to cover it with molding. Ok, I lose a few points for that one.
The last thing to go on was the carpet on the front and top, which I
glued with Super 77 and also stapled on the front (where it can&amp;#8217;t be
seen). I cut X-shapes in the mounting areas and folded the carpet down,
stapling it to the inside of the console, and cut a slit in the front
for wiring. The glue didn&amp;#8217;t seem to hold on the narrow parts of the
top/mounting area, but once faceplates were screwed in it was fine. The
faceplates are just held in with screws into the vertical wood strips
placed on the sides of the&amp;nbsp;opening.&lt;/p&gt;
&lt;p&gt;Top view of the console, mounted in place, with the unfinished storage&amp;nbsp;box.&lt;/p&gt;
&lt;p&gt;&lt;img alt="top view of console" src="/GFX/TruckConsole/DSC_0040_small.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;Equipment mounting&amp;nbsp;area:&lt;/p&gt;
&lt;p&gt;&lt;img alt="console equipment mounting area" src="/GFX/TruckConsole/DSC_0041_small.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;View from the driver&amp;#8217;s&amp;nbsp;seat:&lt;/p&gt;
&lt;p&gt;&lt;img alt="view from drivers seat" src="/GFX/TruckConsole/DSC_0042_small.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;Factory cupholders extended with just enough clearance to&amp;nbsp;work:&lt;/p&gt;
&lt;p&gt;&lt;img alt="factory cupholders open, barely" src="/GFX/TruckConsole/DSC_0045_small.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;Staples around the edges, intended to be covered with molding. They&amp;#8217;re
really not that visible unless you make a point of looking at them
(given their placement). Red handle is a 100A cutoff for the main
battery lead, with a removable&amp;nbsp;handle.&lt;/p&gt;
&lt;p&gt;&lt;img alt="staples around edges and battery cutoff switch" src="/GFX/TruckConsole/DSC_0046_small.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;The weekend after console fabrication, I started wiring. Here&amp;#8217;s the
relevant parts involving the&amp;nbsp;console.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Semi-finished console with equipment mounted. Front-to back,
&lt;a href="http://www.ram-mount.com/"&gt;&lt;span class="caps"&gt;RAM&lt;/span&gt;&lt;/a&gt; magnet mount for &lt;span class="caps"&gt;GPS&lt;/span&gt;, Radio Shack
&lt;a href="http://wiki.radioreference.com/index.php/Pro-433"&gt;Pro-433&lt;/a&gt;, Galls
&lt;a href="http://www.galls.com/style.html?assort=general_catalog&amp;amp;style=SE082"&gt;&lt;span class="caps"&gt;SE082&lt;/span&gt;&lt;/a&gt;,
nifty Jotto storage&amp;nbsp;tray.&lt;/p&gt;
&lt;p&gt;&lt;img alt="equipment in mounted
position" src="/GFX/TruckConsole/DSC_0059_small.JPG" /&gt;&lt;/p&gt;
&lt;p&gt;Wire routing in loom from the console to under the dash
&lt;img alt="main wiring
runs" src="/GFX/TruckConsole/DSC_0063_small.JPG" /&gt;&lt;/p&gt;
&lt;p&gt;Rear of console - Jotto cupholder and charger for &lt;a href="http://www.streamlight.com/product/product.aspx?pid=7"&gt;Streamlight Stinger
75014&lt;/a&gt;
&lt;img alt="rear of
console" src="/GFX/TruckConsole/DSC_0064_small.JPG" /&gt;&lt;/p&gt;
&lt;p&gt;Still to be&amp;nbsp;done:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Most of the wiring and&amp;nbsp;installation.&lt;/li&gt;
&lt;li&gt;Lining the storage box with something, probably toolbox drawer&amp;nbsp;liner.&lt;/li&gt;
&lt;li&gt;Making a cover/lid for the storage&amp;nbsp;box.&lt;/li&gt;
&lt;/ul&gt;</summary><category term="console"></category><category term="emergency"></category><category term="emergency vehicle"></category><category term="EMS"></category><category term="lighting"></category><category term="truck"></category></entry><entry><title>Wordpress Installation, Finished</title><link href="http://blog.jasonantman.com/2009/02/wordpress-installation-finished/" rel="alternate"></link><updated>2009-02-03T10:13:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2009-02-03:2009/02/wordpress-installation-finished/</id><summary type="html">&lt;p&gt;Found this from a month and a half ago, waiting as a&amp;nbsp;draft:&lt;/p&gt;
&lt;p&gt;So, I mostly finished the WordPress installation. I got everything for
WordPress up and running, tested my Blogger &lt;span class="caps"&gt;URL&lt;/span&gt; redirection script and
then switched over my subdomain&amp;nbsp;redirection.&lt;/p&gt;
&lt;p&gt;The blogger redirection takes two parts, but is in fact quite simple.
First, I went into the directory where the Blogger content had lived -
&lt;code&gt;/srv/www/htdocs/blog&lt;/code&gt; and moved everything in there into another
directory, out of the way. I then created a .htaccess in the directory&amp;nbsp;like:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="nt"&gt;&amp;lt;IfModule&lt;/span&gt; &lt;span class="s"&gt;mod_rewrite.c&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="nb"&gt;RewriteEngine&lt;/span&gt; &lt;span class="k"&gt;On&lt;/span&gt;
&lt;span class="nb"&gt;RewriteBase&lt;/span&gt; &lt;span class="sx"&gt;/blog/&lt;/span&gt;
&lt;span class="nb"&gt;RewriteCond&lt;/span&gt; %{REQUEST_FILENAME} !-f
&lt;span class="nb"&gt;RewriteCond&lt;/span&gt; %{REQUEST_FILENAME} !-d
&lt;span class="nb"&gt;RewriteRule&lt;/span&gt; .* index.php [L]
&lt;span class="nt"&gt;&amp;lt;/IfModule&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;All this does is used mod_rewrite to serve blog/index.php up for every
page request. In index.php, I handle the important &lt;span class="caps"&gt;URL&lt;/span&gt; forms for Blogger
- archives, tags, feeds, and posts - and redirect to the appropriate
place. For archives, I just parse out the year and month from the
Blogger &lt;span class="caps"&gt;URL&lt;/span&gt; and redirect to the proper page for &lt;span class="caps"&gt;WP&lt;/span&gt;. The feed is straight
redirection. The tags (&amp;#8220;labels&amp;#8221; in Blogger parlance) are pulled out of
the &lt;span class="caps"&gt;URL&lt;/span&gt;, have spaces (after &lt;code&gt;urldecode()&lt;/code&gt;) replaced with dashes and are
redirected to the right tag for&amp;nbsp;&lt;span class="caps"&gt;WP&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;The posts, on the other hand, were a bit more difficult. My solution
ended up being parsing the post name out of the &lt;span class="caps"&gt;URL&lt;/span&gt;. When I used the
import tool, &lt;span class="caps"&gt;WP&lt;/span&gt; kept the original Blogger URLs in the &lt;code&gt;wp_postmeta&lt;/code&gt;
table with a &lt;code&gt;meta_key&lt;/code&gt; of &amp;#8220;blogger_permalink&amp;#8221;. I just looked for a
Blogger permalink matching the title from the Blogger &lt;span class="caps"&gt;URL&lt;/span&gt;, found the
corresponding post &lt;span class="caps"&gt;ID&lt;/span&gt; and redirected to the proper new &lt;span class="caps"&gt;WP&lt;/span&gt;&amp;nbsp;&lt;span class="caps"&gt;URL&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;The code for index.php, for me, looks something&amp;nbsp;like:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="cp"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class="c1"&gt;// redirect old Blogger URLs in /blog to new WordPress in /wp&lt;/span&gt;
&lt;span class="nv"&gt;$request&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;mysql_real_escape_string&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;str_replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/blog&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$_SERVER&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;REQUEST_URI&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]));&lt;/span&gt;

&lt;span class="c1"&gt;// handle constant stuff like feeds and top-level pages&lt;/span&gt;
&lt;span class="c1"&gt;// &lt;span class="caps"&gt;TODO&lt;/span&gt;&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;strpos&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;_archive.html&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;// redirect to an archive&lt;/span&gt;
    &lt;span class="nv"&gt;$request&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;substr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;strpos&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="nv"&gt;$ary&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;explode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;_&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$request&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="nv"&gt;$redirect_to&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;http://blog.jasonantman.com/&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$ary&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$ary&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="nx"&gt;header&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Location: &amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$redirect_to&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;die&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;elseif&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;strpos&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;labels/&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;// redirect to a tag page&lt;/span&gt;
    &lt;span class="nv"&gt;$redirect_to&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;substr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;strpos&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;labels/&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="nv"&gt;$redirect_to&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;str_replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;.html&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$redirect_to&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="nv"&gt;$redirect_to&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;urldecode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$redirect_to&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="nv"&gt;$redirect_to&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;str_replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot; &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;-&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$redirect_to&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="nv"&gt;$redirect_to&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;http://blog.jasonantman.com/tags/&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;strtolower&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$redirect_to&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="nx"&gt;header&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Location: &amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$redirect_to&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;die&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;elseif&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;strpos&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;/blogger.html&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;// redirect to main blog&lt;/span&gt;
    &lt;span class="nx"&gt;header&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Location: http://blog.jasonantman.com/&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;die&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;elseif&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;strpos&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;/atom.xml&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;// redirect to new feed&lt;/span&gt;
    &lt;span class="nx"&gt;header&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Location: http://blog.jasonantman.com/feed/&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;die&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="c1"&gt;// handle the posts, months, tags, etc.&lt;/span&gt;
&lt;span class="nv"&gt;$fail&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;false&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="nv"&gt;$redirect_to&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="nv"&gt;$conn&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;mysql_connect&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;   &lt;span class="k"&gt;or&lt;/span&gt; &lt;span class="k"&gt;die&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Error. MySQL connection failed at mysql_connect&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="nv"&gt;$conn&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nb"&gt;error_log&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;span class="caps"&gt;SCRIPT&lt;/span&gt; &amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$_SERVER&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;PHP_SELF&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;: &amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Unable to connect to MySQL.&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="nv"&gt;$fail&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;true&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="nv"&gt;$select&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;mysql_select_db&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;wordpress&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="nv"&gt;$select&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nb"&gt;error_log&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;span class="caps"&gt;SCRIPT&lt;/span&gt; &amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$_SERVER&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;PHP_SELF&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;: &amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Unable to select &lt;span class="caps"&gt;DB&lt;/span&gt; wordpress.&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="nv"&gt;$fail&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;true&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="nv"&gt;$query&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;span class="caps"&gt;SELECT&lt;/span&gt; m.meta_key,m.meta_value,p.post_name,p.post_date &lt;span class="caps"&gt;FROM&lt;/span&gt; wp_postmeta &lt;span class="caps"&gt;AS&lt;/span&gt; m &lt;span class="caps"&gt;LEFT&lt;/span&gt; &lt;span class="caps"&gt;JOIN&lt;/span&gt; wp_posts &lt;span class="caps"&gt;AS&lt;/span&gt; p &lt;span class="caps"&gt;ON&lt;/span&gt; m.post_id=p.&lt;span class="caps"&gt;ID&lt;/span&gt; &lt;span class="caps"&gt;WHERE&lt;/span&gt; m.meta_key=&amp;#39;blogger_permalink&amp;#39; &lt;span class="caps"&gt;AND&lt;/span&gt; m.meta_value=&amp;#39;&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$request&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;#39;;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="nv"&gt;$result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;mysql_query&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$query&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="nv"&gt;$result&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nb"&gt;error_log&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;span class="caps"&gt;SCRIPT&lt;/span&gt; &amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$_SERVER&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;PHP_SELF&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;: &amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Error in query: &amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$query&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot; &lt;span class="caps"&gt;ERROR&lt;/span&gt;: &amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;mysql_error&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;
    &lt;span class="nv"&gt;$fail&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;true&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;mysql_num_rows&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$result&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;// couldn&amp;#39;t find an appropriate page&lt;/span&gt;
    &lt;span class="c1"&gt;// &lt;span class="caps"&gt;TODO&lt;/span&gt;: find a better way... for now just redirect to the month page&lt;/span&gt;
    &lt;span class="nv"&gt;$ary&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;explode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$request&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;count&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$ary&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="nv"&gt;$redirect_to&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;http://blog.jasonantman.com/&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$ary&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$ary&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="nv"&gt;$redirect_to&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;http://blog.jasonantman.com/&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;else&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nv"&gt;$row&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;mysql_fetch_assoc&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$result&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="nv"&gt;$redirect_to&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;http://blog.jasonantman.com/&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;date&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Y&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;strtotime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$row&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;post_date&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;date&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;m&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;strtotime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$row&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;post_date&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$row&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;post_name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$fail&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;// redirect to main page with 302&lt;/span&gt;
    &lt;span class="nx"&gt;Header&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Location: http://blog.jasonantman.com/&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;);&lt;/span&gt; &lt;span class="c1"&gt;// implicit 302&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;else&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;// redirect to the post or month&lt;/span&gt;
    &lt;span class="nx"&gt;Header&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;span class="caps"&gt;HTTP&lt;/span&gt;/1.1 301 Moved Permanently&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="nx"&gt;Header&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Location: &amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$redirect_to&lt;/span&gt; &lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="cp"&gt;?&amp;gt;&lt;/span&gt;&lt;span class="x"&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;So, it now looks like I&amp;#8217;m pretty much done with setup, and even get to
keep my links. The one interesting problem that will crop up is due to
the fact that, at the moment, I&amp;#8217;m hosting off of a dynamically IPed
residential internet connection, so I&amp;#8217;m at
&lt;code&gt;http://jantman.dyndns.org:10011&lt;/code&gt;. The problem lies in the fact that
Blogger used this for its&amp;#8217; URIs and Permalinks, and it seems that
(though &lt;code&gt;http://blog.jasonantman.com&lt;/code&gt; uses a 302 not a 301 to redirect)
Google, Technorati, etc. have indexed my site with this hostname and
port, instead of the redirecting subdomain. Normally this wouldn&amp;#8217;t be a
problem, but I plan on soon moving to a business hosting account with 5
static IPs and port 80 open. Which means that soon the subdomain will
become &amp;#8220;real&amp;#8221;&amp;#8230; and all of those pesky dyndns.org:10011 links will be
obsolete. The only way I can think of fixing this is, once I make the
switch to static &lt;span class="caps"&gt;IP&lt;/span&gt; and port 80 (which will also include moving all of
my subdomains to name-based virtual hosts) I&amp;#8217;ll have to craft
RewriteRules or redirect rules to replace
&lt;code&gt;http://jantman.dyndns.org:10011/wp/&lt;/code&gt; with
&lt;code&gt;http://blog.jasonantman.com/&lt;/code&gt;, update DynDNS with my new static &lt;span class="caps"&gt;IP&lt;/span&gt;, and
keep a default vhost listening on 10011 to provide rule-based
redirection to the new subdomain.&amp;nbsp;Eek.&lt;/p&gt;</summary><category term="apache"></category><category term="blogger"></category><category term="dynamic IP"></category><category term="wordpress"></category></entry><entry><title>Verizon Wireless uses Mantis for ticketing</title><link href="http://blog.jasonantman.com/2008/12/verizon-wireless-uses-mantis-for-ticketing/" rel="alternate"></link><updated>2008-12-17T16:44:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-12-17:2008/12/verizon-wireless-uses-mantis-for-ticketing/</id><summary type="html">&lt;p&gt;Many times, I&amp;#8217;ve wished that I paid the $20 to get software for my &lt;a href="http://www.palm.com/us/products/smartphones/treo700p/"&gt;Treo
700p&lt;/a&gt; to record
phone calls. About a month or two ago, I had some issues with my phone
and had to call Verizon Wireless. The poor woman was trying to open a
ticket for me, but said that she was having some problems, as they were
moving from one ticketing system to another, she was having some issues
with the new one, and the old one was down at her&amp;nbsp;location.&lt;/p&gt;
&lt;p&gt;As she waited for a rep from another location to come on the line and
enter the ticket, I happened to remark that I work in &lt;span class="caps"&gt;IT&lt;/span&gt; and had been
doing some work with them (&lt;a href="http://eventum.mysql.com"&gt;Eventum&lt;/a&gt;) lately.
She mentioned that the old one was a proprietary system, but asked if
I&amp;#8217;d ever heard of &lt;a href="http://www.mantisbt.org/"&gt;Mantis&lt;/a&gt;. Of course, I said
that I had. And was then asked if I knew much about it, and whether I
might know what the problem she was having was caused by. Unfortunately,
I had to say no, as I&amp;#8217;d never used it for more than a few minutes. But I
did get to confirm that a company as large and closed (they won&amp;#8217;t
support Linux, their phones run closed &lt;span class="caps"&gt;OS&lt;/span&gt;&amp;#8217;s, and they block my port 80)
as Verizon is happily transitioning from closed-source proprietary
software to a &lt;span class="caps"&gt;GPL&lt;/span&gt;&amp;#8217;d alternative. I also got another item to add to my
list of telephone tech support people who have asked me (the customer)
for&amp;nbsp;support.&lt;/p&gt;
&lt;p&gt;Unfortunately, I don&amp;#8217;t see Verizon listed on the list of &lt;a href="http://www.mantisbt.org/directory.php"&gt;known Mantis
users&lt;/a&gt;, so I have no way to fully
confirm&amp;nbsp;this.&lt;/p&gt;</summary><category term="mantis"></category><category term="ticketing"></category><category term="verizon"></category></entry><entry><title>WordPress… Finally!</title><link href="http://blog.jasonantman.com/2008/12/wordpress-finally/" rel="alternate"></link><updated>2008-12-17T15:58:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-12-17:2008/12/wordpress-finally/</id><summary type="html">&lt;p&gt;Well, I finally bit the bullet. I woke up this morning, got in to work
(slow day) and said to myself, &amp;#8220;My blog&amp;#8217;s finally moving to WordPress.
Today.&amp;#8221; So, I read through the docs (really psyched about the Blogger
import feature), downloaded 2.7 (latest), setup the &lt;span class="caps"&gt;DB&lt;/span&gt; and installed
away. Once I did the preliminary things like changing the admin password
and setting up some categories, I set about importing from&amp;nbsp;Blogger.&lt;/p&gt;
&lt;p&gt;Here was the first of the major issues. Though WordPress has really
hyped their Blogger importer, they failed to mention that it is totally
useless if you are self-hosting Blogger and publishing via &lt;span class="caps"&gt;FTP&lt;/span&gt; or &lt;span class="caps"&gt;SFTP&lt;/span&gt;,
as I was. So, after a lengthy consultation with the great oracle of
Google, I dedided I had two options - switch Blogger to publish to
BlogSpot.com and use the &lt;span class="caps"&gt;WP&lt;/span&gt; import tool, or custom hack a script. I must
admit, it felt a bit pointless&amp;#8230; all of my old posts were in a directry
at the same level as &lt;span class="caps"&gt;WP&lt;/span&gt;, it seemed quite stupid to have to jump through
hoops to get that data. Though I&amp;#8217;m not quite sure whether the GData &lt;span class="caps"&gt;API&lt;/span&gt;
really doesn&amp;#8217;t give access to posts if&amp;nbsp;self-hosted.&lt;/p&gt;
&lt;p&gt;I migrated publishing of Blogger to BlogSpot.com
(&lt;a href="http://www.jasonantman.com/jargon/entry.php?id=metasyntactic-variable"&gt;foobarthudgrunt&lt;/a&gt;.blogspot.com),
despite worries about confusing Google or messing up the little bit of
ranking I&amp;#8217;ve been able to gain. It successfully imported all 128 of my
entries, and the few comments. But, as I navigated to the &amp;#8220;Edit&amp;#8221; page to
have a look, an even bigger problem was apparent. All of the tags from
Blogger had ended up as categories in &lt;span class="caps"&gt;WP&lt;/span&gt;. So I had no tags for any of my
posts, and a gazillion categories with only one post in them. Luckily,
the &lt;span class="caps"&gt;DB&lt;/span&gt; schema is pretty sane, and I qickly figured out that both
categories and tags are stored in the &lt;code&gt;wp_term_taxonomy&lt;/code&gt; table, and the
difference between a category and a tag is simply that the &lt;code&gt;taxonomy&lt;/code&gt;
field is either &amp;#8220;category&amp;#8221; or &amp;#8220;post_tag&amp;#8221;, respectively. So, since I
hadn&amp;#8217;t added any posts in &lt;span class="caps"&gt;WP&lt;/span&gt; yet, I just changed &lt;code&gt;taxonomy&lt;/code&gt; to
&amp;#8220;post_tag&amp;#8221; for anything with an &lt;span class="caps"&gt;ID&lt;/span&gt; past the categories I&amp;#8217;d added. And
it seems to have worked&amp;nbsp;beautifully.&lt;/p&gt;
&lt;p&gt;Up next, however, was the hard part: sitting down with my list of
categories and sifting through 128 posts to categorize them. The biggest
pain is the default edit posts table in the admin interface lists 15
posts per page, and with a cursory glance at the source I couldn&amp;#8217;t for
the life of me figure out where that limit is&amp;nbsp;set.&lt;/p&gt;
&lt;p&gt;Next up, I spent some time looking over the configuration options in &lt;span class="caps"&gt;WP&lt;/span&gt;,
updating my About page, and listing things to do in the future (more
static pages, blogroll and links,&amp;nbsp;etc.).&lt;/p&gt;
&lt;p&gt;I was finally ready to setup pretty URLs. And&amp;#8230; sure enough&amp;#8230; I
clicked &amp;#8220;submit&amp;#8221; to apply some changes to the default blog &lt;span class="caps"&gt;URL&lt;/span&gt; (my real
domain, as opposed to the DynDNS domain) and subtitle, and I got kicked
out of the admin interface. Try as I might, I had no luck logging in. I
then found that WordPress doesn&amp;#8217;t log anything anywhere - no MySQL log
and no error messages in the Apache error log. Wondeful. I spent about
an hour looking through the source, figuring out how the auth method
works, and trying to set an &lt;span class="caps"&gt;MD5&lt;/span&gt; password. It was obviously apparent that
the password in the &lt;span class="caps"&gt;DB&lt;/span&gt; for my one user (administrative user) was
generated by PHPass, not &lt;span class="caps"&gt;MD5&lt;/span&gt;, but the auth function was evaluating
anything &gt;= 32 characters as PHPass, and the &lt;span class="caps"&gt;MD5&lt;/span&gt; of my password was 32
characters, so that wouldn&amp;#8217;t work. I tried the &amp;#8220;forgot password&amp;#8221; link
with both username and email, but no mail was being sent. When I reached
the 2-1/2 hour mark, I started instrumenting the login code with some
&lt;code&gt;error_log()&lt;/code&gt; lines to see what was up. I narrowed the problem down to
the block of code starting at lin 48 in &lt;code&gt;wp-include/user.php&lt;/code&gt; -
specifically, according to the comments, no credentials were being
passed but the cookie wasn&amp;#8217;t set. And it&amp;#8217;s silent in that case. So, at
this point, I&amp;#8217;m totally lost. I decided to clear all of my browser&amp;#8217;s
cookies and auth info, and try again. No dice. After nearly 3 hours, I
decided to do a packet capture, and found the horribly simple reason.
Somewhere in the code, &lt;span class="caps"&gt;WP&lt;/span&gt; is evaluating the &amp;#8220;siteurl&amp;#8221; or &amp;#8220;home&amp;#8221; values
from wp_options, and using them instead of just doing relative links.
As a result, when the form submits, Apache keeps returning a 302, and
the form submission never makes it there. Hopefully this won&amp;#8217;t create a
problem when I transition from DynDNS to a real static &lt;span class="caps"&gt;IP&lt;/span&gt; and domain&amp;nbsp;name.&lt;/p&gt;
&lt;p&gt;Next I enabled pretty permalinks, enabled mod_rewrite in the vhost, and
selected a new template for my blog (though I&amp;#8217;m planning on doing some
heavy customization). I didn&amp;#8217;t want to leave the default template up for
too long, in case Google&amp;#8217;s heavy crawling of my site picked up all of
the new content somehow&amp;#8230; I ended up narrowing it down to three themes,
coincidentally all designed by
&lt;a href="http://wordpress.org/extend/themes/profile/mg12"&gt;mg12&lt;/a&gt;:
&lt;a href="http://wordpress.org/extend/themes/blocks2"&gt;Blocks2&lt;/a&gt;,
&lt;a href="http://wordpress.org/extend/themes/inove#post-668"&gt;iNove&lt;/a&gt; or
&lt;a href="http://wordpress.org/extend/themes/elegant-box"&gt;ElegantBox&lt;/a&gt;. I
installed them all on my box and looked at iNove first, and it was love
at first&amp;nbsp;sight.&lt;/p&gt;
&lt;p&gt;So, that&amp;#8217;s where it stands right now. I finally have my blog on
WordPress and running, and have a theme. The action plan for tonight&amp;nbsp;includes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Using RewriteRule and a &lt;span class="caps"&gt;PHP&lt;/span&gt; script to point all of the old Blogger
    URLs to the new WordPress&amp;nbsp;installation.&lt;/li&gt;
&lt;li&gt;Adding some new static content, and top-bar links to my other&amp;nbsp;sites.&lt;/li&gt;
&lt;li&gt;Refining the theme a bit,&amp;nbsp;possibly?&lt;/li&gt;
&lt;li&gt;Adding links to my sites, and to the&amp;nbsp;blogroll.&lt;/li&gt;
&lt;li&gt;Adding the buttons/plugins for del.icio.us, Digg, Slashdot, reddit,&amp;nbsp;etc.&lt;/li&gt;
&lt;li&gt;Redirecting my main blog page to&amp;nbsp;WordPress.&lt;/li&gt;
&lt;li&gt;Redirecting or linking my old feed locations to&amp;nbsp;WordPress.&lt;/li&gt;
&lt;/ul&gt;</summary><category term="blogger"></category><category term="blogging"></category><category term="PHP"></category><category term="wordpress"></category></entry><entry><title>Priorities</title><link href="http://blog.jasonantman.com/2008/11/priorities/" rel="alternate"></link><updated>2008-11-04T18:20:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-11-04:2008/11/priorities/</id><summary type="html">&lt;p&gt;Why is it that Rutgers cancels classes &lt;em&gt;hours&lt;/em&gt; before a football game,
and surely would if there were classes during Super Bowl times&amp;#8230; but
both of my classes were scheduled to meet on election&amp;nbsp;night???&lt;/p&gt;</summary><category term="election"></category><category term="politics"></category></entry><entry><title>Finally - CSS for Printing</title><link href="http://blog.jasonantman.com/2008/10/finally-css-for-printing/" rel="alternate"></link><updated>2008-10-27T17:55:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-10-27:2008/10/finally-css-for-printing/</id><summary type="html">&lt;p&gt;It seems like it&amp;#8217;s taken forever. I don&amp;#8217;t know how many times I&amp;#8217;ve
struggled with web apps that I wrote for the &lt;a href="http://www.midlandparkambulance.com"&gt;ambulance
corps&lt;/a&gt; to try and get printed
output correct. I&amp;#8217;ve done everything from generating PDFs, doing screen
captures of a browser and printing as a &lt;span class="caps"&gt;PDF&lt;/span&gt;, to things as crazy as
trying to print schedules directly from the server, where they&amp;#8217;re setup
as&amp;nbsp;postscript.&lt;/p&gt;
&lt;p&gt;I just happened to be going through my news in &lt;a href="http://reader.google.com"&gt;Google
Reader&lt;/a&gt; and found some interesting &lt;span class="caps"&gt;W3C&lt;/span&gt; draft
standards for &lt;a href="http://www.w3.org/TR/css-print/"&gt;&lt;span class="caps"&gt;CSS&lt;/span&gt; Print Profiles&lt;/a&gt; and
&lt;a href="http://www.w3.org/TR/css3-page/"&gt;&lt;span class="caps"&gt;CSS3&lt;/span&gt; Paged Media Module&lt;/a&gt;. &lt;em&gt;Finally&lt;/em&gt;,
after waiting for literally years, there will (from the way it looks) be
a way for me to specify, in &lt;span class="caps"&gt;CSS&lt;/span&gt;, the page size - and more importantly,
orientation - and have something print&amp;nbsp;correctly.&lt;/p&gt;
&lt;p&gt;Perhaps the end of me having to manually print ambulance corps rosters,
and then set the print settings back to landscape and 73% scaling for
the schedule, are finally going to be&amp;nbsp;over!&lt;/p&gt;
&lt;p&gt;C&amp;#8217;mon, Mozilla, I&amp;#8217;m counting on a quick implementation once they&amp;#8217;re&amp;nbsp;finalized.&lt;/p&gt;</summary><category term="css"></category><category term="printing"></category><category term="standards"></category><category term="w3c"></category></entry><entry><title>My biggest problem with Linux</title><link href="http://blog.jasonantman.com/2008/10/my-biggest-problem-with-linux/" rel="alternate"></link><updated>2008-10-27T15:27:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-10-27:2008/10/my-biggest-problem-with-linux/</id><summary type="html">&lt;p&gt;For one of my wonderful classes, Internet Security, I&amp;#8217;m doing a
presentation on &amp;#8220;patch management&amp;#8221;. While I&amp;#8217;m obligated to cover Windows
- and, of course, will talk about MacOS - I&amp;#8217;ll obviously be spending a
good deal of time on the Unix/Linux side of things. This has gotten me
thinking about one of my biggest problems with Linux (and specifically
&lt;a href="http://www.opensuse.org"&gt;OpenSuSE&lt;/a&gt;, my usual default distro. Patch
management is utterly&amp;nbsp;awful.&lt;/p&gt;
&lt;p&gt;Here&amp;#8217;s the problem: I have about a dozen machines under my control. I
need to keep them all up-to-date. Currently, I manually do patches and
upgrades via YaST or zypper. I thought about scripting this through
zypper, but that doesn&amp;#8217;t make any sense - the packages on the machines
are far from homogenous, so there&amp;#8217;s no clear way to make one script that
updates them all. I considered using Puppet or CFengine or something of
that sort, but that&amp;#8217;s too heavy-weight for me - for only a dozen
machines, many of which are personal or development only, that&amp;#8217;s a lot
to keep track of by hand, and a lot of work defining which patches
should be applied, and which machines shouldn&amp;#8217;t be&amp;nbsp;changed.&lt;/p&gt;
&lt;p&gt;My other peeve is distribution upgrades. About three of my machines are
still running OpenSuSE 10.0 or 10.1, both of which are unsupported, and
no longer even have downloads available. Why? Becuase I&amp;#8217;ve done major
OpenSuSE upgrades before, broken a &lt;span class="caps"&gt;LOT&lt;/span&gt; of stuff, and I simply can&amp;#8217;t risk
that on machines that can&amp;#8217;t stand extended downtime. This process
*needs* to be made easier. Bottom line - it should be made no more
difficult or unreliable than a kernel upgrade. &lt;span class="caps"&gt;IMHO&lt;/span&gt;, the biggest selling
point for Solaris is its&amp;#8217; ability to do a total upgrade to a second
partition, and switch-over at runtime. Why doesn&amp;#8217;t Linux (or SuSE) have
this&amp;nbsp;yet?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;What&amp;#8217;s my ideal solution?&lt;/em&gt; A curses application that uses text-file
backends (curses so I can run it over &lt;span class="caps"&gt;SSH&lt;/span&gt; even if I have a slow link or
high latency, like from a &lt;span class="caps"&gt;SSH&lt;/span&gt; session on my cell phone, if need be). The
app would allow me to list all of the machines I want managed. It would
connect to the machines over standard &lt;span class="caps"&gt;SSH&lt;/span&gt;, and would leave an extensive
audit trail of what&amp;#8217;s done, both on the management console and on the
machines (as well as running as a dedicated user). The application would
maintain an inventory of all of the packages on every machine. It would
check daily for new patches/updates to any of those packages, and e-mail
me a daily summary of what&amp;#8217;s new, including all dependency changes, and
which machines need the update. It would also allow me to define, on a
per-machine (or per-group-of-machines) basis, rules for packages that
must stay at their current version - i.e. I have a bunch of &lt;span class="caps"&gt;PHP4&lt;/span&gt; apps,
so machine X needs to stay at &lt;span class="caps"&gt;PHP4&lt;/span&gt;. The e-mail summary would include any
packages that aren&amp;#8217;t going to be updated for a specific machine because
of dependency/version rules, as well as warnings about any new packages
that have a dependency that has a rule set. I could then run the main
curses app on my admin machine and, starting from &lt;span class="caps"&gt;NO&lt;/span&gt; selections, select
which updates I want to apply and whether I want to ignore or create new
rules to keep something at its current version, on a per-machine or
per-group basis. This curses app would generate a file (&lt;span class="caps"&gt;XML&lt;/span&gt;?) of what to
do (which would also be generated or edited by hand, easily). The &lt;span class="caps"&gt;XML&lt;/span&gt;
file would then be fed into a script that downloads all of the needed
packages to a central (local) mirror (or, optionally, for remote
machines, has them download locally on the machine), checksums them, and
then installs them (running commands over &lt;span class="caps"&gt;SSH&lt;/span&gt;) on all applicable
machines. It would then keep a log of all changes, both on each machine
changed (in a master changelog file) and on the central administrative
machine. &lt;strong&gt;Most importantly&lt;/strong&gt;, the curses interface would have a simple,
quick way to back out any specific update or group of updates for all
machines, a group of machines, or one machine. All data needed to back
out a change would be kept on each machine (say, cleaned up at the next
update of that package and all of its&amp;#8217; dependencies) with
machine-readable instructions kept in a central file, allowing local
rollbacks - i.e. a machine goes down, I realize that it was because of
an update to package X, and on the local machine I can check the
changelog, see an entry like &amp;#8220;Package X updated 1.0.0 to 1.0.1 on
yyyy-mm-dd, Change &lt;span class="caps"&gt;ID&lt;/span&gt; 1234&amp;#8221; and then, to rollback, simply issue a
command like &amp;#8220;patchmgt rollback 1234&amp;#8221; on the effected&amp;nbsp;machine.&lt;/p&gt;
&lt;p&gt;Just some ideas, and a little&amp;nbsp;rant.&lt;/p&gt;</summary><category term="linux"></category><category term="patch management"></category><category term="solaris"></category><category term="updates"></category><category term="upgrades"></category></entry><entry><title>T-Mobile G1 (Googlephone) and VoIP?</title><link href="http://blog.jasonantman.com/2008/10/t-mobile-g1-googlephone-and-voip/" rel="alternate"></link><updated>2008-10-27T08:12:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-10-27:2008/10/t-mobile-g1-googlephone-and-voip/</id><summary type="html">&lt;p&gt;So&amp;#8230; what&amp;#8217;s the deal? Will anyone come out and definitively say what
the fate of VoIP&amp;nbsp;is?&lt;/p&gt;
&lt;p&gt;From what I&amp;#8217;ve read, there are two distinct&amp;nbsp;issues:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The ease of developing VoIP applications on Android, given the lack
    of a &lt;span class="caps"&gt;SIP&lt;/span&gt;&amp;nbsp;stack.&lt;/li&gt;
&lt;li&gt;T-Mobile&amp;#8217;s shunning of VoIP over their 3G&amp;nbsp;network.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Android&lt;/strong&gt; - obviously, if we want to see VoIP apps on the G1, Android
needs to support &lt;span class="caps"&gt;SIP&lt;/span&gt;. And the best way to do this is with real, native
&lt;span class="caps"&gt;OS&lt;/span&gt; support. Even if VoIP possibilities are limited to WiFi, still, it
would be nice to have &lt;span class="caps"&gt;SIP&lt;/span&gt; support and let my cell double as a WiFi VoIP
phone&amp;#8230; even if handoffs between APs are still nearly impossible. The
next question that begs to be asked is how well such a third-party app
can integrate with the phone. Will the user experience of receiving a
VoIP call be substantially similar to that of receiving a normal phone&amp;nbsp;call?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;T-Mobile 3G&lt;/strong&gt; - I&amp;#8217;ve read, so far, that T-Mobile &amp;#8220;does not support&amp;#8221;
VoIP over their 3G network. What&amp;#8217;s this whole &amp;#8220;does not support&amp;#8221; thing?
I&amp;#8217;m still a bit confused about how their 3G network works&amp;#8230; do they
actively block 3G, or just not enable it? If the latter, doe this mean
that other &amp;#8220;non-standard&amp;#8221; things, such as SSHing to a non-standard port,
won&amp;#8217;t work? Does this mean that there will be other heavy restrictions
on what types of data are sent over the&amp;nbsp;network?&lt;/p&gt;
&lt;p&gt;What about tunneling &lt;span class="caps"&gt;SIP&lt;/span&gt;/&lt;span class="caps"&gt;IAX&lt;/span&gt;/whatever else over &lt;span class="caps"&gt;SSH&lt;/span&gt;? Will the G1 be
capable of handling that at a relatively good&amp;nbsp;speed?&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ve read that the G1 &amp;#8220;can&amp;#8217;t&amp;#8221; be tethered. &lt;span class="caps"&gt;WTF&lt;/span&gt;? Firstly, what is this
&amp;#8220;can&amp;#8217;t&amp;#8221; thing? Couldn&amp;#8217;t a developer just write an app that&amp;#8217;s essentially
a proxy server, that proxies from some sort of &lt;span class="caps"&gt;USB&lt;/span&gt;-based wired
connection to&amp;nbsp;3G?&lt;/p&gt;
&lt;p&gt;Unfortunately, as has been written many times already, less than a week
from the G1&amp;#8217;s release, it seems that the &lt;strong&gt;openness&lt;/strong&gt; touted by Google
and T-Mobile is much less than that. With all their claims of openness,
I&amp;#8217;d expect a phone that will do anything - especially not be locked to
one carrier, given Google&amp;#8217;s history of opposing that (their bid for
700Mhz) - and a data plan that would allow anything over the air that my
home &lt;span class="caps"&gt;ISP&lt;/span&gt; will allow over the&amp;nbsp;wire.&lt;/p&gt;
&lt;p&gt;Google: Have you forsaken all of your stated ideals at the prospect of
making some cash off of a&amp;nbsp;phone?&lt;/p&gt;</summary><category term="cell"></category><category term="g1"></category><category term="google"></category><category term="phone"></category><category term="t-mobile"></category><category term="voip"></category></entry><entry><title>Update</title><link href="http://blog.jasonantman.com/2008/10/update-3/" rel="alternate"></link><updated>2008-10-24T12:50:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-10-24:2008/10/update-3/</id><summary type="html">&lt;p&gt;It&amp;#8217;s been a long month and a half or so. A bunch of new projects at work
(and interviewing for a full-time position) and lots of school stuff,
all on top of having my truck stolen, dealing with insurance and the
police, and then recovering it, and dealing with insurance again. It&amp;#8217;s a
long long story, which I posted as a Note on&amp;nbsp;facebook.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.php-ems-tools.com"&gt;&lt;span class="caps"&gt;PHP&lt;/span&gt; &lt;span class="caps"&gt;EMS&lt;/span&gt; Tools&lt;/a&gt; is due for a major
revision, and hopefully this will include, among other things, the
following new&amp;nbsp;features:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Support for &lt;a href="http://en.wikipedia.org/wiki/I18n"&gt;i18n&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Install-time choice of using MySQL or &lt;span class="caps"&gt;LDAP&lt;/span&gt; as a roster and
    authentication storage&amp;nbsp;system.&lt;/li&gt;
&lt;li&gt;Some vastly more efficient changes to the database schema,
    specifically dealing with&amp;nbsp;scheduling.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I&amp;#8217;m still working on some other big projects, namely the migration of
this blog to &lt;a href="http://wordpress.org/"&gt;WordPress&lt;/a&gt;, the migration of
&lt;a href="http://www.jasonantman.com"&gt;JasonAntman.com&lt;/a&gt; to some real &lt;span class="caps"&gt;CMS&lt;/span&gt; (Joomla,
Drupal, etc.), and migration of my home internet connection from
residential FiOS to &amp;#8220;business-grade&amp;#8221; Optimum Online (cable) - which will
probably see a slight decrease in reliability from the amazing levels of
FiOS, but will give me five static IPs and no ports&amp;nbsp;blocked.&lt;/p&gt;
&lt;p&gt;On the other hand, there&amp;#8217;s been a wrench thrown into all of my plans for
big projects (not even mentioning the projects that have been cast aside
- &lt;a href="http://www.tuctruck.org"&gt;TuxTruck&lt;/a&gt;,
&lt;a href="http://jantman.dyndns.org:10011/tuxostat/"&gt;tuxOstat&lt;/a&gt; which is now down,
and a bunch of others. That wrench is the &lt;a href="http://www.t-mobileg1.com/"&gt;T-Mobile
G1&lt;/a&gt;, the GooglePhone finally come to
fruition. I was psyched about Android when I first heard about it, and
the idea of finally having a phone that I can develop for without
learning a new language sounds amazing. I&amp;#8217;ll admit that at $180 with a
2-year contract, plus $80/month for service (split about 50/50 between
the voice plan and the unlimited data plan) it doesn&amp;#8217;t make the best
financial sense for someone whose car was stolen and now has 2 vehicles
- only one of which I can afford - but I&amp;#8217;m really excited. I&amp;#8217;ve heard
some not-so-good things about the quality of the &lt;span class="caps"&gt;GPS&lt;/span&gt;, and some of the
apps currently available, but within a few months, I&amp;#8217;d assume that the
effects of open development will cause it to greatly surpass the
functionality of my current Treo 700p, running my beloved Palm &lt;span class="caps"&gt;OS&lt;/span&gt; (which
I&amp;#8217;ve been dedicated to for the better part of seven&amp;nbsp;years).&lt;/p&gt;
&lt;p&gt;While the all-around flexibility of Android and its&amp;#8217; apps is definitely
one of the biggest selling points, my own interest is mainly in the
ability to quickly develop Java apps that bring my already-existing
web-based forms and data to the desktop of my phone. It&amp;#8217;s the simplicity
that is my biggest interest - even for simple purposes, like converting
the web-based fuel log I keep for my car(s) to a dedicated Java-based
form on my&amp;nbsp;phone.&lt;/p&gt;
&lt;p&gt;Stay&amp;nbsp;tuned&amp;#8230;&lt;/p&gt;</summary><category term="android"></category><category term="g1"></category><category term="google"></category></entry><entry><title>Interesting Links for 2008-10-22</title><link href="http://blog.jasonantman.com/2008/10/interesting-links-for-2008-10-22/" rel="alternate"></link><updated>2008-10-23T05:00:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-10-23:2008/10/interesting-links-for-2008-10-22/</id><summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href="http://saintaardvarkthecarpeted.com/blog/2008-10/thing_i_should_have_already_known_46394.html"&gt;the life of a&amp;nbsp;sysadmin.&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.makeuseof.com/tag/9-must-have-openoffice-extensions/"&gt;9 Must-Have OpenOffice Extensions |&amp;nbsp;MakeUseOf.com&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://blogs.techrepublic.com.com/security/?p=630"&gt;5 characteristics of security policy I can trust | &lt;span class="caps"&gt;IT&lt;/span&gt; Security |&amp;nbsp;TechRepublic.com&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>Interesting Links for 2008-10-21</title><link href="http://blog.jasonantman.com/2008/10/interesting-links-for-2008-10-21/" rel="alternate"></link><updated>2008-10-22T05:00:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-10-22:2008/10/interesting-links-for-2008-10-21/</id><summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href="http://news.cnet.com/8301-13860_3-10068367-56.html?tag=mncol;txt"&gt;Microsoft: We&amp;#8217;re all &amp;#8216;mixed source&amp;#8217; companies | Beyond Binary - A
    blog by Ina Fried - &lt;span class="caps"&gt;CNET&lt;/span&gt;&amp;nbsp;News&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://news.cnet.com/8301-13505_3-10070008-16.html?part=rss"&gt;The dying embers of Microsoft&amp;#8217;s &lt;span class="caps"&gt;IP&lt;/span&gt; claims against open source | The
    Open Road - The Business and Politics of Open Source by Matt Asay -
    &lt;span class="caps"&gt;CNET&lt;/span&gt;&amp;nbsp;News&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.villagetelco.org/"&gt;Village&amp;nbsp;Telco&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.rowetel.com/ucasterisk/index.html"&gt;http://www.rowetel.com/ucasterisk/index.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.rowetel.com/ucasterisk/4fx.html"&gt;4fx, fxomod, and fxsmod&amp;nbsp;Designs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.rowetel.com/blog/?p=26"&gt;Beer, Coffee, and a little &lt;span class="caps"&gt;DSP&lt;/span&gt; » Blog Archive » A $10&amp;nbsp;&lt;span class="caps"&gt;ATA&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.wired.com/techbiz/startups/magazine/16-11/ff_openmanufacturing?currentPage=all"&gt;Build It. Share It. Profit. Can Open Source Hardware&amp;nbsp;Work?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://yro.slashdot.org/article.pl?sid=08/10/21/1422247&amp;amp;from=rss"&gt;Slashdot | Microsoft Calls Today Global Anti-Piracy&amp;nbsp;Day&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.maximumpc.com/article/features/hardcorepc_reactor"&gt;Exclusive: Oil Immersion Cooling Goes Mainstream with Hardcore &lt;span class="caps"&gt;PC&lt;/span&gt;&amp;#8217;s
    Reactor | Maximum&amp;nbsp;&lt;span class="caps"&gt;PC&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://catless.ncl.ac.uk/Risks/25.40.html#subj8"&gt;The Risks Digest Volume 25: Issue&amp;nbsp;40&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://catless.ncl.ac.uk/Risks/25.40.html#subj4"&gt;The Risks Digest Volume 25: Issue&amp;nbsp;40&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>LinuxJournal - NetBooks</title><link href="http://blog.jasonantman.com/2008/09/linuxjournal-netbooks/" rel="alternate"></link><updated>2008-09-19T13:28:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-09-19:2008/09/linuxjournal-netbooks/</id><summary type="html">&lt;p&gt;Shawn Powers wrote an interesting article on &lt;span class="caps"&gt;LJ&lt;/span&gt;, &lt;a href="http://www.linuxjournal.com/content/where-do-you-send-netbook-users-help-0"&gt;Where Do &lt;span class="caps"&gt;YOU&lt;/span&gt; Send
NetBook Users For
Help?&lt;/a&gt;,
which speaks about the myriad different distributions used on NetBooks
(like the &lt;a href="http://eee.asus.com"&gt;eeePC&lt;/a&gt; and its&amp;#8217; brethren), many of which
are significantly different from the usual mainstream&amp;nbsp;distros.&lt;/p&gt;
&lt;p&gt;My&amp;nbsp;comment:&lt;/p&gt;
&lt;p&gt;From a vendor&amp;#8217;s point of view, it probably seems a good idea. However,
there are two major problems that I see in it. Firstly, while there
aren&amp;#8217;t a gigantic number of people that can give aid with Linux, there
are quite a few - especially in one of the hottest areas (that I&amp;#8217;ve
seen) for the eeePC, colleges and universities. Unless the vendor is
prepared to offer high-quality &lt;span class="caps"&gt;OS&lt;/span&gt; and application tech support, they
should do all they can to make use of whatever Linux support resources
already exist. Ubuntu is becoming increasingly common, so the best move
(in my mind) would be to re-brand Ubuntu, but keep the functionality the
same, therefore making use of (arguably) a relatively large experience
base, by Linux standards. If you&amp;#8217;re a hardware company, and don&amp;#8217;t focus
on providing (software) technical support, the smartest thing to do is
to try and maximize the amount of third-party software support that&amp;#8217;s&amp;nbsp;available.&lt;/p&gt;
&lt;p&gt;Secondly, and perhaps more importantly, we&amp;#8217;ve finally started to reach a
time when Linux is becoming standardized. Most popular distros follow
(more-or-less) the &lt;span class="caps"&gt;LSB&lt;/span&gt; specification, and Gnome and &lt;span class="caps"&gt;KDE&lt;/span&gt; have become the
accepted standards for pretty much all non-geek graphical environments.
It&amp;#8217;s taken years to reach this point, and the introduction of
mass-market netbooks, many with their own customized distros, is not
helping, nor is it smart on the manufacturers&amp;#8217;&amp;nbsp;part.&lt;/p&gt;
&lt;p&gt;Perhaps the biggest problem is that the manufacturers themselves just
see Linux as an &lt;span class="caps"&gt;OS&lt;/span&gt; that doesn&amp;#8217;t cost them anything, without seeing the
big picture. If they truly understood Free software, they&amp;#8217;d be working
to improve on existing technology, while retaining the existing code as
a base, rather than struggling to differentiate their offering. If I was
to start selling Linux-based netbooks, I think the solution is quite
simple, just by following the trends in the Linux world: sell a
&amp;#8220;business&amp;#8221; version that runs RedHat or CentOS, maybe SuSE, and a
&amp;#8220;consumer&amp;#8221; version that has Ubuntu (which, as far as I&amp;#8217;ve seen, is the
most popular with the non-linux crowd). Rather than trying to build my
own distro and differentiate it from everything else, I&amp;#8217;d build on what
little Linux experience the general public has, by using the most common
distros. If the marketing guys want differentiation so badly, that&amp;#8217;s the
wonder of Free software - just add vendor-specific logos and a custom&amp;nbsp;theme.&lt;/p&gt;
&lt;p&gt;On a personal note, I&amp;#8217;ve had an eeePC 701G Surf since December 2007. The
*first* thing I did when I got it was create a &lt;span class="caps"&gt;4GB&lt;/span&gt; &lt;span class="caps"&gt;SDHC&lt;/span&gt; card with a
full install of my favorite distro, and set it up to boot from the &lt;span class="caps"&gt;SDHC&lt;/span&gt;.
I haven&amp;#8217;t booted Xandros more than twice. Even the &amp;#8220;expert&amp;#8221; mode, which
is somewhat like a normal desktop environment, is severely lacking in
common tools, administrative tools, and security (the user separation is
abysmal). I would&amp;#8217;ve been much more happy to see it ship with a good
install of Ubuntu, even locked down with a &amp;#8220;simple&amp;#8221; desktop for the
default user. Things like sed, awk, grep, and an &lt;span class="caps"&gt;SSH&lt;/span&gt; server should be
instaled on every Linux system. Also, just a theory - set each system to
have a unique, randomly generated root password, and print it on a label
on the bottom of the&amp;nbsp;machine.&lt;/p&gt;</summary></entry><entry><title>Interesting Links for 2008-09-18</title><link href="http://blog.jasonantman.com/2008/09/interesting-links-for-2008-09-18/" rel="alternate"></link><updated>2008-09-19T05:01:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-09-19:2008/09/interesting-links-for-2008-09-18/</id><summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.publicknowledge.org/node/1738"&gt;S. 3325 Passes Senate Judiciary | Public&amp;nbsp;Knowledge&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>New Project - Blog Migration to WordPress</title><link href="http://blog.jasonantman.com/2008/09/new-project-blog-migration-to-wordpress/" rel="alternate"></link><updated>2008-09-18T12:49:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-09-18:2008/09/new-project-blog-migration-to-wordpress/</id><summary type="html">&lt;p&gt;For quite some time, I&amp;#8217;ve been frustrated with Blogger. First of all,
its&amp;#8217; publishing system is horribly inefficient. As everything is static
&lt;span class="caps"&gt;HTML&lt;/span&gt;, at this point, writing this blog entry alone will require it to
re-publish approximately &lt;strong&gt;6 &lt;span class="caps"&gt;MB&lt;/span&gt;&lt;/strong&gt; to my server. Seems sort&amp;#8217;a pointless.
Not to mention, it doesn&amp;#8217;t allow any of the stuff that I really want,
such as multiple categories with per-category &lt;span class="caps"&gt;RSS&lt;/span&gt;, or good searching. It
also means that, though this blog is hosted on my own server, I&amp;#8217;m
dependent on Blogger to add&amp;nbsp;posts.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m still horribly busy dealing with insurance companies and the police
in relation to my stolen truck, as well as looking around and trying to
figure out what my next vehicle will be, and how much I can spend on&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;Anyway, I&amp;#8217;ve decided that at some point in the future, I&amp;#8217;ll be migrating
to &lt;a href="http://www.wordpress.org"&gt;WordPress&lt;/a&gt; for the blog. It will, of
course, be hosted on my own machine, and will hopefully also include a
migration of everything from this Blogger account. And, somehow, will
include some sort of redirection from old posts to the relevant new
ones. Most importantly, though, I plan on deferring the project until I
get my multiple static &lt;span class="caps"&gt;IP&lt;/span&gt; service from &lt;a href="http://www.optimum.com"&gt;Optimum
Online&lt;/a&gt;, as the new blog (and the rest of my
subdomains) will be moved from GoDaddy forwarding to their own
subdomains setup as Apache name-based&amp;nbsp;VHosts.&lt;/p&gt;
&lt;p&gt;Stay tuned for progress&amp;nbsp;updates&amp;#8230;&lt;/p&gt;</summary><category term="blog"></category><category term="wordpress"></category></entry><entry><title>Internet Security, Microsoft Lies</title><link href="http://blog.jasonantman.com/2008/09/internet-security-microsoft-lies/" rel="alternate"></link><updated>2008-09-16T23:24:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-09-16:2008/09/internet-security-microsoft-lies/</id><summary type="html">&lt;p&gt;&lt;strong&gt;Internet&amp;nbsp;Security&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;So, this semester I&amp;#8217;m taking a class on Internet Security. Our textbook
is &lt;a href="http://search.barnesandnoble.com/booksearch/isbninquiry.asp?ean=1423901304"&gt;Management of Internet Security, 2nd
Edition&lt;/a&gt;
by Michael E. Whitman and Herbert J. Mattord. It seems pretty basic, and
very much focused on the management side of things (as opposed to
technical). The table of contents is as&amp;nbsp;follows:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Introduction to the Management of Information&amp;nbsp;Security&lt;/li&gt;
&lt;li&gt;Planning for&amp;nbsp;Security&lt;/li&gt;
&lt;li&gt;Planning for&amp;nbsp;Contingencies&lt;/li&gt;
&lt;li&gt;Information Security&amp;nbsp;Policy&lt;/li&gt;
&lt;li&gt;Developing the Security&amp;nbsp;Program&lt;/li&gt;
&lt;li&gt;Security Management Models and&amp;nbsp;Practices&lt;/li&gt;
&lt;li&gt;Risk Management: Identifying and Assessing&amp;nbsp;Risk&lt;/li&gt;
&lt;li&gt;Risk Management: Assessing and Controlling&amp;nbsp;Risk&lt;/li&gt;
&lt;li&gt;Protection&amp;nbsp;Mechanisms&lt;/li&gt;
&lt;li&gt;Personnel and&amp;nbsp;Security&lt;/li&gt;
&lt;li&gt;Law and&amp;nbsp;Ethics&lt;/li&gt;
&lt;li&gt;Information Security Project&amp;nbsp;Management&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Now, given that it&amp;#8217;s really a &amp;#8220;management&amp;#8221; book, I can&amp;#8217;t say I&amp;#8217;m
surprised that it reads like an essay that was graded on a scale of
buzzwords-per-sentence. However, it seems to be missing the one chapter
that&amp;#8217;s the most important - actually, the only chapter that would be in
the book if I wrote it - &amp;#8220;How to get management to allocate the money
you need for proper security.&amp;#8221; In fact, skimming over the book, I found
a lot of content on general management planning, job descriptions,
sample policies, and a lot of other pie-in-the-sky stuff, but not one
concrete section dedicated to the most difficult part of security -
getting the &amp;#8220;resources&amp;#8221; to do it&amp;nbsp;right!&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Microsoft&amp;nbsp;Lies&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Why we would spend time analyzing corporate mission statements in an
Internet Security class, I have no idea. That seems, to me, too much
like what we covered in &amp;#8220;Management of Technological Organizations.&amp;#8221;
But, we do, and one of the examples used is &lt;a href="http://www.microsoft.com/About/default.mspx"&gt;Microsoft&amp;#8217;s Mission and
Values statement&lt;/a&gt;. Perhaps,
being the F/&lt;span class="caps"&gt;OSS&lt;/span&gt; advocate that I am, my reading of it was a bit cynical.
Let&amp;#8217;s take a look at&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;&lt;span class="dquo"&gt;&amp;#8220;&lt;/span&gt;At Microsoft, our mission and values are to help people and business
throughout the world realize their full potential.&amp;#8221; Well, we&amp;#8217;re off to a
good start. Aside from the fact that they want you to realize that
potential using &lt;strong&gt;only their software&lt;/strong&gt;, and use their power and money
to actively monopolize (or attempt to) most industries that they enter,
this seems pretty&amp;nbsp;run-of-the-mill.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Corporate Citizenship:&lt;/em&gt;&amp;#8220;Every successful corporation has &lt;em&gt;a
responsibility to use its resources and influence to make a positive
impact on the world and its people&lt;/em&gt;. Microsoft’s Global Citizenship
Initiative is focused on mobilizing our resources across the company and
around the world, to create opportunities in the communities where we do
business, and to &lt;em&gt;fulfill our commitment to serving the public good
through innovative technologies and partnerships&lt;/em&gt;.&amp;#8221; Well. Now we&amp;#8217;re
getting somewhere. Apparently &amp;#8220;a positive impact on the world and its
people&amp;#8221; is defined as trying to monopolize every sector that Microsoft
touches, whether attempting to crush and then buy-out the competition,
or through flat-out
&lt;a href="http://en.wikipedia.org/wiki/Fear,_uncertainty_and_doubt"&gt;&lt;span class="caps"&gt;FUD&lt;/span&gt;&lt;/a&gt; and
billion-dollar marketing campaigns. Hmm&amp;#8230; innovative partnerships&amp;#8230; as
in&amp;nbsp;Novell?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Legal and Corporate Affairs:&lt;/em&gt;&amp;#8220;Microsoft’s Legal and Corporate Affairs
Group works on the cutting edge of business and regulatory issues around
the world.&amp;#8221; Well, I can&amp;#8217;t argue with that, they sure are on the cutting
edge. What started with Bill Gates mailing out whiny letters about
pirated Altair &lt;span class="caps"&gt;BASIC&lt;/span&gt; has now turned into a global juggernaut, capable of
forcing the creation of &lt;span class="caps"&gt;ISO&lt;/span&gt; standards at their whim, and successfully
quashing any dissent about obviously flawed and under-reviewed
&amp;#8220;standards&amp;#8221; (which, in fact, simply describe current software, rather
than setting any real&amp;nbsp;standard).&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Values:&lt;/em&gt;As a company, and as individuals, we value &lt;strong&gt;integrity&lt;/strong&gt;,
&lt;strong&gt;honesty&lt;/strong&gt;, &lt;strong&gt;openness&lt;/strong&gt;, personal excellence, &lt;strong&gt;constructive
self-criticism&lt;/strong&gt;, &lt;strong&gt;continual self-improvement&lt;/strong&gt;, and &lt;strong&gt;mutual
respect&lt;/strong&gt;. We are committed to our customers and partners and have a
passion for technology. We take on big challenges, and pride ourselves
on seeing them through. &lt;strong&gt;We hold ourselves accountable to our
customers&lt;/strong&gt;, shareholders, partners, and employees by honoring our
commitments, providing results, and &lt;strong&gt;striving for the highest
quality&lt;/strong&gt;.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;integrity&lt;/strong&gt; - i.e. not creating a draft &lt;span class="caps"&gt;ISO&lt;/span&gt; standard and then
    &lt;a href="http://www.networkworld.com/news/2007/083007-microsoft-employee-offered-incentives-for.html"&gt;offering monetary incentives for
    acceptance&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;honesty&lt;/strong&gt; - when it works. Intentionally making Vista-Capable
    labeling so ambiguous that it even &lt;a href="http://www.nytimes.com/2008/03/09/business/09digi.html?_r=1&amp;amp;oref=slogin"&gt;confuses Microsoft
    executives&lt;/a&gt;?&amp;nbsp;Fine.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;openness&lt;/strong&gt; um&amp;#8230; did they seriously say that? Openness like&amp;#8230;
    protocol interoperability? Standards that can be implemented without
    patent violations? An &amp;#8220;Open Specification Promise&amp;#8221; that doesn&amp;#8217;t come
    with a &lt;a href="http://www.microsoft.com/interop/osp/default.mspx"&gt;three page
    &lt;span class="caps"&gt;FAQ&lt;/span&gt;&lt;/a&gt;? Nope. Not&amp;nbsp;Microsoft.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;constructive self-criticism&lt;/strong&gt; - Ok, I&amp;#8217;ll give them this one. They
    do, rarely, criticize themselves. Though &amp;#8220;constructive&amp;#8221; usually
    means making comments about the poor design of a previous product,
    and suggesting that everyone upgrade to the new&amp;nbsp;version.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;continual self-improvement&lt;/strong&gt; - I&amp;#8217;ll give them this one too. In
    fact, they&amp;#8217;re so crazy about it that they&amp;#8217;ve been improving the same
    codebase for&amp;nbsp;decades!&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;mutual respect&lt;/strong&gt; - See&amp;nbsp;above.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;We hold ourselves accountable to our customers&lt;/strong&gt; - Ok. They &lt;em&gt;are&lt;/em&gt;
    offering to allow users to &lt;a href="http://download.microsoft.com/download/5/f/4/5f4c83d3-833e-4f11-8cbd-699b0c164182/royaltyoemreferencesheet.pdf"&gt;downgrade from Vista to
    &lt;span class="caps"&gt;XP&lt;/span&gt;&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;striving for the highest quality&lt;/strong&gt; - I don&amp;#8217;t think so. They&amp;#8217;re
    striving for products that have the highest &lt;em&gt;market share&lt;/em&gt;. As long
    as the quality is acceptable to the majority of users, and the
    products do what the majority of users need, that&amp;#8217;s fine. But
    wait&amp;#8230; apparently they even missed &lt;em&gt;that&lt;/em&gt; goal with&amp;nbsp;Vista.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;This is just the opinion of one person. My motivations may be diverse,
and surely there&amp;#8217;s a bit of zealotry in there. After all, if Ford told
me I couldn&amp;#8217;t put fog lights on my car myself, I had to bring it to the
dealer and pay $400, I&amp;#8217;d stop buying their cars - and make sure everyone
else knew what they did. But there&amp;#8217;s also my ever-present desire to make
sure people know both sides of the story, and all the facts. The
mainstream media (specifically dumbed-down television) rarely reports on
the less cheerful side of Microsoft, like the &lt;span class="caps"&gt;ISO&lt;/span&gt; &amp;#8220;standard&amp;#8221;
&lt;a href="http://www.networkworld.com/news/2007/083007-microsoft-employee-offered-incentives-for.html"&gt;scandal&lt;/a&gt;,
or the &lt;a href="http://www.nytimes.com/2008/03/09/business/09digi.html?_r=1&amp;amp;oref=slogin"&gt;Vista
letters&lt;/a&gt;,
or the
&lt;a href="http://yro.slashdot.org/article.pl?sid=08/04/22/2032232&amp;amp;from=rss"&gt;Vista-Capable&lt;/a&gt;
fiasco. And I find this to be horribly disturbing. Many people don&amp;#8217;t
realize that there &lt;em&gt;are&lt;/em&gt; alternatives to Microsoft products, even ones
that are provided by such big names as &lt;a href="http://www.sun.com"&gt;Sun
Microsystems&lt;/a&gt; and &lt;a href="http://www.ibm.com"&gt;&lt;span class="caps"&gt;IBM&lt;/span&gt;&lt;/a&gt;. But,
most striking, is Microsoft&amp;#8217;s overwhelming monopoly. Windows&amp;#8217; market
share is currently
&lt;a href="http://marketshare.hitslink.com/report.aspx?qprid=8"&gt;90.66%&lt;/a&gt; or higher.
I ask you, what other industries which affect not only consumers, but
nearly every aspect of our daily lives (as computing does) would be
allowed to have such a monopoly? It has happened in many other American
industries - oil, steel, the railroads, telephone service. Where is the
government&amp;nbsp;now?&lt;/p&gt;
&lt;p&gt;What happened to the America that made massive monopolies illegal? Have
we forgotten a supremely part of our history that began in 1980 with the
Sherman Act? Or even the recent events with Bell? In order to truly
stimulate competition in the software industry, and provide for not only
choice but the improved quality, reliability, and security that comes
with true software competition, something needs to be done. For
starters, how about breaking Microsoft into separate entities - browser,
Office, &lt;span class="caps"&gt;OS&lt;/span&gt;, server, etc. And - the important part - preventing any
package sales, discounts, or bundling between the separate types of
software (and separate&amp;nbsp;companies).&lt;/p&gt;</summary><category term="microsoft"></category><category term="rutgers"></category><category term="school"></category><category term="security"></category></entry><entry><title>Delicious Problems? 503</title><link href="http://blog.jasonantman.com/2008/09/delicious-problems-503/" rel="alternate"></link><updated>2008-09-15T12:47:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-09-15:2008/09/delicious-problems-503/</id><summary type="html">&lt;p&gt;&lt;img alt="Delicious.com 503" src="/GFX/delicious.png" /&gt;&lt;/p&gt;
&lt;p&gt;I don&amp;#8217;t know if I&amp;#8217;m the only one experiencing this, but this is the
third time in two days that I&amp;#8217;ve gotten a 503 when trying to view my
bookmarks on &lt;a href="http://del.icio.us"&gt;del.icio.us&lt;/a&gt;. This is posing a
problem, as I use the service to keep my bookmarks in sync between five&amp;nbsp;computers.&lt;/p&gt;
&lt;p&gt;As of the time of this post, I&amp;#8217;m able to get to the site again, but I
was unable to get there - or update my bookmarks on my main workstation
at work - for about ten&amp;nbsp;minutes.&lt;/p&gt;</summary><category term="bookmarks"></category><category term="del.icio.us"></category></entry><entry><title>Going away for a while</title><link href="http://blog.jasonantman.com/2008/09/going-away-for-a-while/" rel="alternate"></link><updated>2008-09-14T16:58:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-09-14:2008/09/going-away-for-a-while/</id><summary type="html">&lt;p&gt;Unfortunately, my truck was stolen this past Friday while at work. I
probably won&amp;#8217;t be posting much in the neat future, as I&amp;#8217;m going to be
quite busy trying to get things back together (insurance, etc.) while
also working and taking&amp;nbsp;classes.&lt;/p&gt;</summary></entry><entry><title>Hardware Inventory System</title><link href="http://blog.jasonantman.com/2008/09/hardware-inventory-system/" rel="alternate"></link><updated>2008-09-12T13:01:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-09-12:2008/09/hardware-inventory-system/</id><summary type="html">&lt;p&gt;After a few crazy weeks at work, the pay check is finally here, and I&amp;#8217;ve
decided to allocate some of the money to hardware upgrades of my
personal machines. While &lt;a href="http://www.nagios.org"&gt;Nagios&lt;/a&gt; gives me a good
idea of where performance is a problem, I&amp;#8217;m still running a large amount
of &amp;#8220;legacy&amp;#8221; hardware (my home router/firewall is a 350MHz P-&lt;span class="caps"&gt;II&lt;/span&gt; desktop)
and hardware age is a significant factor in my upgrade&amp;nbsp;plans.&lt;/p&gt;
&lt;p&gt;So, I set out looking for a program (most likely some backend scripts
that dump data to MySQL, and then a &lt;span class="caps"&gt;PHP&lt;/span&gt; front-end) to perform a hardware
inventory - essentially, run a script on each box, find out the system
details, and dump it in a &lt;span class="caps"&gt;DB&lt;/span&gt;. Now that my pool of upgrade candidates is
above a dozen machines, at multiple locations, some of which are
single-use boxes often neglected/forgotten, doing this in my head isn&amp;#8217;t
the&amp;nbsp;easiest.&lt;/p&gt;
&lt;p&gt;So, while I&amp;#8217;ve been googling and searching some mailing list archives,
I&amp;#8217;m also developing a set of&amp;nbsp;requirements.&lt;/p&gt;
&lt;p&gt;The chief&amp;nbsp;requirements:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ability to run a script on a remote machine and have the results
    returned in a meaningful format. Most likely, a single script, run
    as root (&lt;span class="caps"&gt;SUID&lt;/span&gt; or sudo) that returns nice, formatted, &lt;span class="caps"&gt;SQL&lt;/span&gt;-ready
    results (so the parsing of platform-specific command output will
    happen on the client, with every client returning a normalized data&amp;nbsp;set).&lt;/li&gt;
&lt;li&gt;Ability to track hardware changes - i.e. disks swapped from one box
    to another, &lt;span class="caps"&gt;NIC&lt;/span&gt; replacement, processor upgrade,&amp;nbsp;etc.&lt;/li&gt;
&lt;li&gt;Each piece of hardware tracked individually, allowing future support
    of fully tracking components, spares,&amp;nbsp;etc.&lt;/li&gt;
&lt;li&gt;Support for future barcoding of components and physically-performed&amp;nbsp;inventory.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Some of the data that I&amp;#8217;d like&amp;nbsp;collected:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Data on a machine stored by chassis vendor name and serial
    numer/service&amp;nbsp;tag.&lt;/li&gt;
&lt;li&gt;Hostname associated with each&amp;nbsp;box.&lt;/li&gt;
&lt;li&gt;Architecture, number of CPUs/cores and type, model, speed, socket
    (for upgrade&amp;nbsp;planning/ordering).&lt;/li&gt;
&lt;li&gt;Motherboard model/manufacturer, serial number, &lt;span class="caps"&gt;HW&lt;/span&gt; and &lt;span class="caps"&gt;SW&lt;/span&gt;/&lt;span class="caps"&gt;FW&lt;/span&gt;
    revisions, manufacture&amp;nbsp;date.&lt;/li&gt;
&lt;li&gt;Storage (internal &lt;span class="amp"&gt;&amp;amp;&lt;/span&gt; directly connected external) - type, interface,
    capacity, specifications/manufacturer and&amp;nbsp;model.&lt;/li&gt;
&lt;li&gt;Amount fo &lt;span class="caps"&gt;RAM&lt;/span&gt;, type of &lt;span class="caps"&gt;RAM&lt;/span&gt;, and configuration of cards (number of
    empty&amp;nbsp;slots).&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;PCI&lt;/span&gt; card configuration - number and type/mfr/model of cards, as well
    as number of empty&amp;nbsp;slots&lt;/li&gt;
&lt;li&gt;For all NICs - &lt;span class="caps"&gt;MAC&lt;/span&gt; addresses, current IPs, as well as link
    type/speed and connected&amp;nbsp;switch/port.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I&amp;#8217;d also like some level of software inventory, especially for those
machines that may be running &amp;#8220;forgotten&amp;#8221;&amp;nbsp;services:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://nmap.org/"&gt;nmap&lt;/a&gt; scan&amp;nbsp;results.&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;OS&lt;/span&gt;-generated list of running services, with &lt;span class="caps"&gt;GUI&lt;/span&gt; including a
    blacklist of &amp;#8220;default&amp;#8221; services not to be displayed, and possibly
    also cross-links to Nagios&amp;nbsp;status.&lt;/li&gt;
&lt;li&gt;Possibly a parsed output from ps, using a blacklist as shown&amp;nbsp;above.&lt;/li&gt;
&lt;li&gt;If a firewall is running on the system, a list of all open&amp;nbsp;ports.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I&amp;#8217;ll be checking out some options today. Unfortunately, I have a feeling
that there&amp;#8217;s most likely nothing that supports my requirements, and I&amp;#8217;ll
probably end up implementing a lot of this&amp;nbsp;myself.&lt;/p&gt;</summary><category term="configuration"></category><category term="inventory"></category></entry><entry><title>Microsoft and Novell Deliver Joint Virtualization Solution - or do they?</title><link href="http://blog.jasonantman.com/2008/09/microsoft-and-novell-deliver-joint-virtualization-solution-or-do-they/" rel="alternate"></link><updated>2008-09-11T11:40:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-09-11:2008/09/microsoft-and-novell-deliver-joint-virtualization-solution-or-do-they/</id><summary type="html">&lt;p&gt;From PRNewsWire: &lt;a href="http://www.prnewswire.com/cgi-bin/stories.pl?ACCT=104&amp;amp;STORY=/www/story/09-11-2008/0004883058&amp;amp;EDATE="&gt;Microsoft and Novell Deliver Joint Virtualization
Solution Through
Partners&lt;/a&gt;.
The headline of the press release: &amp;#8220;Supported by Dell and other channel
partners, solution includes &lt;span class="caps"&gt;SUSE&lt;/span&gt; Linux Enterprise Server running as
optimized guest on Windows Server 2008&amp;nbsp;Hyper-V.&amp;#8221;&lt;/p&gt;
&lt;p&gt;Now, maybe I&amp;#8217;m not up on the news regarding my favorite distribution,
but it seems to me that a deal allowing SuSE to be virtualized as a
&lt;strong&gt;guest&lt;/strong&gt; under Windows is not only &amp;#8220;joint&amp;#8221;, but plain moronic. Despite
the marketing efforts of Microsoft, Unix-based systems (including Linux)
have always had the upper hand in availability, reliability, and&amp;nbsp;performance.&lt;/p&gt;
&lt;p&gt;I must say, from what I&amp;#8217;ve heard, Windows Server is getting *much*
better in these areas - and I&amp;#8217;ve even heard that the latest version
includes an option to install without a graphical environment, and even
includes a command-line that&amp;#8217;s useful. It&amp;#8217;s about&amp;nbsp;time.&lt;/p&gt;
&lt;p&gt;However, it seems to me, that any virtualization deal between Microsoft
and a Linux distributor can provide only one logical solution: Windows
Server virtualized as a guest in a high-availability Linux host. More
importantly, without the insane per-processor licensing - a per-&lt;span class="caps"&gt;VM&lt;/span&gt;
instance license that&amp;#8217;s hardware-agnostic and allows VMs to be migrated
across hardware as the admin sees&amp;nbsp;fit.&lt;/p&gt;
&lt;p&gt;Oh, and one more insight. If Microsoft wants to be a serious player in
the virtualization arena, here&amp;#8217;s a few &amp;#8220;simple&amp;#8221;&amp;nbsp;steps:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Get Windows Server to work correctly under Xen, VirtualBox, etc.
    Certify it. Provide the correct guest &lt;span class="caps"&gt;OS&lt;/span&gt; tool&amp;nbsp;packages&lt;/li&gt;
&lt;li&gt;Provide simple management of Windows in a virtualized environment -
    minimally, a standard &lt;span class="caps"&gt;SSH&lt;/span&gt; server that&amp;#8217;s compatible with OpenSSH, a
    &lt;span class="caps"&gt;GUI&lt;/span&gt;-less environment, and a serial&amp;nbsp;console.&lt;/li&gt;
&lt;li&gt;Get rid of per-processor licenses. Provide a basic license that
    allows for, say, 10 VMs to be running at once, and allows as many
    installs as needed - the only licensing is based on the amount of
    VMs actually running. i.e., if you have 10 VMs and one gets
    corrupted, you can bring that one down and online a back-up image,
    without violating the&amp;nbsp;license.&lt;/li&gt;
&lt;li&gt;Make licensing processor-agnostic. Want to migrate a Xen &lt;span class="caps"&gt;VM&lt;/span&gt; (Windows
    guest) from a dual-core Pentium to an 8-core Xeon, or even a 16
    processor &lt;span class="caps"&gt;SPARC&lt;/span&gt;? Sure, no&amp;nbsp;problem.&lt;/li&gt;
&lt;/ol&gt;</summary><category term="microsoft"></category><category term="novell"></category><category term="suse"></category><category term="virtualization"></category></entry><entry><title>eeePC stronger than ever</title><link href="http://blog.jasonantman.com/2008/09/eeepc-stronger-than-ever/" rel="alternate"></link><updated>2008-09-10T23:55:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-09-10:2008/09/eeepc-stronger-than-ever/</id><summary type="html">&lt;p&gt;It seems like every time I open up my &lt;a href="http://reader.google.com"&gt;Google
Reader&lt;/a&gt; account, there&amp;#8217;s news about another
company that released a knock-off of my beloved &lt;a href="http://eeepc.asus.com/global/700.htm"&gt;Asus eeePC 4G Surf
(701)&lt;/a&gt; (interestingly, it looks
like eeepc.asus.com is down at the moment of writing). Even Asus has
released numerous (I think the product like is now up to about 10
variations) follow-ups to the 7&amp;#8221; beauty, now up to 10&amp;#8221; in size (though,
admittedly, I&amp;#8217;m less-than-enthused about their Windows&amp;nbsp;models).&lt;/p&gt;
&lt;p&gt;With the new semester here, I am (unfortunately) back in class. And I&amp;#8217;m
very happy to report that I&amp;#8217;m starting to see eeePCs in more and more
hands. Granted, my classes are in the &lt;span class="caps"&gt;IT&lt;/span&gt; program, but I was quite
surprised last night to be sitting in my Internet Security class and
notice no less than four eeePCs in a class of about 25 people. While
I&amp;#8217;ve just relegated my own 4G to my server room bag, replacing it with a
(used, surplus from work) &lt;span class="caps"&gt;IBM&lt;/span&gt; ThinkPad T41 (14.1&amp;#8221; display, 1.4GHz
Pentium, &lt;span class="caps"&gt;768MB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt;, and a &lt;span class="caps"&gt;DVD&lt;/span&gt; drive). Though my heart sank when I found
that half of the eeePCs were running Windows, it seems that in my
travels around campus, I&amp;#8217;m seeing more and more eeePCs, and more laptops
running&amp;nbsp;Linux.&lt;/p&gt;
&lt;p&gt;While the academic world has surely embraced new technologies, and
non-mainstream technologies, quicker than other sectors (specifically
considering Linux and the apparent popularity of the eeePC), it&amp;#8217;s
definitely a good omen. Seeing non-geek, and perhaps even non-&lt;span class="caps"&gt;CS&lt;/span&gt; and
non-Engineering, students using Linux speaks quite well for the
expansion of the Linux user base when these students graduate and enter
the &amp;#8220;real&amp;nbsp;world&amp;#8221;&lt;/p&gt;</summary><category term="asus"></category><category term="eeepc"></category><category term="linux"></category></entry><entry><title>Possible Downtime this weekend</title><link href="http://blog.jasonantman.com/2008/09/possible-downtime-this-weekend/" rel="alternate"></link><updated>2008-09-04T23:03:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-09-04:2008/09/possible-downtime-this-weekend/</id><summary type="html">&lt;p&gt;Tropical Storm &lt;a href="http://www.nhc.noaa.gov/#HANNA"&gt;Hanna&lt;/a&gt; is expected to
reach the New Jersey area on Saturday, September 6, 2008. The latest
predictions as of 20:00 September 4&lt;sup&gt;th&lt;/sup&gt; call for winds from 30-60 &lt;span class="caps"&gt;MPH&lt;/span&gt;
and rainfall possibly in excess of 5 inches, at a rate of 1-1.5 inches
per hour (as per the &lt;a href="http://www.bcoem.org/"&gt;Bergen County Office of Emergency
Management&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;In light of this, please be advised that
&lt;a href="http://www.jasonantman.com"&gt;JasonAntman.com&lt;/a&gt; may experience some
unscheduled downtime - mainly due to the fact that my internet
connection (Verizon FiOS fiber, right now) is run with suspended
pole-to-pole cables. If this does happen (and power is still available)
I&amp;#8217;ll make an effort to use the downtime as best as&amp;nbsp;possible.&lt;/p&gt;</summary><category term="downtime"></category><category term="emergency"></category><category term="hanna"></category></entry><entry><title>LIRC and Hauppauge PVR-150 on OpenSuSE 11.0</title><link href="http://blog.jasonantman.com/2008/09/lirc-and-hauppauge-pvr-150-on-opensuse-110/" rel="alternate"></link><updated>2008-09-01T10:37:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-09-01:2008/09/lirc-and-hauppauge-pvr-150-on-opensuse-110/</id><summary type="html">&lt;p&gt;Well, despite what&amp;#8217;s been said elsewhere, it &lt;em&gt;&lt;span class="caps"&gt;IS&lt;/span&gt;&lt;/em&gt; possible! It&amp;#8217;s a bit
error-ridden at first, but here is the procedure that I used to compile
and install the &lt;span class="caps"&gt;PVR&lt;/span&gt;-150 patched &lt;span class="caps"&gt;LIRC&lt;/span&gt;&amp;nbsp;0.8.3-&lt;span class="caps"&gt;CVS&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;First, Download the tarball mentioned in the &lt;a href="http://www.blushingpenguin.com/mark/blog/?p=24"&gt;Version 3 blog
post&lt;/a&gt; at &lt;a href="http://www.blushingpenguin.com/mark/blog/"&gt;Marks
Braindump&lt;/a&gt;. You can pretty
much follow his instructions on the installation in the blog post, with
some changes that are specific to getting it to compile on OpenSuSE&amp;nbsp;11.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;First, remove all traces of the OpenSuSE &lt;span class="caps"&gt;LIRC&lt;/span&gt; from you system.
    Uninstall the &lt;span class="caps"&gt;RPMS&lt;/span&gt; and everything else that goes with them. Then
    unload all of the kernel modules, especially lirc_i2c (if you have
    it&amp;nbsp;loaded).&lt;/li&gt;
&lt;li&gt;In your kernel source directory, run
    &lt;code&gt;make oldconfig &amp;amp;&amp;amp; make prepare.&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;In your kernel source directory, run &lt;code&gt;make prepare scripts&lt;/code&gt; which,
    among other things, compiles the required &lt;code&gt;genksyms&lt;/code&gt; scurript.&lt;/li&gt;
&lt;li&gt;I was getting a compile error like &amp;#8220;&lt;span class="caps"&gt;WARNING&lt;/span&gt;: Symbol version dump
    /usr/src/`uname -r`/Module.symvers is missing&amp;#8221;. Find out which
    kernel you&amp;#8217;re running (&lt;code&gt;uname -r&lt;/code&gt;). In yout kernel source directory,
    copy your Module.symvers file from /usr/src/linux-obj. I was running
    i386 architecture with the &amp;#8220;default&amp;#8221; kernel, so mine was located at
    &lt;code&gt;/usr/src/linux-obj/i386/debug/Module.symvers&lt;/code&gt;. Copy that into
    &lt;code&gt;/usr/src/linux&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;In the lirc (patched) directory, run &lt;code&gt;setup.sh&lt;/code&gt; as instructed. &lt;span class="caps"&gt;DO&lt;/span&gt;
    &lt;span class="caps"&gt;NOT&lt;/span&gt; tell it to run configure - just save settings and&amp;nbsp;exit.&lt;/li&gt;
&lt;li&gt;Edit the generated &lt;code&gt;configure.sh&lt;/code&gt; file, adding a
    &lt;code&gt;--with-kerneldir=/usr/src/KERNELDIR&lt;/code&gt;, replacing &lt;span class="caps"&gt;KERNELDIR&lt;/span&gt; with the
    actual path to your kernel soruce (i.e. /usr/src/`uname&amp;nbsp;-r`).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;make&lt;/code&gt;. If no errors, &lt;code&gt;make install&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;I decided to reboot at this point, and when I did, everything worked&amp;nbsp;perfectly.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Also, I found that I needed to explicitly specify &lt;code&gt;--device=/dev/lirc0&lt;/code&gt;
when starting &lt;span class="caps"&gt;LIRC&lt;/span&gt;, as well as not specifying a driver. I just took the
&lt;code&gt;/etc/init.d/lirc&lt;/code&gt; from the official OpenSuSE 11.0 package, commented
out line 108 in &lt;code&gt;makeargs()&lt;/code&gt; that adds the &lt;code&gt;-H $LIRC_DRIVER&lt;/code&gt; to the
args, and added &lt;code&gt;LIRC_DEVICE="/dev/lirc0"&lt;/code&gt; to the top after the &lt;span class="caps"&gt;INIT&lt;/span&gt;&amp;nbsp;info.&lt;/p&gt;
&lt;p&gt;Unfortunately, figuring out this process took me a long time. I&amp;#8217;ve
reconstructed these instructions from various post-it notes, the
whiteboard next to my desk, and some bash history files and terminal
dumps. If this doesn&amp;#8217;t seem to work for you, please drop an email to
jason &lt;span class="caps"&gt;AT&lt;/span&gt; jason antman &lt;span class="caps"&gt;DOT&lt;/span&gt; com, with as much information as you have, and
I&amp;#8217;ll figure it out and update the&amp;nbsp;instructions.&lt;/p&gt;
&lt;p&gt;Now, finally, an up-to-date system &lt;span class="caps"&gt;AND&lt;/span&gt; &lt;a href="http://www.mythtv.org"&gt;MythTV&lt;/a&gt;.&lt;/p&gt;</summary><category term="hauppauge"></category><category term="linux"></category><category term="lirc"></category><category term="mythtv"></category><category term="opensuse"></category><category term="pvr-150"></category><category term="suse"></category></entry><entry><title>Linux, Choice, Updates, CitiBank issues</title><link href="http://blog.jasonantman.com/2008/08/linux-choice-updates-citibank-issues/" rel="alternate"></link><updated>2008-08-25T12:37:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-08-25:2008/08/linux-choice-updates-citibank-issues/</id><summary type="html">&lt;p&gt;&lt;strong&gt;Update July 11, 2011&lt;/strong&gt; - I &lt;a href="/2011/07/article-on-theinquirer-net/"&gt;just found
out&lt;/a&gt; that this post is heavily
quote in &lt;a href="http://www.theinquirer.net/inquirer/news/1026958/citibank-infuriating-customers-linux-hostile-site"&gt;an article on
theinquirer.net&lt;/a&gt;
about this issue. Luckily (I don&amp;#8217;t know whether I made a difference or
not, certainly CitiBank never contacted me back), citicards.com now
works with Firefox on Linux. I have no idea if it was a change made by
Citi, or a change with Firefox or Flash&amp;nbsp;Player.&lt;/p&gt;
&lt;p&gt;I know this blog has been less-than-active lately. Life has been pretty
busy, between a massive network upgrade at the &lt;a href="http://www.midlandparkambulance.com"&gt;ambulance
corps&lt;/a&gt; that I volunteer with, the
impending doom of a new semester at work, scheduling courses, and a few
personal projects. I do, however, have a long list of things to post,
including some notes on my upgrade to &lt;a href="http://www.nagios.org"&gt;Nagios 3&lt;/a&gt;,
my recent experience with the &lt;a href="http://www.pcengines.ch/alix.htm"&gt;&lt;span class="caps"&gt;PC&lt;/span&gt; Engines
&lt;span class="caps"&gt;ALIX&lt;/span&gt;&lt;/a&gt; board, some changes to
&lt;a href="http://tuxostat.jasonantman.com"&gt;tuxOstat&lt;/a&gt;, and my plans to upgrade to
Optimum Business cable with 5 static IPs - finally a real home for
&lt;a href="http://www.jasonantman.com"&gt;JasonAntman.com&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;CitiCards Problems -&lt;/strong&gt; I had a somewhat unnerving experience this
morning. Having just gotten a Citibank credit card, and made my first
few purchases on it, I browsed to
&lt;a href="https://www.citicards.com"&gt;CitiCards.com&lt;/a&gt; to check my account summary.
I happened to be using a just-purchased &lt;span class="caps"&gt;IBM&lt;/span&gt; T41 laptop, running
&lt;a href="http://www.opensuse.org"&gt;OpenSuSE 11.0&lt;/a&gt; and
&lt;a href="http://www.getfirefox.com"&gt;FireFox3&lt;/a&gt;, so when I saw the page display
and then go completely blank, I suspected a problem with my Flash
plugin. Little did I know, but I tried the same page on 3 other
Linux/Firefox machines, with the same result. I put in a call to the
tech support line, and was gruffly informed by the representative that
Firefox was not supported, they were unable to support it, and, to
paraphrase, I should get another browser or f*** off. She was &lt;em&gt;very
well-aware&lt;/em&gt; of the issue, and stated that Citi would not fix it. At this
point, I stated that I thought I would cancel my card, and she told me
to have a nice day and hung&amp;nbsp;up.&lt;/p&gt;
&lt;p&gt;I decided to go to step 2 of the Generic Problem Solving
Method,
and found &lt;a href="http://www.google.com/search?hl=en&amp;amp;q=citicards.com+linux&amp;amp;btnG=Google+Search"&gt;hundreds of references to a problem with CitiCards.com on
Linux&lt;/a&gt;.
I read through a lot of conspiracy theory, but decided to test one of
the theories (and fixes). Sure enough, when I right-clicked on the blank
white screen, I got a Flash context menu. Clicking &amp;#8220;Play&amp;#8221; showed the ad,
and I was able to click the little &amp;#8220;X&amp;#8221; in the top right and bypass it,
gaining access to the normal main page. Never to be one to ignore a
conspiracy (or anti-Linux) theory, I pulled up the same page on a Mac.
Sure enough, that particular ad (set not to play and with an opaque
full-screen background) didn&amp;#8217;t show up. Hmm&amp;#8230; maybe there&amp;#8217;s something
to the theory put forth by the &lt;a href="http://stealcode.blogspot.com/2008/07/citibank-doesnt-like-linuxubuntu_27.html"&gt;guy who said CitiBank is blocking Linux
users&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I decided to call back, and this time spoke with Susan at CitiCards tech
support. She was very understanding, and apologized for both the
inconvenience and the previous representative&amp;#8217;s attitude. She said that
she was aware of some issues with Firefox and Linux, but stated that
they are only unsupported so far as Tech Support won&amp;#8217;t walk a customer
using Linux or FireFox through any issue resolution, but that both the
browser and architecture should, theoretically, work. She didn&amp;#8217;t know
anything about a policy against Linux, or intentional blocking/sabotage.
She did say, however, that they are &amp;#8220;working on it&amp;#8221;. I did inform her
that the problem could probably be resolved by simply editing the Flash
ad to be properly transparent, or suppressing it for Linux
architectures, though I doubt that the information will make its&amp;#8217; way up
the food chain. Unfortunately, I can&amp;#8217;t seem to find a contact email for
anything site-related on&amp;nbsp;CitiCards.com.&lt;/p&gt;
&lt;p&gt;If this is really a case of intentional blocking, it would be quite
infuriating - I filled out the application for the card on
FireFox3/Linux&amp;#8230; but then they block account&amp;nbsp;access?&lt;/p&gt;
&lt;p&gt;Hopefully more of an update&amp;nbsp;tonight&amp;#8230;&lt;/p&gt;</summary><category term="citibank"></category><category term="citicards"></category><category term="firefox"></category><category term="flash"></category><category term="linux"></category></entry><entry><title>SunFire Information</title><link href="http://blog.jasonantman.com/2008/08/sunfire-information/" rel="alternate"></link><updated>2008-08-08T14:45:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-08-08:2008/08/sunfire-information/</id><summary type="html">&lt;p&gt;Ok, an update is a long time coming, and I&amp;#8217;ll post one this weekend with
status of a lot of my projects, as well as some new&amp;nbsp;information.&lt;/p&gt;
&lt;p&gt;For now, I&amp;#8217;m installing two beautiful SunFire x4150&amp;#8217;s at work, and
here&amp;#8217;s a little bit of information on how to use these great&amp;nbsp;boxes:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span class="caps"&gt;RAID&lt;/span&gt; Configuration&lt;/strong&gt; is
accomplished by a normal startup prompt Ctrl+ (C? I don&amp;#8217;t remember) key
sequence, as they&amp;#8217;re x64 machines and it&amp;#8217;s a standard &lt;span class="caps"&gt;RAID&lt;/span&gt;&amp;nbsp;controller.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Serial Management&lt;/strong&gt; is great -
just connect (in &lt;a href="http://www.columbia.edu/kermit/ck80.html"&gt;Kermit&lt;/a&gt; I
just had to set speed to 9600 and carrier-watch off) and you get a
prompt that looks like &lt;code&gt;SUNSP001E682F6311 login:&lt;/code&gt;. The numbers are the
&lt;span class="caps"&gt;MAC&lt;/span&gt; address of the management interface (&lt;span class="caps"&gt;SP&lt;/span&gt;). The default login is
root:changeme, as per Sun doc 819-1155-16. When you login, you&amp;#8217;ll see
the current firmware version (4.0.06 as my box&amp;nbsp;shipped).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Getting a System Console&lt;/strong&gt; - on
the x4100, at the iLOM prompt, &lt;code&gt;cd /SP/console&lt;/code&gt;, &lt;code&gt;start /SYS&lt;/code&gt; to boot
the system, and then &lt;code&gt;start&lt;/code&gt; to get the console. On the x4150, we must
start &lt;code&gt;/SP/AgentInfo/Console&lt;/code&gt;, and use &lt;code&gt;Esc+Shift+9&lt;/code&gt; to get away from
the&amp;nbsp;console.&lt;/p&gt;</summary><category term="sun"></category><category term="sunfire"></category></entry><entry><title>Interesting Links for 2008-08-06</title><link href="http://blog.jasonantman.com/2008/08/interesting-links-for-2008-08-06/" rel="alternate"></link><updated>2008-08-07T05:00:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-08-07:2008/08/interesting-links-for-2008-08-06/</id><summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.hackerkey.com/hacker.html"&gt;The Hacker Key Guide (version&amp;nbsp;4)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>Interesting Links for 2008-08-01</title><link href="http://blog.jasonantman.com/2008/08/interesting-links-for-2008-08-01/" rel="alternate"></link><updated>2008-08-02T05:00:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-08-02:2008/08/interesting-links-for-2008-08-01/</id><summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href="http://lastinfirstout.blogspot.com/2008/08/crud-moved-up-stack.html"&gt;Last In - First Out: The crud moved up the&amp;nbsp;stack&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://scienceblogs.com/gregladen/2008/07/is_it_possible_that_the_linux.php"&gt;Greg Laden&amp;#8217;s Blog : Is it possible that the Linux Desktop is going
    to surpass the Mac in use? And why or why&amp;nbsp;not?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>Interesting Links for 2008-07-31</title><link href="http://blog.jasonantman.com/2008/08/interesting-links-for-2008-07-31/" rel="alternate"></link><updated>2008-08-01T05:00:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-08-01:2008/08/interesting-links-for-2008-07-31/</id><summary type="html">&lt;ul&gt;
&lt;li&gt;[Teenager hacks together hardware for controlling your car via phone&lt;ul&gt;
&lt;li&gt;Engadget&amp;nbsp;Mobile](http://www.engadgetmobile.com/2008/07/28/teenager-hacks-together-hardware-for-controlling-your-car-via-ph/)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>Massive Updates</title><link href="http://blog.jasonantman.com/2008/07/massive-updates/" rel="alternate"></link><updated>2008-07-17T12:28:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-07-17:2008/07/massive-updates/</id><summary type="html">&lt;p&gt;I know I&amp;#8217;ve been quite for a while. I&amp;#8217;ve been quite busy. Unfortunately,
due to changing priorities, there are a lot of projects I&amp;#8217;ve been
working on, but few of them have gotten finished. A sampling, in no
specific&amp;nbsp;order:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Migrating my network/service monitoring to Nagios 3, &lt;em&gt;totally&lt;/em&gt;
    re-writing my config files to make use of the new features, and
    making one coherent list of all the services that should be in it
    and&amp;nbsp;aren&amp;#8217;t.&lt;/li&gt;
&lt;li&gt;Planning to totally re-wire all networking at the &lt;a href="http://www.midlandparkambulance.com"&gt;ambulance corps
    building&lt;/a&gt; to eliminate some
    problems. This includes &lt;em&gt;building&lt;/em&gt; an 8U wall-mount rack, and also
    trying a &lt;a href="http://www.pcengines.ch/alix2c1.htm"&gt;&lt;span class="caps"&gt;PC&lt;/span&gt; Engines &lt;span class="caps"&gt;ALIX&lt;/span&gt;.2c1&lt;/a&gt;
    board as a router (still undecided on &lt;span class="caps"&gt;WAN&lt;/span&gt;/&lt;span class="caps"&gt;LAN&lt;/span&gt;/&lt;span class="caps"&gt;DMZ&lt;/span&gt; or &lt;span class="caps"&gt;WAN&lt;/span&gt;/&lt;span class="caps"&gt;LAN&lt;/span&gt;/&lt;span class="caps"&gt;WLAN&lt;/span&gt;).
    It also means a long day of work at some point in the future, and
    lots of cable&amp;nbsp;drops.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://tuxostat.jasonantman.com"&gt;tuxOstat&lt;/a&gt;, the linux-controlled
    thermostat, is pretty much on the back burner. It&amp;#8217;s a stable beta
    with severely reduced functionality, but has been handling my
    cooling needs without any major bugs in the past month or so. It
    still only has a basic &lt;span class="caps"&gt;CLI&lt;/span&gt; interface and a very simple kludge of a
    web &lt;span class="caps"&gt;GUI&lt;/span&gt;, but it works. Other modes (heating, fan only), predictive
    temperature calculation, other temperature/zone calculation modes,
    and physical controls (buttons, menu on &lt;span class="caps"&gt;LCD&lt;/span&gt;) are still to come, as
    well as the move from &lt;span class="caps"&gt;PC&lt;/span&gt; to Soekris (if I can ever figure it out,
    and get one with &lt;span class="caps"&gt;USB&lt;/span&gt;). I now feel that an &lt;span class="caps"&gt;ALIX&lt;/span&gt; board might be a
    better shot, as they take &lt;span class="caps"&gt;CF&lt;/span&gt; (more space than the Soekris), have a
    slightly faster processor, and also support &lt;span class="caps"&gt;USB&lt;/span&gt; at about half the
    price&amp;nbsp;point.&lt;/li&gt;
&lt;li&gt;I&amp;#8217;m considering moving my main web site to a &lt;span class="caps"&gt;CMS&lt;/span&gt;, and letting the
    &lt;a href="http://www.jasonantman.com/wiki/"&gt;wiki&lt;/a&gt; serve more as a knowledge&amp;nbsp;base.&lt;/li&gt;
&lt;li&gt;I&amp;#8217;m working on patching together a new access point for the
    ambulance corps, based on &lt;a href="http://pyramid.metrix.net/"&gt;Pyramid
    Linux&lt;/a&gt;. I needed something which would
    run on the Soekris net4526, had at least &lt;span class="caps"&gt;WEP&lt;/span&gt;, and supported some
    sort of captive portal. Pyramid has
    &lt;a href="http://dev.wifidog.org/"&gt;WifiDog&lt;/a&gt;, but that only wants to do local
    authentication or &lt;span class="caps"&gt;RADIUS&lt;/span&gt;, and I wanted direct auth to &lt;span class="caps"&gt;LDAP&lt;/span&gt; and MySQL
    logging. On the positive side, it just uses some &lt;span class="caps"&gt;PHP&lt;/span&gt; pages hosted
    under Apache to handle authentication - the &lt;span class="caps"&gt;WAP&lt;/span&gt; redirects the user
    to a login page on a (separate) web server, the user does their
    stuff, and then the &lt;span class="caps"&gt;WAP&lt;/span&gt; makes a request to the server to determine
    whether it should open up the firewall, keep the user locked down,
    or totally kick them. So, once I figure out some routing issues,
    I&amp;#8217;ll get back to working on the new project -
    &lt;a href="http://blacklabauth.jasonantman.com/"&gt;BlackLabAuth&lt;/a&gt;, a re-write of
    the WifiDog auth server software that&amp;#8217;s geared towards a
    closed-access network (i.e. only people and/or MACs already listed
    in &lt;span class="caps"&gt;LDAP&lt;/span&gt; can login) with full logging to MySQL. I already have some
    code &lt;a href="http://cvs.jasonantman.com/BlackLabAuth"&gt;in &lt;span class="caps"&gt;CVS&lt;/span&gt;&lt;/a&gt;, but some
    issues with my development Soekris board have slowed the project for
    the time being. When finished, I&amp;#8217;ll have not only the new auth
    server available for download (with documentation) but also a
    ready-to-run (well, some configuration time needed, but minor and
    scripted) image for the&amp;nbsp;net4526.&lt;/li&gt;
&lt;li&gt;My desktop that I use for &lt;a href="http://www.mythtv.org/"&gt;MythTV&lt;/a&gt; filled up
    its&amp;#8217; disk. Totally. I ordered a cheap Syba &lt;span class="caps"&gt;SATA&lt;/span&gt; card (&lt;span class="caps"&gt;PCI&lt;/span&gt;) from
    NewEgg, along with a &lt;span class="caps"&gt;500GB&lt;/span&gt; &lt;span class="caps"&gt;WD&lt;/span&gt; &lt;span class="caps"&gt;SATA&lt;/span&gt;-150 disk, but no luck. Though the
    card (Syba / Initio 1622 chipset, shows up as Class 0106: 1101:1622
    (rev 02)) said it was supported under Linux, the driver &lt;span class="caps"&gt;CD&lt;/span&gt; mentioned
    nothing about it. Some investigation on the Syba website turned up a
    zipped archive. After extraction, I found a readme that gave (poor)
    instructions on how to re-compile a kernel, and warned that you &lt;span class="caps"&gt;MUST&lt;/span&gt;
    have 2.6.15. Oh well, I wasn&amp;#8217;t going to give up 2.6.16.27 (the
    newest &lt;span class="caps"&gt;RPM&lt;/span&gt;&amp;#8217;d kernel for OpenSuSE 10.1). The standard drivers for it
    didn&amp;#8217;t appear until 2.6.25 or so. So&amp;#8230; after many debates with
    myself as to whether I should blow away my whole MythTV installation
    and upgrade from the now-ancient 10.1, I decided that I&amp;#8217;ll only be
    in my apartment for another year, I should make it last. Some
    investigation turned up a $24 Silicon Image-based card that should
    work fine, and it&amp;#8217;s now in the&amp;nbsp;mail&amp;#8230;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I&amp;#8217;m sure I missed something big, but I&amp;#8217;ll update as needed, and attempt
to make it a daily habit to post something interesting or, at the very
least, hard-to-find. After all, I&amp;#8217;m sure that I use this blog and my
wiki as an informational resource (my bad memory) more than anyone else&amp;nbsp;would&amp;#8230;&lt;/p&gt;</summary><category term="access point"></category><category term="alix"></category><category term="BlackLabAuth"></category><category term="mythtv"></category><category term="Nagios"></category><category term="pc engines"></category><category term="soekris"></category><category term="tuxostat"></category><category term="WifiDog"></category><category term="wireless"></category></entry><entry><title>Interesting Links for 2008-07-09</title><link href="http://blog.jasonantman.com/2008/07/interesting-links-for-2008-07-09/" rel="alternate"></link><updated>2008-07-10T05:00:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-07-10:2008/07/interesting-links-for-2008-07-09/</id><summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.flickr.com/photos/ronocdh/2651155110/sizes/o/"&gt;Flickr Photo Download: Comparison of file systems - Wikipedia
    (Reiser4 kills your&amp;nbsp;wife)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>JavaScript and Emacs, and updates</title><link href="http://blog.jasonantman.com/2008/07/javascript-and-emacs-and-updates/" rel="alternate"></link><updated>2008-07-01T11:09:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-07-01:2008/07/javascript-and-emacs-and-updates/</id><summary type="html">&lt;p&gt;Well, thankfully, summer classes are almost over (tomorrow is the last
class). I have a big paper to write for one of them, due at the worst
time possible - July 5th. The day after what is, probably, one of the
busiest days of the year for the &lt;a href="http://www.midlandparkambulance.com"&gt;ambulance
corps&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;In follow-ups and&amp;nbsp;news:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://tuxostat.jasonantman.com"&gt;tuxostat&lt;/a&gt; has been running for
    nearly a month in my apartment, and appears stable, albeit missing
    many planned features, and with a sub-optimal interface (and no &lt;span class="caps"&gt;SNMP&lt;/span&gt;&amp;nbsp;yet).&lt;/li&gt;
&lt;li&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://www.tuxtruck.org"&gt;TuxTruck&lt;/a&gt; is still on the back&amp;nbsp;burner.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;I&amp;#8217;ve been playing around with the idea of writing a new electronic
    patient care report system for the ambulance corps, to replace our
    current three-year-old system (written in &lt;span class="caps"&gt;VB&lt;/span&gt; .&lt;span class="caps"&gt;NET&lt;/span&gt; and running on
    Windows). It would probably be coded in Python, with a
    wxWindows/&lt;a href="http://www.wxpython.org/"&gt;wxPython&lt;/a&gt; &lt;span class="caps"&gt;GUI&lt;/span&gt;. I&amp;#8217;ll start on a
    small demo version, but would like it to be fully modular, and
    eventually form a codebase for &lt;a href="http://www.openepcr.org"&gt;OpenEPCR&lt;/a&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Anyway, I&amp;#8217;ve been doing a lot of work for my Building Data-Driven
Websites class (well, alternate assignments, but still a lot of work).
The latest project was an Ajax/&lt;span class="caps"&gt;DHTML&lt;/span&gt; calendar. Needless to say, this involved a lot of JavaScript work. To
make it worse, I used a fair amount of sample code to get an idea of how
to do things, and way too many of the snippets out there on the &amp;#8216;net are
in formats that are quite unfriendly for pasting into an Emacs console&amp;nbsp;window.&lt;/p&gt;
&lt;p&gt;So, I happened to come by &lt;a href="http://steve-yegge.blogspot.com/"&gt;Steve Yegge&amp;#8217;s
blog&lt;/a&gt;, with a posting on &lt;a href="http://steve-yegge.blogspot.com/2008/03/js2-mode-new-javascript-mode-for-emacs.html"&gt;his
JavaScript mode for
Emacs&lt;/a&gt;.
Not only does it seem cool, but it was also the only one I could find
that does syntax highlighting and sane indentation (important for copied
code snippets). So, I grabbed it from &lt;a href="http://code.google.com/p/js2-mode/"&gt;Google
Code&lt;/a&gt; and -&amp;nbsp;viola!&lt;/p&gt;</summary><category term="ajax"></category><category term="call report"></category><category term="dhtml"></category><category term="javascript"></category><category term="pcr"></category><category term="tuxostat"></category><category term="tuxtruck"></category></entry><entry><title>Practical PHP and MySQL</title><link href="http://blog.jasonantman.com/2008/06/practical-php-and-mysql/" rel="alternate"></link><updated>2008-06-26T14:29:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-06-26:2008/06/practical-php-and-mysql/</id><summary type="html">&lt;p&gt;I&amp;#8217;m taking a summer course in Building Data Driven Websites - not that I
thought I&amp;#8217;d learn much in such a course at
&lt;a href="http://scils.rutgers.edu"&gt;&lt;span class="caps"&gt;SCILS&lt;/span&gt;&lt;/a&gt;, but I&amp;#8217;d like to graduate on time, and
need the credits, and Bill Crosbie is just the type of rare teacher that
can keep even me awake and interested. Our book is &lt;a href="http://www.informit.com/store/product.aspx?isbn=0132239973"&gt;Practical &lt;span class="caps"&gt;PHP&lt;/span&gt; and
MySQL: Building Eight Dynamic Web
Applications&lt;/a&gt;
(&lt;a href="http://www.amazon.com/Practical-PHP-MySQL-Building-Applications/dp/0132239973"&gt;Amazon&lt;/a&gt;)
by &lt;a href="http://www.jonobacon.org/"&gt;Jono Bacon&lt;/a&gt;. Now, I know it&amp;#8217;s not a
&lt;em&gt;real&lt;/em&gt; book like, say, &lt;a href="http://oreilly.com/catalog/9780596003432/"&gt;&lt;span class="caps"&gt;ESA3&lt;/span&gt; by
Frisch&lt;/a&gt;, which has a healthy
&lt;a href="http://www.aeleen.com/home.htm"&gt;web presense&lt;/a&gt;. But this thing is all
code and doesn&amp;#8217;t even have a web site, let alone easy code&amp;nbsp;downloads!&lt;/p&gt;
&lt;p&gt;The book does come with a heavily customized Ubuntu LiveCD. However,
when I popped it in my &lt;a href="http://www.opensuse.org"&gt;OpenSuSE workstation&lt;/a&gt;,
I couldn&amp;#8217;t really make much out of the &lt;span class="caps"&gt;CD&lt;/span&gt; - there was certainly no
easy-to-find &amp;#8220;this is the code&amp;#8221; directory. Well, after some exploring, I
mounted the &lt;a href="http://squashfs.sourceforge.net/"&gt;SquashFS&lt;/a&gt; filesystem and
poked around a bit. Strange&amp;#8230; seems to only have one real user (root)
and, though they claim this is a fully-functional &lt;span class="caps"&gt;LAMP&lt;/span&gt; server, no Apache
or MySQL. Really weird. Well, after poking for a few minutes, I found
the holy grail - &lt;code&gt;/root/.bash_history&lt;/code&gt; was intact! Just a quick look
through it with &lt;code&gt;less&lt;/code&gt; and I found what I was looking for: &lt;code&gt;/opt/lampp&lt;/code&gt;.
It appears that the install is actually ApacheFriends&amp;#8217;
&lt;a href="http://www.apachefriends.org/en/xampp-linux.html"&gt;&lt;span class="caps"&gt;LAMPP&lt;/span&gt;&lt;/a&gt;, or &lt;span class="caps"&gt;XAMPP&lt;/span&gt; for
Linux (gotta wonder if the guy writing this book doesn&amp;#8217;t even know how
to install Apache&amp;#8230; I&amp;#8217;m sure &lt;span class="caps"&gt;XAMPP&lt;/span&gt; for Linux is more bloated than a
customized build of Apache/MySQL/&lt;span class="caps"&gt;PHP&lt;/span&gt; from source, especially since it&amp;#8217;s
only being used to host 8 sample projects, so a lot could be left&amp;nbsp;out).&lt;/p&gt;
&lt;p&gt;Anyway, it appears that &lt;span class="caps"&gt;LAMPP&lt;/span&gt; is running in a chroot&amp;#8217;ed environment. The
actual sample code is rooted at &lt;code&gt;/opt/lampp/htdocs/sites&lt;/code&gt;. It seems that
&lt;em&gt;all&lt;/em&gt; of the &lt;span class="caps"&gt;PHP&lt;/span&gt; files are also owned by root and chmod&amp;#8217;ed 777! And
the top-level &lt;code&gt;index.php&lt;/code&gt; file makes use of absolute links, so obviously
he never thought that someone may want to copy the sample code and use
it on a &lt;em&gt;real&lt;/em&gt;&amp;nbsp;box.&lt;/p&gt;
&lt;p&gt;I just can&amp;#8217;t imagine someone who&amp;#8217;s a beginner with Linux, let alone a
Windows person, trying to get this source code onto a machine where they
can actually play with it. And&amp;#8230; to make the situation worse&amp;#8230; the
LiveCD has vi and vim, but no Emacs!!!!&amp;nbsp;Eeeek!!&lt;/p&gt;</summary><category term="books"></category><category term="linux"></category><category term="PHP"></category><category term="programming"></category><category term="rutgers"></category></entry><entry><title>Interesting Links for 2008-06-20</title><link href="http://blog.jasonantman.com/2008/06/interesting-links-for-2008-06-20/" rel="alternate"></link><updated>2008-06-21T05:02:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-06-21:2008/06/interesting-links-for-2008-06-20/</id><summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href="http://arstechnica.com/journals/linux.ars/2008/06/19/firefox-3-mentioned-on-the-colbert-report"&gt;Firefox 3 mentioned on the Colbert&amp;nbsp;Report&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://blog.softwhere.org/archives/196"&gt;Rich Sharples’ Blog » Blog Archive » Java is finally Free and&amp;nbsp;Open&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.livescience.com/technology/080619-chinese-hackers.html"&gt;Why Global Hackers Are Nearly Impossible to Catch |&amp;nbsp;LiveScience&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.freedomworks.org/newsroom/press_template.php?press_id=2571"&gt;Senate Housing Bill Requires eBay, Amazon, Google, and All Credit
    Card Companies to Report Transactions to the Government &amp;#8212;&amp;nbsp;FreedomWorks.org&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://yro.slashdot.org/article.pl?sid=08/06/20/1234214&amp;amp;from=rss"&gt;Slashdot | Electronic Transaction Reporting Slipped Into Senate&amp;nbsp;Bill&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>Custom MediaWiki Sidebar; New Blog?</title><link href="http://blog.jasonantman.com/2008/06/custom-mediawiki-sidebar-new-blog/" rel="alternate"></link><updated>2008-06-18T22:26:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-06-18:2008/06/custom-mediawiki-sidebar-new-blog/</id><summary type="html">&lt;p&gt;As you may have noticed, some &lt;a href="http://www.spreadfirefox.com/node&amp;amp;id=238326&amp;amp;t=305"&gt;Firefox
3&lt;/a&gt;
&lt;a href="http://www.spreadfirefox.com/?q=affiliates/homepage"&gt;buttons&lt;/a&gt; have
popped up not only here on my blog, but also on my
&lt;a href="http://www.jasonantman.com/"&gt;wiki&lt;/a&gt;. While adding the buttons to
&lt;a href="http://www.blogger.com/"&gt;Blogger&lt;/a&gt; was a simple addition to the
template, getting them in the sidebar of MediaWiki wasn&amp;#8217;t exactly as
easy (yeah, I&amp;#8217;m considering the arduous project of moving my whole 102+
page wiki to &lt;a href="http://drupal.org/"&gt;Drupal&lt;/a&gt; or another good F/&lt;span class="caps"&gt;OSS&lt;/span&gt;&amp;nbsp;&lt;span class="caps"&gt;CMS&lt;/span&gt;).&lt;/p&gt;
&lt;p&gt;After some serious grepping through the source, and adding &lt;span class="caps"&gt;HTML&lt;/span&gt; comments
to see where they appeared, I finally found a solution to add the button
to the MediaWiki sidebar - though I&amp;#8217;d really like it to appear below the
search box (I guess that&amp;#8217;s something for my to-do list). I&amp;#8217;m using the
MonoBook skin (though somewhat modified). I&amp;#8217;m using &amp;#8220;MonoBook nouveau&amp;#8221;,
and it should be the version that shipped with &lt;span class="caps"&gt;MW&lt;/span&gt; 1.10.1. In this
version, I added the code around line 166. Specifically, this was added
before the &lt;code&gt;&amp;lt;div id="p-search" class="portlet"&amp;gt;&lt;/code&gt; line, and after the end
of the &lt;code&gt;foreach ($this-&amp;gt;data['sidebar'] as $bar =&amp;gt; $cont)&lt;/code&gt; loop. This
threw the button in a box directly above the search box, and below all
of my sidebar&amp;nbsp;links.&lt;/p&gt;
&lt;p&gt;The code looked something&amp;nbsp;like:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="cp"&gt;&amp;lt;?php } ?&amp;gt;&lt;/span&gt;
&lt;span class="c"&gt;&amp;lt;!-- firefox link added to MonoBook.php by jantman 2008-06-18 --&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;div&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;portlet&amp;#39;&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;p-logos&amp;#39;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;h5&amp;gt;&lt;/span&gt;Cool Stuff&lt;span class="nt"&gt;&amp;lt;/h5&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;div&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;pBody&amp;#39;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;ul&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;li&amp;gt;&amp;lt;a&lt;/span&gt; &lt;span class="na"&gt;href=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;http://www.spreadfirefox.com/node&amp;amp;id=238326&amp;amp;t=305&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;target=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;_blank&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;img&lt;/span&gt; &lt;span class="na"&gt;border=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;0&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;alt=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Firefox 3&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;title=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Firefox 3&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;src=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;http://sfx-images.mozilla.org/affiliates/Buttons/firefox3/110x32_best-yet.png&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/li&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/ul&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span class="c"&gt;&amp;lt;!-- end firefox link --&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;div&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;p-search&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;portlet&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;In other news, I&amp;#8217;m taking a Data Driven Websites class this summer
(&lt;span class="caps"&gt;PHP&lt;/span&gt;/MySQL, but for some reason they switched to a Windows server&amp;#8230;
endless problems, and I can&amp;#8217;t even edit with Nano on the server, let
alone emacs). Our first project was to build a blog engine, which I&amp;#8217;m
working on right now. Anyway, it got me thinking&amp;#8230; the one thing that
Blogger is missing is the ability to post to a given category, and allow
users to view or subscribe to a specific category (or everything). So I
think I may look into writing something like that myself, if I can&amp;#8217;t
find a good alternative that&amp;#8217;s already done and is F/&lt;span class="caps"&gt;OSS&lt;/span&gt;. Regardless,
I&amp;#8217;ll probably be keeping the Blogger template as well as (ugh) moving
over all of my current posts, which Blogger chose to store in raw &lt;span class="caps"&gt;HTML&lt;/span&gt;.
So there&amp;#8217;s going to be a lot of parsing on my&amp;nbsp;future&amp;#8230;&lt;/p&gt;
&lt;p&gt;&lt;span class="caps"&gt;PS&lt;/span&gt; - When I get a new blog engine, I&amp;#8217;m also going to go for a slightly
modified template that uses relative widths and placement - so that
code, like the snippet here, fits the screen&amp;nbsp;correctly.&lt;/p&gt;</summary><category term="blog"></category><category term="firefox"></category><category term="mediawiki"></category><category term="PHP"></category></entry><entry><title>Firefox 3!!!!</title><link href="http://blog.jasonantman.com/2008/06/firefox-3/" rel="alternate"></link><updated>2008-06-18T20:37:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-06-18:2008/06/firefox-3/</id><summary type="html">&lt;p&gt;Well, Firefox 3 is here. And it&amp;#8217;s wonderful. I&amp;#8217;ve had it running all
day, and absolutely love it. I just got &lt;span class="caps"&gt;FFX&lt;/span&gt; 3 running on my laptop (my
primary workstation). The memory management does appear to be better -
nowhere near as much of a strain on the laptop (a mere &lt;span class="caps"&gt;1GB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt;), and
better page load time. I&amp;#8217;m not sure how I feel about the &lt;span class="caps"&gt;UI&lt;/span&gt; changes, but
those can be dealt&amp;nbsp;with&amp;#8230;&lt;/p&gt;
&lt;p&gt;For everyone who downloaded Firefox 3 today - good job! Over
&lt;strong&gt;8 Million&lt;/strong&gt; downloads in 24 hours,
and inching up to 580 Million total downloads of&amp;nbsp;Firefox!!!&lt;/p&gt;
&lt;p&gt;Want to hear a figure even more amazing, from Mozilla&amp;#8217;s &lt;a href="http://blog.mozilla.com/metrics/"&gt;Blog of
Metrics&lt;/a&gt;? It&amp;#8217;s only been
&lt;em&gt;a little over twenty four hours since
the launch&lt;/em&gt;, and &amp;#8220;According the &lt;a href="http://marketshare.hitslink.com/report.aspx?qprid=31"&gt;live
tracking&lt;/a&gt; from Net
Applications, Fx3 has been hovering around 4% worldwide market&amp;nbsp;share.&amp;#8221;&lt;/p&gt;</summary><category term="firefox"></category></entry><entry><title>Firefox 3 Finally Out!</title><link href="http://blog.jasonantman.com/2008/06/firefox-3-finally-out/" rel="alternate"></link><updated>2008-06-18T08:35:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-06-18:2008/06/firefox-3-finally-out/</id><summary type="html">&lt;p&gt;It&amp;#8217;s a wonderful day. And if you haven&amp;#8217;t taken a swing by the &lt;a href="http://www.spreadfirefox.com/en-US/worldrecord"&gt;Firefox
Download Site&lt;/a&gt; yet
today, shame on you! Mozilla is attempting to get the Guinness World
Record for most software downloads in 24 hours - and that 24 hours ends
at 2:16 &lt;span class="caps"&gt;PM&lt;/span&gt; &lt;span class="caps"&gt;EDT&lt;/span&gt; today! So run over and get it&amp;#8230; now! (and please
download from Mozilla&amp;#8217;s site so they have an accurate&amp;nbsp;count).&lt;/p&gt;
&lt;p&gt;Anyway, I&amp;#8217;m going to do my part by downloading the Linux tarball on
every machine I have that has a graphical display - though I don&amp;#8217;t know
if my &lt;span class="caps"&gt;NAT&lt;/span&gt; will end up being counted as one download. For the Linux users
out there, I was able to find an &lt;span class="caps"&gt;RPM&lt;/span&gt; &lt;a href="http://download.opensuse.org/repositories/mozilla:/beta/openSUSE_10.3/i586/"&gt;on the openSuSE
site&lt;/a&gt;
though I&amp;#8217;m not yet sure whether it&amp;#8217;s the release or the beta version.
Windows and Mac users have it easier - Mozilla packages software for
you, we have to do it ourselves or wait for someone else&amp;nbsp;to.&lt;/p&gt;
&lt;p&gt;Anyway, Firefox 3 is supposed to have much better memory usage, be a bit
faster, and also have some great &lt;a href="http://www.mozilla.com/en-US/firefox/features/"&gt;feature
enhancements&lt;/a&gt;.&lt;/p&gt;</summary></entry><entry><title>Update</title><link href="http://blog.jasonantman.com/2008/06/update-2/" rel="alternate"></link><updated>2008-06-15T11:03:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-06-15:2008/06/update-2/</id><summary type="html">&lt;p&gt;I&amp;#8217;ve been incredibly busy lately. But I have 2 quick&amp;nbsp;updates-&lt;/p&gt;
&lt;p&gt;tuxOstat, my thermostat project, isn&amp;#8217;t totally finished, but is up
and running. There&amp;#8217;s still some work to do, but the code is largely
complete. There&amp;#8217;s
also a web interface with temperature
graphs, system status, and a (horrible) webcam view of the &lt;span class="caps"&gt;LCD&lt;/span&gt; control
panel. I&amp;#8217;ll probably be finishing up a first version this week,
finishing the documentation next week, and releasing what I have&amp;nbsp;soon.&lt;/p&gt;
&lt;p&gt;I got an e-mail today about one of my older projects, &lt;a href="http://www.php-ems-tools.com"&gt;&lt;span class="caps"&gt;PHP&lt;/span&gt; &lt;span class="caps"&gt;EMS&lt;/span&gt;
Tools&lt;/a&gt;, a &lt;span class="caps"&gt;PHP&lt;/span&gt;/MySQL based application for
fire/&lt;span class="caps"&gt;EMS&lt;/span&gt; agencies to handle scheduling, membership rosters, equipment
checks, etc. The potential user was asking about running the software on
Windows - which, of course, I have no experience with. I&amp;#8217;m pretty sure
there aren&amp;#8217;t many, if any, Unix-specific calls hidden in the code, and
advised him to try &lt;span class="caps"&gt;XAMPP&lt;/span&gt; (Apache/MySQL on Windows). But I did take a
moment to comment on why I chose Linux. My pilot installation of &lt;span class="caps"&gt;PHP&lt;/span&gt; &lt;span class="caps"&gt;EMS&lt;/span&gt;
Tools, at the Midland Park Volunteer Ambulance Corps, where I&amp;#8217;ve been a
member since 2005, has been handling our scheduling, roster, and
equipment checks since June 2006. It&amp;#8217;s running on a generation 1 Compaq
Proliant &lt;span class="caps"&gt;DL380&lt;/span&gt;, running dual Pentium &lt;span class="caps"&gt;III&lt;/span&gt; 733MHz processors and &lt;span class="caps"&gt;1GB&lt;/span&gt;
memory - and even with a number of other programs on it, including
ieilogd which is reading from the
serial port 24x7 - the load average has never passed 1.2 and the memory
usage is well under 50%. More importantly, the system has been up for
442 days without a&amp;nbsp;hiccup!&lt;/p&gt;</summary><category term="ieilogd"></category><category term="linux"></category><category term="php ems tools"></category><category term="tuxostat"></category></entry><entry><title>New Project</title><link href="http://blog.jasonantman.com/2008/06/new-project/" rel="alternate"></link><updated>2008-06-04T10:34:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-06-04:2008/06/new-project/</id><summary type="html">&lt;p&gt;Well, TuxTruck has been temporarily put on the back burner. I priced out
the hardware, and it looks like a minimum of $1000, more like $1000 if I
get what I had originally wanted. This is complicated by the fact that
my roommates and I were just hit with a $220 electric bill. Mostly,
that&amp;#8217;s due to the central air conditioning in our apartment, and the
horrible inefficiencies with&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;Inefficient? Yes. At the moment, I&amp;#8217;m the only person in the apartment.
I&amp;#8217;m home for the weekend from 18:00 Friday through about 15:00 Monday. I
have class Monday-Thursday night 18:00-21:45. I work Tuesday-Friday
0900-1700. Even though the thermostat we have is &amp;#8220;programmable&amp;#8221;, it can
only be set for 4 time periods per day, weekdays and weekends. So, I
figured that a little added efficiency in calculating when the A/C
should run would go a long way towards energy&amp;nbsp;savings.&lt;/p&gt;
&lt;p&gt;My idea - tuxOstat - is to have a Linux box that has temperature sensors
placed around the apartment, and a bank of relays to control the
heating/cooling systems. So, even though I only got the idea last
Thursday, version 1 should be up and running next&amp;nbsp;week.&lt;/p&gt;
&lt;p&gt;In terms of&amp;nbsp;hardware:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Originally I had planned on using a &lt;a href="http://www.soekris.com/net4526.htm"&gt;Soekris
    net4526&lt;/a&gt; that I had lying
    around. However, the added cost of a MiniPCI &lt;span class="caps"&gt;USB&lt;/span&gt; card seemed
    prohibitive for a one-off project. Instead, I&amp;#8217;m using an old &lt;span class="caps"&gt;HP&lt;/span&gt;
    OmniBook laptop that was already lying behind my servers. It&amp;#8217;s
    running Debian&amp;nbsp;4.0.&lt;/li&gt;
&lt;li&gt;I&amp;#8217;ve ordered (just 15 minutes ago) a &lt;a href="http://www.phidgets.com/products.php?product_id=1014"&gt;Phidgets InterfaceKit
    0/0/4&lt;/a&gt;, which
    connects via &lt;span class="caps"&gt;USB&lt;/span&gt; and provides 4 relays. One will control the fan,
    one for the A/C compressor, one for the heat, and one unused (for&amp;nbsp;now).&lt;/li&gt;
&lt;li&gt;I already had a
    &lt;a href="http://www.hobby-boards.com/catalog/product_info.php?cPath=23&amp;amp;products_id=1503"&gt;&lt;span class="caps"&gt;DS9490&lt;/span&gt;&lt;/a&gt;
    Dallas 1-wire &lt;span class="caps"&gt;USB&lt;/span&gt; adapter from
    &lt;a href="http://www.hobby-boards.com/"&gt;Hobby-Boards.com&lt;/a&gt; along with five
    &lt;a href="http://www.hobby-boards.com/catalog/product_info.php?products_id=93"&gt;&lt;span class="caps"&gt;DS18S20P&lt;/span&gt;&lt;/a&gt;
    1-wire parasite power temperature sensors. I&amp;#8217;ve wired those up with
    one in the living room near the existing thermostat, one in my
    bedroom, and one stuck about five feet up one of the A/C conduits,
    to sense when the system is actually putting out cold air. I&amp;#8217;ve had
    them logging to MySQL since 0200&amp;nbsp;today.&lt;/li&gt;
&lt;li&gt;I decided to bite the bullet and order a beautiful &lt;a href="http://www.crystalfontz.com/products/635xes/index.html"&gt;CrystalFontz
    &lt;span class="caps"&gt;XES635BK&lt;/span&gt;-&lt;span class="caps"&gt;TMF&lt;/span&gt;-&lt;span class="caps"&gt;KU&lt;/span&gt;&lt;/a&gt;
    for the physical interface. It&amp;#8217;s a little backlit &lt;span class="caps"&gt;LCD&lt;/span&gt; display, in a
    surface-mount box, along with four bi-color LEDs and a 6-button
    keypad. That should handle the interface for anyone who doesn&amp;#8217;t want
    to grab a&amp;nbsp;console.&lt;/li&gt;
&lt;li&gt;I&amp;#8217;ll be looking for a eight-pin header so that the relays will plug
    right in to the screw-terminal block that the thermostat uses, to
    make for easy switching to the original thermostat if needed (or
    when moving out in a&amp;nbsp;year).&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Now, in terms of&amp;nbsp;software:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;A Python text-based configuration/administration program. Will be
    accessed via &lt;span class="caps"&gt;SSH&lt;/span&gt; or &lt;span class="caps"&gt;KVM&lt;/span&gt; for the actual&amp;nbsp;machine.&lt;/li&gt;
&lt;li&gt;Lots of state data stored in files under&amp;nbsp;/var.&lt;/li&gt;
&lt;li&gt;A python script, run via cron every 2 minutes, that checks
    temperatures from the 1-wire bus, logs them to MySQL (on a remote
    host) and updates the temperature files in&amp;nbsp;/var.&lt;/li&gt;
&lt;li&gt;A master control script, run via cron every minute, that looks at
    the temperatures, the current system state, any manual overrides
    that exist, and decides what relays should be on or&amp;nbsp;off.&lt;/li&gt;
&lt;li&gt;A daemon to handle relay&amp;nbsp;control.&lt;/li&gt;
&lt;li&gt;A daemon to handle the &lt;span class="caps"&gt;LCD&lt;/span&gt; display output and keypad input
    (including immediate manual&amp;nbsp;overrides).&lt;/li&gt;
&lt;li&gt;A method of providing overrides of the programmed schedule on a
    single-instance basis, i.e. &amp;#8220;system completely off from 2008-06-06
    18:00 to 2008-06-08&amp;nbsp;15:00&amp;#8221;.&lt;/li&gt;
&lt;/ol&gt;</summary><category term="1wire"></category><category term="automation"></category><category term="home control"></category><category term="linux"></category><category term="thermostat"></category></entry><entry><title>OpenOffice Calc formula for IP addresses</title><link href="http://blog.jasonantman.com/2008/05/openoffice-calc-formula-for-ip-addresses/" rel="alternate"></link><updated>2008-05-30T10:56:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-05-30:2008/05/openoffice-calc-formula-for-ip-addresses/</id><summary type="html">&lt;p&gt;It&amp;#8217;s been a while since I&amp;#8217;ve posted. Things are quite busy, with work 4
days a week (9-5) and classes 6-9:30 at night 4 days a week (though
classes are Mon-Thurs and work is&amp;nbsp;Tues-Fri).&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m plodding along on with &lt;a href="http://www.tuxtruck.org/"&gt;TuxTruc&lt;/a&gt;k - we now
have a domain name
(&lt;a href="http://www.tuxtruck.org/"&gt;http://www.tuxtruck.org/&lt;/a&gt;) and playlist
generation is finished. This weekend should yield playlist parsing. Once
&lt;span class="caps"&gt;MP3&lt;/span&gt; playing is working, I&amp;#8217;ll begin the hardcore development - &lt;span class="caps"&gt;GPS&lt;/span&gt;, &lt;span class="caps"&gt;OBD&lt;/span&gt;,
and Bluetooth. Also, I&amp;#8217;m working on a hardware budget for the prototype,
but it&amp;#8217;s ending up much higher than originally imagined. If I end up
going with the &lt;a href="http://www.xenarc.com/product/MDT-X7000.html"&gt;Xenarc
&lt;span class="caps"&gt;MDT&lt;/span&gt;-X7000&lt;/a&gt; display (which
includes a head unit with &lt;span class="caps"&gt;DVD&lt;/span&gt; playing, amplifier, &lt;span class="caps"&gt;CD&lt;/span&gt; playing, and radio
- though those are features I&amp;#8217;d rather to in software on the &lt;span class="caps"&gt;PC&lt;/span&gt;, and
just use the amplifier) which runs $800 &lt;span class="caps"&gt;USD&lt;/span&gt;, the total is looking more
like $2000 than the $1000 I had planned. More to the point, the X7000
currently has poor reviews, and is backordered everywhere pending a
firmware revision. I may end up going the route of a separate head unit,
or a dedicated amplifier (though volume control is still an issue) and
getting a better daylight-readable touchscreen (though I still have a
strong preference for a motorized in-dash type, given the theft rate
around&amp;nbsp;school).&lt;/p&gt;
&lt;p&gt;Another item of news - my mother is considering moving from Verizon FiOS
to the Cablevision/Optimum Triple Play - iO digital &lt;span class="caps"&gt;TV&lt;/span&gt;, cable, and
voice. Given that jasonantman.com - and all of my other machines - live
on shelves in her basement, this will have quite an impact on me. And a
good one! Optimum offers Business-grade service at 30 Mbps down/5 Mbps
up &lt;strong&gt;with 5 static IPs&lt;/strong&gt; at a rate
that I can afford. So, there may be an end to DynDNS, and my sites might
finally live on port 80, like they should! On the down side, this would
mean (for digital &lt;span class="caps"&gt;TV&lt;/span&gt;) a major coax rewiring of mom&amp;#8217;s house - and &lt;span class="caps"&gt;RG&lt;/span&gt;-6/&lt;span class="caps"&gt;UQ&lt;/span&gt;
isn&amp;#8217;t&amp;nbsp;cheap.&lt;/p&gt;
&lt;p&gt;Anyway, the tip of the day - OpenOffice Calc formula to increase the
last quad of an &lt;span class="caps"&gt;IP&lt;/span&gt; address by&amp;nbsp;one:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;=CONCATENATE(LEFT(A1;SEARCH(".[0-9]+$";A1));VALUE(RIGHT(A1;LEN(A1)-SEARCH(".[0-9]+$";A1)))+1)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;I was doing up a little spreadsheet of IPs in the office, and like a
good &lt;span class="caps"&gt;SA&lt;/span&gt; (with nothing else to do), came up with a formula to increase
the last octet by one. Just enter a dotted-quad &lt;span class="caps"&gt;IP&lt;/span&gt; in A1 (or whatever
other cell, correcting the formula), paste this below it, and copy down
the page to your heart&amp;#8217;s content. (Granted, it only changes the last
octet, and expects a properly formatted&amp;nbsp;&lt;span class="caps"&gt;IP&lt;/span&gt;).&lt;/p&gt;</summary><category term="ip address"></category><category term="openoffice"></category><category term="spreadsheet"></category><category term="tuxtruck"></category></entry><entry><title>Interesting Links for 2008-05-28</title><link href="http://blog.jasonantman.com/2008/05/interesting-links-for-2008-05-28/" rel="alternate"></link><updated>2008-05-29T05:01:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-05-29:2008/05/interesting-links-for-2008-05-28/</id><summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href="http://content.techrepublic.com.com/2346-3513_11-202392-1.html"&gt;Gallery: 10 most annoying programs on the Internet | TechRepublic
    Photo&amp;nbsp;Gallery&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>Interesting Links for 2008-05-27</title><link href="http://blog.jasonantman.com/2008/05/interesting-links-for-2008-05-27/" rel="alternate"></link><updated>2008-05-28T05:01:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-05-28:2008/05/interesting-links-for-2008-05-27/</id><summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.linux.com/articles/59381"&gt;Linux.com :: How to get a Windows tax&amp;nbsp;refund&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>SunSPOT Update</title><link href="http://blog.jasonantman.com/2008/05/sunspot-update/" rel="alternate"></link><updated>2008-05-15T16:04:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-05-15:2008/05/sunspot-update/</id><summary type="html">&lt;p&gt;Well, I got the SPOTs working on my system. It was a bit of a pain, but
it&amp;nbsp;worked.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Uninstall &lt;span class="caps"&gt;ALL&lt;/span&gt; of java, jdk, netbeans, and remove user&amp;#8217;s SunSPOT&amp;nbsp;directory.&lt;/li&gt;
&lt;li&gt;Totally remove /usr/java /usr/lib/ /usr/lib/java-1.4.0
    /usr/lib/java-1.4.1 /usr/lib/java-1.4.2 /usr/lib/java-1.5.0
    /usr/lib/java-ext /usr/lib/jvm /usr/lib/jvm-exports&amp;nbsp;/usr/lib/jvm-private&lt;/li&gt;
&lt;li&gt;Totally remove your&amp;nbsp;.netbeans&lt;/li&gt;
&lt;li&gt;Install the&amp;nbsp;jdk6&lt;/li&gt;
&lt;li&gt;Install&amp;nbsp;netbeans6.1&lt;/li&gt;
&lt;li&gt;Login as your normal user, run Netbeans. Install the SunSPOT plugins
    from Bruno Ghisi&amp;#8217;s blog -&amp;nbsp;http://weblogs.java.net/blog/brunogh/archive/2008/04/starting_with_s.html&lt;/li&gt;
&lt;li&gt;Install&amp;nbsp;ant&lt;/li&gt;
&lt;li&gt;Symlink /usr/local/netbeans to&amp;nbsp;/usr/local/netbeans-6.1&lt;/li&gt;
&lt;li&gt;Here, ant -version failed for me. I had to run ant &amp;#8212;execdebug many
    many times and do a *lot* of&amp;nbsp;symlinking.&lt;/li&gt;
&lt;li&gt;Install SunSPOT sdk through&amp;nbsp;SPOTManager.&lt;/li&gt;
&lt;li&gt;To install demos, under &amp;#8220;Preferences&amp;#8221; select &amp;#8220;Beta Update Center&amp;#8221;,
    change Network Timeout, go back to SDKs and install Purple&amp;nbsp;demos.&lt;/li&gt;
&lt;li&gt;cd into \~/SunSPOT/sdk, ln -s ../Demos&amp;nbsp;Demos&lt;/li&gt;
&lt;li&gt;Go back to NetBeans (exit SPOTManager) and open the&amp;nbsp;TelemetryDemo-onSpot.&lt;/li&gt;
&lt;li&gt;Now it&amp;nbsp;&lt;span class="caps"&gt;WORKS&lt;/span&gt;!&lt;/li&gt;
&lt;/ol&gt;</summary><category term="sensor"></category><category term="sun"></category><category term="sunspot"></category></entry><entry><title>Getting SunSPOTs working under OpenSuSE 10.1</title><link href="http://blog.jasonantman.com/2008/05/getting-sunspots-working-under-opensuse-101/" rel="alternate"></link><updated>2008-05-13T13:09:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-05-13:2008/05/getting-sunspots-working-under-opensuse-101/</id><summary type="html">&lt;p&gt;So I&amp;#8217;ve been playing around with&lt;a href="http://www.sunspotworld.com"&gt;SunSPOT&lt;/a&gt;s
lately. Or trying to. My only x86 (32-bit) machines are an old desktop
running OpenSuSE 10.1 and my eeePC. It looks like I just killed my new
install on the &lt;span class="caps"&gt;8GB&lt;/span&gt; &lt;span class="caps"&gt;SDHC&lt;/span&gt; card, so I gave the desktop a try. I&amp;#8217;d already
tried once with the install of Orange from the &lt;span class="caps"&gt;CD&lt;/span&gt; that came with them,
and had NetBeans 6 installed, so I had to do some recovery. The
procedure was as&amp;nbsp;follows:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Install all of the Java6 java-sun packages (specifically the base as&amp;nbsp;devel).&lt;/li&gt;
&lt;li&gt;Download the Java 6 &lt;span class="caps"&gt;JDK&lt;/span&gt; from Sun, and install all of the&amp;nbsp;RPMs.&lt;/li&gt;
&lt;li&gt;Screw with /usr/lib/jvm and get it sane - specifically, replace all
    of the symlinks that point to /etc/alternatives with new ones
    pointing to the Java6 install in&amp;nbsp;/usr/lib/jvm/java-1.6.0-sun-1.6.0&lt;/li&gt;
&lt;li&gt;Delete your entire .netbeans directory (I was having serious issues
    with&amp;nbsp;NetBeans).&lt;/li&gt;
&lt;li&gt;Start NetBeans from the command line with an explicitly set jdkhome:
    &amp;#8220;netbeans &amp;#8212;jdkhome&amp;nbsp;/usr/lib/jvm/java-1.6.0-sun-1.6.0&lt;/li&gt;
&lt;li&gt;Download the &lt;span class="caps"&gt;SPOT&lt;/span&gt; plugin for NetBeans, following the instructions on
    &lt;a href="http://weblogs.java.net/blog/brunogh/archive/2008/04/starting_with_s.html"&gt;Bruno Ghisi&amp;#8217;s
    blog&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Once installed, you should have a little &lt;span class="caps"&gt;SPOT&lt;/span&gt;-looking icon on the
    toolbar below &amp;#8220;Navigate&amp;#8221;. Click on it, and launch SPOTManager from
    the link in the right panel (&amp;#8220;Sun SPOTs Info&amp;#8221;, the link is an icon
    not text). Go through whatever configuration is&amp;nbsp;needed.&lt;/li&gt;
&lt;li&gt;Upgrade local &lt;span class="caps"&gt;SDK&lt;/span&gt; to Purple (Click the &lt;span class="caps"&gt;SDK&lt;/span&gt; tab, select &amp;#8220;v3.0 Purple&amp;#8221;
    from the right panel, click the Upgrade button near the&amp;nbsp;bottom).&lt;/li&gt;
&lt;li&gt;Upgrade your demos following davidgs&amp;#8217;s &lt;a href="http://blogs.sun.com/davidgs/entry/beta_follow_up"&gt;blog
    posting&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Upgrade all of the SPOTs to Purple (plug them in one at a time, on
    the SPOTManager SunSPOTs tab, click&amp;nbsp;&amp;#8220;Upgrade&amp;#8221;).&lt;/li&gt;
&lt;li&gt;I&amp;#8217;m still having some minor issues here. I&amp;#8217;ll update when I have
    everything figured&amp;nbsp;out&amp;#8230;&lt;/li&gt;
&lt;/ol&gt;</summary><category term="java"></category><category term="linux"></category><category term="netbeans"></category><category term="sun"></category><category term="sunspot"></category></entry><entry><title>Interesting Links for 2008-05-12</title><link href="http://blog.jasonantman.com/2008/05/interesting-links-for-2008-05-12/" rel="alternate"></link><updated>2008-05-13T05:01:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-05-13:2008/05/interesting-links-for-2008-05-12/</id><summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href="http://pewresearch.org/pubs/776/china-internet"&gt;Pew Research Center: Few in China Complain About Internet&amp;nbsp;Controls&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.oreillynet.com/onlamp/blog/2008/05/another_virtualization_option.html?CMP=OTC-6YE827253101&amp;amp;ATT=Another+Virtualization+Option+No+not+VMware+or+Xen+or+Virtual+Server"&gt;Another Virtualization Option: No, not VMware, or Xen, or Virtual
    Server&amp;amp;#133; - O&amp;#8217;Reilly ONLamp&amp;nbsp;Blog&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.linuxinsider.com/rsstory/62952.html"&gt;Linux News: Blogosphere: Can a Windows &lt;span class="caps"&gt;PC&lt;/span&gt; Really Be Cheaper Than a
    Linux&amp;nbsp;Box?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.ibm.com/developerworks/linux/library/l-selinux/?ca=dgr-lnxw01SELinux"&gt;Anatomy of Security-Enhanced Linux&amp;nbsp;(SELinux)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://linux.slashdot.org/article.pl?sid=08/05/12/1325203&amp;amp;from=rss"&gt;Slashdot | Microsoft &amp;#8216;Shared Source&amp;#8217; Attempts to Hijack&amp;nbsp;&lt;span class="caps"&gt;FOSS&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>Interesting Links for 2008-05-08</title><link href="http://blog.jasonantman.com/2008/05/interesting-links-for-2008-05-08/" rel="alternate"></link><updated>2008-05-09T05:01:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-05-09:2008/05/interesting-links-for-2008-05-08/</id><summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.ebookee.com/index.php?tag=3"&gt;Free eBooks Tag: Internet/Networking list - Free Download eBooks&amp;nbsp;Engine!&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>Interesting Links for 2008-05-07</title><link href="http://blog.jasonantman.com/2008/05/interesting-links-for-2008-05-07/" rel="alternate"></link><updated>2008-05-08T05:01:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-05-08:2008/05/interesting-links-for-2008-05-07/</id><summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.crystalnetworking.net/?p=17"&gt;Crystal Networking » Blog Archive » Setting up &lt;span class="caps"&gt;EVDO&lt;/span&gt; in&amp;nbsp;Linux&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.evdoforums.com/thread7379.html"&gt;Verizon Novatel U727 and Linux/Ubuntu?? :&amp;nbsp;EVDOforums.com&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.gadgetizer.com/2007/09/28/verizon-wireless-usb727-modem/"&gt;Verizon Wireless &lt;span class="caps"&gt;USB727&lt;/span&gt; modem by&amp;nbsp;Gadgetizer.com&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.evdoinfo.com/content/view/2114/40/"&gt;Verizon &lt;span class="caps"&gt;USB727&lt;/span&gt; &lt;span class="caps"&gt;EVDO&lt;/span&gt; Rev A Modem :&amp;nbsp;EVDOinfo.com&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://ubuntuforums.org/showthread.php?t=650795"&gt;usb727 verizon wireless air card packages? - Ubuntu&amp;nbsp;Forums&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.ka9q.net/5220.html"&gt;Using the AirPrime 5220 1xEV-&lt;span class="caps"&gt;DO&lt;/span&gt; card on&amp;nbsp;Linux&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://kenkinder.com/evdo-pc5740/"&gt;kenkinder.com - Using Verizon Wireless &lt;span class="caps"&gt;EVDO&lt;/span&gt;, &lt;span class="caps"&gt;PC5740&lt;/span&gt;, and&amp;nbsp;Linux&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.linux.com/feature/52729"&gt;Linux.com :: Get broadband wireless with Verizon &lt;span class="caps"&gt;EVDO&lt;/span&gt; and&amp;nbsp;Linux&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>SunSPOT; CarPC; MediaWiki Logging</title><link href="http://blog.jasonantman.com/2008/05/sunspot-carpc-mediawiki-logging/" rel="alternate"></link><updated>2008-05-07T10:03:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-05-07:2008/05/sunspot-carpc-mediawiki-logging/</id><summary type="html">&lt;p&gt;Well, finals season is upon me. That&amp;#8217;s probably why I haven&amp;#8217;t been
posting much lately (I haven&amp;#8217;t even been checking &lt;a href="http://reader.google.com/"&gt;Google
Reader&lt;/a&gt; - I&amp;#8217;ll have to delete a few thousand
entries when I get back into the swing of things). I&amp;#8217;ve been pretty
busy, between studying, projects, and work. I&amp;#8217;ll be working 4 days a
week through June 20th, as well as taking night classes 4 nigths a week
(unfortunately not the same 4 days) through July 3, in an effort to
graduate Rutgers on time (after transferring in and also switching
majors). Work after June 20th is up in the air - who knows how hard the
budget cuts will&amp;nbsp;hit.&lt;/p&gt;
&lt;p&gt;My internship as the Sun Microsystems Campus Ambassador to Rutgers is
over on May 12th. I got a chance to do the Rutgers &lt;span class="caps"&gt;IT&lt;/span&gt; Vendor Fair with
Sun, and met a few cool people - especially including Matt McGrath of
&lt;a href="http://www.conres.com/"&gt;Continental Resources&lt;/a&gt;, a Sun Strategic iForce
Partner, who&amp;#8217;s doing some wonderful things with the &lt;a href="http://www.sun.com/solutions/landing/industry/education/edu_essentials.jsp"&gt;Sun Education
Essentials Matching Grant
Program&lt;/a&gt;,
and &lt;a href="http://opsamericas.com/"&gt;Skip Paul&lt;/a&gt;, a Linux Systems Engineer for
Novell&amp;#8217;s Open Platform Solutions group. I also finally cracked open my
demo set of &lt;a href="http://www.sunspotworld.com/"&gt;SunSPOT&lt;/a&gt;s. Wonderful little
devices, radio, run Java on the bare metal, and have temperature
sensors, accelerometers, and liberal I/O. My first development exereice
will probably be making a temperature and acceleration data logger for
my truck, but there&amp;#8217;s surely more to come. They&amp;#8217;re&amp;nbsp;great!&lt;/p&gt;
&lt;p&gt;My newest project - which I&amp;#8217;m hoping to spend nearly the whole summer on
- is the &lt;a href="http://www.jasonantman.com/tuxtruck/"&gt;TuxTruck&lt;/a&gt;. I&amp;#8217;ve been
frustrated with the lack of &amp;#8220;smartness&amp;#8221; in my truck (an 06 Ford F-250),
not to mention having to remember my &lt;span class="caps"&gt;MP3&lt;/span&gt; player so I can listen to
podcasts on the way to work, and having so many gadgets in my truck. So,
the solution is obvious: a Linux-based
&lt;a href="http://en.wikipedia.org/wiki/Carpc"&gt;CarPC&lt;/a&gt;. A nice little Mini-&lt;span class="caps"&gt;ATX&lt;/span&gt; box
under a seat, with a 7&amp;#8221; pull-out touchscreen in the dash (replacing the
factory radio). It&amp;#8217;s a big, complicated, and expensive project - but I
want one, and I could use some experience with smaller systems.&lt;br /&gt;
The major features I have&amp;nbsp;planned:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Realtime &lt;span class="caps"&gt;GPS&lt;/span&gt;&amp;nbsp;navigation&lt;/li&gt;
&lt;li&gt;Hands-free bluetooth calls from my cell, with address book, routing
    to contact address, possibly voice&amp;nbsp;dialing.&lt;/li&gt;
&lt;li&gt;Realtime&amp;nbsp;weather&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;OBD&lt;/span&gt;-&lt;span class="caps"&gt;II&lt;/span&gt; interface, for vehicle diagnostics and fuel
    efficiency/performance&amp;nbsp;profiling&lt;/li&gt;
&lt;li&gt;Audio - at a minimum searching and playing MP3s, and automatically
    downloading podcasts and throwing them in a playlist. Perhaps also
    an &lt;span class="caps"&gt;AM&lt;/span&gt;/&lt;span class="caps"&gt;FM&lt;/span&gt;&amp;nbsp;tuner&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;It&amp;#8217;s not an easy project. So far, the major challenges seem to&amp;nbsp;be:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;No full-featured &lt;span class="caps"&gt;GPS&lt;/span&gt; navigation package available. The ones that are
    available don&amp;#8217;t seem to be too easy to integrate into my planned
    &lt;span class="caps"&gt;GUI&lt;/span&gt;, which will allot them 800x420 pixels (on an 800x480 screen) and
    requre the bottom toolbar to be always&amp;nbsp;available.&lt;/li&gt;
&lt;li&gt;How to handle processing of multiple data streams that require
    near-real-time processing - specifically, &lt;span class="caps"&gt;GPS&lt;/span&gt; with text-to-speech,
    turn-by-turn directions, plus playing audio, plus responding to an
    incoming phone call in a timely manner, pausing the audio, and
    stopping &lt;span class="caps"&gt;GPS&lt;/span&gt; audio but continuing&amp;nbsp;navigation.&lt;/li&gt;
&lt;li&gt;Whether to install a smaller stereo and use aux input for audio, or
    totally rip out the stereo, use an amp with the computer as its only
    input, and then how to control&amp;nbsp;volume?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There will be more to come in the future. For now, take a look at &lt;a href="https://github.com/jantman/tuxtruck"&gt;the
TuxTruck github&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Update Saturday, March 2, 2013&lt;/strong&gt; - I&amp;#8217;m in the process of migrating my
legacy &lt;span class="caps"&gt;CVS&lt;/span&gt; and Subversion repositories to
&lt;a href="http://github.com/jantman/"&gt;github.com&lt;/a&gt;. The forgotten &lt;span class="caps"&gt;SVN&lt;/span&gt; repository
for TuxTruck has been migrated there, and the &lt;span class="caps"&gt;CVS&lt;/span&gt; repository will soon
be moved there as well. Tuxtruck.org has been permanently taken offline
and redirected to the GitHub&amp;nbsp;repository.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Mediawiki Logging&lt;/strong&gt; - I recently
had a situation where I had to confirm how much work someone had done on
a MediaWiki-based project. The Recent Changes page only goes back 30
days, and walking through the History of each page is a pain. After
looking around in the database a bit, I found a few tables of&amp;nbsp;interest:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Table &amp;#8220;users&amp;#8221; includes fields &amp;#8220;user_touched&amp;#8221; (last time the user
    was updated) and &amp;#8220;user_editcount&amp;#8221; (a really simple count of the
    users&amp;#8217; number of&amp;nbsp;edits).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Table &amp;#8220;recentchanges&amp;#8221; holds a lot of data&amp;#8230; seemingly the entire
    life of the&amp;nbsp;wiki&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</summary><category term="bluetooth"></category><category term="car"></category><category term="carpc"></category><category term="conres"></category><category term="gps"></category><category term="linux"></category><category term="mediawiki"></category><category term="novell"></category><category term="obd"></category><category term="rutgers"></category><category term="sun"></category><category term="sunspot"></category><category term="suse"></category><category term="tuxtruck"></category></entry><entry><title>Madwifi on the eeePC</title><link href="http://blog.jasonantman.com/2008/05/madwifi-on-the-eeepc/" rel="alternate"></link><updated>2008-05-04T22:32:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-05-04:2008/05/madwifi-on-the-eeepc/</id><summary type="html">&lt;p&gt;So, I&amp;#8217;ve started a new &lt;a href="http://www.opensuse.org"&gt;OpenSuSE&lt;/a&gt; install on my
eeePC. The &lt;span class="caps"&gt;4GB&lt;/span&gt; &lt;span class="caps"&gt;SDHC&lt;/span&gt; card that I originally used was getting a bit
cramped - I couldn&amp;#8217;t even fit the kernel source! So, I bought a new &lt;span class="caps"&gt;8GB&lt;/span&gt;
&lt;span class="caps"&gt;SDHC&lt;/span&gt; card and started from scratch. I know that OpenSuSE 11 is coming up
soon, but I just couldn&amp;#8217;t wait, so I just used OpenSuSE 10.3&amp;nbsp;again.&lt;/p&gt;
&lt;p&gt;I followed my &lt;a href="http://www.jasonantman.com/wiki/index.php/OpenSuSE_10.3_on_eeePC_External_SDHC"&gt;previous
how-to&lt;/a&gt;,
and also am updating it with some new information - such as my
xorg.conf. Most interestingly, though, I actually got MadWiFi to work
with the &lt;a href="http://madwifi.org/wiki/Compatibility/Atheros#AtherosAR5BXB63"&gt;Atheros
&lt;span class="caps"&gt;AR5BXB63&lt;/span&gt;&lt;/a&gt;
on the eeePC! I haven&amp;#8217;t tested everything yet (specifically &lt;span class="caps"&gt;WPA&lt;/span&gt;/&lt;span class="caps"&gt;WPA2&lt;/span&gt;)
but it seems to work fine. I&amp;#8217;ve updated &lt;a href="http://www.jasonantman.com/wiki/index.php/OpenSuSE_10.3_on_eeePC_External_SDHC#Update_2008-05-02"&gt;my
HowTo&lt;/a&gt;
with the instructions, but mainly it hinges on using
madwifi-ng-r2756+ar5007 (&lt;a href="http://snapshots.madwifi.org/special/madwifi-ng-r2756+ar5007.tar.gz"&gt;gzipped
tarball&lt;/a&gt;)
and compiling from&amp;nbsp;source.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; This HowTo is based on the original eeePC 701 4G and OpenSuSE
10.3. It may not be needed for newer versions of OpenSuSE or newer
versions of the&amp;nbsp;eeePC.&lt;/p&gt;</summary><category term="atheros"></category><category term="eeepc"></category><category term="madwifi"></category><category term="wifi"></category><category term="wireless"></category></entry><entry><title>Interesting Links for 2008-05-01</title><link href="http://blog.jasonantman.com/2008/05/interesting-links-for-2008-05-01/" rel="alternate"></link><updated>2008-05-02T05:01:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-05-02:2008/05/interesting-links-for-2008-05-01/</id><summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.schneier.com/blog/archives/2006/09/what_is_a_hacke.html"&gt;Schneier on Security: What is a&amp;nbsp;Hacker?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>Interesting Links for 2008-04-24</title><link href="http://blog.jasonantman.com/2008/04/interesting-links-for-2008-04-24/" rel="alternate"></link><updated>2008-04-25T05:01:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-04-25:2008/04/interesting-links-for-2008-04-24/</id><summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.oreillynet.com/onlamp/blog/2008/04/how_small_businesses_can_suppo.html?CMP=OTC-6YE827253101&amp;amp;ATT=How+Small+Businesses+Can+Support+Community-Driven+Projects"&gt;How Small Businesses Can Support Community-Driven Projects -
    O&amp;#8217;Reilly ONLamp&amp;nbsp;Blog&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>Interesting Links for 2008-04-23</title><link href="http://blog.jasonantman.com/2008/04/interesting-links-for-2008-04-23/" rel="alternate"></link><updated>2008-04-24T05:01:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-04-24:2008/04/interesting-links-for-2008-04-23/</id><summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href="http://consumerist.com/382824/emi-says-you-cant-store-your-music-files-online"&gt;Bad Company: &lt;span class="caps"&gt;EMI&lt;/span&gt; Says You Can&amp;#8217;t Store Your Music Files&amp;nbsp;Online&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://yro.slashdot.org/article.pl?sid=08/04/22/2032232&amp;amp;from=rss"&gt;Slashdot | Microsoft Loses Appeal of &amp;#8220;Vista-Capable&amp;#8221;&amp;nbsp;Lawsuit&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>Interesting Links for 2008-04-22</title><link href="http://blog.jasonantman.com/2008/04/interesting-links-for-2008-04-22/" rel="alternate"></link><updated>2008-04-23T05:01:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-04-23:2008/04/interesting-links-for-2008-04-22/</id><summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.groklaw.net/article.php?story=20080421091129596"&gt;Groklaw - Microsoft Office 2007 Fails &lt;span class="caps"&gt;OOXML&lt;/span&gt; Conformance Tests, Alex
    Brown Admits, Hopes For the&amp;nbsp;Best&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://news.bbc.co.uk/1/hi/technology/7358483.stm"&gt;&lt;span class="caps"&gt;BBC&lt;/span&gt; &lt;span class="caps"&gt;NEWS&lt;/span&gt; | Technology | Ubuntu &amp;#8216;reaping Linux&amp;nbsp;dividend&amp;#8217;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.cnet.com/8301-13846_1-9920202-62.html"&gt;Study Finds &amp;#8216;Free Open Source Software Is Costing Vendors $60
    Billion&amp;#8217; | Negative Approach - &lt;span class="caps"&gt;CNET&lt;/span&gt;&amp;nbsp;Blogs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://techdirt.com/articles/20080418/131942889.shtml"&gt;Techdirt: Patent Boss Admits That The Patent Office Keeps Getting
    Flooded By More And More Bad&amp;nbsp;Patents&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.linuxinsider.com/rsstory/62671.html"&gt;Linux News: Products: MySQL&amp;#8217;s Marten Mickos: We&amp;#8217;re Staying&amp;nbsp;Open&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.oreillynet.com/onlamp/blog/2008/04/freeloading_adoption_of_foss.html?CMP=OTC-6YE827253101&amp;amp;ATT=Free-loading+Adoption+of+F+OSS"&gt;Free-loading Adoption of F/&lt;span class="caps"&gt;OSS&lt;/span&gt; - O&amp;#8217;Reilly ONLamp&amp;nbsp;Blog&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.nj.com/news/ledger/index.ssf?/base/news-13/1208838925176980.xml&amp;amp;coll=1"&gt;&lt;span class="caps"&gt;N.J.&lt;/span&gt; justices call e-privacy surfers&amp;#8217; right-&amp;nbsp;&lt;span class="caps"&gt;NJ&lt;/span&gt;.com&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://hardware.slashdot.org/article.pl?sid=08/04/22/1317212&amp;amp;from=rss"&gt;Slashdot | &lt;span class="caps"&gt;FBI&lt;/span&gt; Concerned About Implications of Counterfeit Cisco&amp;nbsp;Gear&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.oreillynet.com/onlamp/blog/2008/04/mysql_and_lamp_consulting.html?CMP=OTC-6YE827253101&amp;amp;ATT=MySQL+and+LAMP+Consulting"&gt;MySQL and &lt;span class="caps"&gt;LAMP&lt;/span&gt; Consulting - O&amp;#8217;Reilly ONLamp&amp;nbsp;Blog&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.linuxjournal.com/content/introduction-forensics"&gt;Introduction to Forensics | Linux&amp;nbsp;Journal&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.johnmwillis.com/groundwork/the-mighty-two-zenoss/"&gt;The Mighty Two - Zenoss | John M Willis &lt;span class="caps"&gt;ESM&lt;/span&gt;&amp;nbsp;Blog&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>Web Traffic for JasonAntman.com - Webalizer, Site Maps</title><link href="http://blog.jasonantman.com/2008/04/web-traffic-for-jasonantmancom-webalizer-site-maps/" rel="alternate"></link><updated>2008-04-22T15:52:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-04-22:2008/04/web-traffic-for-jasonantmancom-webalizer-site-maps/</id><summary type="html">&lt;p&gt;I&amp;#8217;ve been working on the design of a town council campaign site for a
friend - &lt;a href="http://www.mikennick08.com/"&gt;www.mikennick08.com&lt;/a&gt;. It&amp;#8217;s hosted
by an additional Apache vhost on my personal server (and running off of
port 10015 - ugh). I setup &lt;a href="http://www.mrunix.net/webalizer/"&gt;Webalizer&lt;/a&gt;
for him, so I figured I&amp;#8217;d give my own webalizer installation a check.
Wow - 30,215 hits this month alone. That reminded me of a problem with
my ignored hosts - 17,600 of those hits were Googlebot, and another
2,065 were Yandex (a Russian search&amp;nbsp;engine).&lt;/p&gt;
&lt;p&gt;Amazingly, though, it seems like Google is only indexing my blog. My
precious wiki seems out of whack, not to metion my &lt;span class="caps"&gt;CVS&lt;/span&gt;&amp;nbsp;repository.&lt;/p&gt;
&lt;p&gt;So, this reminded me of two long-overdue&amp;nbsp;tasks:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Get webalizer to properly ignore the common&amp;nbsp;bots.&lt;/li&gt;
&lt;li&gt;Get sitemaps of my entire&amp;nbsp;site.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;So, off to the&amp;nbsp;races!&lt;/p&gt;
&lt;p&gt;First, I added Googlebot, Yandex, and a few others to webalizer.conf
with IgnoreAgent directives. Then, after clearing out my entire output
directory - and waiting a &lt;span class="caps"&gt;LONG&lt;/span&gt; time for it to run - bingo! Real stats.
Down to about 8000 hits for the month, which seems more logical, even
including the \~2,000 hits from Google&amp;nbsp;feedfetcher.&lt;/p&gt;
&lt;p&gt;Next stop was sitemaps. It tooks some &lt;span class="caps"&gt;PHP&lt;/span&gt; magic to hack apart the
MediaWiki sitemaps, put in the correct URLs (it was showing an
internal-only hostname), and drop all that and my Blogger rss.xml in an
index file. It&amp;#8217;s now 2 &lt;span class="caps"&gt;AM&lt;/span&gt;, and it just crashed and burned - the &lt;span class="caps"&gt;PHP&lt;/span&gt;
script worked fine, but for some reason my entries in
sitemaps_index.xml - which pointed to sitemaps in a subdirectory - came
back with errors. Well, something to work on&amp;nbsp;tomorrow.&lt;/p&gt;
&lt;p&gt;This morning I checked my backups and noticed that nothing had run in 3
days. It turns out I just had one failed job holding everything up. And
I screwed up - I was home this weekend and forgot to swap tapes. It&amp;#8217;ll
be another 2 weeks before I can. But, I took the time to setup a backup
status box on my administrative portal (more on that later) and will
also be revising my apparently ineffectual Nagios check&amp;nbsp;script.&lt;/p&gt;
&lt;p&gt;On a few side notes: First, I&amp;#8217;m seriously thinking of dumping Verizon
FiOS. While I really like the service, their static &lt;span class="caps"&gt;IP&lt;/span&gt; (business)
variant is $100/month for 15 Mbps down / 2 Mbps up, whereas
Cablevision&amp;#8217;s Optimum Business with static &lt;span class="caps"&gt;IP&lt;/span&gt; is $55/month for 30 Mbps
down / 5 Mbps&amp;nbsp;up!&lt;/p&gt;
&lt;p&gt;Most of the previous projects have been put on hold for the time being
(mainly because of impending final exams at school) - the new Gigabit
Ethernet switch for backups, testing Zenoss and upgrading monitoring (to
a new product or Nagios 3),&amp;nbsp;etc.&lt;/p&gt;</summary><category term="bacula"></category><category term="bandwidth"></category><category term="connectivity"></category><category term="ISP"></category><category term="Nagios"></category><category term="webalizer"></category></entry><entry><title>Centralized Storage via SFTP</title><link href="http://blog.jasonantman.com/2008/04/centralized-storage-via-sftp/" rel="alternate"></link><updated>2008-04-21T17:28:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-04-21:2008/04/centralized-storage-via-sftp/</id><summary type="html">&lt;p&gt;For quite a while, I&amp;#8217;ve been planning on centralizing a lot of my
personal storage (documents, miscellaneous stuff) on one machine at
home. The biggest problem that I have is that, while a &lt;span class="caps"&gt;VPN&lt;/span&gt; would be a
good solution for my apartment (if I could get
&lt;a href="http://www.ipcop.org/"&gt;IPcop&lt;/a&gt;to do &lt;span class="caps"&gt;VPN&lt;/span&gt; between two dynamic IPs), it
doesn&amp;#8217;t really work for my mobile life. My laptop is often connected to
untrusted wireless, and unknown firewall configurations, so &lt;span class="caps"&gt;VPN&lt;/span&gt; isn&amp;#8217;t
always the best (and definitely not the easiest) option. Given road
warrior use, &lt;span class="caps"&gt;NFS&lt;/span&gt; is obviously out of the&amp;nbsp;question.&lt;/p&gt;
&lt;p&gt;After a little searching, I found the
&lt;a href="http://fuse.sourceforge.net/sshfs.html"&gt;&lt;span class="caps"&gt;SSHFS&lt;/span&gt;&lt;/a&gt; module for
&lt;a href="http://fuse.sourceforge.net/"&gt;&lt;span class="caps"&gt;FUSE&lt;/span&gt;&lt;/a&gt;, which allows userspace mounting of
a &lt;span class="caps"&gt;SFTP&lt;/span&gt; filesystem. Despite some initial hiccups, I managed to get it
setup on two machines - my laptop and a desktop in the apartment. This
week I&amp;#8217;ll finish working on the rest of the machines - and eventually
replace my aging &lt;a href="http://www.jasonantman.com/wiki/index.php/SSH_Gateway_Box"&gt;&lt;span class="caps"&gt;SSH&lt;/span&gt;
gateway&lt;/a&gt;
machine (currently a 10-year-old Gateway mini tower) with a
&lt;a href="http://www.soekris.com/"&gt;Soekris&lt;/a&gt;&amp;nbsp;box.&lt;/p&gt;
&lt;p&gt;The setup was pretty&amp;nbsp;easy:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Make sure you have public key authentication setup for ssh between
    the machines, using &lt;span class="caps"&gt;RSA&lt;/span&gt;&amp;nbsp;keys.&lt;/li&gt;
&lt;li&gt;Make sure fuse, libfuse, and the related packages are&amp;nbsp;installed.&lt;/li&gt;
&lt;li&gt;Install the sshfs&amp;nbsp;package.&lt;/li&gt;
&lt;li&gt;Make sure your user is added to the &amp;#8220;trusted&amp;#8221; group (for&amp;nbsp;OpenSuSE).&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;After that, just give it a spin, as the user that you want to mount the
filesystem&amp;nbsp;as:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sshfs hostname:/path/to/mount /path/to/local/mountpoint&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Once that worked pefectly, I added the following to my &lt;code&gt;.bash_profile&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="c"&gt;# this handles &lt;span class="caps"&gt;SSHFS&lt;/span&gt; mount of the central-home dir&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; -a /path/to/local/mountpoint &lt;span class="o"&gt;]&lt;/span&gt;; &lt;span class="k"&gt;then&lt;/span&gt;
&lt;span class="k"&gt;    &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;span class="caps"&gt;HOSTNAME&lt;/span&gt; home is mounted at /path/to/local/mountpoint&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;else&lt;/span&gt;
&lt;span class="k"&gt;    &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Mounting &lt;span class="caps"&gt;HOSTNAME&lt;/span&gt; home at /path/to/local/mountpoint...&amp;quot;&lt;/span&gt;
    hostname:/path/to/mount /path/to/local/mountpoint&lt;span class="sb"&gt;`&lt;/span&gt;  
&lt;span class="k"&gt;fi&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="fuse"></category><category term="sftp"></category><category term="ssh"></category><category term="sshfs"></category><category term="storage"></category></entry><entry><title>Mac to TTF font conversion</title><link href="http://blog.jasonantman.com/2008/04/mac-to-ttf-font-conversion/" rel="alternate"></link><updated>2008-04-16T23:03:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-04-16:2008/04/mac-to-ttf-font-conversion/</id><summary type="html">&lt;p&gt;I know i haven&amp;#8217;t posted in a&amp;nbsp;while.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m working on a friend&amp;#8217;s web site, and needed a specific font for the
title graphic. I couldn&amp;#8217;t find it &lt;em&gt;anywhere&lt;/em&gt; as a free &lt;span class="caps"&gt;TTF&lt;/span&gt; download
for my Linux machine. However, after asking a friend who&amp;#8217;s a Mac user, I
got a .dfont file as an email&amp;nbsp;attachment.&lt;/p&gt;
&lt;p&gt;After some quick Googling, I came by the
&lt;a href="http://sourceforge.net/projects/fondu/"&gt;fondu&lt;/a&gt; project on SourceForge.
I didn&amp;#8217;t look into it in depth, but I just grabbed the i386 &lt;span class="caps"&gt;RPM&lt;/span&gt;,
installed it, and - magic! The in the directory with my .dfont I now
also had .ttf fonts for all of the&amp;nbsp;variants!&lt;/p&gt;</summary><category term="font"></category><category term="mac"></category></entry><entry><title>Interesting Links for 2008-04-09</title><link href="http://blog.jasonantman.com/2008/04/interesting-links-for-2008-04-09/" rel="alternate"></link><updated>2008-04-10T05:00:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-04-10:2008/04/interesting-links-for-2008-04-09/</id><summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.cgi101.com/class/password/mod_auth_mysql.html"&gt;mod_auth_mysql Usage /&amp;nbsp;Documentation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.groklaw.net/article.php?story=20080409033837121"&gt;Groklaw - In re Bilski &amp;#8212; Red Hat files amicus brief saying
    software patents are a brake on&amp;nbsp;innovation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://lwn.net/Articles/277161/"&gt;An opportunity to End Software Patents: &lt;span class="caps"&gt;ESP&lt;/span&gt; briefs Court in its
    historic rehearing of the Bilski case&amp;nbsp;[&lt;span class="caps"&gt;LWN&lt;/span&gt;.net]&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>Interesting Links for 2008-04-08</title><link href="http://blog.jasonantman.com/2008/04/interesting-links-for-2008-04-08/" rel="alternate"></link><updated>2008-04-09T05:00:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-04-09:2008/04/interesting-links-for-2008-04-08/</id><summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.press.redhat.com/2008/04/07/red-hat-asks-federal-court-to-limit-patents-on-software/"&gt;Red Hat News | Red Hat Asks Federal Court To Limit Patents On&amp;nbsp;Software&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://blogs.sun.com/jimgris/entry/the_ubuntu_brand"&gt;The Ubuntu Brand - Jim&amp;nbsp;Grisanzio&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.datacenterknowledge.com/archives/2008/Apr/07/microsoft_seeking_to_patent_the_cloud.html"&gt;Microsoft Seeking to Patent the Cloud? - Data Center&amp;nbsp;Knowledge&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://arstechnica.com/articles/culture/free-software-summit-10th.ars"&gt;Open Source Decade: 10 years after the Free Software Summit: Page&amp;nbsp;1&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.linuxplanet.com/linuxplanet/opinions/6473/1/"&gt;LinuxPlanet - Opinions - &lt;span class="caps"&gt;GNU&lt;/span&gt;/Linux: Too Much about Hate, Not Enough
    about Pride - Negative&amp;nbsp;Identity&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>Interesting Links for 2008-04-05</title><link href="http://blog.jasonantman.com/2008/04/interesting-links-for-2008-04-05/" rel="alternate"></link><updated>2008-04-06T05:00:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-04-06:2008/04/interesting-links-for-2008-04-05/</id><summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href="http://freediag.sourceforge.net/Scantool-Manual.html"&gt;Freediag - Scantool Application&amp;nbsp;Manual&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.designnews.com/contents/pdf/DNx070514Gadget_Text.pdf"&gt;Design News &lt;span class="caps"&gt;PDF&lt;/span&gt;: Calculating Fuel Mileage with&amp;nbsp;&lt;span class="caps"&gt;OBD&lt;/span&gt;-&lt;span class="caps"&gt;II&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>Interesting Links for 2008-04-04</title><link href="http://blog.jasonantman.com/2008/04/interesting-links-for-2008-04-04/" rel="alternate"></link><updated>2008-04-05T05:00:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-04-05:2008/04/interesting-links-for-2008-04-04/</id><summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.youtube.com/watch?v=QHOPavgsM4M"&gt;YouTube - Dolphin &lt;span class="caps"&gt;TV&lt;/span&gt; - MySQL Acquires&amp;nbsp;Sun?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.tigris.org/editorial/safetynet.html"&gt;Tigris.org - Consensus Voting in&amp;nbsp;F/&lt;span class="caps"&gt;OSS&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>Interesting Links for 2008-04-03</title><link href="http://blog.jasonantman.com/2008/04/interesting-links-for-2008-04-03/" rel="alternate"></link><updated>2008-04-04T05:00:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-04-04:2008/04/interesting-links-for-2008-04-03/</id><summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href="http://nagios.sourceforge.net/docs/3_0/whatsnew.html"&gt;Nagios 3 : What&amp;#8217;s&amp;nbsp;New&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://nagios.sourceforge.net/docs/3_0/objecttricks.html"&gt;Nagios 3 : Time-Saving Tricks For Object&amp;nbsp;Definitions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.tideway.com/community/blog-post/how-to-buy-a-standard-in-10-days/"&gt;Tideway:&amp;nbsp;Blog&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://blogs.sun.com/jonathan/entry/the_video"&gt;Jonathan Schwartz&amp;#8217;s Blog: Which is the Real Poisson&amp;nbsp;D&amp;#8217;Avril?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;[Groklaw - What Really Happened at the &lt;span class="caps"&gt;BRM&lt;/span&gt; for &lt;span class="caps"&gt;OOXML&lt;/span&gt; &lt;span class="amp"&gt;&amp;amp;&lt;/span&gt; Who Attended&lt;ul&gt;
&lt;li&gt;Updates on&amp;nbsp;Results](http://www.groklaw.net/article.php?story=20080328090328998)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.groklaw.net/article.php?story=20080401133818372"&gt;Groklaw - Expect a 2nd Official Complaint &amp;#8212; Against &lt;span class="caps"&gt;UK&lt;/span&gt;&amp;#8217;s &lt;span class="caps"&gt;OOXML&lt;/span&gt;&amp;nbsp;Vote&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.groklaw.net/article.php?story=2008040212120873"&gt;Groklaw - And now the appeals and reactions while &lt;span class="caps"&gt;OOXML&lt;/span&gt; sits on&amp;nbsp;hold&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.fsf.org/blogs/community/jobsannounce"&gt;Announcing our new free software jobs directory - Free Software&amp;nbsp;Foundation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://asuseeehacks.blogspot.com/2008/03/cheap-power-adapter-for-asus-eee-pc.html"&gt;Asus Eee News, Mods, and Hacks: Cheap Power Adapter for Asus Eee&amp;nbsp;&lt;span class="caps"&gt;PC&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>Switch Shopping; the Law of Gross Tonnage</title><link href="http://blog.jasonantman.com/2008/04/switch-shopping-the-law-of-gross-tonnage/" rel="alternate"></link><updated>2008-04-02T16:25:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-04-02:2008/04/switch-shopping-the-law-of-gross-tonnage/</id><summary type="html">&lt;p&gt;Well, I&amp;#8217;m shopping for a new switch. But first, a small&amp;nbsp;aside:  &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I drive a &lt;a href="http://www.jasonantman.com/wiki/index.php/Image:TruckMed.jpg"&gt;Ford
F-250&lt;/a&gt;.
It&amp;#8217;s a pretty big truck. And every once in a while, someone cuts me
off in something like a &lt;a href="http://automobiles.honda.com/fit/"&gt;Honda
Fit&lt;/a&gt;. It really makes me stop and
wonder - how stupid are they? I&amp;#8217;ll admit that after two and a half
years of driving a 13,000 pound
&lt;a href="http://www.midlandparkambulance.com/albums/The%20New%20588.php"&gt;ambulance&lt;/a&gt;
in my spare time, I know a bit about the maneuverability problems of
large vehicles. But I have to assume that the average driver, when
confronted with something like my truck - 6500 pounds empty, 21 feet
long and tall enough that the hood is at the level of the roof of most
passenger cars - they&amp;#8217;d think twice about doing something stupid. I
won&amp;#8217;t even mention the people who cut off or tailgate dump trucks and&amp;nbsp;semi&amp;#8217;s.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ve spent a bit of time on the water throughout my life. Piloting a
boat isn&amp;#8217;t especially difficult, but there are a few things you learn
about navigation. One of them is affectionately known as &lt;a href="http://www.auxguidanceskills.info/press/bigger.html"&gt;The Law of
Gross Tonnage&lt;/a&gt;.
It&amp;#8217;s really simple. Big things take a long time to stop, and can&amp;#8217;t
maneuver very well. So stay out of their way. So I have to wonder, why
don&amp;#8217;t they include this in driver&amp;#8217;s manuals? Sure, people do stupid
things. Some people just have to, it&amp;#8217;s part of their nature. But if
they&amp;#8217;re going to, why can&amp;#8217;t they be smart, and choose to do it in
front (or behind) of a vehicle that actually has a chance of&amp;nbsp;stopping?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;In other news, I&amp;#8217;m starting to shop for a new switch. At the moment, my
network at home (hosting this blog/site and everything else) is running
on a single, ancient, Rutgers University surplus &lt;a href="http://www.jasonantman.com/wiki/index.php/BayStack_450-24T"&gt;Bay Networks BaySTack
450-24T&lt;/a&gt;.
It&amp;#8217;s served me well (and it server Rutgers well before me) but it&amp;#8217;s time
for an upgrade. While it&amp;#8217;s a manageable switch, it&amp;#8217;s only capable of
100Base-&lt;span class="caps"&gt;TX&lt;/span&gt;. And streaming a few gigs of backups over it every night
isn&amp;#8217;t fun, not to mention attempting a network install of a full&amp;nbsp;&lt;span class="caps"&gt;OS&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;So, it&amp;#8217;s time to shop for a new switch. Depending on budget, I&amp;#8217;ve
identified two possible&amp;nbsp;configurations:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Get a new 10/100 manageable switch for the main network, and buy a
    desktop 8- to 12-port Gigabit Ethernet switch for a dedicated backup&amp;nbsp;&lt;span class="caps"&gt;LAN&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;Bite the bullet and buy a Gigabit manageable&amp;nbsp;switch.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;If possible, I&amp;#8217;m leaning towards the second option. My budget puts me in
the market for what are normally considered edge switches, and Gigabit
is just arriving in that land (heck, the dictionary in my browser
doesn&amp;#8217;t even know it&amp;#8217;s a word). The bottom line is that it&amp;#8217;s going to be
a long time before anything faster than Gigabit makes it to most
desktops. So, I&amp;#8217;m distinctly aware of the possibility of needing a
manageable switch and eventually implementing 802.1ad link aggregation
to increase bandwidth to the backup server and other key&amp;nbsp;machines.&lt;/p&gt;
&lt;p&gt;The major features I&amp;#8217;m interested&amp;nbsp;in:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;19&amp;#8221; rack mount form factor, at least 16 ports (24 would be good) all
    at Gigabit&amp;nbsp;speeds.&lt;/li&gt;
&lt;li&gt;Something from a good manufacturer, not a white-box or house brand.
    Good&amp;nbsp;support.&lt;/li&gt;
&lt;li&gt;Extensive manageability - at a minimum, &lt;span class="caps"&gt;SNMP&lt;/span&gt; and Telnet. Hopefully&amp;nbsp;&lt;span class="caps"&gt;RMON&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;802.1Q&amp;nbsp;&lt;span class="caps"&gt;VLANS&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;Good options for firmware upgrades, and not anything that requires a
    service contract (i.e.&amp;nbsp;Cisco).&lt;/li&gt;
&lt;li&gt;802.3ad Link Aggregation (at a minimum, supporting 3 systems with
    2-4 links&amp;nbsp;each).&lt;/li&gt;
&lt;li&gt;Port&amp;nbsp;mirroring.&lt;/li&gt;
&lt;li&gt;Support for QoS/CoS - at a minimum,&amp;nbsp;802.1p.&lt;/li&gt;
&lt;li&gt;Acceptable&amp;nbsp;&lt;span class="caps"&gt;MTBF&lt;/span&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Some added bonuses that I&amp;#8217;d really&amp;nbsp;like:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Support for syslog to a separate&amp;nbsp;machine.&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;SFP&lt;/span&gt; slots so I can move to a faster backbone switch in the future,
    or move key systems to fiber or a faster&amp;nbsp;standard.&lt;/li&gt;
&lt;li&gt;Even more management - &lt;span class="caps"&gt;SSH&lt;/span&gt; would be nice, as would &lt;span class="caps"&gt;RADIUS&lt;/span&gt; or &lt;span class="caps"&gt;TATACS&lt;/span&gt;&amp;nbsp;authentication.&lt;/li&gt;
&lt;li&gt;A good switch fabric capacity - 32Gbps or higher for a&amp;nbsp;24-port.&lt;/li&gt;
&lt;li&gt;802.3af Power over Ethernet. (Well, I could always use&amp;nbsp;injectors)&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;MAC&lt;/span&gt; filtering, ACLs, and/or 802.1x&amp;nbsp;&lt;span class="caps"&gt;NAC&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;802.1ab&amp;nbsp;&lt;span class="caps"&gt;LLDP&lt;/span&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I&amp;#8217;ll keep looking around and pricing things out. My hard budget is $500,
but it would take a lot to get me to spend that much. I&amp;#8217;m probably
looking for something closer to the $300 range, probably lightly used or
refurbished. If anyone happens to see this and has a suggestion, feel
free to&amp;nbsp;share!&lt;/p&gt;</summary><category term="driving"></category><category term="gigabit"></category><category term="switch"></category></entry><entry><title>Where are we going and what’s with the handbasket?</title><link href="http://blog.jasonantman.com/2008/04/where-are-we-going-and-whats-with-the-handbasket/" rel="alternate"></link><updated>2008-04-02T12:13:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-04-02:2008/04/where-are-we-going-and-whats-with-the-handbasket/</id><summary type="html">&lt;p&gt;Well, that&amp;#8217;s it. Not only did Verizon and &lt;span class="caps"&gt;AT&lt;/span&gt;&amp;amp;T come out on top in the
&lt;a href="http://www.engadget.com/2008/03/20/fcc-releases-700mhz-auction-details-verizon-atandt-big-winners/"&gt;700MHz spectrum
auction&lt;/a&gt;
- promising an end to hopes of Google&amp;#8217;s utopian ideals of a truly open
network - but I just heard that &amp;#8220;Office Open &lt;span class="caps"&gt;XML&lt;/span&gt;&amp;#8221; &lt;a href="http://www.iso.org/iso/pressrelease.htm?refid=Ref1123"&gt;was approved as an
&lt;span class="caps"&gt;ISO&lt;/span&gt; standard&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I don&amp;#8217;t think it even merits comment on my part. The world is run by
corporations. Corporations with more money than brains, hopes, or balls.
The 700MHz spectrum will become another copy of what American has now -
a resource (frequencies) that are &amp;#8220;owned by the people&amp;#8221;, yet controlled
by major corporations, and horribly biased
&lt;em&gt;against&lt;/em&gt; the interests of the&amp;nbsp;consumer.&lt;/p&gt;
&lt;p&gt;Well, &lt;span class="caps"&gt;OOXML&lt;/span&gt; is now a standard. Is it any less flawed? No. Is it any
safer for me to implement? No. Does it even contain enough information
for me to implement? No. But it&amp;#8217;s a specification, and it&amp;#8217;s here. While
Jason Matusow may have stated that &amp;#8220;&lt;a href="http://blogs.msdn.com/jasonmatusow/archive/2008/02/26/open-xml-brm-day-2-thoughts.aspx"&gt;the patents related to the
technology are not a barrier to use - for anyone, in any country, for
all
time&lt;/a&gt;&amp;#8220;,
I&amp;#8217;m still a bit worried about the issues that will crop up with &lt;span class="caps"&gt;OOXML&lt;/span&gt; -
not to mention the fact that it&amp;#8217;s a standard squarely aimed at
eliminating choice (we all know Microsoft will push hard for
organizations not to use &lt;span class="caps"&gt;ODF&lt;/span&gt;) and preventing competition in a sector
already overwhelmingly dominated by &lt;em&gt;one&lt;/em&gt;&amp;nbsp;product.&lt;/p&gt;
&lt;p&gt;In short, what happened in the past few weeks? A confirmation that the
governments and organizations of the world care little about the
individual, and fear change. They&amp;#8217;re owned by big business, and the
700MHz spectrum will end up being, at best, a marginal improvement over
the current restrictive cellular system. And big business doesn&amp;#8217;t even
have the balls to fight for itself. Or, even worse, doesn&amp;#8217;t worry about
vendor lock-in or proprietary software because, as long as they keep
bending over backwards to follow Microsoft&amp;#8217;s every whim, Microsoft will
always be there to help&amp;nbsp;them.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m surprised that even multinational corporations, who have a data
center filled with redundant systems, and fiber running in every
direction in case this or that &lt;span class="caps"&gt;CO&lt;/span&gt; goes up in flames, doesn&amp;#8217;t consider
closed standards, proprietary (possibly patent-encumbered) software, or
closed-source software to be as obvious a single point of failure as a
critical service running on a single desktop computer. Sure, your vendor
might tell you their software will achieve five-nines. But if they
discontinue support, or have a few bad quarters, and they won&amp;#8217;t fix it
for you, what&amp;nbsp;then?&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m just thankful that there are &lt;a href="http://blogs.sun.com/jonathan/"&gt;some
people&lt;/a&gt;, few and far between, that don&amp;#8217;t
fall into the&amp;nbsp;trap.&lt;/p&gt;</summary><category term="700mhz"></category><category term="microsoft"></category><category term="ooxml"></category><category term="spectrum"></category></entry><entry><title>IEI HubMax Access Control and Linux</title><link href="http://blog.jasonantman.com/2008/03/iei-access-control-and-linux/" rel="alternate"></link><updated>2008-03-31T12:43:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-03-31:2008/03/iei-access-control-and-linux/</id><summary type="html">&lt;p&gt;At the &lt;a href="http://www.midlandparkambulance.com/"&gt;Midland Park Ambulance
Corps&lt;/a&gt;, where I&amp;#8217;ve been
volunteering my time as an &lt;span class="caps"&gt;EMT&lt;/span&gt; and all-around tech guru for three years,
we have an &lt;a href="http://www.ieib.com/product-details.html?id=49"&gt;&lt;span class="caps"&gt;IEI&lt;/span&gt; HubMax2 access control
system&lt;/a&gt;. Maybe overkill
for us (only 78 users in it, including old codes), it&amp;#8217;s pretty simple -
a box with some microcontrollers sits in a wiring closet, and is hooked
up to keypads at each door, and relays to electromechanical strikes.
Type in the right code, and the door opens. Obviously, it also logs all
entries as well as unknown codes (but doesn&amp;#8217;t log the actual code if
unknown, so instead of removing old users, I set their codes to an
invalid timezone so the doors don&amp;#8217;t open, but accountability is still
intact). Well, the old box died - fried by a surge from a blown computer
that was hooked up to its&amp;#8217; serial port. New one was installed this
weekend - an 8 hour&amp;nbsp;ordeal.&lt;/p&gt;
&lt;p&gt;The problem with the system is that to program it, I have to grab the
laptop out of one of the ambulances, have &lt;span class="caps"&gt;IEI&lt;/span&gt;&amp;#8217;s proprietary
Windows-based programming software (which programs it via sending and
receiving full binary memory maps of the controllers over 1200 baud
serial), and spend half an hour in the utility closet (next to the
furnace) where the box is waiting for memory maps to transfer over the
slow direct connection. Well, there&amp;#8217;s a proliant server running
&lt;a href="http://www.opensuse.org/"&gt;OpenSuSE&lt;/a&gt; seven feet away&amp;#8230; why not use&amp;nbsp;that?&lt;/p&gt;
&lt;p&gt;While &lt;span class="caps"&gt;IEI&lt;/span&gt; offers their
&lt;a href="http://www.ieib.com/products-browser-managed.html"&gt;eMerge&lt;/a&gt; systems -
appliance servers that manage their access control units via a web
interface - for $6000, which run RedHat, they won&amp;#8217;t even respond to my
emails inquiring whether they have Linux-based programming software for
their HubMax line. We don&amp;#8217;t get that many new members per year, so I
figured just programming in a few spare codes will handle it. Removing
people can wait, as people usually leave on good terms. However, every
once in a while something&amp;#8217;s amiss at the building (usually a door left
ajar, or food left out), and I&amp;#8217;m called upon to pull the logs. It&amp;#8217;s a
pain in the @$$. I have to hunker down in that utility closet with a
laptop, waiting for the whole memory map to download over 1200 baud just
to see who came and went. Porting the software to Linux wouldn&amp;#8217;t be a
quick project. This is even worse during the school year when I&amp;#8217;m living
in my apartment an hour away, taking classes full time, and still
working 25 hours a&amp;nbsp;week.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;The Solution&lt;/strong&gt;: At the end of my
eight-hour install, everything was programmed and setup, but the logs
were still bothering me. Then I hit on an idea. Remembering how archaic
the real-world interfacing of these things seemed to me (how can you use
binary memory maps? What about a serial terminal with an &lt;span class="caps"&gt;ASCII&lt;/span&gt; command
set, or even Ethernet and &lt;span class="caps"&gt;SNMP&lt;/span&gt; or Telnet? I really want to build one of
these things running real-time Linux&amp;#8230;), I started to flip through the
manual and, sure enough, found a command (entered on a 12-key keypad on
the main board) to dump logs in realtime to a serial line&amp;nbsp;printer.&lt;/p&gt;
&lt;p&gt;I ran a cable to the Linux-based server not 10 feet away, fired up
Kermit, issued the Enable Log Print code, and tried a code entry on the
keypad by the front door.&amp;nbsp;Bingo!&lt;/p&gt;
&lt;p&gt;In the two days since, I have a little daemon coded in &lt;span class="caps"&gt;PHP&lt;/span&gt; (yes, &lt;span class="caps"&gt;PHP&lt;/span&gt;)
that reads the serial line and dumps all log data (entries, exits, door
ajar, unknown code, access denied) to both a text file (for debugging
and redundancy) and into a MySQL database. Another hour of coding and I
have a simple web &lt;span class="caps"&gt;GUI&lt;/span&gt;, available on any of the computers on the &lt;span class="caps"&gt;LAN&lt;/span&gt;, for
officers to check who&amp;#8217;s come, and who tried to get in but&amp;nbsp;couldn&amp;#8217;t.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ve never written a daemon before, so I still have a bit more research
to do - mainly in terms of error handling and how to keep it constantly
running. However, I have a first version&amp;nbsp;working.&lt;/p&gt;</summary><category term="access control"></category><category term="door lock"></category><category term="hubmax"></category><category term="iei"></category><category term="ieib"></category></entry><entry><title>Interesting Links for 2008-03-27</title><link href="http://blog.jasonantman.com/2008/03/interesting-links-for-2008-03-27/" rel="alternate"></link><updated>2008-03-28T05:00:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-03-28:2008/03/interesting-links-for-2008-03-27/</id><summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.itnews.com.au/News/72673,red-hat-must-lead-wider-development-effort-ceo-whitehurst-says.aspx"&gt;Red Hat must lead wider development effort, &lt;span class="caps"&gt;CEO&lt;/span&gt; Whitehurst says -
    Linux &lt;span class="amp"&gt;&amp;amp;&lt;/span&gt; Open Source - iTnews&amp;nbsp;Australia&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;[Groklaw - Microsoft Files Complaint About India&amp;#8217;s No Vote on &lt;span class="caps"&gt;OOXML&lt;/span&gt;&lt;ul&gt;
&lt;li&gt;Updated&amp;nbsp;2Xs](http://www.groklaw.net/article.php?story=20080326104649643)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="http://arstechnica.com/articles/culture/clean-up-patent-mess.ars"&gt;Analysis: patent reform bill unable to clean up patent mess: Page&amp;nbsp;1&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://gizmodo.com/372442/bittorrent-plugin-detects-isps-raping-your-torrents"&gt;BitTorrent: BitTorrent Plugin Detects ISPs Raping Your&amp;nbsp;Torrents&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.groklaw.net/article.php?story=20080326151405938"&gt;Groklaw - Another Reason Microsoft&amp;#8217;s &lt;span class="caps"&gt;OSP&lt;/span&gt; Isn&amp;#8217;t Good&amp;nbsp;Enough&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.ibm.com/developerworks/aix/library/au-shellcurses/?ca=dgr-lnxw06shellcurses&amp;amp;S_TACT=105AGX59&amp;amp;S_CMP=GR"&gt;Shell Curses function&amp;nbsp;library&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>Interesting Links for 2008-03-26</title><link href="http://blog.jasonantman.com/2008/03/interesting-links-for-2008-03-26/" rel="alternate"></link><updated>2008-03-27T05:00:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-03-27:2008/03/interesting-links-for-2008-03-26/</id><summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.groklaw.net/article.php?story=20080324121844682"&gt;Groklaw - Cuba Votes No to &lt;span class="caps"&gt;OOXML&lt;/span&gt; - Says It Did So in September, Too
    -&amp;nbsp;Updated&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.groklaw.net/article.php?story=20080324220213437"&gt;Groklaw - More &lt;span class="caps"&gt;OOXML&lt;/span&gt; &lt;span class="caps"&gt;BRM&lt;/span&gt; Messiness: A Delegate from Brazil
    Challenges &amp;#8220;Law of&amp;nbsp;Silence&amp;#8221;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.linuxinsider.com/rsstory/62275.html"&gt;Linux News: Security: Linux: A Tempting Target for&amp;nbsp;Malware?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>Rutgers Student Linux Group and Sun</title><link href="http://blog.jasonantman.com/2008/03/rutgers-student-linux-group-and-sun/" rel="alternate"></link><updated>2008-03-26T23:46:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-03-26:2008/03/rutgers-student-linux-group-and-sun/</id><summary type="html">&lt;p&gt;The next week will be quite busy. For one, I&amp;#8217;m going to attempt an
&lt;a href="http://www.opensolaris.org/os/"&gt;OpenSolaris&lt;/a&gt; operating system
installation on my &lt;a href="http://event.asus.com/eeepc/microsites/en/index.htm"&gt;Asus
eeePC&lt;/a&gt;. Last I
heard, there were some compatibility issues - though this was my first
attempt at running the Solaris operating system on a laptop, and it took
quite an effort to get my favorite mainstream Linux distro installed on
the eeePC, though I&amp;#8217;ve been running that on laptops for 6+&amp;nbsp;years.&lt;/p&gt;
&lt;p&gt;This Sunday, March 30&lt;sup&gt;th&lt;/sup&gt;, the &lt;a href="http://ruslug.rutgers.edu/w/"&gt;Rutgers University Student Linux Users&amp;#8217;
Group&lt;/a&gt; (&lt;span class="caps"&gt;RUSLUG&lt;/span&gt;) will be hosting our annual
Installfest in the &lt;a href="http://ruslug.rutgers.edu/w/EitDirections"&gt;&lt;span class="caps"&gt;EIT&lt;/span&gt; Lab&lt;/a&gt;
from 10 &lt;span class="caps"&gt;AM&lt;/span&gt; until 6 &lt;span class="caps"&gt;PM&lt;/span&gt;. While the event is generally marketed towards
Linux newbies, it&amp;#8217;s usually attended by a diverse range of students (and
staff) from first-timers to Solaris sysadmins. I&amp;#8217;ll be attendance, as
always, and will also be conducting some demos of new Sun technology
(mainly OpenSolaris and NetBeans). For anyone in the New
Brunswick/Pisctaway area, I&amp;#8217;ll also be armed with some door prizes and a
whole plethora of CDs and DVDs. For anyone interested, I&amp;#8217;ll be providing
information and pointers on NetBeans and Solaris, as well as
installation assistance (and maybe some prizes) for anyone looking to
give OpenSolaris a whirl on their&amp;nbsp;system.&lt;/p&gt;
&lt;p&gt;Following up the Installfest, on Tuesday, April 1&lt;sup&gt;st&lt;/sup&gt; at 9 &lt;span class="caps"&gt;PM&lt;/span&gt; (also in
the &lt;span class="caps"&gt;EIT&lt;/span&gt; lab) will be the &lt;span class="caps"&gt;RUSLUG&lt;/span&gt; Newbie Night. It&amp;#8217;s generally a
fun-filled evening with &lt;a href="http://www.ubuntu.com/"&gt;Ubuntu&lt;/a&gt; LiveCDs and a
general Q&amp;amp;A session about Linux. Generally this includes one-on-one
assistance for new Linux users. In an effort to raise the level of
content (and provide a diversion for more experienced users if there
aren&amp;#8217;t many new faces), I&amp;#8217;ll be once again demo&amp;#8217;ing some Sun technology,
and specifically providing an overview of my recently completed personal
mailserver migration from SuSE Linux to OpenSolaris. Once again,
visitors can expect some door prizes and lots of fun CDs to take&amp;nbsp;home.&lt;/p&gt;
&lt;p&gt;In other &lt;span class="caps"&gt;RUSLUG&lt;/span&gt;&amp;nbsp;news:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;It looks like I&amp;#8217;ll be running to become an officer next year. Anyone
    else at Rutgers can feel free to contact me with ideas,&amp;nbsp;etc.&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;RUSLUG&lt;/span&gt;&amp;#8217;s current box,
    &lt;a href="http://ruslug.rutgers.edu/"&gt;ruslug.rutgers.edu&lt;/a&gt;, is a Dell desktop
    thrown on a shelf in a closet. I&amp;#8217;d like to find someone willing to
    help out with procuring a new box. It doesn&amp;#8217;t need to be anything
    fancy - just pretty simple, though I&amp;#8217;d like to look into high
    capacity storage for mirroring distros. &lt;span class="caps"&gt;FYI&lt;/span&gt;, the current box is a
    Dell desktop with a 1.7GHz P-4 (&lt;span class="caps"&gt;256KB&lt;/span&gt; cache), 512 &lt;span class="caps"&gt;MB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt;, and about
    &lt;span class="caps"&gt;250GB&lt;/span&gt; of &lt;span class="caps"&gt;IDE&lt;/span&gt; storage (&lt;span class="caps"&gt;150GB&lt;/span&gt; + &lt;span class="caps"&gt;100GB&lt;/span&gt;, no &lt;span class="caps"&gt;RAID&lt;/span&gt;). We don&amp;#8217;t need a big
    upgrade in processor power, but more &lt;span class="caps"&gt;RAM&lt;/span&gt; and &lt;span class="caps"&gt;RAID&lt;/span&gt; for the system and
    user disks would be nice (distro mirrors can be a big &lt;span class="caps"&gt;IDE&lt;/span&gt;/&lt;span class="caps"&gt;SATA&lt;/span&gt; or an
    external&amp;nbsp;disk).&lt;/li&gt;
&lt;/ul&gt;</summary><category term="ruslug"></category><category term="solaris"></category><category term="sun"></category></entry><entry><title>Interesting Links for 2008-03-25</title><link href="http://blog.jasonantman.com/2008/03/interesting-links-for-2008-03-25/" rel="alternate"></link><updated>2008-03-26T14:10:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-03-26:2008/03/interesting-links-for-2008-03-25/</id><summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.groklaw.net/article.php?story=20080324220213437"&gt;Groklaw - More &lt;span class="caps"&gt;OOXML&lt;/span&gt; &lt;span class="caps"&gt;BRM&lt;/span&gt; Messiness: A Delegate from Brazil
    Challenges &amp;#8220;Law of&amp;nbsp;Silence&amp;#8221;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.linuxinsider.com/rsstory/62275.html"&gt;Linux News: Security: Linux: A Tempting Target for&amp;nbsp;Malware?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>Where have I gone?</title><link href="http://blog.jasonantman.com/2008/03/where-have-i-gone/" rel="alternate"></link><updated>2008-03-25T09:07:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-03-25:2008/03/where-have-i-gone/</id><summary type="html">&lt;p&gt;Well, it&amp;#8217;s been a while since I posted. Things have been horribly busy
in the school world, and I have some new projects I&amp;#8217;m working on as
well. Unfortunately, due to limited resources at the moment, I haven&amp;#8217;t
been able to give Zenoss a try. If I eventually find a nice 25-30U rack
for the &lt;a href="http://www.jasonantman.com/wiki/index.php/Jasonantman.com_Hardware"&gt;hardware running
JasonAntman.com&lt;/a&gt;
(in the basement of my suburban home, so headroom is limited to about
six feet), I&amp;#8217;ll probably move one or two machines from my apartment back
there, reorganize things, and setup a Zenoss test (*if* I can get Xen
to play well with some &lt;span class="caps"&gt;OS&lt;/span&gt; that has Zenoss RPMs, or give up and compile
from source).&lt;br /&gt;
A few of my new&amp;nbsp;projects:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Some embedded Linux&amp;nbsp;work&lt;/li&gt;
&lt;li&gt;Getting my new &lt;a href="http://www.deluogps.com/product.php?id=10-311-00"&gt;Deluo &lt;span class="caps"&gt;USB&lt;/span&gt; &lt;span class="caps"&gt;WAAS&lt;/span&gt;
    &lt;span class="caps"&gt;GPS&lt;/span&gt;&lt;/a&gt; working with
    my eeePC, and eventually add software for mapping wireless&amp;nbsp;networks&lt;/li&gt;
&lt;li&gt;Mount an external 2.4GHz antenna on my truck, so I can hop on
    &lt;a href="http://ruwireless.rutgers.edu/"&gt;RUwireless&lt;/a&gt; without leaving the
    comfort of my home on&amp;nbsp;wheels.&lt;/li&gt;
&lt;li&gt;Get a &amp;#8220;N&amp;#8221; wireless card and beta the wireless-N at&amp;nbsp;Rutgers.&lt;/li&gt;
&lt;li&gt;Figure out development for PalmOS, and write a program to sync my
    Palm calendar with &lt;a href="http://calendar.google.com/"&gt;Google Calendar&lt;/a&gt;&amp;nbsp;over-the-air.&lt;/li&gt;
&lt;li&gt;Do some work with a radio scanner and a system at home for recording
    and logging (maybe even
    &lt;a href="http://en.wikipedia.org/wiki/MDC-1200"&gt;&lt;span class="caps"&gt;MDC1200&lt;/span&gt;&lt;/a&gt;&amp;nbsp;decoding).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;My pet peeve for the day - blogs and other websites that don&amp;#8217;t list a
date last updated. I&amp;#8217;ve been looking around for alternatives to
&lt;a href="http://cvs.codeyard.net/kpilot/"&gt;KPilot&lt;/a&gt;, and I have to look through
all of the Google results, and figure out how old they are based on
version numbers and which Palm devices are&amp;nbsp;listed.&lt;/p&gt;
&lt;p&gt;And, from Rutgers Telecommunications, this is what RUwireless looked
like over spring break, and the Monday that everyone came&amp;nbsp;back:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Rutgers daily traffic graph of sr02-hill012-svcs_vlan1000 on 2008-03-25" src="/GFX/blog/sr02-hill012-svcs_vlan1000-daily-2008-03-25-scaled.png" /&gt;&lt;/p&gt;</summary><category term="calendar"></category><category term="gps"></category><category term="kpilot"></category><category term="mdc1200"></category><category term="palm"></category><category term="rutgers"></category><category term="ruwireless"></category></entry><entry><title>Flash - Why do you have to be the way you are?</title><link href="http://blog.jasonantman.com/2008/03/flash-why-do-you-have-to-be-the-way-you-are/" rel="alternate"></link><updated>2008-03-13T09:02:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-03-13:2008/03/flash-why-do-you-have-to-be-the-way-you-are/</id><summary type="html">&lt;p&gt;Just a little comment. I&amp;#8217;m usually not one to click on ads, but when I
saw a banner ad for a &lt;span class="caps"&gt;NEC&lt;/span&gt; projector with 3000 &lt;span class="caps"&gt;ANSI&lt;/span&gt; lumens for under
$1000 &lt;span class="caps"&gt;USD&lt;/span&gt;, I just had to take a&amp;nbsp;look.&lt;/p&gt;
&lt;p&gt;The &lt;a href="http://www.necdisplay.com/Products/Product/?product=71957542-7825-400f-997e-c7a2b8a01d06"&gt;&lt;span class="caps"&gt;NEC&lt;/span&gt; product
page&lt;/a&gt;
has a nice little sidebar to &amp;#8220;Check out how &lt;span class="caps"&gt;NEC&lt;/span&gt; displays are being used
by businesses&amp;#8221;. Hoping that they might say something about displaying
the output of an
&lt;a href="http://en.wikipedia.org/wiki/Network_management_system"&gt;&lt;span class="caps"&gt;NMS&lt;/span&gt;&lt;/a&gt;, I decided
to go for a look. Now, a little note about my browsing habits. I use
&lt;a href="http://www.mozilla.com/en-US/firefox/?from=getfirefox"&gt;Firefox&lt;/a&gt;, and
have since it came out. I can&amp;#8217;t use anything else - after all, I need my
two dozen &lt;a href="https://addons.mozilla.org/en-US/firefox/"&gt;add-ons&lt;/a&gt;. Like any
good Firefox user, I use tabs. At the moment, I have about a dozen open.
Sometimes I have three times that (and I&amp;#8217;ve never found problems with
that. Try it in &lt;span class="caps"&gt;IE&lt;/span&gt;, I dare you). (Side note - I don&amp;#8217;t understand how &lt;span class="caps"&gt;IE&lt;/span&gt;
can still have market share, but not have an add-on facility like
Firefox. Then again, they&amp;#8217;re 3 years behind in almost all&amp;nbsp;features&amp;#8230;).&lt;/p&gt;
&lt;p&gt;So, I unsuspectingly right-click on the link to &amp;#8220;Learn More&amp;#8221;, hoping for
a nice right-click context menu. What do I get? A Flash menu. I
Ctrl-click, and get the page I wanted - in the same&amp;nbsp;window.&lt;/p&gt;
&lt;p&gt;First of all, it&amp;#8217;s not animated, there&amp;#8217;s no reason why they need Flash
to do what can be done with a simple image. Just another thing I hate
about wed design - the use of &amp;#8220;advanced&amp;#8221; technologies (read:
non-interoperable) when they&amp;#8217;re not needed. But more importantly,
respect your users&amp;#8217; browsing habits. The right-click menu has a purpose.
And if your users want to open a link in a new tab/window, let&amp;nbsp;them.&lt;/p&gt;
&lt;p&gt;On the converse side of things, why doesn&amp;#8217;t Macromedia get their act
together and make flash into a technology that follows the functionality
of the rest of the web? Surely right-clicking on a link wouldn&amp;#8217;t be that
hard to&amp;nbsp;implement&amp;#8230;&lt;/p&gt;</summary><category term="webdesign flash"></category></entry><entry><title>Backups of data in the ether</title><link href="http://blog.jasonantman.com/2008/03/backups-of-data-in-the-ether/" rel="alternate"></link><updated>2008-03-06T12:11:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-03-06:2008/03/backups-of-data-in-the-ether/</id><summary type="html">&lt;p&gt;While I&amp;#8217;ve often told mystified people that hosted services - the free
ones - aren&amp;#8217;t required to backup your data, and you should probably do
it yourself, I usually didn&amp;#8217;t worry about this very much - all of my web
apps are on my own boxes, as well as my email. However, out of
curiosity, I spent about 15 minutes the other day coding up a little
hack of a &lt;span class="caps"&gt;PHP&lt;/span&gt; script to keep track of what applications I use a lot
(specifically web-based ones that I can&amp;#8217;t easily have my &lt;span class="caps"&gt;OS&lt;/span&gt; keep track
of). After a day of trying to click the little &amp;#8220;update&amp;#8221; boxes on a
simple page when I used something, I realized how much of my data is
actually out of my own control. Maybe not anything critical, but
convenience stuff like &lt;a href="http://reader.google.com/"&gt;Google Reader&lt;/a&gt;,
&lt;a href="http://del.icio.us/"&gt;del.icio.us&lt;/a&gt; for *all* of my bookmarks, and
occasionally &lt;a href="http://docs.google.com/"&gt;Google Docs&lt;/a&gt; when I&amp;#8217;m going to be
hopping from place to place, or may be using a machine that I don&amp;#8217;t
trust to &lt;span class="caps"&gt;SFTP&lt;/span&gt; something back&amp;nbsp;home.&lt;/p&gt;
&lt;p&gt;So, I decided to go about backing up some of this. The solution I aimed
for was simple - a &lt;span class="caps"&gt;BASH&lt;/span&gt; script that runs nightly via cron, and dumps the
data into my home directory on my main storage/backup&amp;nbsp;server.&lt;/p&gt;
&lt;p&gt;Google Reader seemed to be one of the most difficult - no easy &lt;span class="caps"&gt;URL&lt;/span&gt;
scheme, but I found a &lt;a href="http://blog.tobez.org/?p=49"&gt;simple script&lt;/a&gt; that
makes use of Perl &lt;span class="caps"&gt;CPAN&lt;/span&gt;&amp;#8217;s
&lt;a href="http://search.cpan.org/~gray/WebService-Google-Reader-0.07/"&gt;WebService::Google::Reader&lt;/a&gt;module
to grab a complete feed list. After seemingly an hour of &lt;span class="caps"&gt;CPAN&lt;/span&gt; updates
and dependencies scrolling down my&amp;nbsp;screen,&lt;/p&gt;
&lt;p&gt;Google Calendar Backup:&lt;br /&gt;
Wonderfully simple. Go into Settings, copy the URLs to the private
calendar links (I used iCal format), and wget&amp;nbsp;them.&lt;/p&gt;
&lt;p&gt;del.icio.us&amp;nbsp;backup:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;curl --user usernam:pass -o myDelicious.xml -O &lt;span class="s1"&gt;&amp;#39;https://api.del.icio.us/v1/posts/all&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Google Reader Backup:&lt;br /&gt;
Still in the works - Perl problems on my backup&amp;nbsp;machine.&lt;/p&gt;
&lt;p&gt;Google Docs Backup:&lt;br /&gt;
Hopefully soon, though nothing important lives&amp;nbsp;there.&lt;/p&gt;</summary><category term="backups"></category><category term="del.icio.us"></category><category term="docs"></category><category term="google"></category><category term="reader"></category></entry><entry><title>Cable Management, Power Measurements, Major Outage, Cacti</title><link href="http://blog.jasonantman.com/2008/03/cable-management-power-measurements-major-outage-cacti/" rel="alternate"></link><updated>2008-03-06T01:02:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-03-06:2008/03/cable-management-power-measurements-major-outage-cacti/</id><summary type="html">&lt;p&gt;So, once again, still really busy. But a few new&amp;nbsp;things.&lt;/p&gt;
&lt;p&gt;First, my racks both at home and at the apartment are atrocious. They
have no cable management at all. Both started with 1-3 machines, and no
real plans for upgrades (since they&amp;#8217;re just my personal/development
machines). Unfortunately, the &amp;#8220;rack&amp;#8221; (a metal workshop shelving unit) at
home now has 8 machines and a host of ancillary equipment. The one at
the apartment - an actual 42U rack - has 5 plus a few switches,
rackmount &lt;span class="caps"&gt;KMM&lt;/span&gt;, etc. They&amp;#8217;re both a jumble of wires in the back.
Unfortunately, it seems like cable management hardware is *epxensive*.
$30 for a 2U metal blank with a few plastic split D-rings, or almost $40
for a 2-meter vertical hunk of plastic channel with slits in the sides?
So, I&amp;#8217;ve been vaguely considering what it will take to fabricate some
cable management hardware of my own. Probably just building something
out of rack blanks for the horizontal off of the switches, and buying
some sort of vertical channel for power and networking/&lt;span class="caps"&gt;KVM&lt;/span&gt;. Man, those
&lt;span class="caps"&gt;KVM&lt;/span&gt; cables sure do take up a lot of space. Also at the moment, at home
my power is all coming directly out of two UPSs, whereas at the
apartment it&amp;#8217;s straight from mains off of a surge suppressor. I&amp;#8217;s like
to buy another &lt;span class="caps"&gt;UPS&lt;/span&gt; for the apartment from RefurbUPS.com, where I got the
ones from home, and also add a &lt;span class="caps"&gt;PDU&lt;/span&gt; at home and a vertical power strip at
the&amp;nbsp;apartment.&lt;/p&gt;
&lt;p&gt;Also, at the apartment, the roommates and I have had some discussion
lately about how much power the machines draw. This mainly stemmed from
our plans to move this June, into a rented house with two more people.
This seems to be falling through, so I don&amp;#8217;t have to worry about moving
and re-cabling everything, but I&amp;#8217;m still interested in finding out how
much power is being drawn. Granted, my UPSs at home give me a
more-or-less good idea of power consumption, but I&amp;#8217;d like to know in
detail. The ideal solution would be a clamp ammeter around the mains
line to the equipment - one with a serial interface. Unfortunately, I
can&amp;#8217;t seem to find such a thing, short of a digital multimeter left on
all the time. So, I guess I&amp;#8217;ll be looking around, and if I can&amp;#8217;t find
anything specific, maybe I&amp;#8217;ll work on a microcontroller that can read
1-200mV in 1mV increments, and use it with an inductive clamp ammeter
(usual output for them is 1mV per&amp;nbsp;A).&lt;/p&gt;
&lt;p&gt;So, on Monday I got into work and couldn&amp;#8217;t access my mailserver. Weird.
I never even got any Nagios alerts. I checked Nagios and&amp;#8230; nothing. As
in no connection. I &lt;span class="caps"&gt;SSH&lt;/span&gt;&amp;#8217;d home and pinged both boxes, but nothing. The
switch showed the mail server totally offline, and the Nagios box
plugged connected but &lt;span class="caps"&gt;ZERO&lt;/span&gt; data out. I reset the counters and waited.
Still nothing. After an hour or so of poking around, I determined that
both devices were on the same 6-port group on the switch, and nothing
else there was up too. So, after five long hours, I got someone back
home to switch the cables. Still nothing. On a hunch, I asked to have
her check the mail server (the &amp;#8220;new&amp;#8221; Sun Blade 150) and, sure enough, it
wasn&amp;#8217;t powered on. A click of the power button, and the mail server was
back online. Along with an ominous last email from Nagios, stating that
the &lt;span class="caps"&gt;UPS&lt;/span&gt; running my switch lost power, and 6 minutes later, was going
down hard. Then&amp;nbsp;quiet.&lt;/p&gt;
&lt;p&gt;I don&amp;#8217;t usually have power outages. So I&amp;#8217;ll admit, when I added some of
the new machines, I committed a high sin - I &amp;#8220;never got around&amp;#8221; to
setting up everything power-wise. I also have the switch running off of
an old BackUPS &lt;span class="caps"&gt;500VA&lt;/span&gt; unit, &lt;span class="caps"&gt;USB&lt;/span&gt;, without automatic self-tests. As a
result of all&amp;nbsp;this:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The little &lt;span class="caps"&gt;UPS&lt;/span&gt; powering the switch only held out for 6-7 minutes. As
    a result, once that died, the bigger units didn&amp;#8217;t even matter, as
    all hope was lost. This needs to be on a bigger &lt;span class="caps"&gt;UPS&lt;/span&gt; - maybe one of
    the &lt;span class="caps"&gt;1000VA&lt;/span&gt;&amp;#8217;s until it gets its&amp;#8217;&amp;nbsp;own.&lt;/li&gt;
&lt;li&gt;APCupsd requires a network to initiate shutdown, so the rest of the
    machines came down hard (as confirmed by looking through log&amp;nbsp;files).&lt;/li&gt;
&lt;li&gt;The SunBlade was never setup to power on after power interruption,
    so it just sat there like a&amp;nbsp;brick.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Most disturbingly, while my Nagios/monitoring box is up (according to
the switch, power draw figures from the &lt;span class="caps"&gt;UPS&lt;/span&gt;, and the lights, as
confirmed by someone on-site), it&amp;#8217;s dead. No ping, nothing out. I&amp;#8217;ll
have to look into it, but it made me realize that this really is my only
way of analyzing problems. That needs to&amp;nbsp;stop.&lt;/p&gt;
&lt;p&gt;Maybe one day I&amp;#8217;ll have the money for a nice &lt;a href="http://www.apc.com/products/family/index.cfm?id=223"&gt;SmartUPS
&lt;span class="caps"&gt;RT&lt;/span&gt;&lt;/a&gt; or even a
&lt;a href="http://www.apc.com/products/family/index.cfm?id=189"&gt;Symmetra&lt;/a&gt; - though
getting 208V into my basement is even more of a dream than spending
$4000 on a&amp;nbsp;&lt;span class="caps"&gt;UPS&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Also, I decided (after all this) to setup graphing of &lt;span class="caps"&gt;UPS&lt;/span&gt; data (load,
voltage in and out, temp, capacity, run time, etc.). While I haven&amp;#8217;t
gotten around to setting up &lt;a href="http://www.zenoss.com/"&gt;Zenoss&lt;/a&gt; yet, I did
a quick (well, 4 hours later I&amp;#8217;m done configuring it)
&lt;a href="http://www.cacti.net/"&gt;Cacti&lt;/a&gt;installation on my web server (I should
already have it running on the monitoring box, but who knows what that
will look like when I get&amp;nbsp;home).&lt;/p&gt;</summary><category term="apc"></category><category term="cable management"></category><category term="cacti"></category><category term="disaster"></category><category term="monitoring"></category><category term="power distribution"></category><category term="power failure"></category><category term="rack"></category><category term="UPS"></category></entry><entry><title>Microsoft $1.35B poorer</title><link href="http://blog.jasonantman.com/2008/02/microsoft-135b-poorer/" rel="alternate"></link><updated>2008-02-27T14:42:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-02-27:2008/02/microsoft-135b-poorer/</id><summary type="html">&lt;p&gt;Yeah, I almost forgot to link right to the&lt;a href="http://www.reuters.com/article/mergersNews/idUSBRU00634320080227"&gt;article from Reuters about
the &lt;span class="caps"&gt;EU&lt;/span&gt; fining
Microsoft&lt;/a&gt;
$1.35 &lt;span class="caps"&gt;BILLION&lt;/span&gt; &lt;span class="caps"&gt;USD&lt;/span&gt; (899 million&amp;nbsp;euros).&lt;/p&gt;
&lt;p&gt;Microsoft&amp;#8217;s monopolistic business practices are costing it billions of&amp;nbsp;dollars.&lt;/p&gt;
&lt;p&gt;&lt;span class="caps"&gt;IDEA&lt;/span&gt;:&lt;br /&gt;
Actually be open. Open up all of your protocols, specifications, APIs.
Even start opening up some of your source code, under GPLv3, and
assigning patents to the &lt;a href="http://www.patent-commons.org/"&gt;Patent
Common&lt;/a&gt;&lt;a href="http://www.patent-commons.org/"&gt;s&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Believe it or not, your sales will go up. Maybe then Bill can donate the
next $1B in fines to some starving kids who need&amp;nbsp;laptops.&lt;/p&gt;
&lt;p&gt;Seriously though, if I could get Windows Server under GPLv3, and do
whatever I want - fork it, whatever, I might buy a copy. I&amp;#8217;m sure a lot
of people would if they realized that they could change it, wouldn&amp;#8217;t get
locked in,&amp;nbsp;etc.&lt;/p&gt;</summary><category term="microsoft"></category><category term="patents"></category></entry><entry><title>Microsoft… again</title><link href="http://blog.jasonantman.com/2008/02/microsoft-again/" rel="alternate"></link><updated>2008-02-27T14:05:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-02-27:2008/02/microsoft-again/</id><summary type="html">&lt;p&gt;Here&amp;#8217;s &lt;a href="http://www.groklaw.net/article.php?story=20080227031234460"&gt;another Groklaw article on recent Microsoft
tribulations&lt;/a&gt;.
This really is starting to get disgusting. It&amp;#8217;s not that I hate
Microsoft, I don&amp;#8217;t. What I hate is their attitude, and their business
practices. Everyone else - I mean &lt;em&gt;everyone&lt;/em&gt; - makes software that
interoperates with other vendors. Microsoft, even after a &lt;em&gt;billion&lt;/em&gt;
dollar fine, won&amp;#8217;t. Everyone else uses open, industry-accepted
standards. Microsoft doesn&amp;#8217;t. Many other vendors open up their code.
Microsoft tried to make some vague gesture to, but makes it incompatible
with &lt;span class="caps"&gt;GPL&lt;/span&gt;&amp;#8217;d code (okay, okay, I know about &lt;span class="caps"&gt;ZFS&lt;/span&gt;&amp;#8230;) and says developers
can only use it in non-commercial projects. So they open a few things up
to hobbyists, and want a pat on the back. It boils down to how they
treat customers and developers. Not very well. I don&amp;#8217;t like that. I&amp;#8217;m
not going to start on the technical aspects of Windows, though it seems
to be getting better, a baby step at a time. But the bottom line is that
Microsoft actively tries to turn the software industry into a facist
dictatorship, where you do it Microsoft&amp;#8217;s way, or you&amp;#8217;re taken out back
and shot (ok, bought up and then shut&amp;nbsp;down).&lt;/p&gt;
&lt;p&gt;Anyway, from the blog of Zeheda Bhorat, Open Source Programs Manager at&amp;nbsp;Google,&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Google believes &lt;span class="caps"&gt;OOXML&lt;/span&gt; would be an insufficient and unnecessary
standard, designed purely around the needs of Microsoft&amp;nbsp;Office.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;How can it be that the &lt;span class="caps"&gt;ISO&lt;/span&gt; - the International
Organization for &lt;em&gt;Standardization&lt;/em&gt; - would
actually consider a &lt;em&gt;second&lt;/em&gt;,
competing standard for document formats. And one that&amp;#8217;s &lt;a href="http://www.noooxml.org/argu-brief"&gt;as flawed as
&lt;span class="caps"&gt;OOXML&lt;/span&gt;&lt;/a&gt;? These guys are the &lt;span class="caps"&gt;ISO&lt;/span&gt;. They
practically run the world, at least technically. Why don&amp;#8217;t they have the
balls to look Microsoft in the eye and say, &amp;#8220;Hey, moron. We already
&lt;strong&gt;have&lt;/strong&gt; a document format
standard. It&amp;#8217;s called &lt;span class="caps"&gt;ISO&lt;/span&gt; 26300. If you want to have anything to do with
the &lt;span class="caps"&gt;ISO&lt;/span&gt;, which sets &lt;em&gt;standards&lt;/em&gt;,
you can take your 6,000 page specification, put it through a crosscut
paper-burning radiation-producing shredder, pay the $320 for a copy of
&lt;span class="caps"&gt;ISO26300&lt;/span&gt;, and implement&amp;nbsp;it!&amp;#8221;&lt;/p&gt;</summary><category term="iso"></category><category term="microsoft"></category><category term="ooxml"></category></entry><entry><title>Making Available finally recognized for the sham it is</title><link href="http://blog.jasonantman.com/2008/02/making-available-finally-recognized-for-the-sham-it-is/" rel="alternate"></link><updated>2008-02-26T13:38:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-02-26:2008/02/making-available-finally-recognized-for-the-sham-it-is/</id><summary type="html">&lt;p&gt;From A &lt;a href="http://www.groklaw.net/article.php?story=20080226005921833"&gt;Groklaw article
today&lt;/a&gt;:&lt;/p&gt;
&lt;p&gt;In &lt;em&gt;Atlantic v. Brennan&lt;/em&gt;, the courts have finally recognized &lt;span class="caps"&gt;RIAA&lt;/span&gt;&amp;#8217;s
&amp;#8220;making available&amp;#8221; argument for the sham it is. Groklaw has a link to
the full ruling, which&amp;nbsp;includes:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;At least one aspect of Plaintiffs&amp;#8217; distribution claim is problematic,
however, namely the allegation of infringement based on &amp;#8220;mak[ing] the
Copyrighted Recordings available for distribution to others.&amp;#8221;&amp;#8230; This
amounts to a valid ground on which to mount a defense, for
&amp;#8220;without actual distribution of copies &amp;#8230;
there is no violation [of] the distribution right.&amp;#8221; 4 William
F. Patry, &lt;em&gt;Patry on Copyright&lt;/em&gt; § 13:9 (2007); &lt;em&gt;see also id.&lt;/em&gt; n.10
(collecting cases); &lt;em&gt;Perfect 10, Inc. v. Amazon.com, Inc&lt;/em&gt;., 508 F.3d
1146, 1162 (9th Cir. 2007) (affirming the district court&amp;#8217;s finding
&amp;#8220;that distribution requires an &amp;#8216;actual dissemination&amp;#8217; of a&amp;nbsp;copy&amp;#8221;).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Also, finally, the judge
rejected the claims as being speculative, as they all rested on the
&amp;#8220;upon information and belief&amp;#8221;&amp;nbsp;statements.&lt;/p&gt;
&lt;p&gt;Maybe things will start going in the right&amp;nbsp;direction&amp;#8230;&lt;/p&gt;
&lt;p&gt;On a side note, if you still haven&amp;#8217;t read it, check out the &lt;a href="http://labs.google.com/papers/disk_failures.html"&gt;Google Labs
paper &amp;#8220;Failure Trends in a Large Disk Drive
Population&amp;#8221;&lt;/a&gt; (&lt;span class="caps"&gt;USENIX&lt;/span&gt;
&lt;span class="caps"&gt;FAST&lt;/span&gt;&amp;nbsp;&amp;#8216;07).&lt;/p&gt;</summary><category term="copyright"></category><category term="IP"></category><category term="riaa"></category></entry><entry><title>February 26, 2008</title><link href="http://blog.jasonantman.com/2008/02/february-26-2008/" rel="alternate"></link><updated>2008-02-26T11:32:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-02-26:2008/02/february-26-2008/</id><summary type="html">&lt;p&gt;Well, while I haven&amp;#8217;t made much progress on anything interesting -
mainly my &lt;span class="caps"&gt;NMS&lt;/span&gt; comparison or any of my other projects - due to my busy
schedule, I did get an hour or two to clean up my network at the
apartment, swapping out my 24-port Linksys switch in my room for the
5-port Netgear previously used for printing. I threw all of the printers
and the print server on their own &lt;span class="caps"&gt;VLAN&lt;/span&gt; on the main 3com&amp;nbsp;switch.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ve also started thinking more about &lt;a href="http://www.mythtv.org/"&gt;MythTV&lt;/a&gt; -
I use it for &lt;span class="caps"&gt;TV&lt;/span&gt; in my room (feeding a grossly insufficient 21&amp;#8221; &lt;span class="caps"&gt;CRT&lt;/span&gt;
monitor), and my roommate has a Dell &lt;span class="caps"&gt;GX270&lt;/span&gt; by the big &lt;span class="caps"&gt;TV&lt;/span&gt; in the living
room, though it was running Freevo (and now has a dead tuner and no &lt;span class="caps"&gt;RAM&lt;/span&gt;,
or something like that). So, I decided that I might do things right -
drop a 5- or 8-port GigE switch in the apartment, put GigE NICs in the
two boxes with tuners (putting MythTV on the &lt;span class="caps"&gt;GX270&lt;/span&gt; also), and setting up
a centralized system. The problem is that the ideal solution would be a
single dedicated back-end system for storage and control, with the two
tuner/video out boxes just providing A/V I/O. Unfortunately, the two
boxes with tuners are both high-spec&amp;#8217;ed P4&amp;#8217;s, and I&amp;#8217;m not sure what I
can come up with in terms of a server for the&amp;nbsp;backend.&lt;/p&gt;
&lt;p&gt;Now, &lt;em&gt;the question for anyone who may be
reading&lt;/em&gt; - I&amp;#8217;d like to setup a good amount (1-&lt;span class="caps"&gt;2TB&lt;/span&gt;) of storage for
this. My roommate wants a &lt;span class="caps"&gt;RAID&lt;/span&gt; configuration, but I don&amp;#8217;t see the need
for videos - if I lose my &lt;span class="caps"&gt;TV&lt;/span&gt; recordings, I set MythTV to record it again
the next time it&amp;#8217;s on. Anyway, I have an 8-bay external &lt;span class="caps"&gt;SCAI&lt;/span&gt; enclosure
and cards in all of the servers, but &lt;span class="caps"&gt;SCSI&lt;/span&gt; disks are expensive. I was
thinking of going to &lt;span class="caps"&gt;SATA&lt;/span&gt; 3.0. Most likely, I&amp;#8217;d get some sort of 4-8
disk enclosure, start with 1-3 disks in the 400-&lt;span class="caps"&gt;750GB&lt;/span&gt;&amp;nbsp;range.&lt;/p&gt;
&lt;p&gt;So, the question - what type of system specs would be needed to stream
audio and video, uncompressed, perhaps even &lt;span class="caps"&gt;HDTV&lt;/span&gt; (we have the &lt;span class="caps"&gt;TV&lt;/span&gt; and
cable box, would just need an &lt;span class="caps"&gt;HD&lt;/span&gt; tuner) to remote storage over the
network? I was thinking of doing either a Linux master MythTV backend
with eSATA cards, or letting each &lt;span class="caps"&gt;TV&lt;/span&gt; computer be its&amp;#8217; own backend, and
then doing Solaris/&lt;span class="caps"&gt;ZFS&lt;/span&gt; with iSCSI or ATAoE. Any suggestions? I&amp;#8217;m pretty
much thinking of using a PowerEdge 2550 for&amp;nbsp;this.&lt;/p&gt;
&lt;p&gt;Anyway, I&amp;#8217;m also filling up my backup disks at home, and don&amp;#8217;t want to
shorten my expiration cycle. My nightly backup runs put quite a strain
on my main Fast Ethernet &lt;span class="caps"&gt;LAN&lt;/span&gt;, so I&amp;#8217;ve been planning for a while on
moving to GigE. My thought at home is to setup a second, separate GigE
switch/lan, with GigE NICs in all of the servers. Not exactly cheap, but
I can pickup a Linux-/Solaris-compatible Negear &lt;span class="caps"&gt;GA311&lt;/span&gt; for around $40, in
addition to the Intel Pro/1000 &lt;span class="caps"&gt;XT&lt;/span&gt; and Asante GigaNIC that I already
have. The problem here is finding a good GigE switch - I&amp;#8217;d really like
something with Telnet, &lt;span class="caps"&gt;SNMP&lt;/span&gt;, VLANs, the&amp;nbsp;works.&lt;/p&gt;
&lt;p&gt;In other news, I highly recommend reading the &lt;a href="http://www.groklaw.net/article.php?story=20080221184924826"&gt;Groklaw story on
Microsoft&amp;#8217;s latest pledge for
interoperability&lt;/a&gt;.
I especially liked the one quote from the &lt;a href="http://www.ecis.eu/"&gt;&lt;span class="caps"&gt;ECIS&lt;/span&gt;&lt;/a&gt;&amp;nbsp;statement:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;For years now, Microsoft has either failed to implement or has
actively corrupted a range of truly open standards adopted and
implemented by the rest of the industry. Unless and until that
behaviour stops, today&amp;#8217;s words mean&amp;nbsp;nothing.&lt;/p&gt;
&lt;p&gt;More fundamentally, today&amp;#8217;s announcement is still all about the rest
of the world interoperating with Microsoft on Microsoft&amp;#8217;s own terms,
not the other way&amp;nbsp;around.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;There&amp;#8217;s even links to &lt;em&gt;ten&lt;/em&gt; previous Microsoft statements promising&amp;nbsp;interoperability.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The thing is, this is a promise to interoperate with old-fashioned
competitors. It doesn&amp;#8217;t enable interoperability with the &lt;span class="caps"&gt;GPL&lt;/span&gt;, which is
not compatible with patent licenses, and that is Microsoft&amp;#8217;s true&amp;nbsp;competition.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;From Michael Cunningham, &lt;span class="caps"&gt;VP&lt;/span&gt; and General Counsel of Red&amp;nbsp;Hat:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Eight years ago the &lt;span class="caps"&gt;U.S.&lt;/span&gt; regulatory authorities, and four years ago
the European regulators made clear to Microsoft that its refusal to
disclose interface information for its monopoly software products
violates the law. So, it is hardly surprising to see even Microsoft
state today that “interoperability across systems is an important
requirement” and announce a “change in [its] approach to
interoperability.” Of course, we’ve heard similar announcements
before, almost always strategically timed for other effect. Red Hat
regards this most recent announcement with a healthy dose of
skepticism. Three commitments by Microsoft would show that it really
means what it is announcing&amp;nbsp;today:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Commit to open standards: Rather than pushing forward its
    proprietary, Windows-based formats for document processing, &lt;span class="caps"&gt;OOXML&lt;/span&gt;,
    Microsoft should embrace the existing &lt;span class="caps"&gt;ISO&lt;/span&gt;-approved, cross-platform
    industry standard for document processing, Open Document Format
    (&lt;span class="caps"&gt;ODF&lt;/span&gt;) at the International Standards Organization’s meeting next
    week in Geneva. Microsoft, please demonstrate implementation of an
    existing international open standard now rather than make press
    announcements about intentions of future standards&amp;nbsp;support.&lt;/li&gt;
&lt;li&gt;Commit to interoperability with open source: Instead of offering a
    patent license for its protocol information on the basis of
    licensing arrangements it knows are incompatible with the &lt;span class="caps"&gt;GPL&lt;/span&gt; –
    the world’s most widely used open source software license –
    Microsoft should extend its Open Specification Promise to all of
    the interoperability information that it is announcing today will
    be made available. The Open Specification Promise already covers
    many Microsoft products that do not have monopoly market
    positions. If Microsoft were truly committed to fostering openness
    and preventing customer lock-in, it would extend this promise to
    the protocol and interface information it intends to disclose
    today. There is no explanation for refusing to extend the Open
    Specification Promise to “high-volume” products, other than a
    continued intention on Microsoft’s part to lock customers into its
    monopoly products, and lock out competitors through patent&amp;nbsp;threats.&lt;/li&gt;
&lt;li&gt;Commit to competition on a level playing field: Microsoft’s
    announcement today appears carefully crafted to foreclose
    competition from the open source community. How else can you
    explain a “promise not to sue open source developers” as long as
    they develop and distribute only*/ “non-commercial”
    implementations of interoperable products? This is simply
    disingenuous. The only hope for reintroducing competition to the
    monopoly markets Microsoft now controls – Windows, Office, etc. –
    is through commercial distributions of competitive open source
    software&amp;nbsp;products.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Amen!!!&lt;/p&gt;</summary><category term="GigE"></category><category term="microsoft"></category><category term="mythtv"></category><category term="sata"></category><category term="storage"></category></entry><entry><title>Links for 2008-02-23</title><link href="http://blog.jasonantman.com/2008/02/links-for-2008-02-23/" rel="alternate"></link><updated>2008-02-25T11:20:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-02-25:2008/02/links-for-2008-02-23/</id><summary type="html">&lt;p&gt;Some links for&amp;nbsp;today:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://arstechnica.com/news.ars/post/20080221-microsoft-launches-new-open-standards-interoperability-push.html"&gt;Microsoft&amp;#8217;s new promised on interoperability, open standards.
etc.&lt;/a&gt;
- somewhat ironic given the Office Open &lt;span class="caps"&gt;XML&lt;/span&gt; debacle on &amp;#8220;standards&amp;#8221;. &lt;a href="http://arstechnica.com/journals/linux.ars/2008/02/21/red-hat-not-impressed-with-microsofts-interoperability-plans"&gt;And
Red Hat&amp;#8217;s worries about
it&lt;/a&gt;.
(Ars&amp;nbsp;Technica)&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.groklaw.net/article.php?story=20080221184924826"&gt;Groklaw&amp;#8217;s lengthy analysis of the
promises&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://blogs.zdnet.com/threatchaos/"&gt;Pakistan removed from the Internet, causes global YouTube
outage&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.guardian.co.uk/theguardian/2008/feb/23/internet.usa"&gt;A Guardian article on the WikiLeaks
debacle&lt;/a&gt;
- perhaps the biggest affront to the First Amendment this&amp;nbsp;year.&lt;/p&gt;
&lt;p&gt;An&lt;a href="http://www.informationweek.com/story/showArticle.jhtml?articleID=206800800&amp;amp;cid=RSSfeed_IWK_All"&gt;InformationWeek article about some guys from BlackHat &lt;span class="caps"&gt;D.C.&lt;/span&gt; who said
that they will be able to crack &lt;span class="caps"&gt;GSM&lt;/span&gt; encryption in under 30 minutes with
$1,000 of technology or 30 seconds with
$100,000&lt;/a&gt;
(FPGAs - Maybe a cluster of&amp;nbsp;&lt;span class="caps"&gt;PS3&lt;/span&gt;&amp;#8217;s?)&lt;/p&gt;
&lt;p&gt;&lt;a href="http://citp.princeton.edu/memory/"&gt;A Princeton Unviersity blog about cold boots possibly able to crack the
Windows BitLocker system&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://blog.mozilla.com/blog/2008/02/21/500-million-firefox-downloads-complete-500-million-grains-in-progress/"&gt;Yay! Firefox has hit its&amp;#8217; 500 Millionth
download!!!&lt;/a&gt;
And there was much&amp;nbsp;rejoicing&amp;#8230;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://arstechnica.com/news.ars/post/20080219-opera-browser-market-isnt-functioning-thanks-to-microsoft.html"&gt;An ArsTechnica article on Internet Explorer, what should be done to fix
it, and how there can still be a non-standards-compliant
browser&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://jeremy.linuxquestions.org/"&gt;Jeremy&amp;#8217;s Blog&lt;/a&gt; - the mind behind
&lt;a href="http://www.linuxquestions.org/"&gt;LinuxQuestions.org&lt;/a&gt; - &lt;a href="http://jeremy.linuxquestions.org/2008/02/21/2007-linuxquestionsorg-members-choice-award-winners/"&gt;provides a recap
of the 2007 &lt;span class="caps"&gt;LQ&lt;/span&gt; Members&amp;#8217; Choice
awards&lt;/a&gt;.
Some interesting winners were VirtualBox for virtualization package,
Debain for server distro, Knoppix for Live Distro, Eclipse for &lt;span class="caps"&gt;IDE&lt;/span&gt;/Web
Development Environment, Python for language of the year, and - much to
my chagrin - vi/vim for&amp;nbsp;editor.&lt;/p&gt;
&lt;p&gt;A &lt;a href="http://www.linuxjournal.com/content/whats-next-open-source-and-public-media"&gt;LinuxJournal article on What&amp;#8217;s Next for Open Source and Public
Meida&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.linuxinsider.com/rsstory/61803.html"&gt;LinuxInsider - &lt;span class="caps"&gt;EU&lt;/span&gt; taking Microsoft&amp;#8217;s promises with a grain of
salt&lt;/a&gt;, noting that &lt;span class="caps"&gt;MS&lt;/span&gt;
has made &amp;#8220;at least four similar statements&amp;#8221; in the&amp;nbsp;past.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://utcc.utoronto.ca/~cks/space/blog/"&gt;Chris Siebenmann&lt;/a&gt; - &lt;a href="http://utcc.utoronto.ca/~cks/space/blog/tech/SharingRisk"&gt;Where
the risk is with virtualization (and
iSCSI)&lt;/a&gt; and
&lt;a href="http://utcc.utoronto.ca/~cks/space/blog/sysadmin/WirelessMachineRoom"&gt;Wireless, machine rooms, and the Asus
eeePC&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.ibm.com/developerworks/library/x-ooxmlstandard.html?ca=dgr-lnxw06OOXMLBigDeal&amp;amp;S_TACT=105AGX59&amp;amp;S_CMP=GR"&gt;&lt;span class="caps"&gt;IBM&lt;/span&gt; DeveloperWorks - &lt;span class="caps"&gt;OOXML&lt;/span&gt;: What&amp;#8217;s the big
deal?&lt;/a&gt;
- outlining the technical objections to &lt;span class="caps"&gt;OOXML&lt;/span&gt; as a standard. Linked from
a &lt;a href="http://rootprompt.org/article.php3?article=11548"&gt;rootprompt.org&lt;/a&gt;
article mentioning that &amp;#8220;&lt;span class="caps"&gt;OOXML&lt;/span&gt; is essentially a complete replication of
every chunk of data that a Microsoft Office application might possibly
save in a&amp;nbsp;file&amp;#8221;.&lt;/p&gt;
&lt;p&gt;Slashdot &lt;span class="caps"&gt;YRO&lt;/span&gt; - &lt;a href="http://yro.slashdot.org/article.pl?sid=08/02/25/0159250&amp;amp;from=rss"&gt;a guy who got hist stock photos stolen, entered into a
long legal battle, and
won&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Microsoft&amp;#8217;s &lt;a href="http://seattlepi.nwsource.com/business/352442_vista23.html"&gt;Windows Vista Capable lawsuit granted class-action
status&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;A &lt;a href="http://www.washingtonpost.com/wp-dyn/content/article/2008/02/23/AR2008022300693.html"&gt;Washington Post article on Hans Reiser&amp;#8217;s Geek Defense
strategy&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;A &lt;a href="http://apple.slashdot.org/article.pl?sid=08/02/23/1915254&amp;amp;from=rss"&gt;Slashdot post linking to news that Apple sent a cease-and-decist
order to the Hymn
Project&lt;/a&gt;,
which produces software to remove &lt;span class="caps"&gt;DRM&lt;/span&gt; from iTunes songs. Apple had their
&lt;span class="caps"&gt;ISP&lt;/span&gt; remove all download links. (I guess the only solution is for us all
to buy bandwidth right from a&amp;nbsp;&lt;span class="caps"&gt;NSP&lt;/span&gt;&amp;#8230;)&lt;/p&gt;
&lt;p&gt;&lt;a href="http://news.yahoo.com/s/ap/20080222/ap_on_hi_te/yahoo_shareholder_lawsuit"&gt;Yahoo&amp;#8217;s shareholders are suing it for not gobbling up the Microsoft
deal&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://arstechnica.com/news.ars/post/20080220-disgruntled-customer-sues-comcast-over-p2p-throttling.html"&gt;Comcast getting sued &lt;span class="caps"&gt;AGAIN&lt;/span&gt; for &lt;span class="caps"&gt;P2P&lt;/span&gt;
filtering&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://blog.wired.com/music/2008/02/riaa-training-v.html"&gt;A leaked &lt;span class="caps"&gt;RIAA&lt;/span&gt; training video for
prosecutors&lt;/a&gt;,
going so far as to say that &lt;span class="caps"&gt;IP&lt;/span&gt; piracy can lead to arrests for drugs,
weapons, or terrorism. It also includes instructions on how to get a
&lt;span class="caps"&gt;RIAA&lt;/span&gt; investigator certified as a court&amp;nbsp;expert.&lt;/p&gt;
&lt;p&gt;A &lt;a href="http://www.nytimes.com/2008/02/21/fashion/21webgirls.html?_r=2&amp;amp;oref=slogin&amp;amp;oref=slogin"&gt;New York Times article on - gasp - women using the
Internet&lt;/a&gt;.
Linked from &lt;a href="http://yesthattom.livejournal.com"&gt;Tom Limoncelli&amp;#8217;s blog&lt;/a&gt;.&lt;/p&gt;</summary><category term="apple"></category><category term="bitlocker"></category><category term="cellphone"></category><category term="EU"></category><category term="firefox"></category><category term="gsm"></category><category term="microsoft"></category><category term="ooxml"></category><category term="pakistan"></category><category term="riaa"></category><category term="virtualization"></category><category term="wikileaks"></category><category term="windows"></category><category term="youtube"></category></entry><entry><title>Update, Eventum/MySQLTicketing Integration</title><link href="http://blog.jasonantman.com/2008/02/update-eventummysqlticketing-integration/" rel="alternate"></link><updated>2008-02-21T14:53:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-02-21:2008/02/update-eventummysqlticketing-integration/</id><summary type="html">&lt;p&gt;Well I know I haven&amp;#8217;t updated in a while. I have a whole bunch of links
that I&amp;#8217;d like to comment on, but things have been horribly busy. You can
find the links in my &lt;a href="http://del.icio.us/jantman/1-toblog"&gt;&amp;#8220;1-toblog&amp;#8221; folder on
del.icio.us&lt;/a&gt; (prefixed with &amp;#8220;1-&amp;#8221; so
it shows up at the beginning of my bookmark&amp;nbsp;menu).&lt;/p&gt;
&lt;p&gt;In monitoring land, I&amp;#8217;ve paused my &lt;a href="http://www.hyperic.com/products/hq_oss.html"&gt;Hyperic
&lt;span class="caps"&gt;HQ&lt;/span&gt;&lt;/a&gt; &lt;span class="caps"&gt;VM&lt;/span&gt; as I wasn&amp;#8217;t too
pleased with how the features panned out. I was invited to beta test
&lt;a href="http://www.groundworkopensource.com/"&gt;Groundwork Open Source&lt;/a&gt; 5.2b, but
I&amp;#8217;m not crazy about the open-ness of a non-public Beta, and am honestly
not that intrigued by the small feature set (though, admittedly, they do
need more documentation on the F/&lt;span class="caps"&gt;OSS&lt;/span&gt; version). I&amp;#8217;d still like to try
them all, especially &lt;a href="http://www.zenoss.com/product/core"&gt;Zenoss Core&lt;/a&gt;,
but I&amp;#8217;m pretty busy with class, and things are heating up at work and
with a few consulting&amp;nbsp;projects.&lt;/p&gt;
&lt;p&gt;In my &amp;#8220;spare time&amp;#8221; (read: staying up until 5 &lt;span class="caps"&gt;AM&lt;/span&gt; and somehow still
getting up for work at 9) I&amp;#8217;ve been working on something that&amp;#8217;s been
bugging me for a while - getting &lt;a href="http://www.nagios.org/"&gt;Nagios&lt;/a&gt; to
automatically open and update tickets in
&lt;a href="http://eventum.mysql.org"&gt;Eventum&lt;/a&gt;, the ticketing system that I (and
MySQL) use. The general idea is to use a &amp;#8220;glue&amp;#8221; script, written in &lt;span class="caps"&gt;PHP&lt;/span&gt;
(Eventum&amp;#8217;s native language). It will (hopefully) keep track of which
hosts/services it has opened tickets for (and what the ticket &lt;span class="caps"&gt;ID&lt;/span&gt; is),
and decide from that whether to open a new ticket or, if one already
exists for that host/service, update it. It should also handle changes
to assigned user/group, update categories, priorities, etc. This will
all be based on a &lt;span class="caps"&gt;DB&lt;/span&gt; table that maps problem severities and
hosts/services to the users, groups, categories, and priorities that
they should be&amp;nbsp;assigned.&lt;/p&gt;
&lt;p&gt;The biggest problem is that I&amp;#8217;m not a whiz at object-oriented &lt;span class="caps"&gt;PHP&lt;/span&gt;, and
like any good &lt;span class="caps"&gt;OO&lt;/span&gt; program, Eventum is broken down into dozens of objects,
classes, and files. With the help of the &lt;a href="http://xdebug.org/"&gt;Xdebug debugging extension for
&lt;span class="caps"&gt;PHP&lt;/span&gt;&lt;/a&gt;, which prints full debugging output including
stack and function call traces, I&amp;#8217;ve been able to *finally* - after
about four hours of work - write a simple little 15-line script that
uses &lt;span class="caps"&gt;ONLY&lt;/span&gt; existing Eventum classes, unmodified (except for a separate
init.php with some stuff commented out), which gets a list of users
assigned to an issue. From here, it shouldn&amp;#8217;t be difficult to get full
issue information and then, hopefully, add and update&amp;nbsp;issues.&lt;/p&gt;
&lt;p&gt;I have a &lt;a href="http://www.jasonantman.com/wiki/index.php/Monitoring_Ticketing"&gt;basic description of the project on my
wiki&lt;/a&gt;,
and the current (development, so could be broken) source code in &lt;span class="caps"&gt;CVS&lt;/span&gt;,
which can be &lt;a href="http://cvs.jasonantman.com/cvs/Eventum-Nagios/"&gt;seen through ViewVC on my
site&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Stay&amp;nbsp;Tuned!&lt;/p&gt;</summary><category term="eventum"></category><category term="monitoring"></category><category term="mysql"></category><category term="programming"></category><category term="ticketing"></category></entry><entry><title>Rainy Day Link Updates</title><link href="http://blog.jasonantman.com/2008/02/rainy-day-link-updates/" rel="alternate"></link><updated>2008-02-13T13:27:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-02-13:2008/02/rainy-day-link-updates/</id><summary type="html">&lt;p&gt;Well, today happens to be my 21st birthday. Now, not only can I vote or
die for my country, but I can finally buy a drink when a president I
didn&amp;#8217;t vote for sends me off to war! All kidding aside, almost every
year I can remember, it&amp;#8217;s either snowed on my birthday, or been a rainy,
slushy mess. This year appears to be the latter - an utterly disgusting
mix of rain, slushy snow, and little chunks of ice from last&amp;nbsp;night.&lt;/p&gt;
&lt;p&gt;I haven&amp;#8217;t had much time this week to do anything interesting - it&amp;#8217;s been
a busy week for class-related stuff, and a bunch of work-related stuff
too. So, I guess I&amp;#8217;ll just post some interesting links for the past few&amp;nbsp;days&amp;#8230;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.sun.com/aboutsun/pr/2008-02/sunflash.20080212.1.xml"&gt;Sun Microsystems has announced that we&amp;#8217;ll be acquiring
Innotek&lt;/a&gt;,
and therefore VirtualBox. This means that Sun&amp;#8217;s virtualization products
will now reach to the desktop - and that I should give VirtualBox a shot
for running OpenSolaris on my laptop. (aside: why is virtualization not
in my Firefox spell check&amp;nbsp;yet???)&lt;/p&gt;
&lt;p&gt;Researchers at the Pittsburgh Supercomputing Center have come out with
&lt;a href="http://www.psc.edu/networking/projects/hpn-ssh/"&gt;a version of &lt;span class="caps"&gt;SSH&lt;/span&gt; / &lt;span class="caps"&gt;SCP&lt;/span&gt; that uses
multi-threading&lt;/a&gt;, for
use in high-bandwidth applications on multi-core&amp;nbsp;systems.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.itnews.com.au/Feature/4203,linux-we-have-a-pr-problem.aspx"&gt;An ITnews article on why Open Source needs better
&lt;span class="caps"&gt;PR&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;What? Microsoft sued &lt;em&gt;again&lt;/em&gt;?
&lt;a href="http://arstechnica.com/news.ars/post/20080211-vista-capable-scheme-was-panned-at-microsoft.html"&gt;Ars Technica ran an article on the Vista Capable
fiasco&lt;/a&gt;,
with some comments from &lt;span class="caps"&gt;MS&lt;/span&gt; insiders. How is it that such a big company,
with such a ubiquitous product, can constantly be sued, have &lt;span class="caps"&gt;MAJOR&lt;/span&gt;
screwups, screw over their customers, and still people come back for&amp;nbsp;more?&lt;/p&gt;
&lt;p&gt;&lt;a href="http://news.bbc.co.uk/1/hi/business/7241022.stm"&gt;&lt;span class="caps"&gt;BBC&lt;/span&gt; News - &lt;span class="caps"&gt;EU&lt;/span&gt; Competition Regulators raid Intel offices in
Munich&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;A CNet article (linked from &lt;a href="http://www.johnmwillis.com/cms/us-treasury-wasting-tens-of-millions-on-a-1-million-problem/"&gt;John M. Willis&amp;#8217; &lt;span class="caps"&gt;ESM&lt;/span&gt;
Blog&lt;/a&gt;)
on the &lt;a href="http://blogs.cnet.com/8301-13505_1-9870273-16.html?tag=head"&gt;&lt;span class="caps"&gt;US&lt;/span&gt; Treasury upping its content management budget to $28.2
million&lt;/a&gt; -
no wonder why ww have so much debt, nobody told them about Drupal. From
the article - &amp;#8220;tens of millions on a $1 million&amp;nbsp;problem&amp;#8221;.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://nagioswiki.com/wiki/index.php/Main_Page"&gt;Roger Rustad&amp;#8217;s Nagios
Wiki&lt;/a&gt;, liked in a
&lt;a href="http://www.groundworkopensource.com/community/blog/?p=135"&gt;Groundwork blog
entry&lt;/a&gt;.&lt;/p&gt;</summary><category term="birthday"></category><category term="innotek"></category><category term="multi-threading"></category><category term="opensource"></category><category term="ssh"></category><category term="sun"></category><category term="virtualbox"></category></entry><entry><title>Links for the weekend of February 10, 2008</title><link href="http://blog.jasonantman.com/2008/02/links-for-the-weekend-of-february-10-2008/" rel="alternate"></link><updated>2008-02-10T23:07:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-02-10:2008/02/links-for-the-weekend-of-february-10-2008/</id><summary type="html">&lt;p&gt;Well, I don&amp;#8217;t have much time for a real post. I&amp;#8217;m quite busy with school
work and prepping for an &lt;a href="http://www.opensolaris.org"&gt;OpenSolaris&lt;/a&gt; demo
at &lt;a href="http://ruslug.rutgers.edu"&gt;&lt;span class="caps"&gt;RUSLUG&lt;/span&gt;&lt;/a&gt; on this Tuesday. Also, I&amp;#8217;ve
pretty much finished my initial evaluation of &lt;a href="http://www.hyperic.com"&gt;Hyperic
&lt;span class="caps"&gt;HQ&lt;/span&gt;&lt;/a&gt; and, after reviewing the features of most of
the options, I&amp;#8217;m looking at &lt;a href="http://www.zenoss.com"&gt;Zenoss Core&lt;/a&gt; for the
next&amp;nbsp;round.&lt;/p&gt;
&lt;p&gt;So, instead of anything interesting, a few news stories from the past
few&amp;nbsp;days:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Slashdot - an interesting &lt;a href="http://yro.slashdot.org/article.pl?sid=08/02/10/1251233&amp;amp;from=rss"&gt;article on search and seizure of
    electronic devices at&amp;nbsp;airports&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;From
    &lt;a href="http://asuseeehacks.blogspot.com/2008/02/security-alert-asus-eee-pc-vulnerable.html"&gt;asuseeehacks.blogspot.com&lt;/a&gt;,
    also &lt;a href="http://seclists.org/bugtraq/2008/Feb/0086.html"&gt;bugtraq&lt;/a&gt; - the
    Asus eeePC apparently has a root-level vulnerability in its&amp;#8217;
    out-of-the-box Xandros distro, involving Samba. For people like me
    who put a much better &lt;span class="caps"&gt;OS&lt;/span&gt; on it, it&amp;#8217;s not a big&amp;nbsp;problem.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.informationweek.com/news/showArticle.jhtml?articleID=206106956"&gt;InformationWeek is
    reporting&lt;/a&gt;
    that the &lt;span class="caps"&gt;EU&lt;/span&gt; is investigating Microsoft - again. This time, for
    violating antitrust laws during its&amp;#8217; push for &lt;span class="caps"&gt;MSOOXML&lt;/span&gt;. There&amp;#8217;s also
    &lt;a href="http://www.groklaw.net/article.php?story=20080208151410252"&gt;a small page at GrokLaw dedicated to this newest
    development&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://arstechnica.com/news.ars/post/20080207-controversial-college-funding-bill-passedp2p-proviso-intact.html"&gt;According to Ars
    Technica&lt;/a&gt;,
    the congressional bill on college funding that would require schools
    to filter out &lt;span class="caps"&gt;P2P&lt;/span&gt; traffic has &lt;span class="caps"&gt;PASSED&lt;/span&gt; in the House, with the
    filtering clause intact. Fine. Whatever. A gross invasion of
    privacy, and of college students&amp;#8217; rights, but that&amp;#8217;s nothing new.
    However, if I&amp;#8217;m sitting in my office at Rutgers and have a
    &lt;em&gt;single hiccup&lt;/em&gt; downloading
    the OpenSuSE Beta 1 via BitTorrent on April 17th, mark my words, my
    congressmen (and Rutgers administrators) will learn my phone number
    by&amp;nbsp;heart.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://recordingindustryvspeople.blogspot.com/2008/02/judge-grants-eff-motion-for-leave-to.html"&gt;Some progress in Arista v. Does
    1-21&lt;/a&gt;,
    the &lt;span class="caps"&gt;RIAA&lt;/span&gt;&amp;#8217;s attack on Boston University students. But, unfortunately,
    the end of the McCarthy-esque tactics doesn&amp;#8217;t seem to be near yet
    and, even worse for me, neither does the likelihood that the
    recording industry will wake up and see what the market&amp;#8217;s asking
    for, and give me downloadable &lt;span class="caps"&gt;DRM&lt;/span&gt;-free music and&amp;nbsp;movies.&lt;/li&gt;
&lt;/ul&gt;</summary><category term="antitrust"></category><category term="microsoft"></category><category term="msooxml"></category><category term="opensolaris"></category><category term="p2p"></category><category term="privacy"></category><category term="riaa"></category><category term="rights"></category><category term="ruslug"></category></entry><entry><title>F/OSS Monitoring Comparison - Hyperic Part I</title><link href="http://blog.jasonantman.com/2008/02/foss-monitoring-comparison-hyperic-part-i/" rel="alternate"></link><updated>2008-02-08T16:54:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-02-08:2008/02/foss-monitoring-comparison-hyperic-part-i/</id><summary type="html">&lt;p&gt;So, I&amp;#8217;ve made some headway on the comparison. I have Hyperic installed
and partly configured, albeit without email alerts yet. I&amp;#8217;ve found some
serious features that I need missing, but I&amp;#8217;m going to give it a full
run before I move on to&amp;nbsp;another.&lt;/p&gt;
&lt;p&gt;The full text, updated a few times a day, is available on &lt;a href="http://www.jasonantman.com/wiki/index.php/Network_Monitoring_Comparison"&gt;my
wiki&lt;/a&gt;.
Here&amp;#8217;s a bit of an&amp;nbsp;excerpt:  &lt;/p&gt;
&lt;h3 id="part-i-installation"&gt;Part I -&amp;nbsp;Installation&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;setup Xen virtual machine running OpenSuSE 10.3 base packages. (3
    hours, some server problems, some Xen problems, and some time
    learning Xen administration from the&amp;nbsp;&lt;span class="caps"&gt;CLI&lt;/span&gt;)&lt;/li&gt;
&lt;li&gt;Download &lt;code&gt;hyperic-hq-installer-3.2.0-607-x86-linux.tgz&lt;/code&gt; from
    &lt;a href="http://www.hyperic.com/downloads/dl-hq-oss.html" title="http://www.hyperic.com/downloads/dl-hq-oss.html"&gt;Hyperic&lt;/a&gt;
    and&amp;nbsp;extract.&lt;/li&gt;
&lt;li&gt;Browse to
    &lt;a href="http://support.hyperic.com/confluence/display/DOC/Full+Installation+Guide" title="http://support.hyperic.com/confluence/display/DOC/Full+Installation+Guide"&gt;http://support.hyperic.com/confluence/display/&lt;span class="caps"&gt;DOC&lt;/span&gt;/Full+Installation+Guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;cd&lt;/code&gt; into &lt;code&gt;hyperic-hq-installer&lt;/code&gt; and run &lt;code&gt;./setup.sh -full&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The installation can&amp;#8217;t be run as root (though I assumed it would
    need root&amp;nbsp;privileges).&lt;/li&gt;
&lt;li&gt;I selected to install all 3 components - Server, Shell, and&amp;nbsp;Agent.&lt;/li&gt;
&lt;li&gt;Well, whoops! Sorta stupid to not allow installation as root,
    when the default location to install to is &lt;code&gt;/home/hyperic&lt;/code&gt;. How
    do they expect an arbitrary user to install there? Even worse,
    it appears that the default OpenSuSE 10.3 installation doesn&amp;#8217;t
    come with &lt;code&gt;sudo&lt;/code&gt; (!!!!) so I can&amp;#8217;t try&amp;nbsp;that.&lt;/li&gt;
&lt;li&gt;As root, create &lt;code&gt;/home/hyperic&lt;/code&gt; and chown to my&amp;nbsp;user.&lt;/li&gt;
&lt;li&gt;Repear the above steps (well, hopefully not all of&amp;nbsp;them).&lt;/li&gt;
&lt;li&gt;Default ports for everything - web &lt;span class="caps"&gt;GUI&lt;/span&gt; on 7080, &lt;span class="caps"&gt;HTTPS&lt;/span&gt; web &lt;span class="caps"&gt;GUI&lt;/span&gt; on
    7443, jnp service on 2099, mbean server on&amp;nbsp;9093,&lt;/li&gt;
&lt;li&gt;Change domain names in default URLs to logical ones for my test
    environment (no real &lt;span class="caps"&gt;DNS&lt;/span&gt;, just IPcop hosts, so
    devel-hyperic1.localdomian). I hope that I can change these
    later, or even better that absolute paths aren&amp;#8217;t used too much,
    as this will screw with my idea of using &lt;span class="caps"&gt;SSH&lt;/span&gt; port forwarding for
    remote&amp;nbsp;access.&lt;/li&gt;
&lt;li&gt;Leave the default &lt;span class="caps"&gt;SMTP&lt;/span&gt; server alone and change it later - I
    odn&amp;#8217;t even have mail running here at the&amp;nbsp;apartment.&lt;/li&gt;
&lt;li&gt;Use the built-in PostgreSQL database with default port of&amp;nbsp;9432.&lt;/li&gt;
&lt;li&gt;Go with the defaults for everything after&amp;nbsp;this.&lt;/li&gt;
&lt;li&gt;Everything runs nicely, and then it tells you to login to
    another terminal as root and run a script. I&amp;#8217;m not sure I like
    this method, but I guess it works. Login and do&amp;nbsp;it.&lt;/li&gt;
&lt;li&gt;How will it start the builtin database? As my user???? Yup.
    postgres is running as my user. Wonderful. Nothing in the
    &lt;a href="http://support.hyperic.com/confluence/display/DOC/Full+Installation+Guide" title="http://support.hyperic.com/confluence/display/DOC/Full+Installation+Guide"&gt;install
    document&lt;/a&gt;
    mentioned user creation. Was this just assumed? Because in the
    naive world I live in, most installer scripts (think Nagios)
    create a user for you, or tell you&amp;nbsp;to.&lt;/li&gt;
&lt;li&gt;Setup script complete. A few instructions&amp;nbsp;follow&amp;#8230;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Run &lt;code&gt;/home/hyperic/server-3.2.0/bin/hq-server.sh start&lt;/code&gt;&amp;#8230; as my
    user. &lt;em&gt;Note to self:&lt;/em&gt; setup a user for Postgres and Hyperic. Believe
    it or not, but it booted - but followed with the message, &amp;#8220;Login to
    &lt;span class="caps"&gt;HQ&lt;/span&gt; at:
    &lt;a href="http://127.0.0.1:7080/" title="http://127.0.0.1:7080/"&gt;http://127.0.0.1:7080/&lt;/a&gt;&amp;#8221;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;Browsed to
    &lt;a href="http://devel-hyperic1:7080/" title="http://devel-hyperic1:7080"&gt;http://devel-hyperic1:7080&lt;/a&gt;
    and was greeted by a startup page, saying that the server was 18%
    finished booting. My, I yearn for little C binaries and a &lt;span class="caps"&gt;PHP&lt;/span&gt;&amp;nbsp;frontend.&lt;/li&gt;
&lt;li&gt;Page turns blank and stops there. I refresh, and get a login page. I
    enter my username and password, and get a little message box where
    the &amp;#8220;invalid password&amp;#8221; box usually is - says &amp;#8220;Server is still
    booting&amp;#8221;. This is over a minute later. I&amp;#8217;m happy to see
    Apache/Coyote1.1, but would like to be able to get into Hyperic in
    less time than it takes the machine to boot to a graphical login
    screen (ok, granted, I&amp;#8217;m running &lt;span class="caps"&gt;XFCE&lt;/span&gt;). In SuSE&amp;#8217;s YaST Xen Monitor,
    I see that the &lt;span class="caps"&gt;VM&lt;/span&gt; is at 45% of its&amp;#8217; &lt;span class="caps"&gt;464MB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt;, and 90% &lt;span class="caps"&gt;CPU&lt;/span&gt; - with
    8.5% consumed by&amp;nbsp;dom0.&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;CPU&lt;/span&gt; usage for the &lt;span class="caps"&gt;VM&lt;/span&gt; drops to 1% and I login again. &lt;span class="caps"&gt;BAM&lt;/span&gt;! Hyperic &lt;span class="caps"&gt;HQ&lt;/span&gt;.
    Aside from the fact that it shows &lt;span class="caps"&gt;NO&lt;/span&gt; resources&amp;#8230; oh&amp;#8230; start the&amp;nbsp;Agent.&lt;/li&gt;
&lt;li&gt;Start the Agent on the &lt;span class="caps"&gt;VM&lt;/span&gt; running Hyperic. It asks me for the server
    &lt;span class="caps"&gt;IP&lt;/span&gt; address. What, no &lt;span class="caps"&gt;DNS&lt;/span&gt;? I enter the &lt;span class="caps"&gt;IP&lt;/span&gt; as it is&amp;#8230; for now. I keep
    everything at defaults, including using the hqadmin username and
    password. Successfully&amp;nbsp;started.&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;BAM&lt;/span&gt;! In Dashboard, I see the auto-discovered host with the right
    hostname, as well as Tomcat, Agent, JBoss, and PostgreSQL. Amazing!
    Click &amp;#8220;Add to&amp;nbsp;Inventory&amp;#8221;.&lt;/li&gt;
&lt;li&gt;Check out the &amp;#8220;Resources&amp;#8221; -&gt; &amp;#8220;Browse&amp;#8221; screen. It knows this machine
    is OpenSuSE 10.3, and I see my four services (listed above). Of
    course, no metrics yet, but I see the correct &lt;span class="caps"&gt;IP&lt;/span&gt;, gateway, &lt;span class="caps"&gt;DNS&lt;/span&gt;,
    vendor (SuSE), kernel version, &lt;span class="caps"&gt;RAM&lt;/span&gt;, architecture, and &lt;span class="caps"&gt;CPU&lt;/span&gt;&amp;nbsp;speed.&lt;/li&gt;
&lt;li&gt;Looking through the &amp;#8220;Inventory&amp;#8221; screen, I see everything - NICs and
    MACs, running servers and one service (a &lt;span class="caps"&gt;CPU&lt;/span&gt; resource). What more
    could a man want in&amp;#8230;let&amp;#8217;s see.. just over an&amp;nbsp;hour!&lt;/li&gt;
&lt;li&gt;I really *love* the &amp;#8220;Views&amp;#8221; screen which, even out-of-the-box,
    allows &amp;#8220;Live Exec&amp;#8221; information from cpuinfo, df, ifconfig, netstat,
    top, who, and&amp;nbsp;more.&lt;/li&gt;
&lt;li&gt;Well, it&amp;#8217;s 03:35, and I have work and class tomorrow. I think it&amp;#8217;s
    time to give Part I a rest. But&amp;nbsp;first&amp;#8230;&lt;/li&gt;
&lt;li&gt;Go to the &amp;#8220;Platform&amp;#8221; page for my one machine and&amp;#8230; &lt;span class="caps"&gt;YES&lt;/span&gt;! Graphs are
    starting to&amp;nbsp;appear!&lt;/li&gt;
&lt;li&gt;Following the suggestion
    &lt;a href="http://support.hyperic.com/confluence/display/DOC/HQ+Quick+Start#HQQuickStart-enableTracking" title="http://support.hyperic.com/confluence/display/DOC/HQ+Quick+Start#HQQuickStart-enableTracking"&gt;here&lt;/a&gt;,
    I enable log and config tracking on the platform for &lt;code&gt;/var/log/warn&lt;/code&gt;
    and &lt;code&gt;/etc/hosts&lt;/code&gt;,&amp;nbsp;respecitvely.&lt;/li&gt;
&lt;li&gt;Before I call it a night (now 03:42), I stop back at the &lt;a href="http://www.hyperic.com/downloads/dl-hq-oss.html" title="http://www.hyperic.com/downloads/dl-hq-oss.html"&gt;downloads
    page&lt;/a&gt;
    and grab the Linux x86 Agent for the dom0 machine, hoping to get
    some physical information as well. While I&amp;#8217;m at it, I grab the Linux
    &lt;span class="caps"&gt;AMD64&lt;/span&gt; Agent to try on my laptop. I create &amp;#8220;hyperic&amp;#8221; users on each
    system. On the base Xen server, I give it a shot and get &amp;#8220;Unable to
    register agent: Error communicating with agent: Unauthorized&amp;#8221;. Same
    thing on the&amp;nbsp;laptop.&lt;/li&gt;
&lt;li&gt;Did a little reading
    &lt;a href="http://support.hyperic.com/confluence/display/DOC/Installation+Non-Windows#InstallationNon-Windows-install" title="http://support.hyperic.com/confluence/display/DOC/Installation+Non-Windows#InstallationNon-Windows-install"&gt;here&lt;/a&gt;.
    As to keeping all of the defaults, it turns out that both clients
    had firewalls blocking &lt;span class="caps"&gt;TCP&lt;/span&gt; port 2144. I opened it up on both, and
    also set the &lt;span class="caps"&gt;IP&lt;/span&gt; address (that the server uses to contact the client)
    to the correct ones. Viola! Now I have 3 clients connected, and
    gatheirng data for the next \~16 hours until I have time to check it
    out&amp;nbsp;agian.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;More to come in Part &lt;span class="caps"&gt;II&lt;/span&gt; tomorrow - actually doing something with
Hyperic. For&lt;br /&gt;
now (04:08), time to&amp;nbsp;sleep.&lt;/p&gt;
&lt;h3 id="part-ii-configuration"&gt;Part &lt;span class="caps"&gt;II&lt;/span&gt; -&amp;nbsp;Configuration&lt;/h3&gt;
&lt;p&gt;Unfortunately, I haven&amp;#8217;t had much time to play with Hyperic in the two
days&lt;br /&gt;
since installation. The most I&amp;#8217;ve really done is setup Agents on my
laptop,&lt;br /&gt;
desktop, and the host machine (both dom0 and domU for Hyperic), so that
they&lt;br /&gt;
start to collect&amp;nbsp;data.&lt;/p&gt;
&lt;p&gt;While I found a lot of upsetting stuff in the features list (see below),
I&lt;br /&gt;
decided to go ahead and add some other devices. On the network at the&lt;br /&gt;
apartment, I have two manageable switches (a Linksys and a 3Com) - which
pretty&lt;br /&gt;
much make up the sum of non-host equipment. I also have an IPcop box,
though I&lt;br /&gt;
assume the standard Linux Agent will handle that. The one item missing
that I&lt;br /&gt;
have at home is my set of &lt;span class="caps"&gt;APC&lt;/span&gt; SmartUPS UPSs with &lt;span class="caps"&gt;SNMP&lt;/span&gt; cards, but I guess
I&amp;#8217;ll&lt;br /&gt;
just have to skip them for this&amp;nbsp;review.&lt;/p&gt;
&lt;p&gt;First, I went in and added a platform (Resources-&gt;Browse, Tools
Menu-&gt;Add&lt;br /&gt;
Platform) for the 3Com switch (a SuperStack &lt;span class="caps"&gt;II&lt;/span&gt; Switch 3300). It showed&lt;br /&gt;
successful creation - but nothing else. I went in and entered the &lt;span class="caps"&gt;SNMP&lt;/span&gt;&lt;br /&gt;
community string, &lt;span class="caps"&gt;IP&lt;/span&gt;, and version (1). In about a minute or so, I
started to&lt;br /&gt;
see metrics - Availability, &lt;span class="caps"&gt;IP&lt;/span&gt; Forwards, &lt;span class="caps"&gt;IP&lt;/span&gt; In Receives, an &lt;span class="caps"&gt;IP&lt;/span&gt; In
Received per&lt;br /&gt;
Second. While it&amp;#8217;s quite basic, that&amp;#8217;s good for a starting point. While
the&lt;br /&gt;
[&lt;a href="http://support.hyperic.com/confluence/display/DOCSHQ30/Network+Device+platform" title="http://support.hyperic.com/confluence/display/DOCSHQ30/Network+Device+platform"&gt;http://support.hyperic.com/confluence/display/&lt;span class="caps"&gt;DOCSHQ30&lt;/span&gt;/Network+Device+platform&lt;/a&gt;&lt;br /&gt;
Network Device Platform] documentation lists lots of metrics that can
be&lt;br /&gt;
enabled, I&amp;#8217;d also like telnet availability and - my big one since I use
a&lt;br /&gt;
&amp;#8220;cute&amp;#8221; (crappy) IPcop installation for local &lt;span class="caps"&gt;DNS&lt;/span&gt;, a dig on &lt;span class="caps"&gt;DNS&lt;/span&gt; to make
sure&lt;br /&gt;
the entry is there. In the Monitor screen, I was able to enable a bunch
of&lt;br /&gt;
additional metrics (by clicking on the &amp;#8220;Show All Metrics&amp;#8221; link), though&lt;br /&gt;
there&amp;#8217;s also no way (that I can find) to monitor the status of
individual&lt;br /&gt;&amp;nbsp;ports.&lt;/p&gt;
&lt;p&gt;Next, I browsed through the &amp;#8220;Administration&amp;#8221; pages, setup a few users,
and&lt;br /&gt;
started setting *way* more default metrics for various platforms,
services,&lt;br /&gt;
and servers. While I don&amp;#8217;t have mail running yet, that will come this&lt;br /&gt;
weekend. While I added a lot of things as &amp;#8220;Default On&amp;#8221;, I still need to
go&lt;br /&gt;
back and add more things in the templates as&amp;nbsp;Indicators.&lt;/p&gt;
&lt;p&gt;I also added some escalations, though they&amp;#8217;re quite simple - you can
notify &lt;span class="caps"&gt;HQ&lt;/span&gt;&lt;br /&gt;
users or &amp;#8220;other users&amp;#8221; by email or &lt;span class="caps"&gt;SMS&lt;/span&gt;, write to SysLog, or suppress
alerts&lt;br /&gt;
for 0 minutes to 24 hours. Hopefully I&amp;#8217;ll also find a plugin for
Asterisk&lt;br /&gt;
integration. One striking omission is user groups. Also, the concept of&lt;br /&gt;
&amp;#8220;Roles&amp;#8221; (maybe their idea of groups?) is only available in the
Enterprise&lt;br /&gt;&amp;nbsp;version.&lt;/p&gt;
&lt;p&gt;At this point, I also notice one other majoe issue, though perhaps I&amp;#8217;ll
find a&lt;br /&gt;
solution in my experimentation - there doesn&amp;#8217;t be a way to setup
default&lt;br /&gt;
alerts for metrics. If they have all of this platform, server, and
service&lt;br /&gt;
information defined as default templates, why not just have a way to
assign&lt;br /&gt;
default users (and groups) to these objects, and have default alerts&lt;br /&gt;&amp;nbsp;generated?&lt;/p&gt;
&lt;p&gt;In terms of Apache 2.2 monitoring, out-of-the-box, nothing worked. No
metrics&lt;br /&gt;
at all. Firstly, Hyperic requires the mod_status module. Persoanlly,
I&amp;#8217;d&lt;br /&gt;
rather handle all of that through a backend, like Nagios. Secondly, it
got the&lt;br /&gt;
pidfile and apache2ctl paths wrong. Furthermore, it has no &amp;#8220;smart&amp;#8221;
checking for resources - while my Apache 2.2 resource config was clearly
wrong (wrong &lt;span class="caps"&gt;PID&lt;/span&gt; file path, no mod_status), Hyperic didn&amp;#8217;t detect this
and was showing the resource as&amp;nbsp;&amp;#8220;Down&amp;#8221;.&lt;/p&gt;
&lt;p&gt;After that, I setup a bunch of alerts for things that I thought would be
off-kilter a lot (like &lt;span class="caps"&gt;WARN&lt;/span&gt; log entries on my laptop, high memory usage
on some stressed machines, etc.) as well as log and config file
monitoring and alerts for them. While I didn&amp;#8217;t have mail working yet, I
figured I might as well get that stuff&amp;nbsp;running.&lt;/p&gt;
&lt;p&gt;On the Xen dom0 host that runs the Hyperic vm (box called xenmaster1), I
wasn&amp;#8217;t able to add config file tracking for any of the /etc/xen/ files.
At this point I notice some serious shortcomings - not only is it not
possible to define a template of alerts for a given
platform/server/service, it&amp;#8217;s also impossible to define a template for
alerts. I also noticed that it&amp;#8217;s not possible to define groups of
contacts. This wasn&amp;#8217;t much of a problem for my test installation - the
alerts are only going to my roommate and I - but it would surely be an
issue in any larger&amp;nbsp;setting.&lt;/p&gt;
&lt;p&gt;At this point in configuration, I come to a make-or-break point. With
some of these shortcomings, I really need a way to call a script with
alert information when an alert is generated - whether it&amp;#8217;s to dial out
through Asterisk or just automatically create a ticket for the&amp;nbsp;problem.&lt;/p&gt;
&lt;p&gt;Adding alerts is a cumbersome process. You have to browse to a page for
a specific metric - which means going to the page for a specific
platform, server, or service - and then opening the page for that
metric. The actual alert creation takes up two pages - one for the
metric, threshold, and time-based criteria, and a second for who to
alert. This means that to add alerts for a machine, you need to view the
platform page as well as the services and servers pages, and each metric&amp;nbsp;therein.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ll be posting some more in the days to come. From a &lt;a href="http://forums.hyperic.com/jiveforums/thread.jspa?messageID=14561&amp;amp;#14561"&gt;post at the
Hyperic
Forums&lt;/a&gt;,
I was able to find out that a Xen plugin is in the works, but for the
Open Source version, the only way to trigger a script is to send an
email and have it handled by a filter such as&amp;nbsp;Procmail.&lt;/p&gt;</summary><category term="hyperic"></category><category term="monitoring"></category><category term="open source"></category></entry><entry><title>Network Monitoring (lack of) Progress</title><link href="http://blog.jasonantman.com/2008/02/network-monitoring-lack-of-progress/" rel="alternate"></link><updated>2008-02-06T00:07:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-02-06:2008/02/network-monitoring-lack-of-progress/</id><summary type="html">&lt;p&gt;So, I&amp;#8217;ve been plodding along after troubleshooting some &lt;span class="caps"&gt;VPN&lt;/span&gt; issues with
my Solaris workstation that I use for Sun work. After that, I started
work on the Xen box. Big surprise - none of the &lt;span class="caps"&gt;PS&lt;/span&gt;/2 inputs are working.
I knew that the &lt;span class="caps"&gt;PS&lt;/span&gt;/2 riser card was loose, but now I can&amp;#8217;t get any
input. I gave a &lt;span class="caps"&gt;USB&lt;/span&gt; mouse and keyboard a shot, but it&amp;#8217;s flat-out
impossible to use them with a 1U slide-out &lt;span class="caps"&gt;KVM&lt;/span&gt; console. So, back to my
room and&amp;nbsp;&lt;span class="caps"&gt;VNC&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Now, problem 2. I&amp;#8217;m trying to use the SuSE/YaST builtin &lt;span class="caps"&gt;VM&lt;/span&gt; manager.
Unfortunately, it can&amp;#8217;t read half of my known-good SuSE CDs, and for
some reason the other half come up with a mysterious error that it can&amp;#8217;t
find /tmp/{random string}/suse/i586/install-initrd-1.0-72.i586.rpm. This
is most troubling because I have 2 VMs setup on the machine, and
installed them both without a&amp;nbsp;problem.&lt;/p&gt;
&lt;p&gt;By now a new OpenSuSE 10.3-&lt;span class="caps"&gt;KDE&lt;/span&gt; .iso should be done downloading (thank
God for a 1.5Mbps download rate at home), so I&amp;#8217;ll keep hacking away at&amp;nbsp;it&amp;#8230;&lt;/p&gt;</summary></entry><entry><title>Network Monitoring Trials - Part I</title><link href="http://blog.jasonantman.com/2008/02/network-monitoring-trials-part-i/" rel="alternate"></link><updated>2008-02-05T20:26:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-02-05:2008/02/network-monitoring-trials-part-i/</id><summary type="html">&lt;p&gt;After dinner tonight, I&amp;#8217;m going to start setting up my Xen VMs and
installing some monitoring software. I&amp;#8217;ve decided that
&lt;a href="http://www.hyperic.com/"&gt;Hyperic&lt;/a&gt; and &lt;a href="http://www.opennms.org"&gt;OpenNMS&lt;/a&gt;
will be the first round - mainly because their free versions seem to be
the most heavy-weight, and will probably take more installation time.
&lt;a href="http://www.groundworkopensource.com/"&gt;GroundWork Open Source&lt;/a&gt; will come
sometime later this&amp;nbsp;week.&lt;/p&gt;
&lt;p&gt;While the research that I did today has led me to start formulating some
opinions on each of the contestants, I&amp;#8217;m going to withhold comment until
I get all three up and running, and have done some real work with&amp;nbsp;them.&lt;/p&gt;</summary><category term="groundwork"></category><category term="hyperic"></category><category term="monitoring"></category><category term="opennms"></category></entry><entry><title>Google Loves Me! and Monitoring System Testing</title><link href="http://blog.jasonantman.com/2008/02/google-loves-me-and-monitoring-system-testing/" rel="alternate"></link><updated>2008-02-05T03:15:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-02-05:2008/02/google-loves-me-and-monitoring-system-testing/</id><summary type="html">&lt;p&gt;I happened to visit Google Webmaster Tools tonight. On the down side, a
lot more of my redirected pages
(&lt;a href="http://jantman.dyndns.org:10011/"&gt;jantman.dyndns.org:10011&lt;/a&gt;) are
indexed than those from the domain
(&lt;a href="http://www.jasonantman.com"&gt;jasonantman.com&lt;/a&gt;). On the positive side,
my search stats are quite impressive - for example, &lt;a href="http://www.google.com/search?num=50&amp;amp;hl=en&amp;amp;safe=off&amp;amp;q=hpadu&amp;amp;btnG=Search"&gt;searching
&amp;#8220;hpadu&amp;#8221;&lt;/a&gt;
(the &lt;span class="caps"&gt;HP&lt;/span&gt; Proliant Array Diagnostic Utility) gives my
&lt;a href="http://www.jasonantman.com"&gt;Wiki&lt;/a&gt;as the #9 result - searching &lt;a href="http://www.google.com/search?q=hpasm+sles10&amp;amp;hl=en"&gt;&amp;#8220;hpasm
sles10&amp;#8221;&lt;/a&gt; shows my
site as #3! Most amazingly, there are only two &lt;span class="caps"&gt;HP&lt;/span&gt; pages above mine in
both of the&amp;nbsp;queries.&lt;/p&gt;
&lt;p&gt;I guess trying to put every bit of knowledge I pick up in my blog or
wiki pays off. And hopefully some people are getting&amp;nbsp;help.&lt;/p&gt;
&lt;p&gt;On another note, later this week I&amp;#8217;m going to setup two virtual machines
on my spare PowerEdge 650 to test some &lt;a href="/2008/01/network-monitoring.html"&gt;network monitoring
systems&lt;/a&gt;
- specifically, &lt;a href="http://www.hyperic.com/products/hq_oss.html"&gt;Hyperic
&lt;span class="caps"&gt;HQ&lt;/span&gt;&lt;/a&gt;,
&lt;a href="http://www.opennms.org/"&gt;OpenNMS&lt;/a&gt;, and &lt;a href="http://www.groundworkopensource.com/products/os-overview.html"&gt;Groundwork Open
Source&lt;/a&gt;.
Thanks to &lt;a href="http://www.johnmwillis.com"&gt;John&lt;/a&gt;, Peter, and &lt;a href="http://jeffgehlbach.com/"&gt;Jeff
G&lt;/a&gt;. (of OpenNMS) for finding my little-known
blog and suggesting I try them. I don&amp;#8217;t know how much I&amp;#8217;ll be able to
run on this poor system (2.4GHz P-&lt;span class="caps"&gt;III&lt;/span&gt; is the fastest I have, but &lt;span class="caps"&gt;768MB&lt;/span&gt;
&lt;span class="caps"&gt;RAM&lt;/span&gt; is a bit weak), but I&amp;#8217;ll do the best I can, and post my&amp;nbsp;results.&lt;/p&gt;
&lt;p&gt;One comment - I can&amp;#8217;t seem to find a feature list for
&lt;a href="http://www.opennms.org/"&gt;OpenNMS&lt;/a&gt;, so I may be wrong, but it looks like
&lt;a href="http://www.hyperic.com/products/hq_oss.html"&gt;Hyperic &lt;span class="caps"&gt;HQ&lt;/span&gt;&lt;/a&gt; may be in the
lead at the moment, simply because it seems to include built-in asset
tracking with hardware discovery - something that takes me way too long
to manually keep up-to-date. On another side-note, the web site for
&lt;a href="http://www.groundworkopensource.com/products/os-overview.html"&gt;Groundwork Open
Source&lt;/a&gt;
leaves a sour taste in my mouth, as it&amp;#8217;s pretty sparse - there&amp;#8217;s a lot
of space given to the Enterprise edition, but not much text about the
Open Source&amp;nbsp;version.&lt;/p&gt;</summary><category term="google"></category><category term="groundwork"></category><category term="hyperic"></category><category term="montoring"></category><category term="opennms"></category></entry><entry><title>Big Plans - Major Infrastructure Upgrades</title><link href="http://blog.jasonantman.com/2008/02/big-plans-major-infrastructure-upgrades/" rel="alternate"></link><updated>2008-02-05T01:36:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-02-05:2008/02/big-plans-major-infrastructure-upgrades/</id><summary type="html">&lt;p&gt;Well, some more news. I&amp;#8217;ve got some pay coming to me, and I also
realized that I have literally a &lt;em&gt;pile&lt;/em&gt; of Dell server rack rails, cable
management parts, and front bezels/panels (that I got from &lt;a href="http://www.material.rutgers.edu/surplussales.shtml"&gt;Rutgers
Unversity Surplus&lt;/a&gt;)
to sell on &lt;a href="http://myworld.ebay.com/jason-antman/"&gt;EBay&lt;/a&gt;. So, aside from
expenses (like $45/month for Verizon data service on my wonderful &lt;a href="http://www.palm.com/us/products/smartphones/treo700p/"&gt;Treo
700p&lt;/a&gt;) and
savings, I decided that I should make some infrastructure upgrades to&amp;nbsp;jasonantman.com.&lt;/p&gt;
&lt;p&gt;Just figuring out what to do was a task. I&amp;#8217;ll admit that my
administration techniques haven&amp;#8217;t really scaled with the network, so I
clicked into my &lt;a href="http://www.nagios.org/"&gt;Nagios&lt;/a&gt; installation, and
remembered that I&amp;#8217;m monitoring 17 hosts (and 165 services), I realized
that this will end up being a big project, both in terms of
infrastructure/hardware and software. The first decision was that I
wouldn&amp;#8217;t do anything with the hosts at the &lt;a href="http://www.midlandparkambulance.com/"&gt;ambulance
corps&lt;/a&gt; or my apartment (the
apartment is all non-mission-critical), so that narrowed it down to the
main seven systems at&amp;nbsp;home.&lt;/p&gt;
&lt;p&gt;Figuring out what I have running was also a major task, and highlighted
some real problems. I found &lt;a href="http://www.dracoware.com/ppl/rtwomey/inventory.shtml"&gt;a Perl script that gathers hardware
information on Linux-based
systems&lt;/a&gt; from
&lt;a href="http://www.dracoware.com/ppl/rtwomey/index.html"&gt;Ryan Twomey&lt;/a&gt;
(&lt;em&gt;everything&lt;/em&gt; is running some version of
&lt;a href="http://www.opensuse.org/"&gt;OpenSuSE&lt;/a&gt; 10.x except for the mailserver,
which runs &lt;a href="http://www.sun.com/software/solaris/"&gt;Sun Solaris 10&lt;/a&gt;). I
had to scp the script and its&amp;#8217; two perl modules to five machines (not
counting the one I was working on), &lt;span class="caps"&gt;SSH&lt;/span&gt; into them an run it, and then
&lt;span class="caps"&gt;SCP&lt;/span&gt; the results back. Well, that&amp;#8217;s something to worry about later. For
Solaris, I just ran some commands and gathered the information&amp;nbsp;manually.  &lt;/p&gt;
&lt;h1 id="the-results"&gt;The&amp;nbsp;Results:&lt;/h1&gt;
&lt;h2 id="needs-replacing"&gt;Needs&amp;nbsp;Replacing:&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Router/Firewall - Old gateway mini-tower system, 400MHz Celeron,
    &lt;span class="caps"&gt;192MB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt;, 6 &lt;span class="caps"&gt;GB&lt;/span&gt; &lt;span class="caps"&gt;IDE&lt;/span&gt;&amp;nbsp;disk.&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;SSH&lt;/span&gt; gateway and temporary storage for &lt;span class="caps"&gt;SFTP&lt;/span&gt;&amp;#8217;d files - Old Gateway
    G6-350, 350MHz Pentium-&lt;span class="caps"&gt;II&lt;/span&gt;, &lt;span class="caps"&gt;128MB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt; (&lt;strong&gt;!!!&lt;/strong&gt;), &lt;span class="caps"&gt;40GB&lt;/span&gt; &lt;span class="caps"&gt;IDE&lt;/span&gt;&amp;nbsp;disk.&lt;/li&gt;
&lt;li&gt;Disk storage for backups - Old Dell tower, 500MHz Pentium-&lt;span class="caps"&gt;II&lt;/span&gt;, &lt;span class="caps"&gt;256MB&lt;/span&gt;
    &lt;span class="caps"&gt;RAM&lt;/span&gt;, &lt;span class="caps"&gt;250GB&lt;/span&gt; &lt;span class="caps"&gt;IDE&lt;/span&gt; disk for&amp;nbsp;storage.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="still-has-a-ways-to-go"&gt;Still has a ways to&amp;nbsp;go:&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Web Server - Compaq Proliant &lt;span class="caps"&gt;DL360&lt;/span&gt;-G1, 2x 1GHz Pentium-&lt;span class="caps"&gt;III&lt;/span&gt;, &lt;span class="caps"&gt;1GB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt;,
    2x &lt;span class="caps"&gt;18GB&lt;/span&gt; &lt;span class="caps"&gt;SCSI&lt;/span&gt; disks,&amp;nbsp;&lt;span class="caps"&gt;RAID&lt;/span&gt;-1.&lt;/li&gt;
&lt;li&gt;Backup Director (and mirrored disk storage for critical backups) -
    Compaq Proliant &lt;span class="caps"&gt;ML370&lt;/span&gt;-G1, 2x 750MHz Pentium-&lt;span class="caps"&gt;III&lt;/span&gt;, &lt;span class="caps"&gt;2GB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt;, 4x &lt;span class="caps"&gt;18GB&lt;/span&gt;
    &lt;span class="caps"&gt;SCSI&lt;/span&gt; disks in a 3-disk &lt;span class="caps"&gt;RAID5&lt;/span&gt; with one hot&amp;nbsp;spare.&lt;/li&gt;
&lt;li&gt;Monitoring (Nagios) box - Compaq Proliant &lt;span class="caps"&gt;DL320&lt;/span&gt;-G1, single
    Pentium-&lt;span class="caps"&gt;III&lt;/span&gt; 1GHz, &lt;span class="caps"&gt;512MB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt;, single &lt;span class="caps"&gt;18GB&lt;/span&gt; &lt;span class="caps"&gt;SCSI&lt;/span&gt;&amp;nbsp;disk.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The one unfortunate about these (for me, &amp;#8220;new&amp;#8221;) machines is that they
all have 10/100 Mb/s NICs, so an upgrade to gigabit will mean hardware&amp;nbsp;changes.&lt;/p&gt;
&lt;p&gt;And the rest falls somewhere in the middle. One option, if budget is an
issue, is to move an older machine down to the apartment to use as a
print server for &lt;a href="/2007/11/print-accounting.html"&gt;print
accounting&lt;/a&gt;,
which is currently running in a Xen &lt;span class="caps"&gt;VM&lt;/span&gt; as the &lt;em&gt;only&lt;/em&gt; load on a beautiful
1U Dell PowerEdge 650 (Pentium-4 2.4GHz, &lt;span class="caps"&gt;762MB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt;, 2x &lt;span class="caps"&gt;36GB&lt;/span&gt; &lt;span class="caps"&gt;SCSI&lt;/span&gt; disks,
3com 10/100 &lt;span class="caps"&gt;NIC&lt;/span&gt; and Intel Pro Dual-Gigabit&amp;nbsp;&lt;span class="caps"&gt;NIC&lt;/span&gt;).  &lt;/p&gt;
&lt;h2 id="other-acquisitions-on-the-list"&gt;Other acquisitions on the&amp;nbsp;list:&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;New switch to replace the aged BayStack 450-24T
    that &lt;em&gt;everything&lt;/em&gt; is running on now. I&amp;#8217;m looking for something good,
    managed, with Telnet (or &lt;span class="caps"&gt;SSH&lt;/span&gt;) and &lt;span class="caps"&gt;SNMP&lt;/span&gt; for monitoring, as well as
    the easy ability to do a span port. The important thing is that I
    *never* have to be on-site to manage it. Maybe a Cisco if I can
    choose a model and get the cash&amp;nbsp;together.&lt;/li&gt;
&lt;li&gt;A gigabit (even unmanaged, though &lt;span class="caps"&gt;SNMP&lt;/span&gt; monitoring and &lt;span class="caps"&gt;MRTG&lt;/span&gt;/Cacti
    would be nice) switch for a dedicated backup network, to move that
    load off of the little 100Mbps main&amp;nbsp;switch.&lt;/li&gt;
&lt;li&gt;Right now, I just have everything &lt;a href="http://www.jasonantman.com/wiki/index.php/Jasonantman.com_Hardware"&gt;crammed onto a Sears metal shop
    shelf
    unit&lt;/a&gt;.
    I&amp;#8217;d really like to replace that with a nice little 24U (low ceilings
    in the basement) rack, especially since most of my stuff is&amp;nbsp;rack-mount.&lt;/li&gt;
&lt;li&gt;I don&amp;#8217;t have rack rails for any of the Proliants - none of them came
    with them, and they were all purchased before I had anything rack
    mounted (at the&amp;nbsp;apartment).&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id="software-needs"&gt;Software&amp;nbsp;Needs:&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;Obviously, some better way of handling administration. Right now,
    software updates (via YaST/&lt;span class="caps"&gt;YOU&lt;/span&gt;) are run as cron jobs, and I have no
    easy way of distributing files or running commands on multiple
    systems without manually scp/ssh&amp;#8217;ing to all of&amp;nbsp;them&lt;/li&gt;
&lt;li&gt;I&amp;#8217;m going to start testing some other &lt;a href="/2008/01/network-monitoring.html"&gt;Network
    Monitoring&lt;/a&gt;
    packages at the apartment. Since I&amp;#8217;m going to have some scheduled
    downtime for all of this (especially with a router/firewall
    replacement), I might as well plan a move to a new monitoring&amp;nbsp;system.&lt;/li&gt;
&lt;li&gt;At the moment, all of my web presence is on one Generation-1 (G-I)
    Compaq Proliant server. While it seems to have a lot of life left
    (especially under its&amp;#8217; current low load), I don&amp;#8217;t like that.
    Especially given that I&amp;#8217;m only home every other weekend, so even
    with nightly backups, if it gives up the ghost I&amp;#8217;m down for a while.
    I&amp;#8217;m going to think about mirroring this to a box at the apartment
    (see both items below), but there are still some technical issues to
    be dealt&amp;nbsp;with:  &lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Both home and the apartment are on residential high-bandwidth
        connections (&lt;a href="http://www.verizon.com/fios"&gt;Verizon FiOS&lt;/a&gt; and
        &lt;a href="http://www.optimum.com/"&gt;Optimum Online&lt;/a&gt;, respectively) using
        &lt;a href="http://www.dyndns.org/"&gt;DynDNS.org&lt;/a&gt; with dynamic IPs. I still
        haven&amp;#8217;t been able to get &lt;a href="http://ipcop.org/"&gt;IPcop&lt;/a&gt; to &lt;span class="caps"&gt;VPN&lt;/span&gt;
        between the two (either with the built-in &lt;span class="caps"&gt;VPN&lt;/span&gt; or Zerina). If I
        wanted to mirror to the apartment, it would surely be easier to
        copy everything over a &lt;span class="caps"&gt;VPN&lt;/span&gt;, and not worry as much about&amp;nbsp;security.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;I use DynDNS and &lt;a href="http://www.godaddy.com/"&gt;GoDaddy&lt;/a&gt; (yes, this
    years&amp;#8217; Super Bowl commercial was a letdown) Domain Forwarding.
    As a result, I don&amp;#8217;t have any control over &lt;span class="caps"&gt;DNS&lt;/span&gt; at all, so I&amp;#8217;m
    not quite sure how I&amp;#8217;d do a failover from home to the apartment
    automatically. It would be possible, however, to do the manual
    failover from home to the apartment, just for the downtime, if I
    mirrored the home server to a box at the&amp;nbsp;apartment.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;While I don&amp;#8217;t want to give up my email on my Treo, it is tempting
that Verizon FiOS is now listing &lt;a href="http://www22.verizon.com/content/businessdsl/popups/bdsl+speeds+and+package+features/bdsl+speeds+and+package+features.htm"&gt;a business-class FiOS connection
at 3Mbps down/768Kbps
up&lt;/a&gt;
at $80/month with &lt;em&gt;static &lt;span class="caps"&gt;IP&lt;/span&gt;&lt;/em&gt;. We&amp;#8217;re paying $30-40/month now, so
dropping the data plan would cover it. I&amp;#8217;d be getting slightly lower
speed, but there would be so many fewer headaches with a static &lt;span class="caps"&gt;IP&lt;/span&gt;,
not to mention that I could finally get my site on port 80 without
nasty redirection, and get a real mailserver without relaying.
Something to think about&amp;#8230;
4.  At the moment, I&amp;#8217;m using IPcop&amp;#8217;s builtin &lt;span class="caps"&gt;DNS&lt;/span&gt; cache for local &lt;span class="caps"&gt;DNS&lt;/span&gt;.
That means I&amp;#8217;m bound to a simple hostname&amp;lt;-&gt;&lt;span class="caps"&gt;IP&lt;/span&gt; pairing. I&amp;#8217;d really
like a real &lt;span class="caps"&gt;DNS&lt;/span&gt; server, so that I can have both hostnames and
functional names. It would also help with&amp;nbsp;&lt;span class="caps"&gt;VPN&lt;/span&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The biggest problem with all of this is that I&amp;#8217;m only home 2 weekends a
month, so I&amp;#8217;ll probably have to have everything shipped here (to the
apartment at school), do the installation and configuration here, and
then bring it home and drop it in place (and perform final&amp;nbsp;configuration).&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ll keep everyone posted as work&amp;nbsp;progresses.&lt;/p&gt;</summary></entry><entry><title>Asus eeePC Update</title><link href="http://blog.jasonantman.com/2008/02/asus-eeepc-update/" rel="alternate"></link><updated>2008-02-04T19:12:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-02-04:2008/02/asus-eeepc-update/</id><summary type="html">&lt;p&gt;More to come sometime this week, when I have enough sanity and time to&amp;nbsp;write.&lt;/p&gt;
&lt;p&gt;In the mean&amp;nbsp;time&amp;#8230;&lt;/p&gt;
&lt;p&gt;So it&amp;#8217;s been two weeks since classes started again, and that means two
weeks using my now-beloved eeePC 4G Surf (details in a &lt;a href="/2008/01/eeepc-solaris-other-updates.html"&gt;previous
post&lt;/a&gt;).
Granted, I have my &amp;#8220;desktop replacement&amp;#8221; laptop (&lt;a href="http://www.linuxcertified.com/linux-laptop-lc2464.html"&gt;a Linux Certified
&lt;span class="caps"&gt;LC2464&lt;/span&gt;&lt;/a&gt;) to use
at my desk at home or at my apartment - though the &amp;#8220;desktop replacement&amp;#8221;
really means that it&amp;#8217;s easy to move from one desk to&amp;nbsp;another.&lt;/p&gt;
&lt;p&gt;So far, I really love it, but I have a few&amp;nbsp;issues:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;I should have bought an &lt;span class="caps"&gt;8GB&lt;/span&gt; &lt;span class="caps"&gt;SDHC&lt;/span&gt; card instead of the &lt;span class="caps"&gt;4GB&lt;/span&gt; that I got&lt;ul&gt;
&lt;li&gt;especially with a full install of OpenSuSE with Sun&amp;#8217;s &lt;span class="caps"&gt;JDK&lt;/span&gt; and
OpenOffice, the &lt;span class="caps"&gt;2GB&lt;/span&gt; root partition is 99%&amp;nbsp;full!&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;After using a desktop for hours, it takes a few lines of text for my
    fingers to re-adjust to the small keyboard. Hopefully it&amp;#8217;ll get
    easier with&amp;nbsp;time.&lt;/li&gt;
&lt;li&gt;Unfortunately, I don&amp;#8217;t have space for kernel headers or source, so I
    can&amp;#8217;t compile the customized version of asus_acpi. I can&amp;#8217;t find any
    binary packges, or binary kernel modules for my kernel version. That
    prevents me from using sleep/hibernate/suspend, and also means I
    don&amp;#8217;t get accurate battery calculations. I&amp;#8217;ve found from usage that
    the battery lasts 2-3 hours with wireless on and minimal screen
    brightness. Also, unfortunately, (maybe because of the &lt;span class="caps"&gt;ACPI&lt;/span&gt; issue?)
    if I dim the screen and then the screensaver comes on, when I log
    back in it resets to full&amp;nbsp;brightness.&lt;/li&gt;
&lt;li&gt;As of this week, there&amp;#8217;s still no MadWifi driver for the Atheros
    card in the 4G. I have to run it under Ndiswrapper. As a result, I
    can&amp;#8217;t get monitor mode, so the eee is effectively useless for
    wireless site surveys and security work. There&amp;#8217;s talk of a
    forthcoming MadWifi, but if nothing shows up, I may have to go with
    a &lt;span class="caps"&gt;USB&lt;/span&gt; adapter (I don&amp;#8217;t want to void the warranty by swapping out the
    internal Mini-&lt;span class="caps"&gt;PCI&lt;/span&gt;&amp;nbsp;adapter).&lt;/li&gt;
&lt;li&gt;Not a problem with the eeePC, but it seems like quite a few web
    sites that I&amp;#8217;ve visited are horribly coded - with static screen
    sizes assumed. On the small screen on the eee, the biggest issue is
    when the first few characters of every line on some sites are cut
    off, thereby rendering the content illegible. This is an issue out
    of Asus&amp;#8217; control, but can be a hindrance to full use. I have,
    however, found that for many sites, switching &lt;span class="caps"&gt;FF&lt;/span&gt; to &amp;#8220;full screen&amp;#8221;
    mode (F11)&amp;nbsp;helps.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Stay tuned for more, and some new scripts to automate wireless surveys,
rogue &lt;span class="caps"&gt;AP&lt;/span&gt; detection, etc. And maybe even some work with autonomics and or
configuration&amp;nbsp;tools.&lt;/p&gt;</summary><category term="eeepc"></category><category term="linux"></category></entry><entry><title>Network Monitoring</title><link href="http://blog.jasonantman.com/2008/01/network-monitoring/" rel="alternate"></link><updated>2008-01-29T03:06:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-01-29:2008/01/network-monitoring/</id><summary type="html">&lt;p&gt;I was reading &lt;a href="http://www.cuddletech.com/blog/index.php"&gt;Ben Rockwood&amp;#8217;s
blog&lt;/a&gt; before (as I do every
day, thanks to the magic of &lt;a href="http://www.google.com/reader"&gt;Google
Reader&lt;/a&gt;), where he had an &lt;a href="http://www.cuddletech.com/blog/pivot/entry.php?id=893"&gt;article
praising&lt;/a&gt;
&lt;a href="http://www.uptimesoftware.com/"&gt;up.time network monitoring software&lt;/a&gt;.
Now, up.time (have I ever mentioned that I *hate* names with
punctuation in them?) is proprietary software. And, given their support
options, level of integration, and fancy web site, I assume it&amp;#8217;s
probably not cheap. They bill it as turnkey monitoring - they claim to
be &amp;#8220;up and monitoring&amp;#8221; within 15 minutes &amp;#8220;including the download&amp;#8221;. They
also have an &lt;a href="http://www.uptimesoftware.com/clients.php"&gt;impressive list of
clients&lt;/a&gt;, including &lt;span class="caps"&gt;JP&lt;/span&gt;
Morgan, Merrill Lynch, Cingular Wireless, Verizon Wireless, T-Mobile,
Wyeth Medica, Hewlett-Packard (how ironic - did the OpenView team hear
about this?), and a whole slew of other clients including major
hospitals. Aside from the irony of &lt;span class="caps"&gt;HP&lt;/span&gt; using their product, I wonder to
what extent these clients use up.time. Surely the likes of Merrill Lynch
can afford more than a turnkey solution. And I&amp;#8217;d bet that Verizon
Wireless doesn&amp;#8217;t use anything 100% off-the-shelf to monitor their
communications&amp;nbsp;systems.&lt;/p&gt;
&lt;p&gt;Anyway, this got me thinking about network monitoring systems. Well,
open-source ones, since I like the idea of having control over
infrastructure. The forerunners seem to be
&lt;a href="http://www.nagios.org/"&gt;Nagios&lt;/a&gt; (my personal choice), &lt;a href="http://www.groundworkopensource.com/products/os-overview.html"&gt;GroundWork
Monitor&lt;/a&gt;
(available in both open-source and proprietary versions),
&lt;a href="http://www.zenoss.com/product/core"&gt;Zenoss&lt;/a&gt; (&amp;#8220;Core&amp;#8221; free version and a
paid-for Enterprise version), &lt;a href="http://www.zabbix.com/"&gt;Zabbix&lt;/a&gt;,
&lt;a href="http://www.opennms.org"&gt;OpenNMS&lt;/a&gt;, and
&lt;a href="http://munin.projects.linpro.no/"&gt;Munin&lt;/a&gt;,
&lt;a href="http://www.cacti.net/"&gt;Cacti&lt;/a&gt;, or one of the other
&lt;a href="http://oss.oetiker.ch/mrtg/"&gt;&lt;span class="caps"&gt;MRTG&lt;/span&gt;&lt;/a&gt;-/&lt;span class="caps"&gt;RRD&lt;/span&gt;-based applications for&amp;nbsp;graphing/trending.&lt;/p&gt;
&lt;p&gt;As stated, I&amp;#8217;ve always been a Nagios man. I&amp;#8217;ve been running it for 3+
years, and it&amp;#8217;s always worked well for me. Once you spend days learning
to cope with the config files, it&amp;#8217;s a breeze. Until they go and change
them in Nagios 3. The one thing that I always missed was built-in
graphing and trending. And some sort of *good* log analysis. So,
Nagios 3 is coming out (the Nagios site claims to get Nagios 3 up and
running in 15 minutes, as well), and I guess I should upgrade. However,
after looking around a bit, I came to a frightening realization -
Zabbix, Zenoss, and OpenNMS look a heck of a lot better than Nagios.
Their interfaces appear much nicer (personally I think OpenNMS wins) and
they seem to have a lot more features, too - like Zenoss&amp;#8217;s inventory and
configuration management. So, this got me thinking that there might be a
change in the future - even though I&amp;#8217;ve put hundreds of hours of
painstaking customization into&amp;nbsp;Nagios.&lt;/p&gt;
&lt;p&gt;We&amp;#8217;ll see where it goes. My main concern is that whatever I pick can
handle integrating with my soon-to-be-implemented barcoded hardware
inventory and tracking system. Integration with a good log parses,
configuration file management system, and reporting system would be good
too. We&amp;#8217;ll see if the other offerings can stand up to testing (the
concept of device detection is especially intriguing) or whether I&amp;#8217;ll
just end up building myself a Nagios front-end that pulls various bits
of data (text, graphs, pictures, &lt;span class="caps"&gt;HTML&lt;/span&gt;, etc.) from various other sources
such as Munin, Cacti, an inventory system, log parsing,&amp;nbsp;etc.&lt;/p&gt;</summary></entry><entry><title>I’m sorry, but I don’t like this contract anymore.</title><link href="http://blog.jasonantman.com/2008/01/im-sorry-but-i-dont-like-this-contract-anymore/" rel="alternate"></link><updated>2008-01-28T13:43:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-01-28:2008/01/im-sorry-but-i-dont-like-this-contract-anymore/</id><summary type="html">&lt;p&gt;The other big news in tech today - as posted on
&lt;a href="http://yro.slashdot.org/article.pl?sid=08/01/26/0341210&amp;amp;from=rss"&gt;slashdot&lt;/a&gt;,
the author of the pchdtvr/atscap package previously on SourceForge has
&lt;a href="http://sourceforge.net/developer/diary.php?diary_id=26407&amp;amp;diary_user=147583"&gt;announced his attempt to
&lt;em&gt;retroactively&lt;/em&gt; remove his package
from &lt;span class="caps"&gt;GPL&lt;/span&gt;
coverage&lt;/a&gt;.
His post states, in&amp;nbsp;part,&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I have revoked the licensing under the &lt;span class="caps"&gt;GNU&lt;/span&gt; General Public&lt;br /&gt;
License (herein after referred to as &amp;#8220;the &lt;span class="caps"&gt;GPL&lt;/span&gt;&amp;#8221;) for the&lt;br /&gt;
atscap version 1.1 codebase, all prior versions of the&lt;br /&gt;
atscap codebase and all the various release candidates of&lt;br /&gt;
the atscap codebase.&lt;br /&gt;
[&amp;#8230;]&lt;br /&gt;
As sole author of both the atscap and the pchdtvr codebases,&lt;br /&gt;
the licenses under the &lt;span class="caps"&gt;GPL&lt;/span&gt; were granted at my sole&lt;br /&gt;
discretion and the licenses under the &lt;span class="caps"&gt;GPL&lt;/span&gt; are now hereby&lt;br /&gt;
revoked at my sole discretion.&lt;br /&gt;
[&amp;#8230;]&lt;br /&gt;
If you are currently using the atscap or pchdtvr packages,&lt;br /&gt;
or any part thereof, it is in your best interest to remove&lt;br /&gt;
the software from your system(s) and destroy all copies in&lt;br /&gt;
your possession.&lt;br /&gt;
[&amp;#8230;]&lt;br /&gt;
If you have incorporated the atscap or pchdtvr codebase, or&lt;br /&gt;
any part thereof, into any of your projects, it is in your&lt;br /&gt;
best interest to remove any and all of my code from your&lt;br /&gt;&amp;nbsp;project(s).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;So not only is this guy trying to retroactively unassign rights that he
has previously irrecovably assigned, but he&amp;#8217;s
&lt;strong&gt;asking developers to pull his code from
their codebase&lt;/strong&gt;???? I mean, that&amp;#8217;s not just an inconvenience. Does
he comprehend what he&amp;#8217;s asking? To pull a few excerpts from
&lt;a href="http://www.gnu.org/licenses/old-licenses/gpl-2.0.html"&gt;GPLv2&lt;/a&gt;:  &lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;You may copy and distribute verbatim copies of the Program&amp;#8217;s source
code as you receive it, in any medium, provided that you conspicuously
and appropriately publish on each copy an appropriate copyright notice
and disclaimer of warranty; keep intact all the notices that refer to
this License and to the absence of any warranty; and give any other
recipients of the Program a copy of this License along with the&amp;nbsp;Program.  &lt;/li&gt;
&lt;li&gt;Each time you redistribute the Program (or any work based on the
Program), the recipient automatically receives a license from the
original licensor to copy, distribute or modify the Program subject to
these terms and conditions. You may not impose any further
restrictions on the recipients&amp;#8217; exercise of the rights granted&amp;nbsp;herein.&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;Apparently this is being &lt;a href="http://www.groklaw.net/article.php?story=2006062204552163"&gt;discussed at length over at
GrokLaw,&lt;/a&gt;
including the analysis, &amp;#8220;If you change your mind and don&amp;#8217;t want to use
the &lt;span class="caps"&gt;GPL&lt;/span&gt; any more, you can stop and use something else on new code going
forward, and you can dual license your own code, but you can&amp;#8217;t redo the
past and pull back &lt;span class="caps"&gt;GPL&lt;/span&gt;&amp;#8217;d code&amp;#8221;. The developer is telling people to
delete their copies, and to cease distribution. Now, I&amp;#8217;m not a lawyer,
and I&amp;#8217;m not an expert on copyright law. But I didn&amp;#8217;t think that one
party to a contract could unilaterally alter it if there weren&amp;#8217;t any
terms allowing such an action, and the &lt;a href="http://www.fsf.org/licensing/licenses/gpl-faq.html#CanDeveloperThirdParty"&gt;&lt;span class="caps"&gt;GPL&lt;/span&gt;
&lt;span class="caps"&gt;FAQ&lt;/span&gt;&lt;/a&gt;seems
to support&amp;nbsp;this.&lt;/p&gt;
&lt;p&gt;Take an example: Your car breaks down. You have planned a family
vacation tomorrow. The car dealer, out of the kindness of their hearts
(ha ha) gives you a free loaner car. You sign the agreement to keep the
loaner until your car is fixed, pack up the car with all of your
luggage, and head off on the trip, stopping at a hotel along the way. In
the morning, you wake up, walk out to the hotel parking lot, and find
all of your luggage in a pile in a parking space - no car! On top of the
pile is a letter reading, &amp;#8220;we&amp;#8217;re sorry, but we decided that we don&amp;#8217;t
want you to have this free loaner car anymore. We&amp;#8217;ve taken it back. Have
a nice&amp;nbsp;trip.&amp;#8221;&lt;/p&gt;
&lt;p&gt;My biggest curiosity, though, is what happened to the developer. He was
using the SourceForge account &amp;#8220;inkling&amp;#8221;, but it seems like both of his
previous projects are now gone, along with any other relevant
information. I&amp;#8217;d sure like to see his response to the community
regarding this&amp;nbsp;incident.&lt;/p&gt;</summary></entry><entry><title>700MHz - Salvation or more of the same?</title><link href="http://blog.jasonantman.com/2008/01/700mhz-salvation-or-more-of-the-same/" rel="alternate"></link><updated>2008-01-28T12:12:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-01-28:2008/01/700mhz-salvation-or-more-of-the-same/</id><summary type="html">&lt;p&gt;One of the biggest pieces of news in the tech world today is the &lt;span class="caps"&gt;FCC&lt;/span&gt;&amp;#8217;s
auction of the &lt;span class="caps"&gt;700MHZ&lt;/span&gt; spectrum. I won&amp;#8217;t go into background - you can get
that from the wonderful TechRepublic article I just read, &lt;a href="http://blogs.techrepublic.com.com/hiner/?p=592"&gt;&amp;#8220;Sanity
Check: The 700 MHz auction will tip the wireless balance, but in which
direction?&amp;#8221;&lt;/a&gt;. The author
makes some very good points. The bottom line is that 700MHz has the
capability to flat-out revolutionize mobile communications in the &lt;span class="caps"&gt;US&lt;/span&gt;.
Not only does it hold the possibility for a truly open network, where
devices and applications are carrier-neutral, but it had bandwidth and
geographical coverage possibilities that are revolutionary here in the
&lt;span class="caps"&gt;US&lt;/span&gt;. With the right driving force, 700 MHz could begin replacing cellular
service altogether, with people simply buying mobile bandwidth and
handsets that are natively&amp;nbsp;VoIP-capable.&lt;/p&gt;
&lt;p&gt;The 700 MHz spectrum has endless possibilities. It has the possibility
of revolutionizing mobile communications in the &lt;span class="caps"&gt;US&lt;/span&gt; and, most
importantly, letting us catch up with the rest of the&amp;nbsp;world.&lt;/p&gt;
&lt;p&gt;On the topic of broadband, I also read another interesting article from
ComputerWorld - &amp;#8220;&lt;a href="http://www.computerworld.com/action/article.do?command=viewArticleBasic&amp;amp;articleId=310785&amp;amp;source=rss_news50"&gt;Keeping a lid on
broadband&lt;/a&gt;&amp;#8220;.
Thanks to my involvement with &lt;a href="http://www.sun.com/"&gt;Sun&lt;/a&gt; as a Campus
Ambassador for Rutgers, I&amp;#8217;ve been in contact with other &lt;span class="caps"&gt;CA&lt;/span&gt;&amp;#8217;s across the
world, not to mention many people involved in the
&lt;a href="http://opensolaris.org/os/"&gt;OpenSolaris&lt;/a&gt; project. Here in New Jersey, I
have about 5Mb broadband to my home and apartment (5 Mb down / 2 Mb up).
Download rates rarely peak over 700 Kb. I was flat-out amazed, when
speaking with CAs from Japan, to learn that they have connections well
over 50Mb, and even 100Mb (!!!) to their homes, and they pay &lt;span class="caps"&gt;LESS&lt;/span&gt; than I&amp;nbsp;do!&lt;/p&gt;
&lt;p&gt;While the broadband revolution has swept into urban and suburban
American homes, for the most part consumers are ignorant of the state of
broadband outside of the &lt;span class="caps"&gt;US&lt;/span&gt;. People remember 56k, and know that what
they have now is a lot better. How did the American public allow the
telephone/cable comapanies to force us into a position where we pay more
than citizens of almost any other developed nation for service that is
orders of magnitude slower, and markedly less reliable, than anyone&amp;nbsp;else?&lt;/p&gt;
&lt;p&gt;I won&amp;#8217;t touch on the topic of &lt;a href="http://www.savetheinternet.com/"&gt;Net
Neutrality&lt;/a&gt; - for me, one of the most
important current issues - aside from my anger at the thought that one
day, this blog (and the rest of my web presence) may disappear simply
because I don&amp;#8217;t want to pay money to an unknown third party. But I must
raise the question, &amp;#8220;what has happened to the rights of communications
customers in America, and how have we let our rights be ignored for so&amp;nbsp;long?&amp;#8221;&lt;/p&gt;
&lt;p&gt;&lt;span class="caps"&gt;PS&lt;/span&gt; - If you&amp;#8217;re interested, &lt;span class="caps"&gt;RCR&lt;/span&gt; Wireless has &lt;a href="http://www.rcrnews.com/apps/pbcs.dll/section?category=700MHzmain"&gt;ongoing coverage of the 700
MHz
auction&lt;/a&gt;.&lt;/p&gt;</summary></entry><entry><title>eeePC, Solaris, other updates</title><link href="http://blog.jasonantman.com/2008/01/eeepc-solaris-other-updates/" rel="alternate"></link><updated>2008-01-27T02:18:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-01-27:2008/01/eeepc-solaris-other-updates/</id><summary type="html">&lt;p&gt;I&amp;#8217;m trying to get around to updating my blog on a regular basis. I have
a lot of links that I wanted to mention, but I might just post a list of
them with short&amp;nbsp;descriptions.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ve finished most of my &lt;span class="caps"&gt;HOWTO&lt;/span&gt; on &lt;a href="http://www.jasonantman.com/wiki/index.php/OpenSuSE_10.3_on_eeePC_External_SDHC"&gt;installing OpenSuSE on an external
&lt;span class="caps"&gt;SDHC&lt;/span&gt; card on the
eeePC&lt;/a&gt;.
It&amp;#8217;s not 100% complete yet - I still haven&amp;#8217;t gotten &lt;span class="caps"&gt;ACPI&lt;/span&gt; working, so I
don&amp;#8217;t have 100% accurate battery-level readings. But if you get an &lt;span class="caps"&gt;SD&lt;/span&gt;
card larger than &lt;span class="caps"&gt;4GB&lt;/span&gt;, or don&amp;#8217;t fill up your root partition to 99% like I
did, you shouldn&amp;#8217;t have a problem installing the kernel headers and &lt;span class="caps"&gt;GCC&lt;/span&gt;
and building the kernel module from&amp;nbsp;source.&lt;/p&gt;
&lt;p&gt;I also added a page to my wiki on &lt;a href="http://www.jasonantman.com/wiki/index.php/Solaris_Nagios_Checks"&gt;monitoring Solaris hardware through
Nagios&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;As always, I have a lot of projects that I&amp;#8217;m working on. I also am going
to be doing a lot of work for &lt;a href="http://www.sun.com/"&gt;Sun&lt;/a&gt; this semester
as Campus Ambassador, including a survey of classes and computer labs to
determine what Sun software is in use (you&amp;#8217;d be amazed how many
&lt;a href="http://www.java.com/en/"&gt;Java&lt;/a&gt; classes don&amp;#8217;t even mention that
&lt;a href="http://www.netbeans.org/"&gt;NetBeans&lt;/a&gt; exists!) I&amp;#8217;ll also be giving some
technical demos this semester, which I&amp;#8217;m really looking forward&amp;nbsp;to.&lt;/p&gt;
&lt;p&gt;Most importantly, though, I&amp;#8217;m starting classes again. This semester, I
have five on tap - &amp;#8220;War, Peace and Military in &lt;span class="caps"&gt;US&lt;/span&gt;&amp;#8221; for my history minor,
and four classes for my
&lt;a href="http://www.scils.rutgers.edu/information-technology-and-informatics-major/program-information.html"&gt;&lt;span class="caps"&gt;ITI&lt;/span&gt;&lt;/a&gt;
major: &lt;a href="http://www.scils.rutgers.edu/component/option,com_courses/task,view/sch,04/cur,547/num,200/Itemid,54/"&gt;Social
Informatics&lt;/a&gt;,
&lt;a href="http://www.scils.rutgers.edu/component/option,com_courses/task,view/sch,04/cur,547/num,210/Itemid,54/"&gt;Management of Technological
Organizations&lt;/a&gt;,
&lt;a href="http://www.scils.rutgers.edu/component/option,com_courses/task,view/sch,04/cur,547/num,331/Itemid,54/"&gt;Network and Internet
Technology&lt;/a&gt;
with &lt;a href="http://rci.rutgers.edu/~brights/"&gt;Bruce Rights&lt;/a&gt;, a SysAdmin here
at Rutgers, and
&lt;a href="http://www.scils.rutgers.edu/component/option,com_courses/task,view/sch,04/cur,547/num,320/Itemid,54/"&gt;Web&lt;/a&gt;
&lt;a href="http://www.stevegarwood.com/webdesign/webditi/index.htm"&gt;Design&lt;/a&gt; with
&lt;a href="http://www.stevegarwood.com/"&gt;Steve Garwood&lt;/a&gt;. While I&amp;#8217;m really psyched
about classes - specifically the latter two, which really appeal to
someone technical like me (and also the &lt;span class="caps"&gt;MTO&lt;/span&gt; class, as I know I could use
some experience with &amp;#8220;management&amp;#8221; beyond
&lt;a href="http://www.unitedmedia.com/comics/dilbert/"&gt;Dilbert&lt;/a&gt; and my sarcastic
view of workplace dynamics), this brings me to a quite painful
realization. While my two programming classes at the &lt;a href="http://www.cs.rutgers.edu/"&gt;Rutgers &lt;span class="caps"&gt;CS&lt;/span&gt;
Department&lt;/a&gt; met in Linux labs, the usual lab
for classes at &lt;a href="http://www.scils.rutgers.edu/"&gt;&lt;span class="caps"&gt;SCILS&lt;/span&gt;&lt;/a&gt; is a Windows&amp;nbsp;lab.&lt;/p&gt;
&lt;p&gt;This isn&amp;#8217;t just a problem because of moral reasons, but more because of
practical ones - I know Linux. I like it.
&lt;em&gt;I&amp;#8217;m used to Linux.&lt;/em&gt; I do tens of
hours of development and admin work every week (maybe hundreds if I&amp;#8217;m
being bad, or in a prolific period), and I&amp;#8217;m most productive in the
environment I&amp;#8217;m used to. I remember when I took my Java classes, trying
to explain to the &lt;span class="caps"&gt;TA&lt;/span&gt;&amp;#8217;s that I wasn&amp;#8217;t cheating, but I had to bring a
&lt;span class="caps"&gt;CD&lt;/span&gt;-&lt;span class="caps"&gt;ROM&lt;/span&gt; to the on-computer programming exam -
&lt;strong&gt;&amp;#8220;there&amp;#8217;s no way you can make me
program without my&amp;nbsp;.emacs!&amp;#8221;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ve considered that I could just bring my eeePC to class and do
everything on that over wireless. I guess that could work for most of
the class, though I can&amp;#8217;t say how my professors will react to that. In
preparation for an averse reaction, I&amp;#8217;ve looked into how to deal with
using Windows in a way that&amp;#8217;s usable for me. After doing a little
research, I found &lt;a href="http://portableapps.com/"&gt;PortableApps.com&lt;/a&gt; which
provides versions of &lt;a href="http://www.mozilla.com/en-US/firefox/"&gt;Firefox&lt;/a&gt;,
&lt;a href="http://www.mozilla.com/en-US/thunderbird/"&gt;Thunderbird&lt;/a&gt;,
&lt;a href="http://www.openoffice.org/"&gt;OpenOffice&lt;/a&gt;,
&lt;a href="http://www.pidgin.im/"&gt;Pidgin&lt;/a&gt;, and other apps (even including
&lt;a href="http://winscp.net/eng/index.php"&gt;WinSCP&lt;/a&gt;, a Windows &lt;span class="caps"&gt;SCP&lt;/span&gt;/&lt;span class="caps"&gt;SFTP&lt;/span&gt; client) as
Windows executables that will run entirely from a &lt;span class="caps"&gt;USB&lt;/span&gt; flash drive. Most
importantly, I even found &lt;a href="http://pigpog.com/node/2875"&gt;instructions&lt;/a&gt;
(and also
&lt;a href="http://theblackdragon.wordpress.com/2006/05/12/portable-emacs/"&gt;here&lt;/a&gt;)
to run the Windows version of &lt;a href="http://www.gnu.org/software/emacs/"&gt;&lt;span class="caps"&gt;GNU&lt;/span&gt;
Emacs&lt;/a&gt; from a flash drive. Granted,
I always preferred the &lt;span class="caps"&gt;CLI&lt;/span&gt; version of Emacs over the graphical one, but
I guess it&amp;#8217;s a small price to pay. So, once I can find a working &lt;span class="caps"&gt;USB&lt;/span&gt;
flash drive (or an &lt;span class="caps"&gt;SD&lt;/span&gt; card to use with an adapter), I&amp;#8217;ll setup what I
need to be able to&amp;nbsp;work.&lt;/p&gt;
&lt;p&gt;One side note - on the first day of my Management of Technological
Organizations class (painfully meeting 9:50-12:50 Friday mornings) the
professor announced that we&amp;#8217;ll be using Microsoft Excel, Access,
Project, etc. After class I spoke with the lecturer, &lt;a href="http://www.scils.rutgers.edu/directory/rutsmith/index.html"&gt;Cathy
Smith&lt;/a&gt;, and
explained the situation (that I can&amp;#8217;t use those) and asked whether other
software that did the same thing would be acceptable. Amazingly, not
only did she tell me that&amp;#8217;s ok, but she also said that she&amp;#8217;s a big fan
of OpenOffice, and went so far as to say that in place of Access, she&amp;#8217;d
be happy to accept &lt;span class="caps"&gt;SQL&lt;/span&gt; files. Maybe it&amp;#8217;s because she&amp;#8217;s a doctoral
candidate and not a Ph. D. full professor, but I was very happy to find
such enlightenment at Rutgers (for the first&amp;nbsp;time).&lt;/p&gt;
&lt;p&gt;On one side note - one of the classes that I had thought of registering
for distributed the syllabus as a .docx &lt;span class="caps"&gt;MS&lt;/span&gt; Office &lt;span class="caps"&gt;XML&lt;/span&gt; file. I was
dumbfounded. I know that few professors take the time to think that some
students may be using Linux or Unix, but do they really think that
everyone&amp;#8217;s already upgraded to Word 2007? I know most professors - even
in an &lt;span class="caps"&gt;IT&lt;/span&gt; program - probably don&amp;#8217;t know about the &lt;a href="http://www.noooxml.org/start"&gt;flaws with
&lt;span class="caps"&gt;OOXML&lt;/span&gt;&lt;/a&gt; or the current issues surrounding
it, but I thought that the old .doc was pretty well established as the
default document format in the Windows world. More importantly&amp;#8230; do
these people know nothing about standards and best practices and
cross-platform usability? If I were distributing a static document, &lt;span class="caps"&gt;PDF&lt;/span&gt;
is the first thing that would pop into my&amp;nbsp;mind&amp;#8230;&lt;/p&gt;
&lt;p&gt;On a side note, a few links for the day:&lt;br /&gt;
&lt;a href="http://royal.pingdom.com/?p=240"&gt;Photos of great data center cabling, almost
art&lt;/a&gt;.&lt;br /&gt;
&lt;a href="http://wiki.scribus.net/index.php/Your_first_PDF_form_with_Scribus"&gt;Designing &lt;span class="caps"&gt;PDF&lt;/span&gt; forms with
Scribus&lt;/a&gt;.&lt;br /&gt;
A wonderful Craigslist ad: &lt;a href="http://www.craigslist.org/about/best/nyc/485967082.html"&gt;Help me keep
the shell people&amp;nbsp;alive.&lt;/a&gt;&lt;/p&gt;</summary></entry><entry><title>Piracy and options</title><link href="http://blog.jasonantman.com/2008/01/piracy-and-options/" rel="alternate"></link><updated>2008-01-25T13:44:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-01-25:2008/01/piracy-and-options/</id><summary type="html">&lt;p&gt;Well, the semester is starting to heat up, and I have a bunch of
personal stuff I haven&amp;#8217;t posted yet. But I&amp;#8217;ll get to it this&amp;nbsp;weekend.&lt;/p&gt;
&lt;p&gt;In the mean time, I feel the need to comment on an article I read
online, in Conde Nast Portfolio. It&amp;#8217;s a &lt;a href="http://www.portfolio.com/news-markets/national-news/portfolio/2008/01/14/Media-Defenders-Profile#page1"&gt;lengthy piece about
&amp;#8220;Ethan&amp;#8221;&lt;/a&gt;,
the malicious user (I take great offense to the article using the term
&amp;#8220;hacker&amp;#8221; in the media-popularized sense) who broke into MediaDefender&amp;#8217;s
network and publicly released internal emails and even phone calls (I
guess there&amp;#8217;s a downside to&amp;nbsp;VoIP).&lt;/p&gt;
&lt;p&gt;First, let me say that while I utterly hate what MediaDefender does, I
don&amp;#8217;t view Ethan&amp;#8217;s highly illegal actions as being any different from
physically picking the lock on their office door and photocopying stuff
from file cabinets. It&amp;#8217;s theft of information. It&amp;#8217;s burglary. No matter
what the motive, it&amp;#8217;s illegal. And even worse, this wasn&amp;#8217;t a
socially-minded attack on one specific &amp;#8220;evil&amp;#8221; company, but some script
kiddie randomly compromising corporate networks. He happened to find
something interesting, of social value, and let the rest of the world
know about it. He deserves to rot in&amp;nbsp;jail.&lt;/p&gt;
&lt;p&gt;That being said, I have two main comments on the article. First, one of
the entertainment industry execs flat-out says that &lt;span class="caps"&gt;P2P&lt;/span&gt; file sharing,
and BitTorrent specifically, have no positive qualities. Obviously, he&amp;#8217;s
not a Linux user. But the very idea that there are companies out there
trying to unilaterally crush the medium (BitTorrent) which lets me
download an &lt;a href="http://www.opensuse.org"&gt;OpenSuSE&lt;/a&gt; image in record time is
disturbing. But I guess nobody takes the time to tell these people that
there&amp;#8217;s lots of software on BitTorrent and, believe it or not, much
contrary to the Microsoft and entertainment industry view, there are
actually people out there who produce software and *want* people to be
able to get it for&amp;nbsp;free.&lt;/p&gt;
&lt;p&gt;Secondly, and most importantly, is the flat-out ignorance of the
entertainment industry. Traditionally, it&amp;#8217;s an industry that&amp;#8217;s been full
of what I call &lt;span class="caps"&gt;BS&lt;/span&gt;; focus groups, surveys, and customer feedback. Did any
one of these guys take the time to have a focus group agency sit down
with a hundred *anonymous* &lt;span class="caps"&gt;P2P&lt;/span&gt; users, and ask them why they use the
technology? Obviously, either they haven&amp;#8217;t, or they don&amp;#8217;t want to listen
to the&amp;nbsp;answers.&lt;/p&gt;
&lt;p&gt;I can only speak for myself and a few friends who I&amp;#8217;ve discussed this
with, but for us, it&amp;#8217;s not about getting something *free*. It&amp;#8217;s about
getting it how we want it - which most importantly means &lt;span class="caps"&gt;NOW&lt;/span&gt;. If I want
to watch a movie, I really don&amp;#8217;t want to drive to a video rental store.
I have a 5Mb internet connection, so I want to use that. I want to have
the movie *here*, now. Or not here. Maybe on my laptop, or on my Nokia
tablet. Or on my cell phone. Would I pay $5 for that? Sure. And there&amp;#8217;s
no reason why that&amp;#8217;s not a realistic price. If I can buy a &lt;span class="caps"&gt;DVD&lt;/span&gt;, in a
nice printed box, in shrink wrap, that had to be shipped to my local
Best Buy, for $10 or $15, then surely it would be reasonable to buy the
*content* of that &lt;span class="caps"&gt;DVD&lt;/span&gt; for $5. The same goes with songs. I can&amp;#8217;t count
how many times I&amp;#8217;ve looked at a &lt;span class="caps"&gt;CD&lt;/span&gt;, realized that I only want to hear
one song on it, and not purchased&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;Also, perhaps more important, is the idea of options. People are used to
being able to use what they buy however they buy it. I&amp;#8217;ve heard many
times that the recording industry tries to push the &lt;span class="caps"&gt;FALSE&lt;/span&gt; notion that
simply ripping an &lt;span class="caps"&gt;MP3&lt;/span&gt; from a &lt;span class="caps"&gt;CD&lt;/span&gt; - for your own use, or for backup
purposes - is illegal. More to the point, I use Linux. I can&amp;#8217;t buy music
from iTunes, or any other source that includes
&lt;a href="http://defectivebydesign.org/"&gt;&lt;span class="caps"&gt;DRM&lt;/span&gt;&lt;/a&gt;. By including &lt;span class="caps"&gt;DRM&lt;/span&gt;, I&amp;#8217;m being told
that whoever sells that music doesn&amp;#8217;t want my business. It&amp;#8217;s that
simple. But this isn&amp;#8217;t an issue that&amp;#8217;s just limited to Linux users. What
if you own (gasp) &lt;span class="caps"&gt;MP3&lt;/span&gt; player that&amp;#8217;s not an iPod, and just shows up on
your computer as a &lt;span class="caps"&gt;USB&lt;/span&gt; mass storage device? What if your car stereo
plays &lt;span class="caps"&gt;MP3&lt;/span&gt; CDs? &lt;span class="caps"&gt;DRM&lt;/span&gt; is designed to tell these people that their money
isn&amp;#8217;t&amp;nbsp;wanted.&lt;/p&gt;
&lt;p&gt;If I could pay $5, or even a bit more, for a movie or &lt;span class="caps"&gt;TV&lt;/span&gt; episode that I
could download, copy to my laptop or cell phone (I have a Treo 700p) or
tablet computer - or whatever else - I would. In an instant. It becomes
the retail industry&amp;#8217;s most powerful sales too - an impulse buy; instant
gratification. If I could pay $1 or $3 for a single song, of my
choosing, and play it on my Sansa &lt;span class="caps"&gt;MP3&lt;/span&gt; player, on my laptop, on my
desktop at work, and on an &lt;span class="caps"&gt;MP3&lt;/span&gt; &lt;span class="caps"&gt;CD&lt;/span&gt; in my car (truck), I would in an
instant (one viewer at one time = fair use). When will the entertainment
industry wake up and realize that a new distribution medium - the
Internet - will *help* them&amp;#8230; if they realize what people want, and
provide&amp;nbsp;it?&lt;/p&gt;</summary></entry><entry><title>Sun and MySQL</title><link href="http://blog.jasonantman.com/2008/01/sun-and-mysql/" rel="alternate"></link><updated>2008-01-20T02:00:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-01-20:2008/01/sun-and-mysql/</id><summary type="html">&lt;p&gt;I&amp;#8217;ve got a lot to update about in the next few days. I&amp;#8217;m back in my
apartment for the new semester of school, I&amp;#8217;ve got a lot of
infrastructure work to do here (most importantly getting net-to-net &lt;span class="caps"&gt;VPN&lt;/span&gt;
with &lt;a href="http://www.dyndns.org"&gt;DynDNS&lt;/a&gt; at both ends working from here to
home, even if it means bypassing &lt;a href="http://www.ipcop.org/"&gt;IPcop&lt;/a&gt;
totally), and I also did some freelance administration over winter
break, including some work with &lt;span class="caps"&gt;SCO&lt;/span&gt; OpenServer and some work with &lt;span class="caps"&gt;DF&lt;/span&gt;
generation - I also set up my own &lt;span class="caps"&gt;PDF&lt;/span&gt; form filling system, which I&amp;#8217;ll be
posting in &lt;a href="http://cvs.jasonantman.com"&gt;&lt;span class="caps"&gt;CVS&lt;/span&gt;&lt;/a&gt; once it&amp;#8217;s done. Most
importantly, the new mailserver has been up and running for 22 days
without any problems. And, by far the most exciting, I&amp;#8217;m typing this up
on my beautiful new &lt;a href="http://eeepc.asus.com/us/product.htm"&gt;Asus eeePC
4G&lt;/a&gt; (which I upgraded to 1 &lt;span class="caps"&gt;GB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt;)
running &lt;a href="http://www.opensuse.org"&gt;OpenSuSE&lt;/a&gt; 10.3 from a 4 &lt;span class="caps"&gt;GB&lt;/span&gt; &lt;span class="caps"&gt;SDHC&lt;/span&gt; card -
A &lt;span class="caps"&gt;HOWTO&lt;/span&gt; will be coming soon. I&amp;#8217;m also going to be doing some work with
sitemaps on this site - specifically Google sitemaps - and building one
map for the blog, Mediawiki, and static content. I&amp;#8217;m also testing
&lt;a href="http://www.google.com/analytics/"&gt;Google Analytics&lt;/a&gt; on my
&lt;a href="http://www.jasonantman.com"&gt;wiki&lt;/a&gt; to augment
&lt;a href="http://www.mrunix.net/webalizer/"&gt;Webalizer&lt;/a&gt;. I&amp;#8217;ll be updating the blog
in the next few days with a lot of&amp;nbsp;content.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m also catching up on all of my &lt;span class="caps"&gt;RSS&lt;/span&gt; feeds in &lt;a href="http://www.google.com/reader/"&gt;Google
Reader&lt;/a&gt; (yes, I use Google everything -
but not mail or Docs) which I mostly ignored over break. I started
yesterday with 780 items, and I&amp;#8217;m down to 500. I&amp;#8217;m also going to attempt
to start quick little &amp;#8220;links of the day&amp;#8221; entries, as it seems that it&amp;#8217;s
taking me too much time to fully blog on the interesting news of the
day, and my&lt;a href="http://del.icio.us/jantman/1-toblog"&gt;list of things to blog
on&lt;/a&gt; is getting way too long. (Just
as a side note, the only reason I really use
&lt;a href="http://del.icio.us"&gt;del.icio.us&lt;/a&gt; is so I can have the &lt;a href="http://del.icio.us/help/firefox/extensionnew"&gt;firefox
plugin&lt;/a&gt; sync my bookmarks
between the many machines I&amp;nbsp;use.)&lt;/p&gt;
&lt;p&gt;Anyway, on to the hottest bit of news today - &lt;a href="http://www.sun.com"&gt;Sun
Microsystems&lt;/a&gt; has acqured &lt;a href="http://www.mysql.com/"&gt;MySQL
&lt;span class="caps"&gt;AB&lt;/span&gt;&lt;/a&gt;. Now, I must say that I&amp;#8217;m an intern at Sun -
the Campus Ambassador to Rutgers University. Essentially, my job is
talking to students, professors, and staff and telling them that &amp;#8220;Yes,
Sun does open source, and they have a few things that should interest
you&amp;#8221; - in addition to giving tech demos, handing out CDs, and raffling
off t-shirts - and even a &lt;a href="http://www.sunspotworld.com/"&gt;SunSPOT&lt;/a&gt;. I
must emphasize that what I say here is my own opinion and nothing more.
Heck, I&amp;#8217;m an intern, it&amp;#8217;s not like I know any more about what&amp;#8217;s going on
at Sun than anyone else who reads&amp;nbsp;Digg.&lt;/p&gt;
&lt;p&gt;Anyway, lots of people are talking about the MySQL acquisition. I&amp;#8217;ve
heard every possible opinion, but it seems like lots of them are
worrying about something along the lines of Sun pushing a
Solaris/Apache/MySQL/Java stack on &lt;span class="caps"&gt;SPARC&lt;/span&gt; hardware. Now, I&amp;#8217;ve been
watching Sun *very* closely for the past year or so. And I&amp;#8217;ve been
following &lt;a href="http://www.sun.com/aboutsun/executives/schwartz/bio.jsp"&gt;Jonathan
Schwartz&lt;/a&gt;
pretty closely too, especially &lt;a href="http://blogs.sun.com/jonathan/entry/in_a_vortex"&gt;his blog post about the MySQL
acquisition&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I can&amp;#8217;t say anything as a Sun employee (I don&amp;#8217;t have anything more to
say than anyone else who follows the news) but, personally, I think a
lot of people who are worried are just missing the point. Sun used to be
a closed, proprietary company pushing Solaris on &lt;span class="caps"&gt;SPARC&lt;/span&gt;. But it seems to
me, lately, Sun is all about options. Java&amp;#8217;s Free software now. Solaris
&lt;a href="http://www.opensolaris.org"&gt;has been opened&lt;/a&gt; as well. I don&amp;#8217;t get the
feeling that acquiring MySQL is about pushing Solaris instead of Linux,
or that it will cause Sun to ignore
&lt;a href="http://www.postgresql.org/"&gt;PostgreSQL&lt;/a&gt; or Oracle/Solaris products.
It&amp;#8217;s about options. Just look at Sun in the news lately - more and more
Intel-based commodity hardware, Solaris, Linux, or even Windows on Sun
Hardware, Java,&amp;nbsp;OpenSolaris&amp;#8230;&lt;/p&gt;
&lt;p&gt;I very much get the feeling that Sun/MySQL is not about Sun trying to
force &lt;span class="caps"&gt;LAMP&lt;/span&gt; out of the marketplace or, as some have conjectured, to turn
MySQL into a mostly proprietary product with minimal free version. It
seems to be about options. About diversity. Whatever you want, Sun can
help. Everything from million-dollar Enterprise servers running &lt;a href="http://www.sun.com/software/solaris/trustedsolaris/"&gt;Trusted
Solaris&lt;/a&gt; and giant
Oracle databases to Intel-based 1U or 2U &lt;span class="caps"&gt;LAMP&lt;/span&gt; servers - or even, now,
&lt;span class="caps"&gt;LAMP&lt;/span&gt; servers on non-Sun hardware. (Though why anyone with the money to
do so wouldn&amp;#8217;t buy Sun hardware, I have no&amp;nbsp;idea).&lt;/p&gt;
&lt;p&gt;Stay tuned for&amp;nbsp;more.&lt;/p&gt;</summary><category term="mysql"></category><category term="sun"></category></entry><entry><title>Solaris Update, Hardware Photos, SMF Manifests, Nagios Plugins</title><link href="http://blog.jasonantman.com/2008/01/solaris-update-hardware-photos-smf-manifests-nagios-plugins/" rel="alternate"></link><updated>2008-01-02T02:06:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-01-02:2008/01/solaris-update-hardware-photos-smf-manifests-nagios-plugins/</id><summary type="html">&lt;p&gt;So in the past weekend, I had my first real experience with Solaris in
production. I finally setup my Sun Blade 150 running Solaris 10 as my
new mailserver, replacing a (!!!) vintage 1998 Gateway Pentium &lt;span class="caps"&gt;II&lt;/span&gt; 350MHz
desktop. Quite an upgrade, even to the still-not-new Sun workstation.
Maybe sometime in the future I&amp;#8217;ll even upgrade some of my other old
desktops with my spare Dell PowerEdge&amp;nbsp;2550.&lt;/p&gt;
&lt;p&gt;Anyway, the whole process, from fresh Solaris install to working
mailserver, probably took me around 24 work hours. That being said, I&amp;#8217;ve
never really administered Solaris before, so that also included horribly
long stretches of doc reading and figuring out &lt;span class="caps"&gt;SMF&lt;/span&gt;, package and service
administration,&amp;nbsp;etc.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ve detailed the entire process on my
&lt;a href="http://www.jasonantman.com/wiki/index.php/Solaris_Mailserver"&gt;wiki&lt;/a&gt; in
excruciating detail. The Solaris package repository any pkg-get systems
from &lt;a href="http://www.blastwave.org/"&gt;blastwave.org&lt;/a&gt; were immensely helpful,
as were a number of &lt;a href="http://cuddletech.com/blog/"&gt;Ben Rockwood&amp;#8217;s&lt;/a&gt; blog
posts. The entire operation involved installing and configuring Dovecot
with &lt;span class="caps"&gt;IMAPS&lt;/span&gt;, Postfix with &lt;span class="caps"&gt;TLS&lt;/span&gt; and &lt;span class="caps"&gt;SASL&lt;/span&gt; to authenticate to my &lt;span class="caps"&gt;ISP&lt;/span&gt;&amp;#8217;s
mailserver (which I use to relay outgoing mail, given my dynamic &lt;span class="caps"&gt;IP&lt;/span&gt;),
Procmail, Fetchmail and SpamAssassin. I also had to setup the machine to
relay mail for other hosts on the &lt;span class="caps"&gt;LAN&lt;/span&gt;. Rounding it out, I setup
monitoring with Nagios and backups of the system and mail through
Bacula. During the process, I also had to modify some Service Management
Facility (&lt;span class="caps"&gt;SMF&lt;/span&gt;) manifests for Fetchmail, Postfix, and&amp;nbsp;Dovecot.&lt;/p&gt;
&lt;p&gt;I still have a few things to do - namely create
&lt;a href="http://www.nagios.org/"&gt;Nagios&lt;/a&gt; check scripts for processors,
temperatures, and fans (using the prtdiag command) and hard drive
status/errors (using iostat -Exn, given that I haven&amp;#8217;t been able to find
a &lt;span class="caps"&gt;SMART&lt;/span&gt; tool that supports &lt;span class="caps"&gt;IDE&lt;/span&gt; under Solaris). For everything else, I
just checked the &lt;a href="http://www.nagios-exchange.org/"&gt;NagiosExchange&lt;/a&gt;
plugin repository, using check_by_ssh for everything. The only problem
I had was that NagiosExchange didn&amp;#8217;t appear to have working default
Nagios plugins for Solaris 10. Luckily, though, Blastwave had a
&amp;#8220;nagiosp&amp;#8221; plugin&amp;nbsp;package.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ll probably update this blog with my check plugins as I develop them,
but for now I have a little
&lt;a href="http://www.jasonantman.com/wiki/index.php/Solaris_Nagios_Checks"&gt;page&lt;/a&gt;
on my &lt;a href="http://www.jasonantman.com/wiki/"&gt;wiki&lt;/a&gt;about using Nagios with&amp;nbsp;Solaris.&lt;/p&gt;
&lt;p&gt;Also, I uploaded &lt;a href="http://www.jasonantman.com/wiki/index.php/Jasonantman.com_Hardware"&gt;a few
photos&lt;/a&gt;
of the equipment that runs this blog and the rest of my site and
development network - all on a &amp;#8220;beautiful&amp;#8221; Sears shop shelf in my
basement. Nothing wonderful, but it gets the job done. I&amp;#8217;ll admit that I
could have done a better job stitching the photos together, but the
space is so tight that I can&amp;#8217;t get a wide shot of the whole&amp;nbsp;rack.&lt;/p&gt;
&lt;p&gt;The rack, in all its glory:
&lt;a href="/GFX/Tall1.jpg"&gt;&lt;img alt="image" src="/GFX/Tall1_sm.jpg" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;A closer view of (most of) the hardware:
&lt;a href="/GFX/Tall3.jpg"&gt;&lt;img alt="image" src="/GFX/Tall3_sm.jpg" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Happy New&amp;nbsp;Year!&lt;/p&gt;</summary></entry><entry><title>openEPCR</title><link href="http://blog.jasonantman.com/2007/12/openepcr/" rel="alternate"></link><updated>2007-12-27T01:46:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-12-27:2007/12/openepcr/</id><summary type="html">&lt;p&gt;I&amp;#8217;ve been toying around for a while with the idea of creating a software
package for handling Electronic Patient Care Reports for &lt;span class="caps"&gt;EMS&lt;/span&gt; (Emergency
Medical Services) agencies. There are a few popular packages around, but
most of them are web-based. In the event of a disaster - or even bad
storm - when Internet connectivity is minimal to non-existent, frankly,
you&amp;#8217;re up the creek without a paddle. There are also, to my knowledge,
no Free/Open-Source (or free of cost) packages available. This isn&amp;#8217;t
good, especially with many states and regions moving to standardized
PCRs with electronic submission. This is even worse for the thousands
(or more) of purely volunteer &lt;span class="caps"&gt;EMS&lt;/span&gt; organizations out there, who have
little to no&amp;nbsp;budget.&lt;/p&gt;
&lt;p&gt;So, I&amp;#8217;ve started a project - &lt;a href="www.openepcr.org"&gt;openEPCR&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I know that, for me, this is a *big* undertaking. I figured that Java
is the best option, since it&amp;#8217;s available on almost all platforms,
robust, and frankly is very well accepted. The idea is that such a
system should be able to cost *nothing* - so the target audience is
people using Linux (or &lt;span class="caps"&gt;BSD&lt;/span&gt; or Solaris) or an existing Windows
installation, along with a simple server - MySQL, PostgreSQL, or another
database, along with some web server running &lt;span class="caps"&gt;PHP&lt;/span&gt;. I&amp;#8217;ll admit that my
Java isn&amp;#8217;t what it used to be - but more to the point, frankly, if I&amp;#8217;m
the only person working on this, it&amp;#8217;ll take years to finish. So,
hopefully, when I get a more concrete plan, I&amp;#8217;ll be able to enlist some
other developers - especially someone more knowledgeable than me about
how best to deal with data caching (in the event - or certainty, as in
wireless or vehicular applications - of a loss of connectivity), mobile
devices, and &lt;span class="caps"&gt;HIPPA&lt;/span&gt;&amp;nbsp;compliance.&lt;/p&gt;
&lt;p&gt;The overall idea is to design a platform that is a base for an &lt;span class="caps"&gt;EPCR&lt;/span&gt; -
something that can handle data collection, printing a hard copy,
analysis, administration, security, etc. - and all the while be
organization-independent. In essence, a framework. Firstly, after having
this problem with &lt;a href="http://www.php-ems-tools.com"&gt;&lt;span class="caps"&gt;PHP&lt;/span&gt; &lt;span class="caps"&gt;EMS&lt;/span&gt; Tools&lt;/a&gt;, it
should all be designed with i18n/L10n in mind from the beginning,
providing good and easy support for translations. More importantly, all
settings should be configurable. To top off the problem, anything that&amp;#8217;s
obviously organization-specific - like the data set, layout of input
forms on the screen, reports on the data, printed copy (both blank and
filled-in), user access rights/&lt;span class="caps"&gt;RBAC&lt;/span&gt;, authentication methods, etc. -
should all be designed as pluggable modules. The end result would be a
system where a single organization or group of organizations can develop
- or pay to have developed - a &amp;#8220;module&amp;#8221; that includes all of this. The
license would have additional terms stating that any changes to the
code, modules, or updates to modules *must* be given back to the
openEPCR community. The general idea is something like this scenario:
the state of New Jersey decides to adopt a standardized &lt;span class="caps"&gt;PCR&lt;/span&gt; and data
set. Many volunteer ambulance squads don&amp;#8217;t have the funds for a
commercial solution. A bunch of them pool their resources or funds and
develop a &amp;#8220;module&amp;#8221; for openEPCR that provides everything required to
implement a printed and electronic version of the &lt;span class="caps"&gt;NJ&lt;/span&gt; state &lt;span class="caps"&gt;PCR&lt;/span&gt;. If a
single organization wishes to deviate, they can simply &amp;#8220;extend&amp;#8221; that
module as they see fit, building off of the main code. OpenEPCR itself
remains neutral, but provides a repository of modules to use or&amp;nbsp;modify.&lt;/p&gt;
&lt;p&gt;As I see it, there are three main&amp;nbsp;difficulties:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Designing something that&amp;#8217;s abstracted to such a great&amp;nbsp;degree.&lt;/li&gt;
&lt;li&gt;Dealing with data when we don&amp;#8217;t know the environment - we might be
    stand-alone, always connected to a single master database server,
    intermittently connected, or even connecting to a different server
    every&amp;nbsp;time.&lt;/li&gt;
&lt;li&gt;We want centralized administration - optimally, all custom data,
    settings, and organization-specific information (as well as updates
    to this) will be pushed out from a central server to all clients.
    But we need to assure security in an environment that is untrusted
    and may even be hostile - perhaps even hostile users - and balance
    the fact that some instances of the software may be actively
    collecting and recording data before they have been notified of a
    certain change or&amp;nbsp;update.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;So, if you think this sounds interesting, or have any suggestions - from
either the technical or &lt;span class="caps"&gt;EMS&lt;/span&gt; standpoint - please check out the &lt;a href="http://www.openepcr.org"&gt;project
homepage&lt;/a&gt; or drop me an
&lt;a href="mailto:jason@jasonantman.com"&gt;E-Mail&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Excerpted from the homepage is a bit of information on my&amp;nbsp;goals:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Project Mission:&lt;/strong&gt;
OpenEPCR aims to provide the Emergency Medical Services sector with a
Free (as in Freedom, a.k.a. Open-Source) Electronic Patient Care Report
(&lt;span class="caps"&gt;EPCR&lt;/span&gt;) software solution. Licensed under the &lt;a href="http://www.gnu.org/copyleft/gpl.html" title="http://www.gnu.org/copyleft/gpl.html"&gt;&lt;span class="caps"&gt;GNU&lt;/span&gt;
&lt;span class="caps"&gt;GPL&lt;/span&gt;&lt;/a&gt;,
it will be easily extendable by users&amp;#8217; organizations. Such a solution
does not currently exist. Furthermore, many states and regions are
moving to electronic data aggregation for &lt;span class="caps"&gt;EMS&lt;/span&gt;. OpenEPCR aims to provide
an easy way for organizations to adopt a standardized data set and
submit their data - and only the data that they choose - to a trusted
third party. The software will attempt to do all of this while paying
heed to applicable standards on privacy and security, as well as being
fully&amp;nbsp;platform-independent.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Project&amp;nbsp;Goals:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Provide &lt;em&gt;all&lt;/em&gt; code licensed under the &lt;span class="caps"&gt;GNU&lt;/span&gt; &lt;span class="caps"&gt;GPL&lt;/span&gt;, and make code as
    easy as possible to modify and&amp;nbsp;extend.&lt;/li&gt;
&lt;li&gt;Be fully platform-independent and database-independent, running in a
    platform-independent&amp;nbsp;language.&lt;/li&gt;
&lt;li&gt;Have &lt;span class="caps"&gt;NO&lt;/span&gt; reliance whatsoever on outside services i.e. be able to run
    in a disaster situation with a full communications&amp;nbsp;breakdown.&lt;/li&gt;
&lt;li&gt;Be designed with internationalization (i18n) and localization in
    mind, specifically with easy support for&amp;nbsp;translations.&lt;/li&gt;
&lt;li&gt;Have all data set, user information, rights/access management,
    authentication, and authorization abstracted, allowing
    organization-specified rules as well as various authentication means
    (central server, local file, passwords, hardware tokens, &lt;span class="caps"&gt;OTP&lt;/span&gt;,&amp;nbsp;etc.)&lt;/li&gt;
&lt;li&gt;Attempt to conform to &lt;span class="caps"&gt;HIPPA&lt;/span&gt; and other applicable standards governing
    security and&amp;nbsp;privacy.&lt;/li&gt;
&lt;li&gt;Allow all organizational data such as &lt;span class="caps"&gt;PCR&lt;/span&gt; forms, data sets,
    printable versions, etc. to operate as pluggable modules; changing
    the entire &lt;span class="caps"&gt;PCR&lt;/span&gt; structure should be as easy as adding a few new files
    and running a&amp;nbsp;script.&lt;/li&gt;
&lt;li&gt;Be designed with both the small, volunteer, virtually budget-less
    squad and the large paid organization in&amp;nbsp;mind.&lt;/li&gt;
&lt;li&gt;Run on a variety of devices including desktops, laptops, and mobile
    devices of all&amp;nbsp;flavors.&lt;/li&gt;
&lt;li&gt;Operate in environments including standalone, central server, ad-hoc
    network, and a network of distributed master&amp;nbsp;servers.&lt;/li&gt;
&lt;li&gt;Have the utmost regard to integrity of data - data loss or
    corruption is &lt;span class="caps"&gt;NOT&lt;/span&gt; an&amp;nbsp;option.&lt;/li&gt;
&lt;li&gt;Support virtually unlimited customization for an end-user&amp;nbsp;organization.&lt;/li&gt;
&lt;li&gt;Be designed with ease of extension in mind - it should be easy for
    end-user organizations to design custom add-ons that integrate
    fully, while conforming to the Access Control&amp;nbsp;model.&lt;/li&gt;
&lt;li&gt;Eventually, include support for administrative functions such as
    equipment/vehicle checks, scheduling, roster functionality,&amp;nbsp;etc.&lt;/li&gt;
&lt;li&gt;Eventually, consider creation of an integrated incident management
    system for patient, resource, and personnel&amp;nbsp;tracking.&lt;/li&gt;
&lt;li&gt;Be designed with as much space for custom software hooks as&amp;nbsp;possible.&lt;/li&gt;
&lt;li&gt;Attempt to pull together developers from various disciplines and
    gather suggestions from a vast sampling of the &lt;span class="caps"&gt;EMS&lt;/span&gt;&amp;nbsp;field.&lt;/li&gt;
&lt;/ol&gt;</summary><category term="emergency medical"></category><category term="EMS"></category><category term="free"></category><category term="healthcare"></category><category term="medical"></category><category term="open source"></category><category term="openepcr"></category><category term="patient care report"></category><category term="pcr"></category><category term="prehospital"></category></entry><entry><title>Testing blog via email on my Treo</title><link href="http://blog.jasonantman.com/2007/12/testing-blog-via-email-on-my-treo/" rel="alternate"></link><updated>2007-12-25T20:36:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-12-25:2007/12/testing-blog-via-email-on-my-treo/</id><summary type="html">&lt;p&gt;Well, I&amp;#8217;ll admit there&amp;#8217;s no real reason to this post. I just setup
blogging via email, and wanted to test it out from my Treo. Assuming all
goes well, it will show up&amp;#8230; And then promptly be&amp;nbsp;deleted.&lt;/p&gt;</summary></entry><entry><title>Links, Update on next month</title><link href="http://blog.jasonantman.com/2007/12/links-update-on-next-month/" rel="alternate"></link><updated>2007-12-25T19:42:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-12-25:2007/12/links-update-on-next-month/</id><summary type="html">&lt;p&gt;So, the semester is finally over. I made it through another one alive.
And aside from a trip to Maryland for five or six days, I&amp;#8217;m home until
the 20th of January. That&amp;#8217;s lots of time to spend running calls for the
&lt;a href="http://www.midlandparkambulance.com/"&gt;Midland Park (Volunteer) Ambulance
Corps&lt;/a&gt;, here in my home town of
Midland Park, &lt;span class="caps"&gt;NJ&lt;/span&gt;, with which I&amp;#8217;ve been volunteering as an &lt;span class="caps"&gt;EMT&lt;/span&gt;-B for
almost four years now. So far, in the past 24 hours (Christmas Eve and
Christmas Day, I&amp;#8217;ve done 3 runs, which is above average for us - usually
about 1.75/day). It&amp;#8217;s also a lot of time to spend on some projects of&amp;nbsp;mine.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ve already setup one of the SunBlade 150 machines as a desktop, and
had to handle a lot of networking stuff (see the &lt;a href="http://www.jasonantman.com/wiki/index.php/Solaris_Tips"&gt;Solaris
Tips&lt;/a&gt; page on my
&lt;a href="http://www.jasonantman.com"&gt;Wiki&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;In other news, after getting some Christmas and Chanukah (yes, my
father&amp;#8217;s family is Jewish, and I&amp;#8217;ve yet to find out a single accepted
spelling for the holiday) money, I ran out to a Verizon store and picked
up the phone I&amp;#8217;ve been dreaming of for months - a beautiful &lt;span class="caps"&gt;NEW&lt;/span&gt; (my
first not-used phone in 6 years) Treo 700p. So far, aside from some
problems with the Chatter Email software (to my dismay, I can&amp;#8217;t find a
free (even as in cost, let alone as in freedom, &lt;span class="caps"&gt;IMAP&lt;/span&gt; client for Palm)
and problems deciding whether or not to pay $25/month for data, I love
it. I still need to deal with Verizon, as they wouldn&amp;#8217;t let me activate
the phone without a data plan, and the current $45/month &amp;#8220;unlimited&amp;#8221;
plan is a bit much for&amp;nbsp;me.&lt;/p&gt;
&lt;p&gt;So, I have a few big projects planned for the upcoming down&amp;nbsp;time:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Setup my other SunBlade as a mail server running Postfix, Procmail,
    SpamAssassin (with Pyzor or Razor), an &lt;span class="caps"&gt;IMAP&lt;/span&gt; server, and &lt;span class="caps"&gt;SSL&lt;/span&gt; for&amp;nbsp;everything.&lt;/li&gt;
&lt;li&gt;Setup a Soekris box as a &lt;span class="caps"&gt;WAP&lt;/span&gt; here at&amp;nbsp;home.&lt;/li&gt;
&lt;li&gt;Get Chatter Email on the Treo working right with folders (Maildir)
    on my &lt;span class="caps"&gt;IMAP&lt;/span&gt; (Dovecot)&amp;nbsp;server.&lt;/li&gt;
&lt;li&gt;Port my GnuPG/Java-based password manager application to &lt;span class="caps"&gt;J2ME&lt;/span&gt; on the
    Treo, and figure out how to sync the databases (just GnuPG-encrypted
    flat files). Also, port it to my Nokia 770&amp;nbsp;Tablet.&lt;/li&gt;
&lt;li&gt;Get my Bluetooth Keyboard (an iGo Ultra Slim) working with the 770 -
    right now, the &lt;a href="http://770.fs-security.com/maemo-bt-plugin/"&gt;Bluetooth
    Plugin&lt;/a&gt; crashes the
    unit after typing a few&amp;nbsp;characters.&lt;/li&gt;
&lt;li&gt;Do a bunch of overhauling on the website, especially generating
    sitemaps (big issue when you have static content, MediaWiki, and
    source code) and submitting my &lt;span class="caps"&gt;CVS&lt;/span&gt; repo to Google Code&amp;nbsp;Search.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Also, A few &lt;strong&gt;Links&lt;/strong&gt; for your
enjoyment:
A &lt;a href="http://pogue.blogs.nytimes.com/2007/12/20/the-generational-divide-in-copyright-morality/"&gt;New York Times
blog&lt;/a&gt;
by David Pogue talking about &amp;#8220;intellectual property&amp;#8221;, &amp;#8220;copyright
morality&amp;#8221;, etc. He even goes so far as to imply that making a single
backup copy of a legally purchased &lt;span class="caps"&gt;DVD&lt;/span&gt; is&amp;nbsp;illegal.&lt;/p&gt;
&lt;p&gt;A &lt;a href="http://www.groklaw.net/article.php?story=20071211055139790&amp;amp;mode=nested"&gt;Groklaw
article&lt;/a&gt;
on the February &lt;span class="caps"&gt;ISO&lt;/span&gt; Ballot Resolution Meeting on &lt;span class="caps"&gt;MSOOXML&lt;/span&gt;. If you&amp;#8217;re not
familiar with it, check out &lt;a href="http://www.noooxml.org/"&gt;noOOXML.org&lt;/a&gt; and
their &lt;a href="http://www.noooxml.org/petition"&gt;petition&lt;/a&gt; listing the reasons to
vote &lt;span class="caps"&gt;NO&lt;/span&gt; on the &lt;span class="caps"&gt;OOXML&lt;/span&gt;&amp;nbsp;ballot.&lt;/p&gt;
&lt;p&gt;A &lt;a href="http://www.cnn.com/2007/WORLD/asiapcf/12/03/eco.myth.ewaste/index.html"&gt;&lt;span class="caps"&gt;CNN&lt;/span&gt;
article&lt;/a&gt;
stating that it&amp;#8217;s true that &amp;#8220;Switching from a Windows-operated computer
to a Linux-operated one could slash computer-generated e-waste levels by&amp;nbsp;50%.&amp;#8221;&lt;/p&gt;
&lt;p&gt;The Register - &lt;a href="http://www.theregister.co.uk/security/security_report_windows_vs_linux/"&gt;Windows vs. Linux Security
Report&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Some interesting Earthlink (yes, apparently they still exist)
newsletters talking about &lt;a href="http://www.earthlink.net/elink/issue136/infocus.html"&gt;Linux for the
Desktop&lt;/a&gt; and
&lt;a href="http://www.earthlink.net/elink/issue96/focus_archive.html"&gt;Open-Source
Software&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Stay tuned. More updates to&amp;nbsp;come&amp;#8230;&lt;/p&gt;</summary><category term="700p"></category><category term="palm"></category><category term="sunblade"></category><category term="treo"></category><category term="verizon"></category></entry><entry><title>Stallman and Free Software</title><link href="http://blog.jasonantman.com/2007/12/stallman-and-free-software/" rel="alternate"></link><updated>2007-12-21T00:28:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-12-21:2007/12/stallman-and-free-software/</id><summary type="html">&lt;p&gt;I&amp;#8217;ve long been a fan of Free Software - both the technical aspects and
the moral implications. As such, I&amp;#8217;ve long been
somewhat of a fan of
&lt;a href="http://www.stallman.org"&gt;&lt;span class="caps"&gt;RMS&lt;/span&gt;&lt;/a&gt;, and have followed his public persona.
I&amp;#8217;ve had the experience of exchanging
short emails with him, and was lucky enough to attend a speech of his,
entitled &amp;#8220;&lt;a href="http://www.fsf.org/events/rmsspeechrutgers/view"&gt;Copyright vs. Community in the Age of Computer Networks&lt;/a&gt;&amp;#8220;,
here at&amp;nbsp;Rutgers.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m a big fan of most of &lt;span class="caps"&gt;RMS&lt;/span&gt;&amp;#8217;s thoughts. I do, however, think of him as
a religious zealot. While his teachings may be pure and closest to &amp;#8220;the
right way&amp;#8221;, I find them a bit to pure for the lay-people; perhaps
they&amp;#8217;re more suited to the priestly class. Reading an
&lt;a href="http://itmanagement.earthweb.com/cnews/article.php/3717476"&gt;interview&lt;/a&gt;
with &lt;span class="caps"&gt;RMS&lt;/span&gt; today, I came by an interesting response (&lt;a href="http://itmanagement.earthweb.com/cnews/article.php/12035_3717476_2"&gt;the first answer on
the second
page&lt;/a&gt;)
dealing with the use of proprietary software and drivers. I&amp;#8217;ll be the
first to say that I&amp;#8217;m a big fan of &lt;span class="caps"&gt;GPL&lt;/span&gt;, including GPLv3 - granted most
of the &amp;#8220;software&amp;#8221; I write is shorter than the &lt;span class="caps"&gt;GPL&lt;/span&gt;&amp;nbsp;itself.&lt;/p&gt;
&lt;p&gt;However, I have a bit of an issue with &lt;span class="caps"&gt;RMS&lt;/span&gt;&amp;#8217;s stance. In my view, freedom
is the right of the masses. The &lt;span class="caps"&gt;GPL&lt;/span&gt; speaks at length as to the freedoms
granted to a user of software. However, what of the responsibilities of
the developers? Compromise is part of life. Very few of us have the
privilege of being able to live an idealistic life free of compromise.
So, in my opinion, one of the most important aspect of free software is
the &lt;strong&gt;right of users to be exposed to
Free software&lt;/strong&gt;. This entails not only producing truly (purely)
Free software, but also the responsibility of us, the developers,
administrators, consultants, and manufacturers, to raise the world&amp;#8217;s
awareness of Free software. Most importantly, this must be done with the
long-term, &amp;#8220;big picture&amp;#8221; view in&amp;nbsp;mind.&lt;/p&gt;
&lt;p&gt;If I hadn&amp;#8217;t acquiesced to using proprietary video drivers, I never would
have gotten Linux running on my laptop. Unfortunately, I routinely have
the need to view multimedia files which are encoded with proprietary
codecs. This isn&amp;#8217;t a choice of mine - if I had an option of getting
files which only use Free technology, I would. But unfortunately, the
only other logical option is to run a separate system, running Windows
or Mac &lt;span class="caps"&gt;OS&lt;/span&gt;, and transcode everything. But I have an issue doing that. So,
I do the best that I&amp;nbsp;can.&lt;/p&gt;
&lt;p&gt;In the world view, most people aren&amp;#8217;t programmers. They aren&amp;#8217;t going to
actively seek out Free software, since they don&amp;#8217;t receive most of the
important benefits of it. Therefore, we as developers must make a
concerted effort to raise the awareness level of run-of-the-mill
end-users when it comes to Free software. Most importantly, for us, this
means actively working to create fully functional replacements for
proprietary software. However, the inherent problem is that most
end-users don&amp;#8217;t care whether they can see the source code of a program,
whether they can modify it, or whether it&amp;#8217;s Free. What they care about
is whether it works or not. If the average person buys a computer with a
&lt;span class="caps"&gt;DVD&lt;/span&gt; player, and wants to watch DVDs on it, they&amp;#8217;ll use whatever software
they need to do that. If Linux doesn&amp;#8217;t do it, they&amp;#8217;ll most likely use
Windows or&amp;nbsp;Mac.&lt;/p&gt;
&lt;p&gt;The bottom line is that the average end-user doesn&amp;#8217;t care about morals
or Freedom or getting source code. Because they haven&amp;#8217;t been shown the
advantages of that. For the average user to care about software Freedom,
they must be introduced to it. Most importantly, they must be introduced
to the *power* of Free software, not its&amp;#8217; limitations. Ubuntu is a
prime example of this - it&amp;#8217;s easy, and does a *lot* out of the&amp;nbsp;box.&lt;/p&gt;
&lt;p&gt;My main point is the compromise is a good thing, with long-term
objectives in sight. In order for Linux, or any other Free operating
system, to gain significant share of the desktop market, it must &lt;span class="caps"&gt;WORK&lt;/span&gt;.
It has to do everything that end-users expect from a new computer
system, and do it without pain - out of the box. Limiting the software
options of an end-user to those which are religiously pure will limit
acceptance of that software to those who already share the ideals of
Free software. Provide a *mostly* Free alternative (i.e. free where
ever it is at all possible) which is functionally identical (or
superior) to the common proprietary alternatives, and users will adopt.
The more users that adopt, the more they will become aware of the
concepts behind Free software. More importantly, each and every user
that adopts will increase support for Free software, increase
development capabilities, and decrease reliance on proprietary&amp;nbsp;components.&lt;/p&gt;
&lt;p&gt;This is an issue of critical mass, of momentum. At the moment, we are
forced to make compromises by installing proprietary drivers on our
otherwise Free &lt;span class="caps"&gt;GNU&lt;/span&gt;/Linux systems. As can already be seen through Dell,
&lt;span class="caps"&gt;ATI&lt;/span&gt;, and other major vendors, when the installed user base grows, the
reliance on proprietary software &lt;span class="caps"&gt;WILL&lt;/span&gt; shrink. As more people adopt Free
operating systems, vendors will clearly see this trend, and will respond
with Free drivers and Free alternatives to other proprietary&amp;nbsp;software.&lt;/p&gt;
&lt;p&gt;My cry to the Free software world is, therefore, that trading some of
our religious purity for a larger installed user base, and greater
public awareness, is ultimately in the interest of the greater good of
Free&amp;nbsp;software.&lt;/p&gt;</summary><category term="stallman RMS GPL software proprietary free GNU"></category></entry><entry><title>Facebook Beacon; Linux in the Real World; Blog Updates</title><link href="http://blog.jasonantman.com/2007/12/facebook-beacon-linux-in-the-real-world-blog-updates/" rel="alternate"></link><updated>2007-12-15T22:57:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-12-15:2007/12/facebook-beacon-linux-in-the-real-world-blog-updates/</id><summary type="html">&lt;p&gt;So, for one thing, I&amp;#8217;ve been thinking about making more changes to my
blog. For one, I was thinking about ditching Blogger and just doing
everything myself server-side. My only qualm about this is whether using
blogger (a Google product) raises my Google rankings - after all, Google
rankings are a good thing. Also, I&amp;#8217;ve been toying around with the idea
of creating multiple feeds. Specifically, categorizing my posts into
descriptive categories, such as tech how-tos, tech news, personal views,
etc. and then offering either a combined feed or feeds of only a certain
category. If anyone actually reads this thing (I think most of my
readers come from searching specific topics, and probably only read that
post - though I don&amp;#8217;t have anything to support that). Obviously, to do
this, it would be easiest to handle the blog with software on my server,
probably something slightly&amp;nbsp;custom.&lt;/p&gt;
&lt;h2 id="facebook-beacon"&gt;Facebook&amp;nbsp;Beacon&lt;/h2&gt;
&lt;p&gt;In an update on Facebook Beacon, I came by
&lt;a href="http://yro.slashdot.org/article.pl?sid=07/12/14/1620258&amp;amp;from=rss"&gt;this&lt;/a&gt;
post on Slashdot, referencing a &lt;a href="http://www.computerworld.com/action/article.do?command=viewArticleBasic&amp;amp;articleId=9053002&amp;amp;intsrc=hm_list"&gt;ComputerWorld
article&lt;/a&gt;
questioning whether Facebook Beacon could possibly be sued, as it
appears to violate the Video Privacy Protection Act of 1988, which
prevents video rental agencies from disclosing the rental history of
their customers without a written release. Interesting&amp;nbsp;stuff.&lt;/p&gt;
&lt;h2 id="linux-in-the-real-world"&gt;Linux in the Real&amp;nbsp;World&lt;/h2&gt;
&lt;p&gt;Being an avid Linux user, and a fan of both the functionality (from the
point of view of a user as well as a programmer) and religion of F/&lt;span class="caps"&gt;OSS&lt;/span&gt;,
I always like to hear stories of Linux (and other F/&lt;span class="caps"&gt;OSS&lt;/span&gt;) usage in the
&amp;#8220;real world&amp;#8221;. Especially situations where Linux is displacing Windows,
but really anything Linux-based in general. I can&amp;#8217;t wait for a Linux
cellphone that will do everything I want - though being a Verizon
customer, I doubt that will happen until they move to &lt;span class="caps"&gt;GSM&lt;/span&gt; in a few
years. Some people accuse me of being anti-Microsoft. Sure, I am. Why
would I pay $200 for Windows when it doesn&amp;#8217;t do half of what my free
Linux does? I&amp;#8217;m not even going to touch on the moral aspects. But just
look at the &lt;a href="http://www.noooxml.org/petition"&gt;arguments against the &lt;span class="caps"&gt;OOXML&lt;/span&gt;
standard&lt;/a&gt;. Microsoft sure does do some
stupid stuff, and seems to miss the whole idea of the workings of
standards. If it only exists in &lt;span class="caps"&gt;ONE&lt;/span&gt; proprietary product, I don&amp;#8217;t see how
you can call it a&amp;nbsp;standard.&lt;/p&gt;
&lt;p&gt;Anyway, I found
&lt;a href="http://www.nytimes.com/idg/IDG_002570DE00740E18002573B100020F62.html?ex=1355288400&amp;amp;en=1a1c847788830aeb&amp;amp;ei=5088&amp;amp;partner=rssnyt&amp;amp;emc=rss/ru/"&gt;this&lt;/a&gt;
article from the New York Times, talking about how the New York Stock
Exchange is &amp;#8220;investing heavily&amp;#8221; in Linux on commodity x86 hardware,
replacing Unix mainframes, nonetheless. And what hardware are they
using? My beloved &lt;span class="caps"&gt;HP&lt;/span&gt;&amp;nbsp;Proliants.&lt;/p&gt;</summary><category term="facebook beacon blog linux NYSE"></category></entry><entry><title>Sun Blade 150 working!</title><link href="http://blog.jasonantman.com/2007/12/sun-blade-150-working/" rel="alternate"></link><updated>2007-12-14T02:44:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-12-14:2007/12/sun-blade-150-working/</id><summary type="html">&lt;p&gt;Yes, it&amp;#8217;s 3 &lt;span class="caps"&gt;AM&lt;/span&gt; here, and I&amp;#8217;ve been working since about 6 &lt;span class="caps"&gt;PM&lt;/span&gt; on this. But
I finally got one of my two surplus (and fully locked down in &lt;span class="caps"&gt;NVRAM&lt;/span&gt;) Sun
Blade 150 workstations up and running. I encountered a few problems
along the way, but managed to solve them - more or&amp;nbsp;less.&lt;/p&gt;
&lt;h2 id="problem-1-nvram-password-set-impossible-to-install-an-os"&gt;Problem 1 - &lt;span class="caps"&gt;NVRAM&lt;/span&gt; password set, impossible to install an&amp;nbsp;&lt;span class="caps"&gt;OS&lt;/span&gt;.&lt;/h2&gt;
&lt;p&gt;I did a &lt;em&gt;lot&lt;/em&gt; of googling, and asking for advice. Eventually, I came
by a forum post expressing success with a procedure of pulling out and
then re-inserting the &lt;span class="caps"&gt;NVRAM&lt;/span&gt; *while* the system is powered on. This
left my system un-bootable. I pulled the chip again, and found two pins
bent. I straightened them, re-inserted, and rebooted using the Stop+N
Equivalent Functionality (after powering on the system, once you hear
the &lt;span class="caps"&gt;POST&lt;/span&gt; beep, click the power button twice quickly). This temporarily
resets the &lt;span class="caps"&gt;NVRAM&lt;/span&gt; to default settings. I found that the password was
gone, and was able to issue the &amp;#8220;set-defaults&amp;#8221; command at the &amp;#8220;ok&gt;&amp;#8221;
prompt. I then popped in the Solaris 10 install &lt;span class="caps"&gt;CD&lt;/span&gt;, issued the
&amp;#8220;reset-all&amp;#8221; command to reboot, and used Stop+A at boot to bring up a
boot menu, and told it to boot from &lt;span class="caps"&gt;CDROM&lt;/span&gt; (&amp;#8220;boot cdrom&amp;#8221;). Installation
then&amp;nbsp;started.&lt;/p&gt;
&lt;h2 id="problem-2-invalid-nvram"&gt;Problem 2 - Invalid&amp;nbsp;&lt;span class="caps"&gt;NVRAM&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;After the above procedure, when booting, I got a message following the
Sun banner stating that there was a problem with the IDprom checksum.
When the install &lt;span class="caps"&gt;CD&lt;/span&gt; booted, I also got messages stating &amp;#8220;Invalid format
code in IDprom&amp;#8221;, &amp;#8220;Warning: IDprom checksum error&amp;#8221;, and &amp;#8220;os-io Invalid
format code in IDprom&amp;#8221;. After another five hours of work, I found that
it&amp;#8217;s essentially something I have to live with. While OpenBoot previous
to version 4 allowed use of the &amp;#8220;mkp&amp;#8221; and &amp;#8220;mkpl&amp;#8221; commands to directly
write the IDprom, version 4 and above allows no access to this. The
IDprom was reporting an ethernet (mac) address of all zeros.
Unfortunately, there seems to be no way to correct this as far as I&amp;#8217;ve
found. However, it didn&amp;#8217;t effect my &lt;span class="caps"&gt;OS&lt;/span&gt; installation&amp;#8230;&amp;nbsp;much.&lt;/p&gt;
&lt;p&gt;*There may be a way to access the IDprom through OpenBoot 4.x, but I
couldn&amp;#8217;t find any reference to it online, and couldn&amp;#8217;t figure out the
&lt;span class="caps"&gt;FORTH&lt;/span&gt; commands from the reference&amp;nbsp;docs.&lt;/p&gt;
&lt;p&gt;Some helpful links for the above problems include the OpenBoot 4.x
Command Reference Manual, currently found
&lt;a href="http://dlc.sun.com/pdf/816-1177-10/816-1177-10.pdf"&gt;here&lt;/a&gt;, as well as
the Sun Blade 150 Service Manual (from
&lt;a href="http://docs.sun.com/"&gt;docs.sun.com&lt;/a&gt;), document 816-4379-10, currently
indexed with the Sun Blade 150 docs
&lt;a href="http://docs.sun.com/app/docs/coll/sb150"&gt;here&lt;/a&gt;. It was also
interesting, in my search for help, to look at the OpenBoot 3.x Command
Manual, and see how easy it was to re-write the IDprom on older Sun
Blade&amp;nbsp;workstations.&lt;/p&gt;
&lt;p&gt;Pleaese note that the advice given in the &lt;a href="http://040.digital-bless.com/texts/Unofficial_Sun_Blade_100_FAQ.htm"&gt;Unofficial SunBlade 100
&lt;span class="caps"&gt;FAQ&lt;/span&gt;&lt;/a&gt;
and the &lt;a href="http://www.squirrel.com/sun-nvram-hostid.faq.html"&gt;squirrel.com Sun &lt;span class="caps"&gt;NVRAM&lt;/span&gt;
&lt;span class="caps"&gt;FAQ&lt;/span&gt;&lt;/a&gt; doesn&amp;#8217;t seem to
work on the 150 with OpenBoot 4.x. From what I can tell, all of that
advice applies only to OpenBoot&amp;nbsp;3.x!&lt;/p&gt;
&lt;p&gt;Some other helpful links included an ITworld.com article on &lt;a href="http://open.itworld.com/5040/nlsunixfirmware070111/page_1.html"&gt;Sun &lt;span class="caps"&gt;NVRAM&lt;/span&gt;
passwords&lt;/a&gt;,
&lt;a href="http://forum.java.sun.com/thread.jspa?threadID=5093819&amp;amp;messageID=9329080"&gt;this&lt;/a&gt;
Sun Developer Forum post, and
&lt;a href="http://forum.java.sun.com/thread.jspa?threadID=5093819&amp;amp;messageID=9329080"&gt;this&lt;/a&gt;
post on password&amp;nbsp;recovery.&lt;/p&gt;
&lt;h2 id="problem-3-mac-ethernet-address-is-000000000000"&gt;Problem 3 - &lt;span class="caps"&gt;MAC&lt;/span&gt; / Ethernet address is&amp;nbsp;00:00:00:00:00:00&lt;/h2&gt;
&lt;p&gt;When booting Solaris, I found that I couldn&amp;#8217;t get &lt;span class="caps"&gt;DHCP&lt;/span&gt;. When I finally
got the &lt;span class="caps"&gt;OS&lt;/span&gt; running and logged in as root, I realized something
interesting - I couldn&amp;#8217;t access or ping anything past the one switch I
was connected to. But everything on that switch was fine, pinging both
from and to the Solaris box. I ping&amp;#8217;ed from my laptop, and then thought
to run &amp;#8220;arp -a&amp;#8221;. It showed a &lt;span class="caps"&gt;MAC&lt;/span&gt; address of 00:00:00:00:00:00! Running
&amp;#8220;ifconfig -a&amp;#8221; on the Solaris box confirmed this. Luckily, the first time
I booted this box, I wrote down the ethernet address and hostID as shown
on the banner. I ran a quick ifconfig to setup the correct &lt;span class="caps"&gt;MAC&lt;/span&gt;, like
&amp;#8220;ifconfig eri0 ether xx:xx:xx:xx:xx:xx&amp;#8221;. Networking now worked
perfectly, and I could get to everything on the &lt;span class="caps"&gt;LAN&lt;/span&gt; as well as browse
the web. It would be good to somehow reset this in &lt;span class="caps"&gt;NVRAM&lt;/span&gt;, but for now
I&amp;#8217;m just going to add it to the startup scripts somewhere. One forum
post that I found suggested adding the previous ifconfig command to the
top of /etc/rc.c/init.d/network, which I&amp;#8217;ve done and will see how it
works at the next&amp;nbsp;boot.&lt;/p&gt;
&lt;h2 id="problem-4-cant-login-to-smc-solaris-management-console"&gt;Problem 4 - Can&amp;#8217;t login to &lt;span class="caps"&gt;SMC&lt;/span&gt; (Solaris Management&amp;nbsp;Console)&lt;/h2&gt;
&lt;p&gt;My next task after getting the system up and running, and getting
networking working, as to give myself a user account. I was logged in
using the Java Desktop System, so I opened a terminal and ran &amp;#8220;smc &amp;amp;&amp;#8221;.
After the usual initialization wait, I loaded the toolboxes for the
local machine, and connected. When I clicked on the &amp;#8220;users&amp;#8221; module and
entered my root password, I got an invalid password / login failed
message. I tried again and again, even checking against the post-it that
I wrote the password on until I memorize it. Nothing. Searching the
forums, I came by this
&lt;a href="http://forum.java.sun.com/thread.jspa?threadID=5104081&amp;amp;messageID=9354742"&gt;post&lt;/a&gt;,
but the value in /etc/security/policy.conf was correctly set to &amp;#8221;
CRYPT_DEFAULT=__unix__&amp;#8221;. So, on a wild hunch, I used &amp;#8220;passwd&amp;#8221; to
reset my password to a shorter one, which I use on a few other
(unimportant) workstations.&amp;nbsp;Magic!&lt;/p&gt;
&lt;p&gt;I now have, after two days of work, a working Solaris box. Now that I
have a good &lt;span class="caps"&gt;OS&lt;/span&gt; install, in order to get the other box working, I
*should* just be able to swap HDDs, boot, login as root, and use the
&amp;#8220;eeprom&amp;#8221; command to set &amp;#8220;security-mode&amp;#8221; to &amp;#8220;none&amp;#8221;, bypassing all of this&amp;nbsp;bull****.&lt;/p&gt;</summary><category term="nvram"></category><category term="openboot"></category><category term="password"></category><category term="smc"></category><category term="solaris"></category><category term="sun"></category><category term="sunblade"></category></entry><entry><title>SunBlade Workstations</title><link href="http://blog.jasonantman.com/2007/12/sunblade-workstations/" rel="alternate"></link><updated>2007-12-12T22:51:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-12-12:2007/12/sunblade-workstations/</id><summary type="html">&lt;p&gt;So today I picked up two surplus SunBlade 150 workstations. The price
seemed right, and I figure that at the very least, they&amp;#8217;d give me some
Sparc machines to play around with. The two seem slightly different.
Externally, one has a &lt;span class="caps"&gt;CD&lt;/span&gt;-&lt;span class="caps"&gt;RW&lt;/span&gt; and one has a &lt;span class="caps"&gt;DVD&lt;/span&gt;-&lt;span class="caps"&gt;ROM&lt;/span&gt;. The one with the &lt;span class="caps"&gt;DVD&lt;/span&gt;,
the first one I&amp;#8217;m working with, has a 650MHz Sparc IIi, 512 Mb &lt;span class="caps"&gt;RAM&lt;/span&gt;, and
&lt;span class="caps"&gt;XXXXX&lt;/span&gt; &lt;span class="caps"&gt;HDD&lt;/span&gt;. I&amp;#8217;ll figure out the specs on the second when I get it&amp;nbsp;running.&lt;/p&gt;
&lt;p&gt;They also both use simple &lt;span class="caps"&gt;EIDE&lt;/span&gt; drives, so I might put a new drive in,
after checking drive current drive information through &lt;span class="caps"&gt;SMART&lt;/span&gt;. I planned
on using one of the machines (probably this first one, the 650MHz with
the &lt;span class="caps"&gt;DVD&lt;/span&gt;) to replace my aging mailserver at home (a 350MHz Pentium &lt;span class="caps"&gt;II&lt;/span&gt;
Gateway desktop), running Solaris 10. The other one will be a
workstation/desktop for me, which will probably run either Solaris 10 or
Solaris Express Developer Edition&amp;nbsp;(&lt;span class="caps"&gt;SXDE&lt;/span&gt;).&lt;/p&gt;
&lt;p&gt;Unfortunately, the project seems to have hit a dead-end. Both systems
have hardware/&lt;span class="caps"&gt;NVRAM&lt;/span&gt; security setup, so they won&amp;#8217;t boot from &lt;span class="caps"&gt;CD&lt;/span&gt; without a
password. They also won&amp;#8217;t boot the existing Solaris installation, as
it&amp;#8217;s looking for a whole bunch of network services that don&amp;#8217;t exist. I
found a few suggestions online on how to bypass this, but none of them
worked. So, at this point, I have a few options to&amp;nbsp;consider:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Hope that as a Sun Microsystems Campus Ambassador, I can contact
    someone who can advise me on how to clear out the password or&amp;nbsp;&lt;span class="caps"&gt;NVRAM&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;Hope that as a Rutgers employee, I can track down someone on the
    Camden campus where these came from that may have the &lt;span class="caps"&gt;NVRAM&lt;/span&gt;&amp;nbsp;password.&lt;/li&gt;
&lt;li&gt;Break down and pay $40 each for *new* &lt;span class="caps"&gt;NVRAM&lt;/span&gt;&amp;nbsp;chips.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;We&amp;#8217;ll see what the next few days brings. Hopefully not resorting to a
solution that costs more than I paid for the&amp;nbsp;machines.&lt;/p&gt;</summary><category term="sunblade sun solaris opensolaris install firmware boot"></category></entry><entry><title>Tech - Updates</title><link href="http://blog.jasonantman.com/2007/12/tech-updates/" rel="alternate"></link><updated>2007-12-11T15:54:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-12-11:2007/12/tech-updates/</id><summary type="html">&lt;p&gt;First of all, until I decide on either splitting my blog, or setting up
separate &amp;#8216;channels&amp;#8217; for personal and technical stuff, I&amp;#8217;ll annotate the
difference in post&amp;nbsp;titles.&lt;/p&gt;
&lt;p&gt;So I have a few days of sanity - the last week of classes - before exam
time. Hopefully I&amp;#8217;ll wrap some things up, and even finish my Christmas
shopping (&lt;a href="http://www.thinkgeek.com"&gt;ThinkGeek&lt;/a&gt; will be happy&amp;#8230;). I
don&amp;#8217;t have a whole lot of real value to say, but a few notes on upcoming&amp;nbsp;projects.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;I&amp;#8217;m going to be buying a few SunBlade 100s and 150s as surplus from
    Rutgers. I&amp;#8217;m probably going to have one or two running at home
    replacing my ancient mail server. I might also bring my PowerEdge
    2550 home to virtualize a few of my machines - though, arguably, my
    two backup machines are the best candidates, though I don&amp;#8217;t like the
    idea of virtualizing&amp;nbsp;backups.&lt;/li&gt;
&lt;li&gt;I think the new mail server will run Solaris, though I haven&amp;#8217;t
    looked into the technicalities of
    Procmail/Postfix/SpamAssassin/some-&lt;span class="caps"&gt;IMAP&lt;/span&gt;-server on&amp;nbsp;Solaris.&lt;/li&gt;
&lt;li&gt;&lt;a href="/2007/11/print-accounting.html"&gt;Print
    Accounting&lt;/a&gt;
    is finished, though the &lt;span class="caps"&gt;GUI&lt;/span&gt; isn&amp;#8217;t completely done. I&amp;#8217;ll have it in
    &lt;span class="caps"&gt;CVS&lt;/span&gt; sometime this&amp;nbsp;week.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I&amp;#8217;m thinking about password managers. I posted a comment to the
&lt;a href="http://www.sage.org/"&gt;&lt;span class="caps"&gt;SAGE&lt;/span&gt;&lt;/a&gt; mailing list, but didn&amp;#8217;t get many helpful
replies. I&amp;#8217;m looking for a solution that can keep track of all of my
usernames and passwords. It needs to be secure. Very secure. I&amp;#8217;d like to
set separate passwords for almost every machine/account that I have.
More importantly, I want something easily portable. Unfortunately, I
find things like the
&lt;a href="http://www.thinkgeek.com/gadgets/security/91a2/"&gt;Mandylion&lt;/a&gt; a bit
limiting - not only does the device generate passwords for you, so you
can&amp;#8217;t really store many notes (I might want to keep track of a &lt;span class="caps"&gt;URL&lt;/span&gt;, name
for the entry, username, member number, etc.) but it&amp;#8217;s also a single
hardware device - no way to back it up, and easy to lose. I also saw the
&lt;a href="http://www.thinkgeek.com/gadgets/security/99f1/"&gt;IronKey&lt;/a&gt; which sounds
damn good - especially the Mission Impossible-esque self-destructing
encryption chip. But that means that some @$$ just has to type in 10
incorrect passwords and it&amp;#8217;s useless. Moreover, it needs to be plugged
into a system, so if I don&amp;#8217;t have a laptop and I&amp;#8217;m not at a trusted
terminal, there&amp;#8217;s ample security&amp;nbsp;risk.&lt;/p&gt;
&lt;p&gt;I talked to my roommate (an &lt;span class="caps"&gt;EE&lt;/span&gt; major) about hardware solutions, but they
seem to be a bit expensive and way too much R&amp;amp;D time. So, it seems like
the only real solution is software. At the moment, what I have to work
with includes a &lt;a href="http://maemo.org/community/wiki/nokia_770_hardware_specification/"&gt;Nokia 770 Internet
Tablet&lt;/a&gt;,
a Blackberry 7250 (hopefully being replaced by a Treo 650p or 700p
soon), an array of Linux desktops, and my laptop (right now a Linux box
that stays on my desk, but maybe a MacBook, iBook, or &lt;a href="http://eeepc.asus.com/"&gt;Asus
eeePC&lt;/a&gt;&amp;nbsp;soon).&lt;/p&gt;
&lt;p&gt;The overall idea is to create a set (or trio, or quartet) of
applications to act as a password manager. They would store passwords
and related information (initial acitvation date, reset date, scheduled
reset date, username, system/site name, notes) in a flat file or a
simple database like
&lt;a href="http://www.oracle.com/technology/products/berkeley-db/index.html"&gt;&lt;span class="caps"&gt;BDB&lt;/span&gt;&lt;/a&gt;.
That file would then be encrypted using GNUpg and strong encryption.
Another possibility is separate files per &amp;#8220;class&amp;#8221; of password, such as
one for root accounts, one for user accounts, one for web sites, etc.
with different encryption strength for each class (speed may be an issue
for en/decrypting large files on small devices like&amp;nbsp;phones).&lt;/p&gt;
&lt;p&gt;In terms of the program, ideally I&amp;#8217;d have a graphical client for my
phone (Treo or Blackberry) probably written in Java, a graphical client
for the Nokia 770 (maybe Java, maybe something using Python and native
&lt;span class="caps"&gt;GTK&lt;/span&gt;), a graphical client for my laptop, and a &lt;span class="caps"&gt;CLI&lt;/span&gt; client for the 770 and
laptop. Databases would have to be sync&amp;#8217;ed across machines - the 770 is
easy enough to just find the newest file and copy it, or manually
decrypt, diff, and then encrypt. I don&amp;#8217;t know how I&amp;#8217;d do it on the
phones, the only thing I can think of right now is to pay for data
usage, and then manually copy over to the phone (either via &lt;span class="caps"&gt;SFTP&lt;/span&gt;, &lt;span class="caps"&gt;SCP&lt;/span&gt;,
or a &lt;span class="caps"&gt;HTTPS&lt;/span&gt;&amp;nbsp;connection).&lt;/p&gt;</summary><category term="passwords"></category></entry><entry><title>Commentary - Best Products, or most hype?</title><link href="http://blog.jasonantman.com/2007/12/commentary-best-products-or-most-hype/" rel="alternate"></link><updated>2007-12-11T15:36:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-12-11:2007/12/commentary-best-products-or-most-hype/</id><summary type="html">&lt;p&gt;In my usual lunchtime &lt;a href="http://www.digg.com"&gt;Digg&lt;/a&gt; reading, I came by a
link to the &lt;a href="http://images.businessweek.com/ss/07/12/1210_bestworst_products/index_01.htm"&gt;BusinessWeek Most Important Products of
2007&lt;/a&gt;.
Given the number of cars, it&amp;#8217;s apparent that this is a very
consumer-oriented listing. But I was a bit surprised - the first four
products were all from Apple - the iPhone, MacBook Pro, &lt;span class="caps"&gt;OS&lt;/span&gt; X Leopard,
and Apple &lt;span class="caps"&gt;TV&lt;/span&gt;. While some of these are definitely interesting, I really
don&amp;#8217;t think that any other than the iPhone could be considered truly
important or groundbreaking. &lt;span class="caps"&gt;OS&lt;/span&gt; X Leopard and the MacBook Pro may be
wonderful for Mac users, but they&amp;#8217;re not really anything &amp;#8220;new&amp;#8221; in the
sense of ideas - they&amp;#8217;re just updated versions with more/better
features. Given the amount of hype that surrounded it, it was clear that
the iPhone would be on this list. And I will admit that, despite my
moral objections to it (bricking phones that innocent users unlocked),
the iPhone is very nicely done. But it&amp;#8217;s not anything truly &lt;span class="caps"&gt;NEW&lt;/span&gt;. It&amp;#8217;s a
step in progression. There were phones with cameras, phones that were
thin, phones with touchscreens, and phones that played MP3s. Apple just
pulled all - and some extra - into a very nice&amp;nbsp;package.&lt;/p&gt;
&lt;p&gt;So what else was mentioned? The Dell &lt;span class="caps"&gt;XPS&lt;/span&gt; One, some Mac-ish all-in-one
Media Center &lt;span class="caps"&gt;PC&lt;/span&gt;. It puts everything my computer has in one &lt;span class="caps"&gt;OEM&lt;/span&gt; package,
and adds on Windows Media Center, just to make sure it won&amp;#8217;t do
everything you want. And it even puts the entire computer inside a
monitor-sized enclosure, so if you crack the &lt;span class="caps"&gt;LCD&lt;/span&gt;, you have to send the
whole thing back to Dell. Don&amp;#8217;t even ask me how the Braun Pulsonic
electric razor made it onto this list. Or a 30&amp;#8221; Gateway &lt;span class="caps"&gt;LCD&lt;/span&gt; monitor.
Yes, it&amp;#8217;s a big monitor. And it has a &lt;span class="caps"&gt;TV&lt;/span&gt; tuner. That makes it one of the
most important products of the year? Of course, there&amp;#8217;s also a 60&amp;#8221;
Pioneer &lt;span class="caps"&gt;LCD&lt;/span&gt; &lt;span class="caps"&gt;TV&lt;/span&gt;, the Tivo &lt;span class="caps"&gt;HD&lt;/span&gt; &lt;span class="caps"&gt;DVR&lt;/span&gt;, and the Motorola Razr2. All jazzed-up
versions of old ideas. And I&amp;#8217;m not even going to mention Windows Vista,
arguably Microsoft&amp;#8217;s biggest flop (other than Windows &lt;span class="caps"&gt;ME&lt;/span&gt;), which appears
on the list - though they do mention, &amp;#8220;While many users hate it, there&amp;#8217;s
little question that the operating system is selling extremely well.&amp;#8221;.
They mention that Microsoft said, in October, that it
&lt;strong&gt;had shipped 88 million copies of Vista&lt;/strong&gt;. While I don&amp;#8217;t totally doubt that figure, it doesn&amp;#8217;t take
into account the users who bought a Dell with Vista and then dumped it
for Ubuntu. Or even the (I imagine rather large) number of users, like
many of my friends, who bought that new computer with Vista and
immediately loaded their old &lt;span class="caps"&gt;XP&lt;/span&gt; Pro&amp;nbsp;disk.&lt;/p&gt;
&lt;p&gt;So, after all of that nitpicking, what do I think is&amp;nbsp;missing?&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The desktop processor revolution, with 64-bit systems becoming quite&amp;nbsp;common.&lt;/li&gt;
&lt;li&gt;The Intel and &lt;span class="caps"&gt;AMD&lt;/span&gt; dual- and quad-core CPUs being put in consumer&amp;nbsp;machines.&lt;/li&gt;
&lt;li&gt;Intel &lt;span class="caps"&gt;VT&lt;/span&gt; hardware virtualization&amp;nbsp;technology.&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;OLPC&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;The Asus eeePC (well, this is still to be&amp;nbsp;determined)&lt;/li&gt;
&lt;li&gt;Motorola cellphones moving to Linux (as well as other&amp;nbsp;companies)&lt;/li&gt;
&lt;li&gt;The portion of the 700-MHz spectrum set for auction by the &lt;span class="caps"&gt;FCC&lt;/span&gt;. (well, not a consumer product, but it could revolutionize mobile communications if it falls into the right&amp;nbsp;hands).&lt;/li&gt;
&lt;/ol&gt;</summary><category term="important businessweek vista iphone products"></category></entry><entry><title>Windows advances, Cutting out the middle-man</title><link href="http://blog.jasonantman.com/2007/12/windows-advances-cutting-out-the-middle-man/" rel="alternate"></link><updated>2007-12-07T16:29:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-12-07:2007/12/windows-advances-cutting-out-the-middle-man/</id><summary type="html">&lt;p&gt;So I have a nice weekend of real-world non-technical activities ahead of
me. A welcome end to a week of insanely busy school work, and a welcome
break before the threat of exams 2 weeks away becomes real. I&amp;#8217;ve been
working on a few projects - centralized logging and analysis, some way
to easily tie Nagios, log analysis, traffic analysis, etc. into a
one-look heads-up display, and a few other things. I even got the power
adapter for my &lt;span class="caps"&gt;LCD&lt;/span&gt; so that I can have a try at the &lt;a href="http://www.tomsguide.com/us/supersize-your-tv-for,review-342.html"&gt;giant wall-size &lt;span class="caps"&gt;LCD&lt;/span&gt;
projector&lt;/a&gt;.
However, reading through my usual &lt;span class="caps"&gt;RSS&lt;/span&gt; feeds today, I felt the urge to
comment on a few&amp;nbsp;things.&lt;/p&gt;
&lt;p&gt;First, for those who haven&amp;#8217;t heard, the &lt;span class="caps"&gt;SFLC&lt;/span&gt; and the BusyBox developers
have filed &lt;a href="http://www.softwarefreedom.org/news/2007/dec/07/busybox/"&gt;another
lawsuit&lt;/a&gt;
alleging &lt;span class="caps"&gt;GPL&lt;/span&gt; violations, this time against Verizon for distributing an
Actiontec router to FiOS customers, sans source code. I&amp;#8217;m a FiOS
customer (in fact, the very text you&amp;#8217;re looking at is coming to you
courtesy of residential fiber) but got in on the wagon before they were
giving away these &amp;#8220;fancy&amp;#8221; routers. It&amp;#8217;s good to see, though, that the
F/&lt;span class="caps"&gt;OSS&lt;/span&gt; world is standing up for its&amp;#8217; values, and perhaps the mainstream
proprietary world will start to understand that just because you can
give a copy of BusyBox to your friends doesn&amp;#8217;t mean they can disregard
the&amp;nbsp;license.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Windows Advances?&lt;/strong&gt;
I came by &lt;a href="http://blogs.ittoolbox.com/linux/locutus/archives/if-the-gui-is-so-good-then-why-is-microsoft-dropping-it-20951?e=unrec#commentsForm"&gt;this blog
post&lt;/a&gt;
discussing the fact that, apparently, Windows 2008 is going to be able
to be installed in a &lt;span class="caps"&gt;CLI&lt;/span&gt;-only (yes, that&amp;#8217;s right, no &lt;span class="caps"&gt;GUI&lt;/span&gt;)&amp;nbsp;mode.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m not going to preach about Microsoft turning unix-y. Rather, I think
it just reiterates something that I&amp;#8217;ve said time and time
again:&lt;em&gt;I&amp;#8217;m setting up a &lt;span class="caps"&gt;DNS&lt;/span&gt; server.
It&amp;#8217;s going to be administered in a web &lt;span class="caps"&gt;GUI&lt;/span&gt; or by scripts. Why should I
tie up &lt;span class="caps"&gt;RAM&lt;/span&gt; and processor cycles to display a &lt;span class="caps"&gt;GUI&lt;/span&gt; that, if the system
works right, will never be looked&amp;nbsp;at?&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Rather than seeing this
as some victory for Linux, Unix, etc., I take it a bit more
realistically (though still, perhaps, over-optimistically):
Maybe Microsoft is finally realizing that their one-size-fits-all
mentality doesn&amp;#8217;t work. That people want options. And, even more
mysteriously, that not everyone wants to have to buy the newest hardware
just to run an&amp;nbsp;&lt;span class="caps"&gt;OS&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Cutting out the Middle Man:&lt;/strong&gt;
I found and &lt;a href="http://www.internetnews.com/stats/article.php/3655796"&gt;article at
internetnews.com&lt;/a&gt;
entitled
&amp;#8220;The Young, Smart And Loaded Watch Online &lt;span class="caps"&gt;TV&lt;/span&gt;&amp;#8221;. Many parts of it
saddened me - like the thought of allowing providers to push
advertisement through my computer, or tracking my viewing habits in
great&amp;nbsp;detail.&lt;/p&gt;
&lt;p&gt;However, this is something that&amp;#8217;s occurred to me many times. Firstly, I
already use &lt;a href="http://www.mythtv.org/"&gt;MythTV&lt;/a&gt; to watch tv. So,
realistically, I&amp;#8217;m already watching &lt;span class="caps"&gt;TV&lt;/span&gt; on a computer. I have broadband
in both my home and apartment (and anywhere else I&amp;#8217;d want to be). I have
a coaxial cable coming from the wall, plugged into my computer. And I
have to hook a tuner up and capture the video. Why not cut out the
middle&amp;nbsp;man?&lt;/p&gt;
&lt;p&gt;I pay Cablevision somewhere around $30/month for &lt;span class="caps"&gt;TV&lt;/span&gt;. That covers not
only the content, but also the costs for them to maintain a vast network
of cable lines stretching from where-ever to my house. I already have
broadband, why not just get &lt;span class="caps"&gt;TV&lt;/span&gt; over&amp;nbsp;that?&lt;/p&gt;
&lt;p&gt;Admittedly, I doubt any provider would give me what I want. But let&amp;#8217;s
think about it for a moment. Their only cost is a datacenter somewhere.
I simply connect to a somehow-authenticated video stream over my
existing broadband connection, and watch &lt;span class="caps"&gt;TV&lt;/span&gt;! All they need is a contract
to rebroadcast. They can even pay on a per-view basis, as they would be
able to tell who&amp;#8217;s connected to what at a given time. They just need a
data center with a &lt;span class="caps"&gt;LOT&lt;/span&gt; of bandwidth, some sattelite or fiber video
lines, and a system to capture each channel they offer. It then just
gets&amp;nbsp;streamed.&lt;/p&gt;
&lt;p&gt;Sounds wonderful to me. I&amp;#8217;m already paying for high-bandwidth, why not
pay a third-party to stream &lt;span class="caps"&gt;TV&lt;/span&gt; to me instead of paying the cable
company? They don&amp;#8217;t need to maintain anywhere near the level of
infrastructure - no physical cabling, no satellites, and QoS would be
determined by each individuals&amp;#8217; &lt;span class="caps"&gt;ISP&lt;/span&gt;. It would even allow me to have one
account and watch at home, at my apartment, or at&amp;nbsp;work.&lt;/p&gt;
&lt;p&gt;The catch, at least for me? Well, while this might be viable, the odds
are there would be a proprietary viewer application. That&amp;#8217;s bad.
Firstly, it&amp;#8217;s useless if you can&amp;#8217;t record it and watch it later, or
transfer it to another computer. But more importantly, the odds of such
a company embracing a standardized technology (like just streaming
everything over the web and depending on &lt;span class="caps"&gt;SSL&lt;/span&gt; and &lt;span class="caps"&gt;HTTP&lt;/span&gt;-based
authentication) that will run on my Linux boxen is pretty&amp;nbsp;slim.&lt;/p&gt;</summary><category term="lcd projector sflc busybox microsoft windows tv streaming"></category></entry><entry><title>Cutting out the middle man - Now Facebook stalks you!</title><link href="http://blog.jasonantman.com/2007/12/cutting-out-the-middle-man-now-facebook-stalks-you/" rel="alternate"></link><updated>2007-12-03T15:21:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-12-03:2007/12/cutting-out-the-middle-man-now-facebook-stalks-you/</id><summary type="html">&lt;p&gt;For those of you who aren&amp;#8217;t familiar, Facebook recently rolled out the
Beacon service which provides Facebook with &amp;#8220;advertising&amp;#8221;&amp;nbsp;information.&lt;/p&gt;
&lt;p&gt;A quick overview is available at:
&lt;a href="http://www.pcworld.com/article/id,140182-c,onlineprivacy/article.html"&gt;http://www.pcworld.com/article/id,140182-c,onlinepriacy/article.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The bottom line is that whenever you visit a participating site (there
are over 40 so far, including Amazon, Ebay, and many others),
information in &lt;span class="caps"&gt;YOUR&lt;/span&gt; purchases, browsing habits, etc. is sent back to
Facebook. Most scarily, this continues to happen &lt;span class="caps"&gt;EVEN&lt;/span&gt; &lt;span class="caps"&gt;AFTER&lt;/span&gt; &lt;span class="caps"&gt;YOU&lt;/span&gt; &lt;span class="caps"&gt;LOG&lt;/span&gt; &lt;span class="caps"&gt;OUT&lt;/span&gt;
&lt;span class="caps"&gt;OF&lt;/span&gt;&amp;nbsp;&lt;span class="caps"&gt;FACEBOOK&lt;/span&gt;!&lt;/p&gt;
&lt;p&gt;This is all detailed in the blog of a &lt;span class="caps"&gt;CA&lt;/span&gt;.com security researcher:
&lt;a href="http://community.ca.com/blogs/securityadvisor/archive/2007/11/29/facebook-s-misrepresentation-of-beacon-s-threat-to-privacy-tracking-users-who-opt-out-or-are-not-logged-in.aspx"&gt;http://community.ca.com/blogs/securityadvisor/archive/2007/11/29/facebook-s-misrepresentation-of-beacon-s-threat-to-privacy-tracking-users-who-opt-out-or-are-not-logged-in.aspx&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;In 2007, I&amp;#8217;ve become used to gross invasions of my privacy. I&amp;#8217;ve become
used to the fact that Facebook is becoming hopelessly commercialized,
putting ads in my MiniFeed, and turning into MySpace (albeit worth&amp;nbsp;billions).&lt;/p&gt;
&lt;p&gt;However, the Beacon technology is a gross outrage. Most users were never
informed of it - I know I wasn&amp;#8217;t. It acts surreptitiously, collecting
data on your purchasing and browsing habits, and sending that data back
to Facebook. Who knows what happens to it after&amp;nbsp;that.&lt;/p&gt;
&lt;p&gt;Even worse, supposedly, some items purchased are published in your
MiniFeed on your profile - not only is this turning your profile into
even more advertising for Ebay, Amazon, etc. but it&amp;#8217;s not keeping things
exactly private. I guess this will make people think twice before buying
that blow-up doll on Ebay, but in all seriousness, I don&amp;#8217;t want to check
my profile one day and find a list of what I bought everyone for&amp;nbsp;Christmas.&lt;/p&gt;
&lt;p&gt;There are a few groups dedicated to this - One that I started:
&lt;a href="http://www.facebook.com/group.php?gid=6061274374"&gt;http://www.facebook.com/group.php?gid=6061274374&lt;/a&gt;
and a few others:
&lt;a href="http://www.facebook.com/group.php?gid=19940635616"&gt;http://www.facebook.com/group.php?gid=19940635616&lt;/a&gt;
&lt;a href="http://www.facebook.com/group.php?gid=14537275404"&gt;http://www.facebook.com/group.php?gid=14537275404&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Most appalling, Facebook doesn&amp;#8217;t have any way to opt-out of the service,
and signing out of Facebook does &lt;span class="caps"&gt;NOT&lt;/span&gt; stop information from being&amp;nbsp;sent.&lt;/p&gt;
&lt;p&gt;Luckily, if you use Mozilla Firefox (www.getfirefox.com) (you &lt;span class="caps"&gt;DO&lt;/span&gt; use
firefox, right???) you can use the BlockSite extension to (supposedly)
block all data from being sent to Beacon. (This isn&amp;#8217;t possible in &lt;span class="caps"&gt;IE&lt;/span&gt;).
Details can be found at:
&lt;a href="http://www.wikihow.com/Block-Facebook-Beacon"&gt;http://www.wikihow.com/Blok-Facebook-Beacon&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Just another reason why it seems like Facebook is doing whatever they
want - more to the point, whatever will make them worth more. I
understand capitalism and their right to money, but given that Facebook
is valued at well over $1 &lt;span class="caps"&gt;BILLION&lt;/span&gt;, and gaining every day, I&amp;#8217;d think that
at some point they can let the value even out a bit, and go back to
respecting their users. Specifically, at least warning users through a
mass message when they implement something like&amp;nbsp;this.&lt;/p&gt;</summary></entry><entry><title>Short Commentary</title><link href="http://blog.jasonantman.com/2007/11/short-commentary/" rel="alternate"></link><updated>2007-11-30T14:09:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-11-30:2007/11/short-commentary/</id><summary type="html">&lt;p&gt;Just a short note today - it&amp;#8217;s an insanely busy week. I&amp;#8217;ve been
finishing up the web &lt;span class="caps"&gt;GUI&lt;/span&gt; for my print accounting system (previously
mentioned) and had to dive into &lt;span class="caps"&gt;CUPS&lt;/span&gt;/&lt;span class="caps"&gt;IPP&lt;/span&gt; to pull out information on
whether or not a print job is printed in duplex. I&amp;#8217;ve also been going
crazy with raw &lt;span class="caps"&gt;PJL&lt;/span&gt; queries to get some information that doesn&amp;#8217;t appear
to be found in &lt;a href="http://www.faqs.org/rfcs/rfc1759.html"&gt;Printer-&lt;span class="caps"&gt;MIB&lt;/span&gt;&lt;/a&gt;. In
other news, I have an exam Monday moring in a class (Religions of the
Eastern World - my non-western requirement) that I&amp;#8217;m getting a D in.
Then I have an essay for &lt;span class="caps"&gt;US&lt;/span&gt; History &lt;span class="caps"&gt;II&lt;/span&gt; due Thursday - I haven&amp;#8217;t even
read the books&amp;nbsp;yet.&lt;/p&gt;
&lt;p&gt;And Tuesday night, I have my first tech demo as a Sun Campus Ambassador,
a short OpenSolaris overview for &lt;a href="http://ruslug.rutgers.edu/w/"&gt;&lt;span class="caps"&gt;RUSLUG&lt;/span&gt;&lt;/a&gt;
that should touch on the coll facets of DTrace, Zones, &lt;span class="caps"&gt;ZFS&lt;/span&gt;, etc. as well
as the new installer. So it&amp;#8217;s going to be a pretty busy weekend. And I&amp;#8217;m
hard set on doing a kick-ass demo, despite some of the &lt;a href="http://directorymanager.wordpress.com/2007/11/28/an-open-letter-to-the-opends-community-and-to-sun-microsystems/"&gt;disturbing
things&lt;/a&gt;
I&amp;#8217;ve been hearing about Sun lately. If I can get OpenSolaris to boot on
my laptop by then, I&amp;#8217;ll use that. If not, I guess I&amp;#8217;ll be dragging the
PowerEdge 2550 over&amp;nbsp;there.&lt;/p&gt;
&lt;p&gt;That being said, I was looking through Google Reader this morining (my
only source for news) and came by a LinuxInsider article on the
&lt;a href="http://www.linuxinsider.com/rsstory/60447.html"&gt;upcoming &lt;span class="caps"&gt;KDE&lt;/span&gt; release&lt;/a&gt;.
Being a user of &lt;span class="caps"&gt;KDE&lt;/span&gt; since 2000, this interested me. However, what struck
me was a comment about the new&amp;nbsp;KOffice.&lt;/p&gt;
&lt;p&gt;I was speaking with a supervisor at the Rutgers University student
computer labs the other day, and was pretty astonished to realize that
&lt;a href="http://www.openoffice.org/"&gt;OpenOffice&lt;/a&gt; isn&amp;#8217;t loaded on the lab
computers. Why? Because 99% of their &amp;#8220;patrons&amp;#8221; wouldn&amp;#8217;t know what it is,
and can&amp;#8217;t handle choices. &lt;strong&gt;Can&amp;#8217;t handle choices&lt;/strong&gt;. Or, at least, don&amp;#8217;t want them. It&amp;#8217;s attitudes like this
that lead to a world where you have &lt;span class="caps"&gt;ONE&lt;/span&gt; cable company, &lt;span class="caps"&gt;ONE&lt;/span&gt; phone
company, &lt;span class="caps"&gt;ONE&lt;/span&gt; high-bandwidth &lt;span class="caps"&gt;ISP&lt;/span&gt;, and can only use &lt;span class="caps"&gt;ONE&lt;/span&gt; cellular
provider&amp;#8217;s equipment on a network. I wonder how those same &amp;#8220;patrons&amp;#8221;
would feel if they went to a car dealer and were offered the option to
buy a Honda Accord, a Honda Accord, or maybe a Honda&amp;nbsp;Accord.&lt;/p&gt;
&lt;p&gt;As far as I&amp;#8217;m concerned, the biggest issue is publicity. The users don&amp;#8217;t
want choices because they don&amp;#8217;t know about them. And I thought that a
University was supposed to educate people? How naive of&amp;nbsp;me.&lt;/p&gt;
&lt;p&gt;I was hanging out at the &lt;a href="http://www.midlandparkambulance.com/"&gt;ambulance
corps&lt;/a&gt; that I volunteer with (I
have nothing to do with the front-end web site) the other weekend, and
one of the women asked whether I had Microsoft Office, since she needed
Word for a project. She said she didn&amp;#8217;t want to pay $250. I asked her
why she couldn&amp;#8217;t use OpenOffice. She asked what it was. It&amp;#8217;s absolutely
wonderful to hear the astonishment in someone&amp;#8217;s voice when you tell them
that they can download something at no cost that does everything that
Word&amp;nbsp;does.&lt;/p&gt;
&lt;p&gt;So, my question is how many of these &amp;#8220;patrons&amp;#8221;, mostly students, would
use OpenOffice if they knew about it? More importantly, how many of them
would use it if someone told them they don&amp;#8217;t *have* to pay $150 to put
Word and Excel on their computers? I know the functionality isn&amp;#8217;t
perfect, but I routinely open, edit, and then save back Word and Excel
files in &lt;span class="caps"&gt;OO&lt;/span&gt; without a&amp;nbsp;problem.&lt;/p&gt;
&lt;p&gt;So, back to the point of this rant. Choices are good. Fragmentation is
not. We have OpenOffice, StarOffice, KOffice, and probably a bunch more.
I understand they&amp;#8217;re all separate projects with separate goals. But,
&lt;span class="caps"&gt;IMHO&lt;/span&gt;, one of the biggest problems with open-source (and no-cost)
alternatives to proprietary software is getting the word out there. And
fragmentation makes that so much harder. If you ask a Windows or Mac
user what office package is most prominent, they&amp;#8217;ll probably say &lt;span class="caps"&gt;MS&lt;/span&gt;
Office. If you ask three Linux users, you&amp;#8217;ll likely get three different&amp;nbsp;answers.&lt;/p&gt;
&lt;p&gt;This isn&amp;#8217;t about the moral battle of Free/Open Source vs. closed or
proprietary. This is about user experience. If there&amp;#8217;s a no-cost (and
even better, Free) package out there that does almost everything a
$150-300 package does, users should have the right to try it and see if
it works for them. And I can think of few places where that&amp;#8217;s more
important than cash-starved college&amp;nbsp;kids.&lt;/p&gt;</summary><category term="open source"></category><category term="openoffice"></category></entry><entry><title>Print Accounting</title><link href="http://blog.jasonantman.com/2007/11/print-accounting/" rel="alternate"></link><updated>2007-11-27T00:51:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-11-27:2007/11/print-accounting/</id><summary type="html">&lt;p&gt;Since we moved into our apartment at the end of last summer, my
roommates and I have had a Brother &lt;span class="caps"&gt;5170DN&lt;/span&gt; monochrome laser in the
hallway as a communal printer. Last weekend, two new printers arrived -
I got a Xerox DocuPrint N4525 - a big surplus student lab printer that
handles paper up to 11x17&amp;#8221; and print rates of up to 45 &lt;span class="caps"&gt;PPM&lt;/span&gt;. My roommates
picked up a (free!) &lt;span class="caps"&gt;HP&lt;/span&gt; Color LaserJet 4500. So, I decided that I want
accounting of who prints what on each&amp;nbsp;printer.&lt;/p&gt;
&lt;p&gt;I setup a Dell PowerEdge 650 running openSuSE 10.3, Xen and 2 NICs, one
on our main network and one with a static &lt;span class="caps"&gt;IP&lt;/span&gt; in a separate subnet hooked
up to a small 5-port switch. I setup a Xen &lt;span class="caps"&gt;VM&lt;/span&gt; (also openSuSE 10.3) to
act as a &lt;span class="caps"&gt;CUPS&lt;/span&gt; server. I then installed
&lt;a href="http://www.pykota.com/software/tea4cups"&gt;tea4cups&lt;/a&gt; which allows
outgoing &lt;span class="caps"&gt;CUPS&lt;/span&gt; jobs to be read via a pseudo-backend while they&amp;#8217;re
processing. tea4cups calls some &lt;span class="caps"&gt;PHP&lt;/span&gt; scripts that update a MySQL database
with job information, including page counts and ink coverage amounts
calculated by &lt;a href="http://www.pykota.com/software/pkpgcounter"&gt;pkpgcounter&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This is all done with a kludge of custom scripts, which I&amp;#8217;ll put in my
&lt;span class="caps"&gt;CVS&lt;/span&gt; repo (and comment on here) sometime this&amp;nbsp;week.&lt;/p&gt;
&lt;p&gt;I did run into two problems. First, I had issues with getting tea4cups
to run at all. After googling a bit, I read about people having problems
with tea4cups and SELinux. Sure enough, I disabled AppArmor and all went
back to normal. Also, I later had some problems trying to perform ink
accounting on a color printer. After some investigation, I also found
out that GhostScript 8.15 is buggy and will cause problems with
pkpgcounter. I upgraded to the 8.60 RPMs and all was&amp;nbsp;well.&lt;/p&gt;
&lt;p&gt;The whole project is still in the works, but when finished I should have
a system that will keep track of all printing in the apartment by
username and &lt;span class="caps"&gt;IP&lt;/span&gt;, and track the page count, paper size, color or B&amp;amp;W,
resolution, and ink coverage percentage (both for grayscale and &lt;span class="caps"&gt;CMYK&lt;/span&gt; or
&lt;span class="caps"&gt;RGB&lt;/span&gt; individually). I know it&amp;#8217;s overkill - all I want to really know is
enough data to fairly split the costs of paper, toner, etc. - but I
thought it would be a fun&amp;nbsp;project.&lt;/p&gt;
&lt;p&gt;I originally thought about using
&lt;a href="http://www.pykota.com/software/pykota"&gt;PyKota&lt;/a&gt; for the accounting, but
found it to be way too heavy-weight. My current kludge, done up in one
night (before writing an essay), is based on &lt;span class="caps"&gt;CUPS&lt;/span&gt; and tea4cups, which
calls &lt;span class="caps"&gt;PHP&lt;/span&gt; backend prehooks and posthooks, which in turn make use of a
few pre-written python and perl scripts that deal with querying
information from the printer (&lt;span class="caps"&gt;IPP&lt;/span&gt;) and local&amp;nbsp;files.&lt;/p&gt;
&lt;p&gt;All in all, for something that didn&amp;#8217;t exist 24 hours ago, I think it&amp;#8217;s
working pretty well so&amp;nbsp;far.&lt;/p&gt;</summary></entry><entry><title>Open Letter to Facebook and Mark Zuckerberg</title><link href="http://blog.jasonantman.com/2007/11/open-letter-to-facebook-and-mark-zuckerberg/" rel="alternate"></link><updated>2007-11-22T20:59:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-11-22:2007/11/open-letter-to-facebook-and-mark-zuckerberg/</id><summary type="html">&lt;p&gt;I sent the following as (appropriately enough) a Facebook message to
Mark&amp;nbsp;Zuckerberg:&lt;/p&gt;
&lt;p&gt;Dude, I know you&amp;#8217;re a big-shot, but I thought I&amp;#8217;d give this a try, just
giving you (and the Facebook team) some&amp;nbsp;feedback.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m growing so frustrated with facebook that I&amp;#8217;m thinking of writing my
own alternative. If only I could get people to use&amp;nbsp;it&amp;#8230;.&lt;/p&gt;
&lt;p&gt;The Facebook that I first signed up for (the first day I got my college
e-mail address in July &amp;#8216;05) was prefect. I could find pretty much anyone
in any of my classes. I could talk to pretty much anyone at my school,
or most other schools. Most importantly, it was a place to get things
done and connect. It was free of the pressure of overbearing commercial
influence. It was a place where college kids - and only college kids -
could&amp;nbsp;connect.&lt;/p&gt;
&lt;p&gt;My suggestion, my plea, is to give us back the old Facebook, or at least
the option to use the old Facebook. The Facebook &lt;span class="caps"&gt;API&lt;/span&gt; was nice, but some
things don&amp;#8217;t work for it. You took away Courses. Now I can&amp;#8217;t find people
in my classes, because there are six different applications, each of
which needs to be added separately, and some of which work horribly or
not at all. I don&amp;#8217;t want all of that junk. I don&amp;#8217;t want to see a million
boxes with kid-looking drawings and zombies and pirates on someone&amp;#8217;s
profile. If I wanted to use MySpace, I&amp;#8217;d use&amp;nbsp;MySpace!&lt;/p&gt;
&lt;p&gt;Newsfeeds. I don&amp;#8217;t want to know who is trying to turn my friends into a
Zombie or a Warewolf, or something else moronic. Put an option on the
preferences page to get rid of everything through the Facebook &lt;span class="caps"&gt;API&lt;/span&gt;. I
only want to know about stuff that was in the &amp;#8216;Classic&amp;nbsp;Facebook&amp;#8217;.&lt;/p&gt;
&lt;p&gt;What the f*** is up with the advertisements in my homepage/news
display? You&amp;#8217;ve already got banners at the left, right, or bottom. Leave
the center panel for the content that I &lt;span class="caps"&gt;WANT&lt;/span&gt;. You can shoves ads
everywhere else on the page, but don&amp;#8217;t mix an ad for Differin Gel in
with news about my&amp;nbsp;friends.&lt;/p&gt;
&lt;p&gt;Make networks more opaque. I only want to know about people who are in
colleges or workplace-related networks. Maybe, and that&amp;#8217;s just a maybe,
high-school people. but in my opinion, opening Facebook to anyone with
an email address was the worst move you ever&amp;nbsp;made.&lt;/p&gt;
&lt;p&gt;So, my suggestions?&lt;br /&gt;
1) The &amp;#8220;courses&amp;#8221; feature has fragmented way too much. Unify it on a
school-by-school or Facebook-wide basis. I don&amp;#8217;t want to search 10 &lt;span class="caps"&gt;API&lt;/span&gt;
apps to find someone in my class.&lt;br /&gt;
2) Let me choose whether or not to display Facebook &lt;span class="caps"&gt;API&lt;/span&gt; notices in my
minifeed page. I don&amp;#8217;t want to know about every time my friends use an
&lt;span class="caps"&gt;API&lt;/span&gt; app.&lt;br /&gt;
3) Take Facebook &lt;span class="caps"&gt;API&lt;/span&gt; stuff off of profile pages. A standardized view is
easy, intuitive, and quick. Searching through a mile-long profile just
to find the Personal Info area is not good.&lt;br /&gt;
4) Bring back a college- or workplace-centric facebook.&lt;br /&gt;
5) Don&amp;#8217;t try to be MySpace. I stopped using them because of clutter and
annoying extensions. Now Facebook is doing the same thing.&lt;br /&gt;
6) Keep advertisements on the sides or bottom and, most importantly, out
of content&amp;nbsp;areas.&lt;/p&gt;
&lt;p&gt;The bottom line - Facebook used to care about users and communication.
Now you just care about profits and advertisers. If you don&amp;#8217;t want to
lose traffic when something better comes along, give Facebook back to
the&amp;nbsp;people!&lt;/p&gt;</summary></entry><entry><title>New Project, Thoughts on Development</title><link href="http://blog.jasonantman.com/2007/11/new-project-thoughts-on-development/" rel="alternate"></link><updated>2007-11-19T23:49:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-11-19:2007/11/new-project-thoughts-on-development/</id><summary type="html">&lt;p&gt;I know I don&amp;#8217;t update anywhere near often enough - then again, I update
a lot more here than I do on my Sun blog. But I&amp;#8217;ll do better, I promise
- and I&amp;#8217;ll setup a new template, too. Maybe&amp;nbsp;tonight.&lt;/p&gt;
&lt;p&gt;So I was just thinking about my software development - about how many
projects that I never finished, or never even started. And it got me
thinking. When Rutgers laid off all of us part-time programmers and I
was given a few choices for a new job, I chose tech support for student
labs and classroom connectivity. Why? Obviously I&amp;#8217;m not going to learn
much. But I like putting out fires. I like solving problems. More
importantly, and more of an issue when I try to write software, I like
meeting a list of minimum requirements and just doing that. I love
solving problems and I love making things work. On the other hand, at
least when it comes to open-source (and no-cost/no-pay) projects, I have
serious problems with motivation. Or, should I say, I get a project to
do what I need, and I abandon&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;I guess I should print some sort of warning on my project pages. Or, I
should be happy that F/&lt;span class="caps"&gt;OSS&lt;/span&gt; is getting as popular as it is. Even among
people who don&amp;#8217;t know what it&amp;#8217;s about. I&amp;#8217;ve been getting endless emails
about my &lt;a href="http://www.php-ems-tools.com"&gt;&lt;span class="caps"&gt;PHP&lt;/span&gt; &lt;span class="caps"&gt;EMS&lt;/span&gt; Tools.&lt;/a&gt; I&amp;#8217;ve marked it
as beta. The readme and the extensive docs make it clear that it&amp;#8217;s not a
finished work that&amp;#8217;s suitable for everyone. I make it clear that I don&amp;#8217;t
do tech support for Windows, as I know nothing about it. Yet, it seems
that finding a project on SourceForge or Google is wonderfully easy, yet
it&amp;#8217;s easier to just e-mail the developer than take the time to read the
docs. I mus say, though, that when I download something on SourceForge,
especially something that isn&amp;#8217;t marked with a complete/stable status, I
fully expect to spend a few hours playing with the source before getting
it up and&amp;nbsp;running.&lt;/p&gt;
&lt;p&gt;Anyway, I don&amp;#8217;t look at my lack of follow-through as a horrible thing. I
have a problem. There&amp;#8217;s nothing else out there that even begins to solve
it. So, I write something that solves my problem. The next time someone
has the problem, they can use my code. If I didn&amp;#8217;t carry it far enough,
they can pick up where I left off. When they get it where they want it,
they can send their changes back to&amp;nbsp;me.&lt;/p&gt;
&lt;p&gt;Lately, I&amp;#8217;ve been reading a great book - &amp;#8220;&lt;a href="http://search.barnesandnoble.com/booksearch/isbnInquiry.asp?z=y&amp;amp;EAN=9780141000510&amp;amp;itm=1"&gt;Hackers: Heros of the
Computer
Revolution&lt;/a&gt;&amp;#8221;
by Steven Levy. There&amp;#8217;s some really great reading about the good &amp;#8216;ol
days at the &lt;span class="caps"&gt;MIT&lt;/span&gt; &lt;span class="caps"&gt;AI&lt;/span&gt; lab, and the Homebrew Computer Club and the
beginnings of &lt;span class="caps"&gt;PC&lt;/span&gt;&amp;#8217;s (the Altair). And there&amp;#8217;s a lot of commentary about
&lt;a href="http://en.wikipedia.org/wiki/Hacker_ethic"&gt;The Hacker Ethic&lt;/a&gt; - a
definite forerunner to the Free Software/Open Source movement. Most
specifically, the idea of software belonging to the people, of source
code being open and freely distributed for the good of everyone. And it
really gets me thinking. People sometimes ask me why I don&amp;#8217;t sell the
software I write. Why should I? I&amp;#8217;m not writing it for a client, I&amp;#8217;m not
getting paid to write it. I&amp;#8217;m writing it for me. It seems *wrong* not
to let others benefit from my work. And even if I was writing it for a
client, why not give it away to others? Many people might not, but I&amp;#8217;d
give paying clients a break if they agreed to &lt;span class="caps"&gt;GPL&lt;/span&gt; the&amp;nbsp;code.&lt;/p&gt;
&lt;p&gt;Anyway, for a while I&amp;#8217;ve been trying to find software that will run on
Linux to draw network maps. The networks at my house and apartment have
gotten complex enough that it&amp;#8217;s hard to hold everything in my mind. I
made an attempt to draw a map in Dia and Kivio, but they just didn&amp;#8217;t cut
it - all of that manual updating. So I wrote a little &lt;span class="caps"&gt;PHP&lt;/span&gt; script that
uses Imagick (the &lt;span class="caps"&gt;PHP&lt;/span&gt; wrapper to ImageMagick) to generate network maps.
It takes a simple &lt;span class="caps"&gt;XML&lt;/span&gt; files, one per host, to define devices and
connections. It outputs a nice &lt;span class="caps"&gt;PNG&lt;/span&gt; map, defaulting to 800x800 pixels,
but can be scaled up large enough to print on a 36&amp;#8221; wide plotter. Code
can be accessed through &lt;span class="caps"&gt;CVS&lt;/span&gt;
&lt;a href="http://cvs.jasonantman.com/cgi-bin/viewvc.cgi/cvs/misc-scripts/networkMap/"&gt;here&lt;/a&gt;.
It&amp;#8217;s not an official release so the docs aren&amp;#8217;t complete, but there are
ample comments in the code and sample config files. Most importantly,
it&amp;#8217;s all wraped up in one &lt;span class="caps"&gt;PHP&lt;/span&gt; function, so generating a map (once you&amp;#8217;ve
generated &lt;span class="caps"&gt;XML&lt;/span&gt; config files) is as simple as including a &lt;span class="caps"&gt;PHP&lt;/span&gt; file and
calling one&amp;nbsp;function.&lt;/p&gt;</summary></entry><entry><title>Solaris, Linux News</title><link href="http://blog.jasonantman.com/2007/11/solaris-linux-news/" rel="alternate"></link><updated>2007-11-14T14:33:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-11-14:2007/11/solaris-linux-news/</id><summary type="html">&lt;p&gt;Well, I&amp;#8217;ve been pretty busy lately, between school work and work for Sun
and Rutgers. Rutgers seems to be planning a new student lab, so I&amp;#8217;ll
probably have a hand in that. And I&amp;#8217;m now doing troubleshooting and
on-site support for RUwired and the Smart Classrooms. It&amp;#8217;s a big step
down from programming web apps, but quite refreshing to have a job that
gets me out of the dungeon now and&amp;nbsp;then.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m also planning my first tech demo as the Sun Campus Ambassador, which
will tentatively be held on December 4th at the
&lt;a href="http://ruslug.rutgers.edu"&gt;&lt;span class="caps"&gt;RUSLUG&lt;/span&gt;&lt;/a&gt; meeting. Stay tuned for&amp;nbsp;more.&lt;/p&gt;
&lt;p&gt;In other news, unfortunately, I haven&amp;#8217;t gotten my surplus from Rutgers
yet. I&amp;#8217;m sitting here in my cube, staring at a pile of equipment with
nowhere to go. I just hope that this works out next week so I&amp;#8217;ll have
some time to play around on Thanksgiving&amp;nbsp;weekend.&lt;/p&gt;
&lt;p&gt;Anyway, I was reading an
&lt;a href="http://blogs.zdnet.com/hardware/?p=926"&gt;article&lt;/a&gt; that I saw on Digg
about WalMart&amp;#8217;s $200 Linux-based computer. What a great idea.
Admittedly, I shop at WalMart now and then (well, I&amp;#8217;m in college) and
one line got me a bit:&lt;br /&gt;
&amp;#8220;The gPC is built using tiny components, but put inside a full-size case
because research indicates that Wal-Mart shoppers are so unsophisticated
they equate physical size with capability.&amp;#8221;&lt;br /&gt;
Though I&amp;#8217;ll admit that it&amp;#8217;s probably true. The author seemed to think
that Linux may have found its&amp;#8217; niche, and was even bold enough to say
that, &amp;#8220;While the price of hardware has fallen dramatically, the price of
Windows hasn’t. This could be Microsoft’s Achilles’ Heel.&amp;nbsp;&amp;#8221;&lt;/p&gt;
&lt;p&gt;Well, ahmen. I&amp;#8217;ve been mentioning that for quite a while now, as many
others have. We&amp;#8217;ve reached the point where Microsoft Windows and
Microsoft Office is considerably more expensive than the computer that
they run on. OEMs like Dell are selling Linux-based PCs (granted they
aren&amp;#8217;t really advertising them, and I didn&amp;#8217;t see any mention of them
when I glanced through their Home/Home Office lineup), and even WalMart
is selling Linux-based systems. What I wonder, though, is how long it
will take mainstream consumers to look at two shiny little CDs,
befuddled that they cost more than a whole computer, and wonder what
other options there&amp;nbsp;are.&lt;/p&gt;
&lt;p&gt;To go off on a tangent for a moment, yesterday I took delivery of a
beautiful Wastern Digital My Book external hard drive. It&amp;#8217;s the first
one I&amp;#8217;ve bought in almost three years, since my LaCiE (&lt;span class="caps"&gt;F.A.&lt;/span&gt; Porsche
design) disk croaked on me and took 100 &lt;span class="caps"&gt;GB&lt;/span&gt; of photo scans with it. This
one, a My Book Premium &lt;span class="caps"&gt;ES&lt;/span&gt;, is a 500 &lt;span class="caps"&gt;GB&lt;/span&gt; disk in a 3-pound-ish box, which
cost $150 with shipping. I remember the first time I saw a writable &lt;span class="caps"&gt;DVD&lt;/span&gt;,
when I was doing an internship in video postproduction. They kept the
blanks locked up. I don&amp;#8217;t think I ever would have imagined paying $150
to have half a terabyte in the palm of my hand. Anyway, the great thing
about this model is that it has a 3.0 Gbps eSATA connector, so it can
easily be used as *fast* exteral storage. So, once I got it, I set
about backing up my laptop. Hopefully by this time tomorrow, I&amp;#8217;ll have a
laptop that dual-boots openSuSE 10.1 (pure 64-bit) and OpenSolaris &lt;span class="caps"&gt;SXDE&lt;/span&gt;&amp;nbsp;9/07.&lt;/p&gt;
&lt;p&gt;Back on topic, I&amp;#8217;m totally enthused that Linux is finally making headway
in the desktop market. However, a few minutes ago, sitting here at my
desk, I was struck with panic. The same type of panic that would hit a
driving instructor if he sent his student out in a car and then realized
the poor kid didn&amp;#8217;t know there was a brake. Linux is a multi-user
operating system. At its&amp;#8217; heart, it&amp;#8217;s designed to be a server-bound
Unix. And all of a sudden it struck me that people are downloading
Ubuntu or some other easy-to-use distro, and nobody told them where the
brake&amp;nbsp;is!&lt;/p&gt;
&lt;p&gt;I doubt that most new Linux users know what I (or any experienced user)
take(s) for granted. I&amp;#8217;d hope that Ubuntu doesn&amp;#8217;t enable &lt;span class="caps"&gt;SSH&lt;/span&gt; by default,
but I don&amp;#8217;t know. But, realistically, how people who &amp;#8220;try&amp;#8221; Ubuntu
because it&amp;#8217;s &amp;#8220;free&amp;#8221; (as in free beer) understand administration and
security of Linux systems? If they run &lt;span class="caps"&gt;SSH&lt;/span&gt;, do they know to run
something like &lt;a href="http://denyhosts.sourceforge.net/"&gt;denyhosts&lt;/a&gt;? Do they
even know what system logs are or where they are found, let alone check
them? Do they understand file checksumming, and something like
&lt;a href="http://sourceforge.net/projects/tripwire/"&gt;Tripwire&lt;/a&gt;? More importantly,
do they understand the power of their system, and how much it could do
without their&amp;nbsp;knowledge?&lt;/p&gt;
&lt;p&gt;Many security experts have conjectured that the lack of Linux viruses is
simply because Linux has such a low market share. However, with no user
education, imagine how simple a &amp;#8220;virus&amp;#8221; could be. And how devastating.
Let&amp;#8217;s glance by the fact that Windows has poisoned Linux users. Most
Windows users are used to clicking &amp;#8220;ok&amp;#8221; to everything that pops up. So,
when Linux asks them for a root password to install software, or perform
some other action, the default reaction will probably be to do it. After
all, if the &lt;span class="caps"&gt;OS&lt;/span&gt; wants it, it should be done. Let&amp;#8217;s not even think of
those Linux distros that totally disregard root and give the user root
privileges - the designers aimed to get rid of the security advantages
of a Unix-like &lt;span class="caps"&gt;OS&lt;/span&gt;, and did so&amp;nbsp;perfectly.&lt;/p&gt;
&lt;p&gt;Surely, Linux security will improve in ways that are easier for novices
to understand. File permissions should be checked by a scrpit, as well
as checksums, system logs, etc. and it can all be tied up in a simple
interface. But, let&amp;#8217;s think about this for a minute. Digg ran an article
at the end of last year claiming 8 Million Ubuntu users. Let&amp;#8217;s say that
only a million of them are complete novices. How many of them, do you
think, would think twice if they got an email or went to a web page
(that looked &amp;#8220;official&amp;#8221;) that asked them to download and run a script in
order to update something. Or just a popular web site that asked them to
download some package or file and run it, in order to be able to view
some content? It&amp;#8217;s only one line in cron to start a DDoS attack. Maybe
two&amp;nbsp;lines.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m all for Linux moving to the desktop. Paying more for an &lt;span class="caps"&gt;OS&lt;/span&gt; than you
paid for the computer is just insanity. Paying for any software when
there&amp;#8217;s a prefectly good free alternative isn&amp;#8217;t too smart. And, for the
majority of casual computer users, a Linux-based system would work
perfectly - not to mention the stability and lack of frustration from
BSODs, etc. But before this happens, there needs to be a community
effort to educate new users about security, about the differences
between Linux and Windows (or Mac), and about what is &amp;#8220;bad&amp;#8221; (malicious,
just out of place, etc.). Most of all, there needs to be a concerted
effort to develop all-in-one security tools that monitor logs,
filesystems, system files, installed packages, permissions, etc. and
present them in a simple, user-friendly manner (i.e. this is wrong, the
system thinks it should be this, click for more information or click to
fix it - and, of course, an easy way to rollback changes. ). Perhaps
most important for new users, and ease-of-use, is a way to track these
changes based on what package initiates&amp;nbsp;them.&lt;/p&gt;
&lt;p&gt;If you haven&amp;#8217;t tried Linux, give it a shot. It doesn&amp;#8217;t cost anything,
it&amp;#8217;s secure, stable, and fast, it runs on half the machine that Vista
needs, and best of all, it promotes Free Software (&amp;#8220;open source&amp;#8221;) which,
after all, is in the interest of everyone who uses a computer.
&lt;a href="http://www.ubuntu.com"&gt;Ubuntu&lt;/a&gt; will even mail you a &lt;span class="caps"&gt;CD&lt;/span&gt; for free! If
you&amp;#8217;re not ready to give up Windows, download
&lt;a href="http://www.openoffice.org"&gt;OpenOffice&lt;/a&gt;. And, if you&amp;#8217;re already a Linux
guru, have a look at &lt;a href="http://www.opensolaris.org"&gt;OpenSolaris&lt;/a&gt; - if
you&amp;#8217;re a developer or a SysAdmin, you&amp;#8217;ll thank me for suggesting it (and
Sun will mail you a free &lt;span class="caps"&gt;CD&lt;/span&gt; or &lt;span class="caps"&gt;DVD&lt;/span&gt;, too!). They even have LiveCD Solaris&amp;nbsp;versions.&lt;/p&gt;</summary></entry><entry><title>Updates, SuSE Online Update Issues</title><link href="http://blog.jasonantman.com/2007/11/updates-suse-online-update-issues/" rel="alternate"></link><updated>2007-11-01T15:29:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-11-01:2007/11/updates-suse-online-update-issues/</id><summary type="html">&lt;p&gt;It&amp;#8217;s been way too long since I&amp;#8217;ve posted an update. But I haven&amp;#8217;t been
doing nothing. In fact, I&amp;#8217;ve been quite busy - and not just with school
and Sun and the Rutgers job. So, I&amp;#8217;ll go through a few of the happenings
of the past few&amp;nbsp;weeks.&lt;/p&gt;
&lt;h2 id="machine-online-update-problems"&gt;Machine &lt;span class="amp"&gt;&amp;amp;&lt;/span&gt; Online Update&amp;nbsp;Problems.&lt;/h2&gt;
&lt;p&gt;First, I lost two machines. About a month ago, my main
storage machine (&lt;span class="caps"&gt;STOR1&lt;/span&gt;) running a 6-disk &lt;span class="caps"&gt;SCSI&lt;/span&gt; array of 18.2-Gb disks in
&lt;span class="caps"&gt;RAID&lt;/span&gt; 0+1 lost two disks in an hour. Strange. Next time I was home, I
pulled the two bad disks (bringing it down to 4 disks total), put
OpenSuSE 10.1 back on it (10.2 won&amp;#8217;t play well with my old Compaq &lt;span class="caps"&gt;RAID&lt;/span&gt;
controllers - the machine is a G1 Proliant &lt;span class="caps"&gt;ML370&lt;/span&gt;) and installed Bacula.
I&amp;#8217;m happy to say that after a weeks&amp;#8217; worth of work, I have Bacula
working and backing up 3 machines locally. Unfortunately, I have two
machines - my mail and &lt;span class="caps"&gt;SSH&lt;/span&gt; server and my storage server with a 250Gb &lt;span class="caps"&gt;IDE&lt;/span&gt;
drive - that were running SuSE 9.3 (still!). They wouldn&amp;#8217;t take Bacula
from &lt;span class="caps"&gt;RPM&lt;/span&gt; or source, as the director (&lt;span class="caps"&gt;STOR1&lt;/span&gt;) was running Bacula 2.x and
the only RPMs available were 1.x. I attempted an Online Update through
YaST/YoU. Well, wouldn&amp;#8217;t you know, it ran, it updated, and the whole
system broke. I mean gone. I couldn&amp;#8217;t run *any* command in the shell,
at all, because - you guessed it - YoU updated glibc. To a much newer
version, and pretty much everything was linked to the old version. I
couldn&amp;#8217;t even &amp;#8220;exit&amp;#8221; to end my&amp;nbsp;session.&lt;/p&gt;
&lt;p&gt;Well, luckily, I had data on the 250-Gb disk and everything else on a
10Gb, so next time I was home, I put OpenSuSE 10.2 on the box, and I now
have a 250Gb Bacula storage target on the network. Maybe I&amp;#8217;ll even
upgrade to Gig-E sometime soon to speed up those slow weekly full&amp;nbsp;backups.&lt;/p&gt;
&lt;h2 id="help-my-files-are-gone"&gt;Help, My files are&amp;nbsp;gone!&lt;/h2&gt;
&lt;p&gt;The big
storage box with the 250-Gb disk has been called &amp;#8220;janus&amp;#8221; for years,
since I called my do-everything-box &amp;#8220;saturn&amp;#8221; and the rest were Saturn&amp;#8217;s
moons. Since then, things have become complicated enough that I adopted
a functional naming convention, and the box became &amp;#8220;&lt;span class="caps"&gt;STOR2&lt;/span&gt;&amp;#8221; when I
re-installed the &lt;span class="caps"&gt;OS&lt;/span&gt;. Well, about a week later, I &lt;span class="caps"&gt;SSH&lt;/span&gt;&amp;#8217;d into saturn - a
10-year-old Gateway desktop,&amp;nbsp;40Gb&lt;/p&gt;
&lt;p&gt;&lt;span class="caps"&gt;HDD&lt;/span&gt;, 192Mb &lt;span class="caps"&gt;RAM&lt;/span&gt;, and a &lt;span class="caps"&gt;PII&lt;/span&gt;-350MHz processor - that now runs my mail
server and is my externally-visible box to &lt;span class="caps"&gt;SSH&lt;/span&gt; into. I ran &amp;#8220;ls&amp;#8221; in my
home directory, and got nothing. Nothing at all. It just hung there. I
exited and tried again. I tried as root. By then I had about a dozen &amp;#8220;D&amp;#8221;
state ls processes. I was stumped. I tried everything. My first thought
was a stale &lt;span class="caps"&gt;NFS&lt;/span&gt; mount, but I checked, and everything looked right. I
could ls portions, like &amp;#8220;ls a*&amp;#8221; and get good output. I could strace ls
and see all the right output. But I couldn&amp;#8217;t ls. Just the one directory
- not any subdirectories - but any user. I spent hours looking around,
to no avail. It wasn&amp;#8217;t until two nights ago - about a week into the
problem - that I finally gave up and rebooted to get rid of those
now-zombie processes. And, wouldn&amp;#8217;t you know, ls worked perfectly. Why?
Yeah, you probably guessed that, too. When I looked over fstab and
mount, everything looked normal - except that after two years, the
hostname &amp;#8220;janus&amp;#8221; looked perfectly correct to&amp;nbsp;me!&lt;/p&gt;
&lt;h2 id="rack"&gt;Rack.&lt;/h2&gt;
&lt;p&gt;After some discussion with
my roommates, last Friday night I found a 42U Compaq rack enclosure -
complete with wheels, door, and a side panel, on Craigslist from a
seller a few towns over. We all drove over in the truck and, $65 later,
we now have a 42U rack in the living room of our apartment. It&amp;#8217;s a thing
of beauty. We got it setup around 10:30 &lt;span class="caps"&gt;PM&lt;/span&gt;, and Joe and I were up until
6 &lt;span class="caps"&gt;AM&lt;/span&gt; the next morning bringing down the network, moving hardware to the
rack, re-cabling, and bringing everything back up. We did hit a few
snags - mainly because I demanded an &lt;span class="caps"&gt;IP&lt;/span&gt; switch from 192.168.0.xxx to
192.168.2.xxx so that I could easily setup a &lt;span class="caps"&gt;VPN&lt;/span&gt; from the IPcop firewall
at the apartment to its&amp;#8217; matching counterpart in my basement at home.
Well, things are still being added to the rack, but it&amp;#8217;s coming along
very&amp;nbsp;nicely.&lt;/p&gt;
&lt;p&gt;&lt;img alt="image" src="/GFX/rack1sm.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;The Rack&lt;/strong&gt; - (clockwise from top left) some ballast in the bottom (an
ancient Proliant 6000 with 12 or so &lt;span class="caps"&gt;SCSI&lt;/span&gt; disks and 3 power supplies, 3x
220MHz pentium, not running), 3 &lt;span class="caps"&gt;AM&lt;/span&gt; - Joe troubleshooting the IPcop box,
with the rack almost fully loaded, Soekris net4501 as a temporary
firewall/router (running m0n0wall), me in my new home&amp;#8230;err&amp;#8230;&amp;nbsp;rack.&lt;/p&gt;
&lt;h2 id="vpn"&gt;&lt;span class="caps"&gt;VPN&lt;/span&gt;.&lt;/h2&gt;
&lt;p&gt;The main impetus behind the
&lt;span class="caps"&gt;IP&lt;/span&gt; switch was my desire to have an IPsec &lt;span class="caps"&gt;VPN&lt;/span&gt; between home and the
apartment. Beyond ease of use, a good intranet, and the hope of being
able to &lt;span class="caps"&gt;SSH&lt;/span&gt; into my various&amp;nbsp;boxen&lt;/p&gt;
&lt;p&gt;without going through saturn, my one externally-visible &lt;span class="caps"&gt;SSH&lt;/span&gt; server, I
was also psyched about the idea of small backups with Bacula over the
&lt;span class="caps"&gt;VPN&lt;/span&gt;, and the hope of getting two Nagios boxes - one at each end - that
would work in concert. Well, of course, the subnet mask here is /22 and
everything at home is still /24, so it&amp;#8217;s going to take a bit of work
this weekend, but hopefully everything will come together well. Stay&amp;nbsp;tuned.&lt;/p&gt;
&lt;h2 id="pbx"&gt;&lt;span class="caps"&gt;PBX&lt;/span&gt;.&lt;/h2&gt;
&lt;p&gt;While I was working on &lt;span class="caps"&gt;VPN&lt;/span&gt;
stuff, Joe took it upon himself to forcibly commandeer one of my spare
boxes and setup
&lt;a href="http://www.trixbox.org/"&gt;Trixbox&lt;/a&gt; (formerly Asterisk @ Home) on the &lt;span class="caps"&gt;LAN&lt;/span&gt;. At the moment, we&amp;#8217;re
waiting for an &lt;span class="caps"&gt;FXO&lt;/span&gt; card to show up in the mail - and for the money to
get a few &lt;span class="caps"&gt;SIP&lt;/span&gt; phones for testing - but it looks like it&amp;#8217;ll all be up and
running, and we may even move over to VoIP in the apartment. To make
things better, we have Festival working, and I&amp;#8217;m well on my way to a
Nagios interface that will be able to dial an extension (or dial out)
and speak an&amp;nbsp;alert.&lt;/p&gt;
&lt;h2 id="conserver"&gt;Conserver.&lt;/h2&gt;
&lt;p&gt;A lot of stuff on the rack has serial console access - switches, IPcop, routers, development
stuff, and - hopefully soon - some Sun hardware. So, a terminal server
sounded great. After some research, I came up with two possibilities - a
&lt;a href="http://www.eng.auburn.edu/users/doug/console.html"&gt;page&lt;/a&gt; from 1998
giving an example of a kludge of a console server using &lt;span class="caps"&gt;GNU&lt;/span&gt; Screen, and
&lt;a href="http://www.conserver.com/"&gt;conserver&lt;/a&gt;, a purpose-built application that
can operate in a client-server model over the &lt;span class="caps"&gt;LAN&lt;/span&gt;, and also includes
good handling of locking on a per-user basis and console locking. I
planned two incarnations of the console server - the first and current
development machine is an ancient &lt;span class="caps"&gt;PII&lt;/span&gt; laptop with &lt;span class="caps"&gt;192MB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt;, &lt;span class="caps"&gt;CD&lt;/span&gt; drive,
10Gb &lt;span class="caps"&gt;HDD&lt;/span&gt;, networking, and serial and &lt;span class="caps"&gt;USB&lt;/span&gt; ports. I decided to give serial
to &lt;span class="caps"&gt;USB&lt;/span&gt; adapters a&amp;nbsp;shot.&lt;/p&gt;
&lt;p&gt;My first installation was &lt;a href="http://www.debian.org/"&gt;Debian&lt;/a&gt;-based, as
&lt;a href="http://www.opensuse.org/"&gt;OpenSuSE&lt;/a&gt; 10.2 won&amp;#8217;t load on such an old
machine. However, after grappling with learning a new distro, I opted to
reinstall with &lt;a href="http://www.centos.org/"&gt;CentOS&lt;/a&gt; 5.0, a much more natural
transition from SuSE. After installing CentOS, it only took me a few
hours to get everything humming away, and get conserver compiled,
installed, and running. Configuration is fairly simple though, on my
next box, I&amp;#8217;m going to have it install to the locations I&amp;#8217;m used to -
/bin instead of /usr/local/bin, etc. All in all, it seems to work well.
I didn&amp;#8217;t try networked mode, but it works beautifully by SSHing into the
box. It handles multiple users on the same console very well, shows the
status of the consoles, and allows stealing of locks. I&amp;#8217;m working on
writing a Nagios check script for it in Python, but be warned - a
console&amp;#8217;s &amp;#8220;up&amp;#8221; or &amp;#8220;down&amp;#8221; status is simply whether the port is open. You
can, obviously, pull the cable from the device and still see&amp;nbsp;&amp;#8220;up&amp;#8221;.&lt;/p&gt;
&lt;p&gt;The one issue with this kludgey test setup is that my &lt;span class="caps"&gt;USB&lt;/span&gt; serial
adapters seem to change device names on reboot. I currently have two,
and at the last reboot, /dev/ttyUSB0 and /dev/ttyUSB1 switched names
which created some confusion. When I get around to it, I plan on getting
a small, quiet, older (and cheap) 1U server with a &lt;span class="caps"&gt;PCI&lt;/span&gt; slot to serve as
the console server. I have a few spare Equinox breakout cables for
multiport serial cards, and I might be able to find and use a card that
they&amp;nbsp;fit.&lt;/p&gt;
&lt;h2 id="netra"&gt;Netra.&lt;/h2&gt;
&lt;p&gt;For a while, I&amp;#8217;ve been
wanting to try Solaris, and I can&amp;#8217;t think of a better way to do it than
buying some Sparc hardware, for the fun of it. Well, I found a Sun Netra
T1 on Ebay, 500MHz Sparc-&lt;span class="caps"&gt;II&lt;/span&gt;, 512Mb &lt;span class="caps"&gt;RAM&lt;/span&gt;, 40Gb &lt;span class="caps"&gt;HDD&lt;/span&gt; (&lt;span class="caps"&gt;SCSI&lt;/span&gt;) for $47 on Ebay,
and couldn&amp;#8217;t resist it. I ordered it Sunday night. Sure enough, Tuesday
afternoon, I get the following&amp;nbsp;E-Mail:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Hello,
This is Bcd-parts. we contact you because we make a mistake in this
item: 230185304870. we put it online but we sell it before, so we do not
have any of this item. I&amp;#8217;m apologize about this mistake, we will refund
the money as soon you respond back the email.
Thank&amp;nbsp;you!&amp;#8221;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Amazingly, I was able to resolve the issue that day, and the refund is
being processed. However, I don&amp;#8217;t have my&amp;nbsp;server!&lt;/p&gt;
&lt;h2 id="nagios"&gt;Nagios.&lt;/h2&gt;
&lt;p&gt;I&amp;#8217;m a big fan of
&lt;a href="http://www.nagios.org/"&gt;Nagios&lt;/a&gt;. I use it at home to monitor all of my
hosts, as well as some remote systems that I&amp;#8217;m responsible for. I make
heavy use of the check_by_ssh plugin, so that it doesn&amp;#8217;t require any
infrastructure past pubkey authentication for the Nagios user. Now that
I have a few systems running in the apartment also, once I get the &lt;span class="caps"&gt;VPN&lt;/span&gt;
setup, I&amp;#8217;ll be installing Nagios down here as well, and probably trying
to tackle the task of setting up the two servers to jive by passing
passive check results of the &lt;span class="caps"&gt;LAN&lt;/span&gt; hosts to each&amp;nbsp;other.&lt;/p&gt;
&lt;h2 id="print-quota"&gt;Print&amp;nbsp;Quota.&lt;/h2&gt;
&lt;p&gt;We have a shared
laser printer in the apartment, used by all five people living there.
It&amp;#8217;s a low-end Brother model. After a discussion one evening, I got very
interested in finding out how many pages each user is printing. The
built-in print server doesn&amp;#8217;t provide this functionality, nor does it
support &lt;span class="caps"&gt;JCL&lt;/span&gt;. So, I googled for a solution&amp;#8230; and, amazingly, didn&amp;#8217;t find
one. The most that I could find is that there are two big Unix-based
print quota packages, but both of them require a print server between
the network and the printer - an option that I may consider, but don&amp;#8217;t
really want to implement. I don&amp;#8217;t need the ability to deny printing, or
figure out how much toner is used, or anything fancy like that - I just
want to find out how many pages each user on a defined list&amp;nbsp;prints.&lt;/p&gt;
&lt;p&gt;After some brainstorming, I came up with an awful kludge that might
work. I wrote a Python script that screen-scrapes the print server&amp;#8217;s web
interface for the current lifetime page count and status. The concept is
essentially that I put a server on the network, and configure the switch
so that it is a monitor port for the printer. I then have access to the
printer&amp;#8217;s page count and all traffic to/from the printer. I&amp;#8217;ve
thought of two ways to get the page count of a&amp;nbsp;job:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Dump all of the &lt;span class="caps"&gt;TCP&lt;/span&gt; traffic to the printer. When a job starts, find
    the &lt;span class="caps"&gt;IP&lt;/span&gt; (and &lt;span class="caps"&gt;MAC&lt;/span&gt;?) that started it. Wait for it to finish. Wait a few
    seconds, check the printer status, if it&amp;#8217;s back to &amp;#8220;ready&amp;#8221;, get the
    page&amp;nbsp;count.&lt;/li&gt;
&lt;li&gt;Dump the traffic to the printer. Analyze all traffic to extract the
    print job information, and get the page count there. Then check
    against the printer&amp;#8217;s web interface (so we don&amp;#8217;t count pages when it
    ran out of paper or&amp;nbsp;jammed).&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Obviously, #2 is much more complex. However, #1 already is wrought
with edge cases - two users printing simultaneously, a paper jam that
causes the printer to wait (and the script times out and returns a page
count of 0), etc. We&amp;#8217;ll see where I get in designing a&amp;nbsp;solution.&lt;/p&gt;
&lt;p&gt;Once each job is complete, and we have a page count, we can put that
into a database with the date and time, page count, printer name (the
advantage to this is that it would theoretically support multiple
printers as long as it could see their traffic), client &lt;span class="caps"&gt;IP&lt;/span&gt; and &lt;span class="caps"&gt;MAC&lt;/span&gt;, and
client username (looked up from a table mapping &lt;span class="caps"&gt;IP&lt;/span&gt;/&lt;span class="caps"&gt;MAC&lt;/span&gt; to&amp;nbsp;username).&lt;/p&gt;
&lt;h2 id="surplus"&gt;Surplus&lt;/h2&gt;
&lt;p&gt;One of the wonderful
things about working for Rutgers is that they own millions of dollars of
computer equipment. Usually, it seems like when they&amp;#8217;re done with it, it
falls into a black hole of buybacks, trade-ins, and disposal. However,
it just so happened that my department has a lot of stuff they&amp;#8217;re
getting rid of, and I was able to work out an employee purchase before
it disappears. So, coming to a rack in my living room (or my basement at
home) is a Dell PowerEdge 2550, PowerEdge 650, two rackmount
monitor/keyboard/mouse units, a BackUPS Pro 1400 (no monitoring, but
better than nothing), a BayStack 350T-&lt;span class="caps"&gt;HD&lt;/span&gt; switch, a Xerox DocuPritn
N4525, and a few other goodies. I&amp;#8217;m already working on putting OpenSuSE
10.3 as Xen dom0 on the 650 and Solaris &lt;span class="caps"&gt;SXCE&lt;/span&gt; 11 (built 75) on the 2550.
We&amp;#8217;ll see what happens with it all&amp;nbsp;soon&amp;#8230;&lt;/p&gt;</summary></entry><entry><title>Blacklists, Network Performance, New Project, XKCD</title><link href="http://blog.jasonantman.com/2007/10/blacklists-network-performance-new-project-xkcd/" rel="alternate"></link><updated>2007-10-10T14:03:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-10-10:2007/10/blacklists-network-performance-new-project-xkcd/</id><summary type="html">&lt;p&gt;Part 2 of today&amp;#8217;s&amp;nbsp;thoughts&amp;#8230;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Blacklists, Blocking, Reverse-Validation&lt;/strong&gt; - Yes, they have some uses.
I use Daemon Synchronization in
&lt;a href="http://www.jasonantman.com/wiki/index.php/DenyHosts"&gt;DenyHosts&lt;/a&gt; and
plug-ins like Pyzor in SpamAssassin. However, I&amp;#8217;ve also been the victim
of blacklists, and the new Internet order, many times. There&amp;#8217;s a
conspiracy between ISPs - simply put, big ISPs want everyone else to use
big ISPs. I understand the logic behind reverse-validation. However, I
have a residential internet connection. I also run Linux. When I got
Verizon, I configured Postfix to deliver mail directly. Big mistake.
Most big email providers (&lt;span class="caps"&gt;AOL&lt;/span&gt;, &lt;span class="caps"&gt;MSN&lt;/span&gt;, probably Gmail too) will bounce back
e-mail that comes from a domain that doesn&amp;#8217;t reverse-validate. And since
Verizon owns my &lt;span class="caps"&gt;IP&lt;/span&gt;, despite the substantial sums of money they&amp;#8217;ve been
getting from me, my &lt;span class="caps"&gt;IP&lt;/span&gt; doesn&amp;#8217;t reverse-validate to my domain name. To
top it off, Verizon blocks the usual &lt;span class="caps"&gt;SMTP&lt;/span&gt; ports on residential
connections, so I can&amp;#8217;t have people send me e-mail either. Everything
needs to be relayed through Verizon. To add to the frustration, Verizon
blocks port 80 on my connection, so I&amp;#8217;m forced to serve my whole site on
an unused (and un-blocked) high-numbered port. And use
&lt;a href="http://www.dyndns.org"&gt;DynDNS.org&lt;/a&gt; to redirect to my dynamic &lt;span class="caps"&gt;IP&lt;/span&gt;. This
wouldn&amp;#8217;t be so much of an issue if I didn&amp;#8217;t know that some large
companies have firewalls configured to block &lt;span class="caps"&gt;HTTP&lt;/span&gt; requests *&lt;span class="caps"&gt;OUT&lt;/span&gt;* to
any non-default port. As a result, my own father can&amp;#8217;t view my web site
or blog from work. What ever happened to the little&amp;nbsp;guy?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Network Performance&lt;/strong&gt; - I know I have old computers and an old switch.
But there&amp;#8217;s something wrong when network file transfers crawl by at \~3
Mbps. I setup &lt;a href="http://sd.wareonearth.com/~phil/net/ttcp/"&gt;nttcp&lt;/a&gt; on two
of my machines to measure throughput, and was greeted with numbers in
the realm of 93-96 Mbps - what I&amp;#8217;d expect on a 100 Mpbs network.
However, a file transfer between these two machines barely scratched 8
Mpbs. Maybe GigE is the answer, but I&amp;#8217;ll be looking into the theory
behind this in the next few days - admittedly, I don&amp;#8217;t know much about
network performance, but I&amp;#8217;m willing to&amp;nbsp;learn&amp;#8230;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;New Project&lt;/strong&gt; - I&amp;#8217;ve started planning on a new project,
&lt;a href="http://www.openepcr.org"&gt;openEPCR&lt;/a&gt;. My &lt;a href="http://www.php-ems-tools.com"&gt;&lt;span class="caps"&gt;PHP&lt;/span&gt; &lt;span class="caps"&gt;EMS&lt;/span&gt;
Tools&lt;/a&gt; package for &lt;span class="caps"&gt;EMS&lt;/span&gt; and fire agencies
seems to be generating a lot of downloads (yet little community
interest), and I&amp;#8217;m now seriously thinking about the lack of a free,
open-source Electronic Patient Care Report package for the pre-hospital
care industry. A lot of these organizations are volunteer and operating
on limited budgets. Stay tuned&amp;#8230; all I&amp;#8217;ll say is that what I&amp;#8217;ve planned
is something that you&amp;#8217;d expect from me - open-source,
platform-independent, and geared towards limited hardware resources.
I&amp;#8217;ll probably be looking towards Java as a development platform, though
the interest generated in &lt;a href="http://gears.google.com/"&gt;Google Gears&lt;/a&gt; may
also pay off. Of course, there&amp;#8217;s no way I can do such an ambitious
project myself, so I&amp;#8217;m looking for developers to help&amp;nbsp;out.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Comic&lt;/strong&gt; - pretty much the only non-serious content in my Google Reader
account is &lt;a href="http://xkcd.com"&gt;&lt;span class="caps"&gt;XKCD&lt;/span&gt;.com&lt;/a&gt;. It&amp;#8217;s a great comic with
wonderful technical and geek humor. Today&amp;#8217;s
&lt;a href="http://xkcd.com/327/"&gt;comic&lt;/a&gt; was so good that I just had to include&amp;nbsp;it&amp;#8230;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://xkcd.com/327/"&gt;&lt;img alt="image" src="http://imgs.xkcd.com/comics/exploits_of_a_mom.png" /&gt;&lt;/a&gt;&lt;/p&gt;</summary><category term="bandwidth"></category><category term="blacklist"></category><category term="comic"></category><category term="epcr"></category><category term="firefox"></category><category term="java"></category><category term="openepcr"></category><category term="patient care report"></category><category term="pcr"></category><category term="php ems tools"></category><category term="reverse-validation"></category><category term="XKCD"></category></entry><entry><title>Website, Blog, Bacula</title><link href="http://blog.jasonantman.com/2007/10/website-blog-bacula/" rel="alternate"></link><updated>2007-10-10T13:35:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-10-10:2007/10/website-blog-bacula/</id><summary type="html">&lt;p&gt;&lt;strong&gt;Website&lt;/strong&gt; - In personal news, I&amp;#8217;ve finished migrating all of the
information content of &lt;a href="http://www.jasonantman.com"&gt;JasonAntman.com&lt;/a&gt; to
a wiki, based on &lt;a href="http://www.mediawiki.org"&gt;MediaWiki&lt;/a&gt;. I&amp;#8217;m still
getting some kinks ironed out, and working on customization, but it
seems to be coming along very well. It&amp;#8217;s wonderfully easy to update
information and to link between articles. Most of the content is more
like notes than articles, but I&amp;#8217;m trying to put most of my SysAdmin and
programming notes up there, both for my own future reference and that of
anyone who happens by the site. As always, though, some content will
just live its&amp;#8217; life as a blog entry, so I encourage searching of my blog
as well. This is my fourth instance of MeidaWiki, and while I haven&amp;#8217;t
set them up to play together, they all run wonderfully - and share a lot
of common configuration (though I have separate instances of the code).
Hopefully I&amp;#8217;ll do a bunch of reorganization of the wiki sometime, and
keep adding new content. Some of the newer pages include pages on
&lt;a href="http://www.jasonantman.com/wiki/index.php/DenyHosts"&gt;DenyHosts&lt;/a&gt; and
&lt;a href="http://www.jasonantman.com/wiki/index.php/Hpasm"&gt;&lt;span class="caps"&gt;HPASM&lt;/span&gt;&lt;/a&gt; (from my blog&amp;nbsp;post).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Blog&lt;/strong&gt; - I know the template is awful. It&amp;#8217;s on my list of things to
do, and should be at the top of the queue in approximately&amp;nbsp;2056.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Bacula&lt;/strong&gt; - Up to now, my backups have been a total kludge. The mere
explanation of this elicits a feeling of nausea. A shell script on my
backup storage server executes via cron. Each of the four important
servers on my network (mail, web, monitoring, and development) have
shell scripts that handle local backups - tar&amp;#8217;ing up a list of
directories, MySQL dumps, etc. - then tar gzip the whole thing and plop
it in a local directory. The backup server executes these scripts and
then copies the temporary files to its own disk via &lt;span class="caps"&gt;SCP&lt;/span&gt;. All of this is
handled through an &lt;a href="http://expect.nist.gov/"&gt;expect&lt;/a&gt; script, that runs
each server consecutively. By morning, I end up with a 6+ hour job
that&amp;#8217;s finished, and dumped gigs of files on the backup server. Before
finishing each machine, it deletes any backups on the backup server that
are older than 10 days. After copying everything, it deletes the
client&amp;#8217;s local copy. The bottom line is that if a machine goes down, I
can re-install the &lt;span class="caps"&gt;OS&lt;/span&gt; and all packages, and then have the backups of
just /etc and user data. Not beautiful. Even worse, my backup storage
server doesn&amp;#8217;t have a tape drive. When I get around to it, I run a
script on my development/storage box that copies the latest backups from
each machine, located on the backup server, to a tempdir and then writes
them to tape. To top it all off, I have only one network, so all of
these gigs of data are crawling across my ancient 10/100 switch, along
with all other connectivity to the outside&amp;nbsp;world.&lt;/p&gt;
&lt;p&gt;Unfortunately, it doesn&amp;#8217;t look like I&amp;#8217;ll have the money to upgrade to
Gig-E any time soon, even just for the 5 machines involved. More to the
point, there&amp;#8217;s no way that I&amp;#8217;ll have the money to buy a manageable Gig-E
switch that can come anywhere close to my &lt;a href="http://www.jasonantman.com/wiki/index.php/BayStack_450-24T"&gt;BayStack
450-24T&lt;/a&gt;.
So, it&amp;#8217;s time to invest&amp;#8230; well&amp;#8230; time&amp;#8230; in a good backup
infrastructure. After doing a lot of research, I came to two&amp;nbsp;findings:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The two main options seem to be &lt;a href="http://www.amanda.org/"&gt;&lt;span class="caps"&gt;AMANDA&lt;/span&gt;&lt;/a&gt; and
    &lt;a href="http://www.bacula.org/"&gt;Bacula&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;I don&amp;#8217;t like how &lt;span class="caps"&gt;AMANDA&lt;/span&gt;&amp;nbsp;works.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;So, I&amp;#8217;m going to give Bacula a shot. I did consult the
&lt;a href="http://www.sage.org/"&gt;&lt;span class="caps"&gt;SAGE&lt;/span&gt;&lt;/a&gt; mailing list for advice, and got some
recommendations for &lt;a href="http://backuppc.sourceforge.net/"&gt;BackupPC&lt;/a&gt;, but
Bacula seems to be more my type of thing. Well, I did an install, and
spent about 8 hours hacking around with the config files. No luck.
Bacula is designed to be highly modular and scalable, but to be honest,
I find the config files to be *very* complicated. Furthermore, I
wasn&amp;#8217;t able to find any good example configurations with documentation.
After brainstorming for a while (laying in bed watching Law &lt;span class="amp"&gt;&amp;amp;&lt;/span&gt; Order and
reading the Bacula docs on dead trees) I decided to give in - despite my
continued efforts to stop using it, I checked
&lt;a href="http://www.webmin.com"&gt;Webmin&lt;/a&gt; and, surely enough, they have a Bacula
module. After starting with fresh config files, I was able to get Bacula
up and running on my development/storage server (a fresh install of
openSuSE 10.1) as the director. I got a file daemon installed on the web
server. Everything looked&amp;nbsp;wonderful.&lt;/p&gt;
&lt;p&gt;The current status: My backup storage server does only that - storage of
backups. Nothing else. It&amp;#8217;s still running SuSE 9.3. The Bacula RPMs for
9.3 are from the 1.x tree, and all of my other machines are running
openSuSE 10.x, with Bacula 2.x. I gave it a shot but, sure enough, a
Bacula 2.x director won&amp;#8217;t jive with a 1.x storage daemon. And I&amp;#8217;m in
dependency hell - Bacula 2.x requires upgrades of everything from the C
libs all the way up. So, I&amp;#8217;m going to give a shot at an upgrade of the
storage machine via YaST, and see where I&amp;nbsp;get.&lt;/p&gt;</summary><category term="bacula"></category><category term="blog"></category><category term="jasonantman"></category><category term="mediawiki"></category><category term="wiki"></category></entry><entry><title>Microsoft, Sun, School News</title><link href="http://blog.jasonantman.com/2007/10/microsoft-sun-school-news/" rel="alternate"></link><updated>2007-10-10T00:38:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-10-10:2007/10/microsoft-sun-school-news/</id><summary type="html">&lt;p&gt;Well, I&amp;#8217;m currently applying to the &lt;a href="http://www.scils.rutgers.edu/information-technology-and-informatics-major/program-information.html"&gt;Information Technology and
Informatics
(&lt;span class="caps"&gt;ITI&lt;/span&gt;)&lt;/a&gt;
major at Rutgers. I&amp;#8217;m in my third year of college (transferred in from
&lt;a href="http://www.rit.edu"&gt;&lt;span class="caps"&gt;RIT&lt;/span&gt;&lt;/a&gt; after a trimester there freshman year. This
will also be my fourth prospective major - hopefully this one will
stick. If you&amp;#8217;re interested in the list, it was a trimester (10 weeks)
at &lt;span class="caps"&gt;RIT&lt;/span&gt; for Fine Art Photography (probably the most fun I ever had in
&amp;#8220;school&amp;#8221;), followed by the Rutgers list - a semester of general ed
requirements while thinking about Biological Sciences/Pre-Med, then a
realization and a &lt;span class="caps"&gt;CS&lt;/span&gt; major, a year of that and here I am at &lt;span class="caps"&gt;ITI&lt;/span&gt;. &lt;span class="caps"&gt;CS&lt;/span&gt; was
interesting, but it quickly became apparent that the curriculum was far
too low-level to hold my interest - my &lt;span class="caps"&gt;CS&lt;/span&gt; 102 (Intro to &lt;span class="caps"&gt;OOP&lt;/span&gt; / Java) and
103 (Data Structures) classes were interesting, but I kept wanting to
ask my profs why they wanted to fail me for saying that not every
program needs &lt;span class="caps"&gt;OOP&lt;/span&gt; (What? A 20-line shell script is bad because it&amp;#8217;s a
procedural language?), and couldn&amp;#8217;t cope with spending weeks on coding a
class to do X when I know that it;s already been done, been &lt;span class="caps"&gt;GPL&lt;/span&gt;&amp;#8217;d, and I
could study the code in a night and move on to a program that does
something. The list of higher-level courses didn&amp;#8217;t look much better.
&lt;span class="caps"&gt;ITI&lt;/span&gt;, on the other hand, has courses in Linux, e-Commerce, and
Information Security, not to mention management-related courses covering
legal aspects, &lt;span class="caps"&gt;HR&lt;/span&gt;, and &lt;span class="caps"&gt;IS&lt;/span&gt;&amp;nbsp;management.&lt;/p&gt;
&lt;p&gt;More to the point, we were given an assignment for a research project -
a paper that&amp;#8217;s supposed to convince the management of an organization
whether or not to adopt a &amp;#8220;new&amp;#8221; technology. Having a last name between
A-G (I love how professors randomly pick criteria) my assignment is
supposed to be directed towards an online university. We were given a
list of topics to choose from, including social networking sites such as
Second Life, My Space, etc., PIMs, search results visualization (i.e.
Grokker), and a few others. While I guess these are new technologies,
the topic that I chose (obviously not on the list) was &amp;#8220;The use of
self-healing technologies in service-oriented organizations&amp;#8221;. (Yes, I
was hoping that she grades by buzzword count, or at least number of
hyphenated words). I still have almost a week to write the paper, but
I&amp;#8217;m hoping to come up with some interesting stuff, including a whole
list of good research references, and lots of talk about &lt;span class="caps"&gt;LCFG&lt;/span&gt; and
cfengine. Stay tuned, maybe I&amp;#8217;ll end up finding something interesting.
The plus to this whole project is that I realized that as a Rutgers
student, I have access to the entire &lt;span class="caps"&gt;ACM&lt;/span&gt; and &lt;span class="caps"&gt;IEEE&lt;/span&gt; online archives, among
other cool&amp;nbsp;resources.&lt;/p&gt;
&lt;p&gt;The Sun Campus Ambassador year is starting to kick into gear. There&amp;#8217;s a
lot of hype about the new Sun developments such as the unification of
the Storage and Systems groups, the Microsoft deal (grimace), the
upcoming NetBeans 6.0 &lt;span class="caps"&gt;IDE&lt;/span&gt; release, the &lt;span class="caps"&gt;J2EE&lt;/span&gt; and &lt;span class="caps"&gt;J2ME&lt;/span&gt; programming
languages, etc. There&amp;#8217;s also a lot of boring administrative details,
like remembering to use the names of Sun technologies as adjectives not
nouns (something to do with trademarks that makes no sense to me). This
weekend will be full of organization and Sun training&amp;#8230; and hopefully,
plans to take Sun up on the employee discount for Solaris operating
system certification (&lt;span class="caps"&gt;SCSA&lt;/span&gt;/&lt;span class="caps"&gt;SCNA&lt;/span&gt;). Also of interest, I was asked to
complete a survey on the use of Sun technology on campus. I know that a
lot of the programming courses are Java-based, and I&amp;#8217;m sure that
NetBeans has a strong following. However, I&amp;#8217;m very interested in finding
out how well Solaris has penetrated the University environment (beyond
the fact that every student uses it for Email, Web, Portal, etc. without
knowing&amp;nbsp;it).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Now, something I wrote yesterday at&amp;nbsp;work:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;After having a Microsoft discussion with someone, I wanted to clear up
a few things related to my views on Microsoft. Mainly, that I don&amp;#8217;t have
an issue with Microsoft per se. I have issues with Microsoft&amp;#8217;s
policies, and Microsoft happens to be the most publicly visible company with such
policies. Some of these&amp;nbsp;Include:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The lack of software openness. Both the ethical implications of
   software that isn&amp;#8217;t &lt;a href="http://www.fsf.org"&gt;Free Software&lt;/a&gt;, and
   functional issues with software that I can&amp;#8217;t modify to do what I
    want, distribute to others, or (if I were a large corporation) have an
   independent company audit the source of for security risks. I want
   control of my software. Microsoft doesn&amp;#8217;t allow that. Moreover, I
    think
   that non-technical end users should have the option of having
    control
   over their software as&amp;nbsp;well.&lt;/li&gt;
&lt;li&gt;Software that is designed to a specific intended user, and can&amp;#8217;t be
   modified otherwise. Specifically, I&amp;#8217;m a technical person. I want
   software that&amp;#8217;s designed to be run on a network and an operating
    system
   that&amp;#8217;s designed to be administered from a graphical terminal in the
    next
   room, or over a text-based &lt;span class="caps"&gt;SSH&lt;/span&gt; session from hundreds of miles away.
    If I
   want to use the command line, I want to have that option. Basically,
    I
   want options. I don&amp;#8217;t want someone deciding that I&amp;#8217;m too stupid to
    use
   those options. Other users don&amp;#8217;t even need to know that a
    command-line
   is there, but I want to. And, more importantly, I don&amp;#8217;t believe
    that
   these options (such as *good* remote administration) should
    require
   expensive server&amp;nbsp;versions.&lt;/li&gt;
&lt;li&gt;I want an operating system that recognizes &lt;a href="http://www.fsf.org"&gt;Free
    Software&lt;/a&gt; and doesn&amp;#8217;t attempt to
   cripple&amp;nbsp;it.&lt;/li&gt;
&lt;li&gt;I&amp;#8217;m a programmer. I like standards. Things work because of
    standards.
   We can send e-mail and view web sites because of standards. I think
    that
   standards are good. And I like *one* set of standards which are
    accepted
   as best. All web browsers let you view web pages via &lt;span class="caps"&gt;HTTP&lt;/span&gt;. I think
    that
   document formats should have one standard. I think that standard
    should
   include, for anyone to use however they wish, all of the
    information
   needed to implement it. I don&amp;#8217;t want software that goes beyond a
   standard in undocumented ways. Almost all non-Microsoft browsers
    render
   &lt;span class="caps"&gt;HTML&lt;/span&gt; in pretty much the same way. Web designers that I know have
    two
   test systems - &lt;span class="caps"&gt;IE&lt;/span&gt; and not &lt;span class="caps"&gt;IE&lt;/span&gt;. They test their web page under Windows
    in
   &lt;span class="caps"&gt;IE&lt;/span&gt; to find out how it looks on &lt;span class="caps"&gt;IE&lt;/span&gt;. They test it on anything else to
    see
   how it looks in everything&amp;nbsp;else.&lt;/li&gt;
&lt;li&gt;I don&amp;#8217;t want a vendor telling me that I have to use their software.
    I
   don&amp;#8217;t want someone to tell me that their browser is *part* of my
   operating system. I want to be able to add and remove whatever
    software
   I want. And I want to be able to make it work. If need be, I want to
    be
   able to replace software with my own, or with something that I think
    is
   better. I want to be able to choose what gets installed on my
    computer,
   in a fine-grained level of accuracy, if I&amp;nbsp;want.&lt;/li&gt;
&lt;li&gt;I want proven security. And more importantly, I want to have
    control
   over the security. I want to be able to add third-party patches
    from
   organizations like the &lt;span class="caps"&gt;NSA&lt;/span&gt; to harden my security. And I want them
    to
   pervade every level of the system, not just userspace. I want to be
    able
   to add security fixes from anyone I want, and have anyone I want
    audit
   the&amp;nbsp;code.&lt;/li&gt;
&lt;li&gt;I want an operating system that&amp;#8217;s time-tested. I like seeing
   copyright notices that go back to the 1980s. The fact that an
    operating
   system has had multiple major redesigns in the past 10 years does
    not
   speak well for your code. Furthermore, I don&amp;#8217;t want to buy a
    product
   that comes in five versions, or however many there are of Windows
    now.
   I&amp;#8217;d be happy with Desktop and Server versions. Maybe even a third
   Development version. Anything more than that sends me the message
    that
   you&amp;#8217;re just trying to tax features and keep them out of the hands of&amp;nbsp;users.&lt;/li&gt;
&lt;li&gt;I don&amp;#8217;t want to be locked in to a vendor. Yes, this is a direct
   reference towards Free/Open Source Software. If your company goes
   bottom-up, or just decides that you don&amp;#8217;t care about what I want, I
   should be able to hire an independent programmer to maintain what
    you
   gave me, or make the changes that I want. More importantly, if you
   decide to stop supporting a product that I like, I want to be able
    to
   have someone else support it, possibly better than you&amp;nbsp;did.&lt;/li&gt;
&lt;li&gt;I don&amp;#8217;t want to buy from a company that actively engages in
    campaigns
   of &lt;span class="caps"&gt;FUD&lt;/span&gt; (fear, uncertainty, doubt). I want to buy from a company
    that
   respects their customers/users and their choices. I don&amp;#8217;t want a
    vendor
   that engages in scare tactics or buying up competitors and killing
    them
   off. I want a company that is nice to people. I don&amp;#8217;t want a
    company
   that threatens the the customers of their competitors with&amp;nbsp;lawsuits.&lt;/li&gt;
&lt;li&gt;I want to buy from a company that understands compatibility and
   strives for it. I don&amp;#8217;t want a company that tries to bury all
    mention of
   competing products. I want a vendor that can honestly admit that in
   certain cases their product X isn&amp;#8217;t as good as a competitor&amp;#8217;s
    product Y,
   but in many other cases it&amp;#8217;s better. I want a vendor that
    understands
   that I want to run operating systems W, X, Y, and Z and have them
    all
   work together, even if this vendor only sells&amp;nbsp;X.&lt;/li&gt;
&lt;li&gt;A vendor that I buy from will &lt;span class="caps"&gt;NOT&lt;/span&gt;, &lt;span class="caps"&gt;EVER&lt;/span&gt;, tell me tell me that I
    need
   a state-of-the-art system to run a desktop computer or a server.
    There
   is no reason at all why my mail server needs to run a &lt;span class="caps"&gt;GUI&lt;/span&gt;. More
   importantly, in 2007, there is absolutely no reason why my &lt;span class="caps"&gt;PHP&lt;/span&gt;
   development web server should have 1 Gb of &lt;span class="caps"&gt;RAM&lt;/span&gt; just to run the
    operating
   system. I&amp;#8217;m only coding some &lt;span class="caps"&gt;HTML&lt;/span&gt; form-based apps for a personal
    web
   site - there&amp;#8217;s no reason why I need more than 512 Mb to run a simple
    web
   server. Finally, and this is just a personal thing, but I like a
    vendor
   that understands students. I&amp;#8217;m in college. I want an operating
    system
   that will install, if not out-of-the-box then with some simple
   customization, on the type of computer that I&amp;#8217;d find at the&amp;nbsp;curb.&lt;/li&gt;
&lt;/ol&gt;</summary><category term="rutgers school iti it microsoft comparison sun solaris java"></category></entry><entry><title>Why Doesn’t it Just Work</title><link href="http://blog.jasonantman.com/2007/10/why-doesnt-it-just-work/" rel="alternate"></link><updated>2007-10-02T13:21:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-10-02:2007/10/why-doesnt-it-just-work/</id><summary type="html">&lt;p&gt;Well I just finished a healthy 2-hour session with &lt;a href="http://reader.google.com"&gt;Google
Reader&lt;/a&gt; and have a few things to comment on,
but at the moment, I just wanted to make a quick&amp;nbsp;post.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ve been using Linux for five years. I&amp;#8217;m in the process of planning to
move a lot of my servers and development systems to the openSolaris
operating system. Overall, I&amp;#8217;m a pretty technical person. While I admit
to occasionally using &lt;a href="http://www.webmin.com"&gt;Webmin&lt;/a&gt;, I&amp;#8217;m perfectly
comfortable editing the Apache config files by hand. That being said,
with all of the recent emphasis on Linux as a desktop machine (for end
users!) there are some things that I expect to &amp;#8220;just work&amp;#8221;. When I
upgraded for openSuSE 10.2, and now 10.&lt;span class="caps"&gt;3RC1&lt;/span&gt;, I expected some good
desktop technology - granted, openSuSE isn&amp;#8217;t the choice for a &amp;#8220;just
works&amp;#8221; end-user&amp;nbsp;desktop.&lt;/p&gt;
&lt;p&gt;One word. &lt;strong&gt;Printing.&lt;/strong&gt; Despite how I&amp;#8217;ve tried, I still can&amp;#8217;t get my
Linux boxen to print well. Printing a webpage from Firefox requires
endless tweaking of borders, margins, and other nasty stuff. If I happen
to be in a new location and print something, I grab a pen, as I know
that the headers and footer/last few lines of text on my web page will
be cut off, unless I&amp;#8217;ve tweaked the margins for the specific&amp;nbsp;printer.&lt;/p&gt;
&lt;p&gt;Why is this the case? Of all the things that people want Linux to do,
this seems like a simple one. The printable area of an 8 1/2x11&amp;#8221; piece
of paper is relatively standard. The actual printable margins for a
given printer are well known. So why is it the my &lt;span class="caps"&gt;HP&lt;/span&gt; LaserJet or my
roommate&amp;#8217;s Brother &lt;span class="caps"&gt;5500DN&lt;/span&gt; is such a mystery to&amp;nbsp;Linux?&lt;/p&gt;</summary><category term="linux suse printing"></category></entry><entry><title>Sun Blog</title><link href="http://blog.jasonantman.com/2007/10/sun-blog/" rel="alternate"></link><updated>2007-10-02T02:16:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-10-02:2007/10/sun-blog/</id><summary type="html">&lt;p&gt;Well, I&amp;#8217;ve created my official &lt;a href="http://blogs.sun.com/jantman/"&gt;Sun Microsystems
blog&lt;/a&gt; as Campus Ambassador for Rutgers
University. Not that I honestly think anyone reads the non-technical
blog entries here, but if you do, you may want to check out the Sun blog
as&amp;nbsp;well.&lt;/p&gt;
&lt;p&gt;Most of the Sun blog entries will probably have to do with Sun
technologies in education or at Rutgers, but when there is something of
interest to a more general audience, I&amp;#8217;ll be sure to post here as&amp;nbsp;well.&lt;/p&gt;
&lt;p&gt;In other news, I&amp;#8217;m really really busy lately, between Sun training, my
job (now doing hardware/lab support and some wireless work) for Rutgers,
and school. I have a really long list of things to do personally,
including buying some new systems to move my home/development network
over to the Solaris 10 operating system, getting a new template for this
blog, and wikifying all of my web sites (mostly those at
&lt;a href="http://www.jasonantman.com"&gt;jasonantman.com&lt;/a&gt;). To top it all off, my
truck was broken into this afternoon (broad daylight on a busy street)
while I was at class. The front passenger window was smashed in and my
Mio c310x &lt;span class="caps"&gt;GPS&lt;/span&gt; was stolen, so between the window and the &lt;span class="caps"&gt;GPS&lt;/span&gt;, I&amp;#8217;m a bit
behind where I&amp;#8217;d like to be in terms of&amp;nbsp;budget.&lt;/p&gt;</summary><category term="Sun Solaris Rutgers"></category></entry><entry><title>*nix</title><link href="http://blog.jasonantman.com/2007/09/nix/" rel="alternate"></link><updated>2007-09-28T13:22:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-09-28:2007/09/nix/</id><summary type="html">&lt;p&gt;First off, my Sun blog should be coming sometime this weekend/early next
week. If I post anything interesting there, I&amp;#8217;ll be sure to cross-post&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;This morning at work, while reading &lt;a href="http://digg.com"&gt;Digg&lt;/a&gt;, I came by
two interesting links that got me thinking:
&lt;a href="http://www.foogazi.com/2007/09/27/5-reasons-your-parents-should-use-linux/"&gt;5 Reasons Your Parents Should Use
Linux&lt;/a&gt;
and &lt;a href="http://warpedvisions.org/2006/12/30/ten-things-linux-distros-get-right-that-ms-doesnt/"&gt;Ten Things Linux Distros Get Right (That &lt;span class="caps"&gt;MS&lt;/span&gt;
Doesn&amp;#8217;t)&lt;/a&gt;.
Now, I&amp;#8217;ll admit, my *nix experience is pretty much limited to Linux.
I&amp;#8217;ve used &lt;span class="caps"&gt;BSD&lt;/span&gt; a few times, but only as pre-built images for embedded
systems like my &lt;a href="http://www.soekris.com"&gt;Soekris&lt;/a&gt; boxen. I&amp;#8217;ve used
Solaris mainly just as a user/web developer in &lt;span class="caps"&gt;SSH&lt;/span&gt; at work. And while I
now have a work computer running Solaris 10 and a &lt;span class="caps"&gt;SXDE&lt;/span&gt; image on my
laptop, I&amp;#8217;m still relatively new - and, given that I&amp;#8217;m now doing
hardware support and wireless work, I don&amp;#8217;t even know what I need
another machine in the office&amp;nbsp;for.&lt;/p&gt;
&lt;p&gt;That being said, the second link got me thinking. Specifically, about
something I read in &lt;a href="http://www.catb.org/~esr/writings/taoup/"&gt;The Art of Unix
Programming&lt;/a&gt; [Wikipedia] by
Eric S. Raymond (available online
&lt;a href="http://www.catb.org/~esr/writings/taoup/html/"&gt;here&lt;/a&gt;) with regards to
interface design. One quote that I was able to find in the online
version, comes from Chapter 11, under the subtitle &amp;#8220;Tradeoffs between
&lt;span class="caps"&gt;CLI&lt;/span&gt; and Visual Interfaces&amp;#8221;, &amp;#8220;Resistance to &lt;span class="caps"&gt;CLI&lt;/span&gt; interfaces tends to
decrease as users become more expert. In many problem domains, users
(especially frequent
users) reach a crossover point at which the concision and expressiveness
of &lt;span class="caps"&gt;CLI&lt;/span&gt; becomes more valuable than avoiding its mnemonic load. Thus, for
example, computing novices prefer the ease of &lt;span class="caps"&gt;GUI&lt;/span&gt; desktops, but
experienced users often gradually discover that they prefer typing
commands to a&amp;nbsp;shell.&amp;#8221;&lt;/p&gt;
&lt;p&gt;There is another similar
quote in the book, mentioning how resistance to the &lt;span class="caps"&gt;CLI&lt;/span&gt; drops as
&lt;em&gt;typing speed&lt;/em&gt;&amp;nbsp;increases.&lt;/p&gt;
&lt;p&gt;Unfortunately, in some areas I&amp;#8217;m still bound to Windows. Though my only
personal use for it is to control an ancient Umax Mirage IIse &lt;span class="caps"&gt;SCSI&lt;/span&gt;
scanner (with only Windows and Mac drivers), I ultimately need to touch
it now and then - whether on my mother&amp;#8217;s box (she claims she has to have
Windows and &lt;span class="caps"&gt;MS&lt;/span&gt; Office because &amp;#8220;that&amp;#8217;s what businesses use&amp;#8221;) or as admin
of the four boxes at the &lt;a href="http://www.midlandparkambulance.com"&gt;Ambulance
Corps&lt;/a&gt; where I&amp;nbsp;volunteer.&lt;/p&gt;
&lt;p&gt;However, whenever I am (unfortunately) pushed into the task of working
on a Windows box, I always feel something lacking. To be blunt, I don&amp;#8217;t
see how experienced users can deal with it. And this isn&amp;#8217;t just an issue
of multiple desktops, or reliability (I expect my desktop to have months
of uptime, and my servers to have years). This isn&amp;#8217;t just pro-Linux,
it&amp;#8217;s anti-Windows. Linux is great. Solaris seems wonderful, and I can&amp;#8217;t
want to move my servers over. And, believe it or not, due to playing
around with the Solaris Management Console, for the first time in 5
years, I plan on running X on my servers.
What this is, is a talk about total workflow. Years ago, I reached the
point where I am more comfortable at the command line, or in an
Ncurses-style &lt;span class="caps"&gt;GUI&lt;/span&gt;, than in&amp;nbsp;X.&lt;/p&gt;
&lt;p&gt;I an attribute this to two factors - verbosity and speed. The &lt;span class="caps"&gt;CLI&lt;/span&gt; is as
verbose as anything can get. I remember setting a static &lt;span class="caps"&gt;IP&lt;/span&gt; on a Windows
box. I had to navigate the Start menu, open up the control panel, the
network thingy, click on the network card, and work through a series of
dialogs. In Linux, I clicked on the terminal icon, typed &amp;#8220;sudo ifconfig
eth0 up 192.168.0.211&amp;#8221; and then a password. Done. Likewise, refreshing a
&lt;span class="caps"&gt;DHCP&lt;/span&gt; lease on Windows requires a whole bunch of &amp;#8220;repair connection&amp;#8221;
nonsense, whereas in Linux all it requires is &amp;#8220;dhclient eth0&amp;#8221;. The
bottom line I know what I&amp;#8217;m doing. Windows should have an option to let
me quickly do&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;Speed is a related issue. Click, click-click, drag, click, click&amp;#8230;.
what about just typing? Even for people who aren&amp;#8217;t &lt;span class="caps"&gt;CLI&lt;/span&gt;-friendly, there&amp;#8217;s
Ncurses. YaST2, the SuSE/openSuSE administration tool, has both &lt;span class="caps"&gt;GUI&lt;/span&gt; and
Ncurses interfaces. I always use the Ncurses interface. Why? Because
I&amp;#8217;ve been using it for years. I know that if I want to add a user
through YaST, I hit the down arrow 7 times, tab once, down 5, enter. Tab
once more to bring up the add user dialog. I can do this in well under a
second. What&amp;#8217;s the bottom line? Well, first of all, my hands are already
on the keyboard. That&amp;#8217;s where they like to stay. That&amp;#8217;s where they&amp;#8217;re
comfortable. My fingers need to move a *lot* less to navigate with the
arrow keys, tab, and enter than they do to use a mouse. If you know what
you&amp;#8217;re doing, if you already know what you&amp;#8217;re looking for, then a mouse
is slower than the speed of thought (or&amp;nbsp;reaction).&lt;/p&gt;
&lt;p&gt;So where&amp;#8217;s the Windows bashing? Simple. How do people at Microsoft deal
with this? How does the guy who *wrote* that network settings dialog
deal with navigating the &lt;span class="caps"&gt;GUI&lt;/span&gt; every time, even though he already knows
exactly what he wants to do - and probably the system calls to do&amp;nbsp;it?&lt;/p&gt;
&lt;p&gt;The bottom line is that every time I sit down at a Windows machine, I
wonder how the most popular &lt;span class="caps"&gt;OS&lt;/span&gt; is one that doesn&amp;#8217;t give any thought to
advanced users. I know that I can type faster than I can move a mouse,
why don&amp;#8217;t you let me use that? More importantly, why didn&amp;#8217;t Microsoft
ever think that people would use computers on a network? When I
installed Solaris, I wanted to edit a config file. I hadn&amp;#8217;t customized
&lt;em&gt;anything&lt;/em&gt; yet, hadn&amp;#8217;t installed any other software, nothing. Yet, I
was able to open up a terminal and grab my .emacs file from my laptop in
one line&amp;nbsp;(scp).&lt;/p&gt;
&lt;p&gt;To be totally honest, the question running through my mind is something
like &amp;#8220;everything is so much quicker on Linux. How do experts deal with&amp;nbsp;Windows?&amp;#8221;&lt;/p&gt;</summary><category term="Digg"></category><category term="Eric S Raymond"></category><category term="linux"></category><category term="solaris"></category><category term="sun"></category><category term="Unix"></category></entry><entry><title>Sun, Solaris, other fun stuff</title><link href="http://blog.jasonantman.com/2007/09/sun-solaris-other-fun-stuff/" rel="alternate"></link><updated>2007-09-26T14:36:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-09-26:2007/09/sun-solaris-other-fun-stuff/</id><summary type="html">&lt;p&gt;A few bits of news, none of them too&amp;nbsp;important:&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ve just been hired as the Sun Microsystems Campus Ambassador for
Rutgers University. Essentially, my job is to tell students, faculty,
staff, and researchers about Sun&amp;#8217;s open source technologies and what
they can do. This involves giving some tech demos and talks, some
networking, and completing a lot of training on my part. Hopefully also
getting to hand out some neat Sun swag around campus. I have to admit,
I&amp;#8217;ve never been a real fan of &lt;span class="caps"&gt;GUI&lt;/span&gt; IDEs - I do pretty much all of my
development (admittedly, very little in Java, most of my work is simple
&lt;span class="caps"&gt;PHP&lt;/span&gt; stuff) on Emacs. That being said, I&amp;#8217;m really pyched about trying
some new stuff like &lt;span class="caps"&gt;J2EE&lt;/span&gt; and maybe some Ruby. However, I also looked
over some of our training materials on the upcoming
&lt;a href="http://www.netbeans.org/"&gt;NetBean&lt;/a&gt;s 6.0, and truthfully, I&amp;#8217;m damn
interested. I haven&amp;#8217;t used a Java &lt;span class="caps"&gt;IDE&lt;/span&gt; since three years ago in high
school, and it looks as though they&amp;#8217;ve come a very long&amp;nbsp;way.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m also really getting into Solaris. The new
&lt;a href="http://www.opensolaris.org"&gt;openSolaris&lt;/a&gt; / Solaris Express releases
have a lot of great features - and I can&amp;#8217;t want to get my hands on a
machine running Zones, Containers, and &lt;span class="caps"&gt;ZFS&lt;/span&gt;, just to mention a few
technologies. I setup Solaris 10 on one of my work computers, and I&amp;#8217;m
hooked. It&amp;#8217;s fine for a desktop, but I can honestly say that after a few
minutes playing around with the Solaris Management Console, I&amp;#8217;m
seriously considering ditching SuSE (now OpenSuSE) which I&amp;#8217;ve been using
as a server &lt;span class="caps"&gt;OS&lt;/span&gt; for some 7 years, and switching over to&amp;nbsp;Solaris.&lt;/p&gt;
&lt;p&gt;Unfortunately, Solaris is really an enterprise &lt;span class="caps"&gt;OS&lt;/span&gt;. That means it has
loads of wonderful features that are also rock-solid, and was designed
with the idea of centrally-administered servers in mind - something that
SuSE only caught onto recently. However, that also means that it is
intended to run on what I would call &amp;#8220;new&amp;#8221; hardware. In other words,
don&amp;#8217;t look to put Solaris 10 or Solaris Express (openSolaris / Solaris
11) on your 386. And if you&amp;#8217;re like me and running something along the
lines of a Generation 1 Compaq Proliant &lt;span class="caps"&gt;ML370&lt;/span&gt; with a 2nd-generation
SmartArray &lt;span class="caps"&gt;RAID&lt;/span&gt; controller (a system that was made about 10 years ago),
you might have some issues. It appears that the &amp;#8216;smartii&amp;#8217; &lt;span class="caps"&gt;RAID&lt;/span&gt; driver
(and &lt;span class="caps"&gt;EISA&lt;/span&gt; support) was removed from Solaris 10 in 6/06. The solution?
I&amp;#8217;m going to be looking into buying a bunch of new systems, possibly
Dell PowerEdge servers and, if I can get the cash, a few Sun&amp;nbsp;systems.&lt;/p&gt;
&lt;p&gt;Lastly, within the week, I&amp;#8217;ll be setting up a blog at
&lt;a href="http://blogs.sun.com"&gt;blogs.sun.com&lt;/a&gt;. This will probably contain a lot
of Rutgers-specific information, but will also most definitely include
my notes on Sun products, and a healthy amount of Solaris-related&amp;nbsp;information.&lt;/p&gt;</summary><category term="solaris"></category><category term="sun"></category></entry><entry><title>Bug/Issue Tracking - Update / Review of Eventum</title><link href="http://blog.jasonantman.com/2007/09/bugissue-tracking-update-review-of-eventum/" rel="alternate"></link><updated>2007-09-17T14:47:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-09-17:2007/09/bugissue-tracking-update-review-of-eventum/</id><summary type="html">&lt;p&gt;So, after many hours of investigating potential bug/issue tracking
packages, I have chosen one. And gone live with it, all in one weekend.
After much evaluation, my final choice was
&lt;a href="http://eventum.mysql.com/"&gt;Eventum&lt;/a&gt; from MySQL (I&amp;#8217;m using the current
version, 2.0.1). I will admit that it is not perfect. There are some
features I wanted that weren&amp;#8217;t there, and the documentation is awful.
But it&amp;#8217;s written in&amp;nbsp;&lt;span class="caps"&gt;PHP&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;That being said, it is very much a community-driven project. The support
on the mailing list, both from other community members and from Bryan
Alsdorf, has been wonderful. I had some issues viewing the help
documents, specifically those in pop-ups, but I&amp;#8217;ve been told that most
new documentation has been moved to the wiki at the link&amp;nbsp;above.&lt;/p&gt;
&lt;p&gt;The project provides for advanced bug- and issue-tracking including time
tracking, file attachments, and customizable statuses, priorities, and
categories. It also provides email integration, both in terms of sending
email alerts and opening issues (as well as updating and tracking) by
parsing incoming emails. The email alerts worked out-of-the-box, but I
did not configure parsing of&amp;nbsp;emails.&lt;/p&gt;
&lt;p&gt;One of my main requirements which was met perfectly by Eventum is its&amp;#8217;
ability to easily handle multiple projects. It also has a built-in
capability to allow anonymous issue submission (enabled on a
project-by-project basis). You can define custom fields for issues on a
project-by-project basis, and set them as required fields for either
registered users, anonymous users, or&amp;nbsp;both.&lt;/p&gt;
&lt;p&gt;One feature that I found lacking was the possibility for a user to view
all of the open issues assigned to them. Currently, all user interface
is on a project-by-project basis. Therefore, listing of open issues is
only available for the currently selected project. To cope with this, I
hacked together a little &lt;span class="caps"&gt;PHP&lt;/span&gt; script that just queries the database for
issues by user and displays it in a simple little&amp;nbsp;page.&lt;/p&gt;
&lt;p&gt;One of the major features about Eventum that caught my eye was
integration with a version control system (&lt;span class="caps"&gt;SCM&lt;/span&gt;, as far as the Eventum
docs are concerned). The feature list stated integration with &lt;span class="caps"&gt;CVS&lt;/span&gt; and
&lt;span class="caps"&gt;SVN&lt;/span&gt;. When I actually looked into integrating it with &lt;span class="caps"&gt;CVS&lt;/span&gt;, however, the
problems began. Firstly, the javascript-based help popup would not
display anything, let alone the proper page. Installation was otherwise
perfect under Apache2. I was forced to browse to the included &lt;span class="caps"&gt;HTML&lt;/span&gt; file
manually and check it out. The overview seemed simple enough - throw a
script in your &lt;span class="caps"&gt;CVSROOT&lt;/span&gt; loginfo file, update a few variables in the
web-based Eventum configuration, and you&amp;#8217;re off to the races. Reading
on, I found that the installation page was a confusing jumble of
references to a deprecated perl script and the current &lt;span class="caps"&gt;PHP&lt;/span&gt; script to
call from loginfo. Furthermore, database access is provided by having
the script called from loginfo parse the logging information and then
&lt;em&gt;run a &lt;span class="caps"&gt;HTTP&lt;/span&gt; &lt;span class="caps"&gt;GET&lt;/span&gt;&lt;/em&gt; on a local script served in the Eventum web
directory. This added level of abstraction not only confuses me to no
end, but also introduces the possibility for malicious users to insert
data in the Eventum &lt;span class="caps"&gt;SCM&lt;/span&gt; database simply by visiting a well-known&amp;nbsp;&lt;span class="caps"&gt;URL&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;More importantly, the script provided to be called by loginfo seems to
expect the old &lt;span class="caps"&gt;CVS&lt;/span&gt; logging format, not the new one being provided by my
installation of &lt;span class="caps"&gt;CVS&lt;/span&gt; 1.12.12. While annoying, this ended up being a minor
fix in the provided &amp;#8220;process_cvs_commits.php&amp;#8221; - I simply had to
rewrite the argument parsing code so that it no longer expects the file,
old version, and new version (%{sVv}) information to be space-separated
on the command line in the form of s,V,v tuples, but expects everything
to be space-separated. I should be cleaning up my fix a bit and
submitting it for inclusion in the next&amp;nbsp;release.&lt;/p&gt;
&lt;p&gt;Once patched, &lt;span class="caps"&gt;CVS&lt;/span&gt; integration works perfectly. Simply append an
identifier to the end of your commit log message, such as &amp;#8220;(issue: 21)&amp;#8221;
or &amp;#8220;(bug: 21)&amp;#8221; and the commit will be automatically associated with the
issue of that number. When viewing an issue, a list of associated &lt;span class="caps"&gt;CVS&lt;/span&gt;
commits can be&amp;nbsp;viewed.&lt;/p&gt;
&lt;p&gt;It must be remembered that, as I have read, Eventum is used internally
by MySQL. It is, therefor, a mature project that is well tested in one
circumstance. I believe that it is mature and generally well-working
(though I&amp;#8217;ve heard reports that the 2.x tree isn&amp;#8217;t as stable as the
older versions, which are most likely still in use at MySQL). It must
also be noted that the issue with &lt;span class="caps"&gt;CVS&lt;/span&gt; integration is most likely only
with the newer &lt;span class="caps"&gt;CVS&lt;/span&gt; versions using the new logging format (I don&amp;#8217;t know
when the switch was made) and will probably not be noticed in older
projects which have established &lt;span class="caps"&gt;CVS&lt;/span&gt;&amp;nbsp;systems.&lt;/p&gt;
&lt;p&gt;Now, for the opinion section. Eventum has thousands of features. I have
detailed every issue that I have, which total about five. I found it to
be a stable system, ready-to-run out of the box. Overall, I think it has
the best feature set of the open-source bug tracking systems that I
surveyed, which are probably most of the ones out there. It&amp;#8217;s a great
project which I&amp;#8217;d recommend to anyone, though if you want more advanced
features (like integration with &lt;span class="caps"&gt;CVS&lt;/span&gt;, or things not offered such as
anonymous issue viewing) you should be comfortable with coding in &lt;span class="caps"&gt;PHP&lt;/span&gt;
until someone makes patches&amp;nbsp;available.&lt;/p&gt;</summary><category term="bug tracking"></category><category term="eventum"></category><category term="PHP"></category><category term="review"></category><category term="ticketing"></category></entry><entry><title>PCpro UK: Boycott ad-blocking Firefox, urges furious web designer</title><link href="http://blog.jasonantman.com/2007/09/pcpro-uk-boycott-ad-blocking-firefox-urges-furious-web-designer/" rel="alternate"></link><updated>2007-09-17T14:04:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-09-17:2007/09/pcpro-uk-boycott-ad-blocking-firefox-urges-furious-web-designer/</id><summary type="html">&lt;p&gt;When browsing through &lt;a href="http://digg.com/"&gt;Digg&lt;/a&gt; this morning, I came by a
story at PCpro &lt;span class="caps"&gt;UK&lt;/span&gt; entitled &amp;#8220;&lt;a href="http://www.pcpro.co.uk/news/news/124719/"&gt;Boycott ad-blocking Firefox, urges furious
web designer&lt;/a&gt;&amp;#8220;. This gentleman
stated that, &amp;#8220;Software that
blocks all advertisement is an infringement of the rights of website
owners and&amp;nbsp;developers.&amp;#8221;&lt;/p&gt;
&lt;p&gt;While I don&amp;#8217;t like giving press to such a story, I found it alarming on
many&amp;nbsp;levels.&lt;/p&gt;
&lt;p&gt;Firstly, I&amp;#8217;ve never heard of rights of website owners and developers.
Being a &amp;#8220;website owner and developer&amp;#8221; myself, I understand that the web
is a dynamic medium. Moreover, I think of &lt;span class="caps"&gt;HTML&lt;/span&gt; as what it is - a markup
language. It just tells a program (browser) how to display something in
a user-friendly style. I test my pages with Lynx, and expect them to
conform to &lt;span class="caps"&gt;HTML&lt;/span&gt;/1.1. In other words, I believe that the Internet is an
information distribution tool. I expect, I &lt;em&gt;want&lt;/em&gt;, my content to be
viewable by as many people as possible. I try to use simple markup and
make use of &lt;span class="caps"&gt;ALT&lt;/span&gt; tags so that as many people as possible will be able to
view the content. I want it to make sense on as many platforms as
possible. I want people who need accessibility aids to be able to
understand it. In short, I want my content to reach as many people as&amp;nbsp;possible.&lt;/p&gt;
&lt;p&gt;Not only is this developer trying to do something which is ignorant and
a case of being a flat-out bad citizen of the &amp;#8216;net, but he is trying to
fight against the progress which has so painstakingly been made in the
field of web standardization. I well remember when, not long ago at all,
I was handicapped by my choice of using Firefox. I still come by the odd
site which chose to use a component which is tied to Internet Explorer,
thereby alienating 35% of web&amp;nbsp;users.&lt;/p&gt;
&lt;p&gt;I will admit that I am by no means the typical Internet user. The fact
that all of my some dozen or so machines (excepting one which I need to
use a legacy &lt;span class="caps"&gt;SCSI&lt;/span&gt; flatbed scanner) run 100% Free/Open Source software. I
use Linux. OpenSolaris. &lt;span class="caps"&gt;BSD&lt;/span&gt;. I believe that I have a right to examine
and modify the source code of the programs that I use. When choosing a
bug tracking system, I spent hours customizing an open-source
alternative because I was unwilling to use the closed-source option
which seemed to fit best. Therefore, I guess it is easy to understand
that I refuse to buy from, or even visit, a web site that doesn&amp;#8217;t
support&amp;nbsp;Firefox.&lt;/p&gt;
&lt;p&gt;This is not a browser war. This is not me simply deciding to flame
someone who isn&amp;#8217;t a F/&lt;span class="caps"&gt;OSS&lt;/span&gt; zealot. This boils down to a deeper issue that
can be seen all around us - including in the recent news surrounding the
&lt;span class="caps"&gt;US&lt;/span&gt; &lt;span class="caps"&gt;FCC&lt;/span&gt;&amp;#8217;s auction of a portion of the 700MHz spectrum. The issue at hand
is the complacency of technology users, and the feeling by technology
providers that they can push anything they want on users. The concept
that providers are sending data to me, and that I can use that data
however I want (within the extent of the law) is getting&amp;nbsp;lost.&lt;/p&gt;
&lt;p&gt;When I watch &lt;span class="caps"&gt;TV&lt;/span&gt;, I used to leave the room or pick up a book when a
commercial comes on. Now that I have a &lt;span class="caps"&gt;PVR&lt;/span&gt; (specifically, MythTV), I can
record the shows I want, and then have commercials flagged for automatic
skipping before I watch them. When I decide to watch them, I have no
commercials. When I use the web, I select the content that I want. If I
don&amp;#8217;t want it, I don&amp;#8217;t get&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;Moreover, another large issue at hand is the simple nature of digital
media. This applies to &lt;span class="caps"&gt;TV&lt;/span&gt; recording, music and movie sharing, software
piracy, etc. Digital media is not the same as analog media. An &lt;span class="caps"&gt;MP3&lt;/span&gt; (or,
for that matter, a &lt;span class="caps"&gt;CD&lt;/span&gt;) is not the same as a tape. In product litigation,
there is a term known as &amp;#8220;perceived use&amp;#8221;. If you make a glass coffee
table that is exactly at knee height, it is perceived that eventually,
someone will try to sit on it. That&amp;#8217;s common sense. If it shatters and
kills them, it was your responsibility to foresee such an obvious
eventuality. It&amp;#8217;s only common sense that if something is flat and at
normal sitting level, someone will try to sit on&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;Likewise, I would argue that when any content is distributed digitally,
you must foresee that it will be copied or altered. It is simply the
nature of the medium. If the recording industry didn&amp;#8217;t want people
ripping music from CDs, they should have kept releasing things on tape.
Even more so with DVDs - I&amp;#8217;m sure we all remember the push. Five years
ago, I was hard pressed to find a &lt;span class="caps"&gt;DVD&lt;/span&gt; in a local rental store. Today, I
haven&amp;#8217;t seen a &lt;span class="caps"&gt;VHS&lt;/span&gt; tape in years. The industry *pushed* the format on
us, and is now complaining when we use it in a brutally obvious way. If
I had to liken it to any legal phenomenon, I would pick entrapment. It&amp;#8217;s
not a far stretch to compare the recording industry&amp;#8217;s actions to those
of a police officer who leaves a car running, with the keys in the
ignition, and a sign on the windshield that says &amp;#8220;Take me for a spin
around the parking lot&amp;#8221; and then arrests someone for auto theft when
they leave the lot. If they industry is worried about piracy, it should
have been their obligation to look into exactly how easy piracy would
be, before they chose a distribution&amp;nbsp;medium.&lt;/p&gt;
&lt;p&gt;In closing my rant, I will ask a few simple&amp;nbsp;questions:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Why is it that the law, being as biased to corporate interests (and
against the individual) as it is, doesn&amp;#8217;t recognize the rights of the
individual to use what they legally purchased in a way that they see
fit? (i.e. if I buy a &lt;span class="caps"&gt;DVD&lt;/span&gt;, I should be able to make a backup copy on my
computer - even the &lt;em&gt;copyright law&lt;/em&gt; states&amp;nbsp;that).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;How long will it be before someone turns up an internal &lt;span class="caps"&gt;RIAA&lt;/span&gt; memo
from ten years ago stating that the industry could increase its&amp;#8217; profits
by releasing music on a medium (&lt;span class="caps"&gt;CD&lt;/span&gt;) that is prone to piracy, and then
fining the people who exploit that common&amp;nbsp;sense?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When they came out with &lt;span class="caps"&gt;VHS&lt;/span&gt; recorders, the industry was up in arms
about piracy. So, they got together and added a small amount on the
price of every blank tape, intended to reimburse the
labels/artists/networks for the copy that it would be used to make. Why
can&amp;#8217;t they just tack $3 onto every blank &lt;span class="caps"&gt;DVD&lt;/span&gt; and &lt;span class="caps"&gt;CD&lt;/span&gt;, $20 on every blank
hard drive, and stop suing college&amp;nbsp;kids?&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</summary><category term="ad blocker"></category><category term="firefox"></category><category term="internet"></category><category term="standards"></category></entry><entry><title>Bug / Issue Tracking Software</title><link href="http://blog.jasonantman.com/2007/09/bug-issue-tracking-software/" rel="alternate"></link><updated>2007-09-07T11:44:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-09-07:2007/09/bug-issue-tracking-software/</id><summary type="html">&lt;p&gt;I recently posted the following to the DevShed forum in hope of an&amp;nbsp;answer:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I&amp;#8217;ve spent the last 48 hours reading up on bug
tracking software. At the moment, I&amp;#8217;m using the SourceForge tracker for
my public projects and a custom (lightweight kludge) system for internal
and customer-specific&amp;nbsp;stuff.&lt;/p&gt;
&lt;p&gt;First off, I&amp;#8217;m looking for something that&amp;#8217;s F/&lt;span class="caps"&gt;OSS&lt;/span&gt; and no-cost. Beyond
that, it should have a web-based interface, preferably coded in &lt;span class="caps"&gt;PHP&lt;/span&gt; as
that&amp;#8217;s what I&amp;#8217;m most comfortable writing code&amp;nbsp;for.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ve looked into many possibilities. At the moment, they&amp;#8217;re pretty much
narrowed down to &lt;span class="caps"&gt;RT&lt;/span&gt;, FlySpray, Codetrack, Trac, and a few other
america&amp;#8217;s promise rorabaugh3possibilities. I&amp;#8217;ve immediately disregarded
anything without an online demo, so some may have slipped by&amp;nbsp;me.&lt;/p&gt;
&lt;p&gt;I can do some coding to add a few features as needed, but here&amp;#8217;s what
I&amp;#8217;m looking&amp;nbsp;for:&lt;/p&gt;
&lt;p&gt;1) Web-based interface
2) Ability to handle multiple projects
3) Ability to handle modules/branches of a project - specifically to be
used for projects which also have custom, user-specific modifications on
a branch.
4) *multiple* bug submission forms - ideally, one for team
members/technical users, one (simplified) for non-technical end users,
and one for non-technical users which also collects browser/&lt;span class="caps"&gt;OS&lt;/span&gt;
information, as many of my projects are web-based.
5) If possible, integration with &lt;span class="caps"&gt;CVS&lt;/span&gt; or &lt;span class="caps"&gt;SVN&lt;/span&gt; so that I can track commits
related to a specific bug.
6) Fine-grained access control. There should be a way to submit an
anonymous (unregistered user) bug. Anonymous submissions and registered
user submissions should be authorized on a project-by-project (or
branch-by-branch) basis. There should also be access control on viewing
*any* information at all for certain projects/modules (so the same
system can be used for internal-only&amp;nbsp;projects).&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m sure that I have a lot of other requirements, but these are the ones
that stuck out in my mind. Also, though I don&amp;#8217;t have a system up and
running yet, there&amp;#8217;s a possibility I may be moving to &lt;span class="caps"&gt;LDAP&lt;/span&gt; for all auth,
so something where I could drop in a custom auth module would be a&amp;nbsp;plus.&lt;/p&gt;
&lt;p&gt;Any&amp;nbsp;suggestions?&lt;/p&gt;
&lt;p&gt;I know I probably won&amp;#8217;t find *all* of this in one place, but I&amp;#8217;d like
to minimize the amount of programming I have to do. After all, starting
a new programming project to track bugs in an existing one isn&amp;#8217;t
especially&amp;nbsp;efficient.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;We&amp;#8217;ll see what happens out of&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;I recently received a few emails from someone attempting to get &lt;a href="http://www.php-ems-tools.com"&gt;&lt;span class="caps"&gt;PHP&lt;/span&gt; &lt;span class="caps"&gt;EMS&lt;/span&gt;
Tools&lt;/a&gt; up and running for his &lt;span class="caps"&gt;EMS&lt;/span&gt; agency.
I did a lot of correspondence via email, and ended up in a bit of a
predicament. First off, since &lt;span class="caps"&gt;CVS&lt;/span&gt; is down, I had to make a copy of the
latest development sources from their live location on my web server,
and revert to using &lt;span class="caps"&gt;RCS&lt;/span&gt; for the development work. Secondly, he wasn&amp;#8217;t
familiar with the SourceForge trackers and didn&amp;#8217;t have an account with
them, so I had to manually enter the bug reports. This was not good. I
need something&amp;nbsp;better.&lt;/p&gt;
&lt;p&gt;I know that a lot of ticketing systems use e-mail interfaces, but I have
no interest in that - I want to be able to require certain information
for certain people. Moreover, I have a few main issues with most of the
ticketing software I&amp;#8217;ve&amp;nbsp;seen:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;It&amp;#8217;s either designed for development team members or non-technical
    end users. I want a system that can present an end-user with a
    simple, non-jargon-filled issue submission form, yet put that right
    in with issues entered by developers, which would have a greater
    depth of technical content. Developers should be able to follow-up
    on users&amp;#8217; tickets and add technical details as needed. Most
    importantly, since most of my projects are web-based, I want to add
    &lt;span class="caps"&gt;JS&lt;/span&gt; to the form which will include the users&amp;#8217; browser and &lt;span class="caps"&gt;OS&lt;/span&gt;
    information in the&amp;nbsp;ticket.&lt;/li&gt;
&lt;li&gt;I don&amp;#8217;t have a server farm. I don&amp;#8217;t expect to be getting hundreds of
    bugs a year, let alone week. As such, it makes no sense for me to
    run a separate system for every project. I want a system that can
    handle multiple&amp;nbsp;projects.&lt;/li&gt;
&lt;li&gt;Furthermore, I want it to handle internal projects as well - server
    upgrades, hardware issue tracking, etc. As such, it should support
    fine-grained access control, both for viewing and submitting bugs.
    Some projects should allow anyone to view bugs, and allow a
    non-registered (provided the email address is valid) user to submit.
    Some projects shouldn&amp;#8217;t let anyone but me see&amp;nbsp;*anything*.&lt;/li&gt;
&lt;li&gt;I need support for branches within projects. While &lt;span class="caps"&gt;PHP&lt;/span&gt; &lt;span class="caps"&gt;EMS&lt;/span&gt; Tools
    only has the trunk publicly available, I now have two branches, one
    customized for my organization and one for this gentleman&amp;#8217;s
    organization. I want a system that can understand that these are
    branches of the main project, and that bugs may pertain to only one
    of these branches, but that all of the bugs from the trunk will
    pertain to&amp;nbsp;them.&lt;/li&gt;
&lt;li&gt;I would love a system that can somehow integrate with &lt;span class="caps"&gt;CVS&lt;/span&gt; or &lt;span class="caps"&gt;SVN&lt;/span&gt;, so
    that I can associate a specific commit with a specific&amp;nbsp;bug(s).&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;So far, I&amp;#8217;m considering FlySpray, &lt;span class="caps"&gt;RT&lt;/span&gt;, and Trac. I&amp;#8217;m also looking at
Eventum, Codetrac, and BugZero. I&amp;#8217;m interested in &lt;span class="caps"&gt;OTRS&lt;/span&gt; as I&amp;#8217;ve heard
good things about it, but I can&amp;#8217;t seem to find a web-based demo. Most
likely, I&amp;#8217;ll probably give two or three of them a whirl, and then add in
the custom code to do what I need. Of course, none of this will happen
until I either get &lt;span class="caps"&gt;CVS&lt;/span&gt; back up or migrate to&amp;nbsp;&lt;span class="caps"&gt;SVN&lt;/span&gt;.&lt;/p&gt;</summary><category term="bug tracking"></category><category term="bugs"></category><category term="bugzero"></category><category term="eventum"></category><category term="flyspray"></category><category term="otrs"></category><category term="rt"></category><category term="ticketing"></category><category term="trac"></category></entry><entry><title>The Death of a Disk</title><link href="http://blog.jasonantman.com/2007/09/the-death-of-a-disk/" rel="alternate"></link><updated>2007-09-07T11:34:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-09-07:2007/09/the-death-of-a-disk/</id><summary type="html">&lt;p&gt;A few months ago, a disk on my Compaq Proliant &lt;span class="caps"&gt;ML370&lt;/span&gt; went down. The
machine has 6 Ultra3 Wide &lt;span class="caps"&gt;SCSI&lt;/span&gt; 15k &lt;span class="caps"&gt;RPM&lt;/span&gt; drives, 18 Gb each, in a &lt;span class="caps"&gt;RAID&lt;/span&gt;
0+1, so I figured that between such a configuration and weekly complete
tape backups, I&amp;#8217;d be pretty much set. At least for a &amp;#8220;home&amp;#8221; user. I
powered down the system (eek! downtime!), feeling lucky that it didn&amp;#8217;t
host any critical services. At a loss for a spare drive, and hoping that
the decade-old &lt;span class="caps"&gt;SCSI&lt;/span&gt; controller was just having a bad morning, I let the
system sit for a few hours and then powered up. It rebuilt any lost data
and came back&amp;nbsp;fine.&lt;/p&gt;
&lt;p&gt;Unfortunately, a week ago, the same problem happened. The good news is
that there wasn&amp;#8217;t much important &amp;#8220;data&amp;#8221; on the disk. The bad news is
that the disk was the root partition, and that I lost *both* mirrored
drives in a 42 minute window. The system is now down indefinitely,
pending my winning the lottery and getting the money for two 15k &lt;span class="caps"&gt;SCSI&lt;/span&gt;&amp;nbsp;disks.&lt;/p&gt;
&lt;p&gt;Now, I originally wasn&amp;#8217;t too worried. The system is mainly used for
storing unimportant data. However, I quickly remembered three facts
about&amp;nbsp;&lt;span class="caps"&gt;STOR1&lt;/span&gt;:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;My two and &lt;em&gt;only&lt;/em&gt; tape drives are hooked up to this&amp;nbsp;box.&lt;/li&gt;
&lt;li&gt;This box is my &lt;span class="caps"&gt;CVS&lt;/span&gt; server, so now not only are my nightly builds
    stopped, but I don&amp;#8217;t have &lt;span class="caps"&gt;CVS&lt;/span&gt;&amp;nbsp;access.&lt;/li&gt;
&lt;li&gt;The To-Do list item stating &amp;#8220;fix &lt;span class="caps"&gt;STOR1&lt;/span&gt; backup script and re-enable
    cron job&amp;#8221; should have been a higher&amp;nbsp;priority.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;So, in the future, you will not only read about data recovery operations
using a LiveCD, bare metal recovery of the system, but you can also
expect my &lt;a href="http://wiki.jasonantman.com"&gt;wiki&lt;/a&gt; to include a page on
implementation of&amp;nbsp;Bacula.&lt;/p&gt;</summary></entry><entry><title>Access control in ViewVC</title><link href="http://blog.jasonantman.com/2007/07/access-control-in-viewvc/" rel="alternate"></link><updated>2007-07-25T12:00:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-07-25:2007/07/access-control-in-viewvc/</id><summary type="html">&lt;p&gt;ViewVC (www.viewvc.org), a popular web-based frontend to &lt;span class="caps"&gt;CVS&lt;/span&gt; and &lt;span class="caps"&gt;SVN&lt;/span&gt;,
has no access control mechanism, nor does &lt;span class="caps"&gt;CVS&lt;/span&gt;. As a result, when using
ViewVC, anyone who can see the web page can browse, download, and view
files in the entire &lt;span class="caps"&gt;CVS&lt;/span&gt; repository. While I initially loved this, as I
used &lt;span class="caps"&gt;CVS&lt;/span&gt; only for &lt;span class="caps"&gt;GPL&lt;/span&gt;&amp;#8217;d projects and snippets of useful code, after a
while I decided to put some admin scripts in &lt;span class="caps"&gt;CVS&lt;/span&gt;. Most of them aren&amp;#8217;t
really sensitive, but provide a bit more of a look at the workings of my
systems than I had&amp;nbsp;hoped.&lt;/p&gt;
&lt;p&gt;I tried unsuccessfully to implement Apache Auth on the &lt;span class="caps"&gt;URL&lt;/span&gt;. After
sitting around for a while, I hit upon a wonderfully simply (yes,
inelegent)&amp;nbsp;solution.&lt;/p&gt;
&lt;p&gt;Being that ViewVC runs as a &lt;span class="caps"&gt;CGI&lt;/span&gt; script, it runs as the user and group of
the webserver - in my case, user &amp;#8216;www&amp;#8217; and group &amp;#8216;wwwrun&amp;#8217;. How to
protect one directory in the repository from being viewed with viewvc?
Well, the &lt;span class="caps"&gt;CVS&lt;/span&gt; user &amp;#8216;cvsuser&amp;#8217; runs as a member of group &amp;#8216;users&amp;#8217;. My main
username, &amp;#8216;jantman&amp;#8217;, owns all of the files in the repo. As a result, the
permissions required for &lt;span class="caps"&gt;CVS&lt;/span&gt; to run currectly and for all local users to
use it, are simply to have the directories in the repository owned by
some user and the group &amp;#8216;users&amp;#8217;, while giving both user and group rx
permissions to the directory (and, obviously, the user at least should
have&amp;nbsp;rwx).&lt;/p&gt;
&lt;p&gt;To protect a given directory/module &amp;#8220;foo&amp;#8221; in your cvsroot from being
viewed under&amp;nbsp;ViewVC:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Make sure the directory is owned by someuser and group&amp;nbsp;&amp;#8216;users&amp;#8217;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;chmod -R o-rwx foo"&lt;/code&gt; - no permissions at all for&amp;nbsp;&amp;#8216;other&amp;#8217;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;As your web server (and, therefore, the &lt;span class="caps"&gt;CGI&lt;/span&gt; script viewvc.cgi) run as
user &amp;#8216;www&amp;#8217; and group &amp;#8216;wwwrun&amp;#8217;, they cannot access the directory &amp;#8216;foo&amp;#8217; at
all. When you attempt to view the file listing or any file in ViewVC,
you get a read error (incorrect&amp;nbsp;permissions).&lt;/p&gt;
&lt;p&gt;A kludge? Yes. Are there ways around it? Yes. But it gets the job done,
and allows me to continue using my existing&amp;nbsp;infrastructure.&lt;/p&gt;</summary><category term="cvs"></category><category term="viewvc"></category></entry><entry><title>Update</title><link href="http://blog.jasonantman.com/2007/07/update/" rel="alternate"></link><updated>2007-07-14T01:14:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-07-14:2007/07/update/</id><summary type="html">&lt;p&gt;I haven&amp;#8217;t been too active on here lately, mainly due to spending my
summer as a paid transport &lt;span class="caps"&gt;EMT&lt;/span&gt;, working 50 hours a week or so, and still
trying to keep up on&amp;nbsp;&amp;#8220;life&amp;#8221;.&lt;/p&gt;
&lt;p&gt;I have a few things planned for the next month or so of summer, so stay
tuned. Some of them&amp;nbsp;include:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Redesign of my site including lots of information that&amp;#8217;s been stored
    away in text files, and a new wiki for technical&amp;nbsp;information.&lt;/li&gt;
&lt;li&gt;Some embedded development work, and notes on&amp;nbsp;that.&lt;/li&gt;
&lt;li&gt;Converting some sort of low-cost handheld computer, tablet, or eBook
    reader for use as a Linux-based &lt;span class="caps"&gt;RSS&lt;/span&gt; reader (updated over &lt;span class="caps"&gt;LAN&lt;/span&gt; nightly
    and cached locally), hopefully including an image of my software as
    well as some conduit to an &lt;span class="caps"&gt;RSS&lt;/span&gt; reader program, and ability to email
    a list of &amp;#8220;flagged&amp;#8221; articles on sync (&lt;span class="caps"&gt;RSS&lt;/span&gt; update over&amp;nbsp;network).&lt;/li&gt;
&lt;li&gt;A vast update of my &lt;a href="http://repo.jasonantman.com"&gt;Code Repo&lt;/a&gt; with
    most of my home-grown F/&lt;span class="caps"&gt;OSS&lt;/span&gt; programs, including my (very basic)
    web-based budget/finance&amp;nbsp;program.&lt;/li&gt;
&lt;li&gt;An update to &lt;a href="http://php-ems-tools.com"&gt;&lt;span class="caps"&gt;PHP&lt;/span&gt; &lt;span class="caps"&gt;EMS&lt;/span&gt;&amp;nbsp;Tools&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Notes on my experience with MythTV, an integrating it with &lt;span class="caps"&gt;IR&lt;/span&gt;
    controls, Cablevision &lt;span class="caps"&gt;SA&lt;/span&gt; set-top box, and ultimately a &amp;#8220;smart&amp;nbsp;room&amp;#8221;.&lt;/li&gt;
&lt;li&gt;My never-ending quest to find a way to interface a &lt;span class="caps"&gt;CDMA&lt;/span&gt; handset to a
    computer for purposes of sending &lt;span class="caps"&gt;SMS&lt;/span&gt; from the command line (Nagios
    out-of-band alerts on a&amp;nbsp;budget).&lt;/li&gt;
&lt;li&gt;A trial run of Asterisk and VoIP from the house to the&amp;nbsp;dorm.&lt;/li&gt;
&lt;li&gt;Some more projects including:&lt;ul&gt;
&lt;li&gt;Finding and implementing a hardware/software trouble- and
    change-tracking system, which will also integrate with my&amp;nbsp;Wiki.&lt;/li&gt;
&lt;li&gt;Choosing bug tracking software for my internal&amp;nbsp;projects.&lt;/li&gt;
&lt;li&gt;Choosing and implementing a network-wide backup system to handle
    *nix, Windows, and my remote *nix&amp;nbsp;machines.&lt;/li&gt;
&lt;li&gt;OpenSolaris.&lt;/li&gt;
&lt;li&gt;Figuring out a system to handle automated nightly/weekly tasks
    on my diverse machines including log analysis, backups, software
    updates, and the usual stuff (SpamAssassin updates and training
    and other routine&amp;nbsp;tasks).&lt;/li&gt;
&lt;li&gt;A status tracker/to-do list of my numerous&amp;nbsp;projects.&lt;/li&gt;
&lt;li&gt;Releasing most of my web-based kludges under &lt;span class="caps"&gt;GPL&lt;/span&gt; for anyone who
    may be&amp;nbsp;interested.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</summary><category term="emergency medical"></category><category term="linux"></category><category term="mythtv"></category><category term="php ems tools"></category><category term="tablet"></category><category term="update"></category></entry><entry><title>Poor PHP</title><link href="http://blog.jasonantman.com/2007/03/poor-php/" rel="alternate"></link><updated>2007-03-21T16:42:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-03-21:2007/03/poor-php/</id><summary type="html">&lt;p&gt;Well, as mentioned below, today I was doing a little research. On the
futility of a Computer Science major. Specifically, on the fact that the
overwhelming odds are that in a career in &lt;span class="caps"&gt;IT&lt;/span&gt;, system administration, or
even web programming, I&amp;#8217;ll probably never apply 90% of what I learn in
&lt;span class="caps"&gt;CS&lt;/span&gt;&amp;nbsp;courses.&lt;/p&gt;
&lt;p&gt;So, I went looking for online certificate programs, knowing that most of
the vendors&amp;#8217; programs run $500 or more just for testing. I came by
eCertificates.com. And this brings me to another topic&amp;#8230; I clicked on
the &amp;#8220;Software Programming&amp;#8221; category, and was surprised to see no &lt;span class="caps"&gt;PHP&lt;/span&gt;
test. On a hunch, I looked under &amp;#8220;Web Design&amp;#8221;, and sure enough, there it&amp;nbsp;was.&lt;/p&gt;
&lt;p&gt;I know this is a common misconception, and I know that because it plays
so well with the web, and Apache, &lt;span class="caps"&gt;PHP&lt;/span&gt; has been pigeonholed as a web
language. Maybe I&amp;#8217;m just crazy, or maybe it&amp;#8217;s just because I know &lt;span class="caps"&gt;PHP&lt;/span&gt;
better than anything else. But &lt;span class="caps"&gt;PHP&lt;/span&gt; is &lt;em&gt;&lt;span class="caps"&gt;NOT&lt;/span&gt;&lt;/em&gt; a web programming language.
It is a programming language that happens to work &lt;em&gt;very&lt;/em&gt; well with web&amp;nbsp;applications.&lt;/p&gt;
&lt;p&gt;Using &lt;code&gt;fread()&lt;/code&gt; and &lt;code&gt;fwrite()&lt;/code&gt; I can slam together a command-line menu-based
&lt;span class="caps"&gt;PHP&lt;/span&gt; script for administration quicker than I could write the def&amp;#8217;s for a
Python script. I&amp;#8217;ve done it, I have a number of &lt;span class="caps"&gt;PHP&lt;/span&gt; &lt;span class="caps"&gt;CLI&lt;/span&gt;-based scripts
running on my machines. Database access with &lt;span class="caps"&gt;PHP&lt;/span&gt; is a no-brainer. And
one day, when I get around to reading my &amp;#8220;ancient&amp;#8221; pile of books and
learning NCurses, &lt;span class="caps"&gt;PHP&lt;/span&gt; will be right there with&amp;nbsp;me.&lt;/p&gt;
&lt;p&gt;So I guess it is just a fact of the modern web mentality. But &lt;span class="caps"&gt;PHP&lt;/span&gt; has
myriad uses aside from web applications and web content handling. Sure,
my web site is written in it. But one of my backup scripts is, too. And
more importantly, if I&amp;#8217;m working with a database that already has a
&lt;span class="caps"&gt;PHP&lt;/span&gt;-based web frontend, &lt;span class="caps"&gt;PHP&lt;/span&gt; seems like the natural choice for a
&lt;span class="caps"&gt;CLI&lt;/span&gt;-based administration&amp;nbsp;backend.&lt;/p&gt;</summary><category term="command line"></category><category term="computer science"></category><category term="PHP"></category><category term="programming"></category><category term="web programming"></category></entry><entry><title>Computer Science?</title><link href="http://blog.jasonantman.com/2007/03/computer-science/" rel="alternate"></link><updated>2007-03-21T13:44:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-03-21:2007/03/computer-science/</id><summary type="html">&lt;p&gt;So, I&amp;#8217;m a computer science major at Rutgers. What is computer science?
And &lt;em&gt;&lt;span class="caps"&gt;WHY&lt;/span&gt;&lt;/em&gt; is it my&amp;nbsp;major?&lt;/p&gt;
&lt;p&gt;I was recently reading an excellent article online, by Neil McBride, a
principal lecturer in the School of Computing, De Montfort University,
&lt;span class="caps"&gt;UK&lt;/span&gt;. &lt;a href="http://www.bcs.org/server.php?show=ConWebDoc.9662"&gt;The Death of
Computing&lt;/a&gt;
essentially speaks to the fact that the &lt;span class="caps"&gt;IT&lt;/span&gt; industry is different now
than it ever was in the past - &lt;span class="caps"&gt;IT&lt;/span&gt; is no longer a &lt;em&gt;programing&lt;/em&gt;discipline.
Just look at job listings in &lt;span class="caps"&gt;IT&lt;/span&gt;, whether as upper-level managers or
summer interns. How many of them demand the degree of skills in, say,
Java, that are taught in &lt;span class="caps"&gt;CS&lt;/span&gt; classes? Most of them ask for Python, Ruby,
&lt;span class="caps"&gt;PHP&lt;/span&gt;, maybe some Java. But more importantly, the jobs aren&amp;#8217;t
programming-centric. As many have said, all of the software that&amp;#8217;s
needed is already out there. The modern emphasis in &lt;span class="caps"&gt;IT&lt;/span&gt; is on providing a
service - on SLAs, uptime, optimization, security, and incident
response. Not on developing new systems in low-level languages, but in
synthesizing many assets into a coherent, high-availability system with
as much transparency to the user as&amp;nbsp;possible.&lt;/p&gt;
&lt;p&gt;Just have a look at the Rutgers &lt;span class="caps"&gt;CS&lt;/span&gt; course catalog: Data structures,
Discreet structures, numerical methods, design and analysis of
algorithms, compilers, operating systems design, artificial
intelligence. Sure, that&amp;#8217;s nice. &lt;em&gt;Where is something that will prepare
me for a&amp;nbsp;career?&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Not one course in an overview of Information Technology. Where&amp;#8217;s
networking? Where&amp;#8217;s systems management/administration? How about a
course in embedded systems design, or internet/intranet security?
There&amp;#8217;s not even an intro course to&amp;nbsp;Unix.&lt;/p&gt;
&lt;p&gt;Yes, these courses provide lots of information so I can know what my
computer is doing at every step of the way. But why do I need a semester
of algorithm design when there&amp;#8217;s a world of open-source software at my
fingertips? Why should I know operating system design, when 99% of it is
done by a relatively small group of&amp;nbsp;people?&lt;/p&gt;
&lt;p&gt;It seems to be just what Mr. McBride mentioned in his article - at least
here at Rutgers, they are trying to haul up the drawbridge, to educate a
small minority of elite programmers. Where are the skills that myself,
and people my age, need when looking for a job? Internet applications,
firewall/router design, embedded systems, languages like Python, Ruby,
Perl, and other scripting languages that allow me to quickly and
efficiently accomplish a task? Is it really true that a degree in &lt;span class="caps"&gt;CS&lt;/span&gt; is
actually just &amp;#8220;a degree&amp;#8221;, a prerequisite for a job, and everything else
should be learned on our&amp;nbsp;own?&lt;/p&gt;
&lt;p&gt;My data structures class is a perfect example. One of our projects was
using Java and Linked Lists to implement a crude example of string
comparison in a security application. Why would I do that when I can
store the data in a MySQL database and write a simple script to perform
comparisons? There&amp;#8217;s not even an introductory systems course. Are we
really aiming to educate programmers who have never seen a tape drive,
who have never had an introduction to scripting languages, how to
perform a good system backup, or how to secure their&amp;nbsp;workstations?&lt;/p&gt;</summary></entry><entry><title>APC AP9605 PowerNet SNMP Card</title><link href="http://blog.jasonantman.com/2007/03/apc-ap9605-powernet-snmp-card/" rel="alternate"></link><updated>2007-03-01T17:09:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-03-01:2007/03/apc-ap9605-powernet-snmp-card/</id><summary type="html">&lt;p&gt;In the theme of upgrades, I also purchased two &lt;span class="caps"&gt;APC&lt;/span&gt; SmartUPS1000 units
from refurbUPS.com. Now, I know that a lot of people are perfectly happy
with serial connectivity. And it has its positives. But I&amp;#8217;m running 2-3
servers per &lt;span class="caps"&gt;UPS&lt;/span&gt;, older servers, wanted to be able to monitor the UPSs,
and perhaps control server shutdown, over the network.. So, I found that
refurbUPS.com also sells &lt;span class="caps"&gt;SNMP&lt;/span&gt; management cards for them. They sell a
refurbished &lt;span class="caps"&gt;AP9605&lt;/span&gt; - it&amp;#8217;s an old 10BaseT PowerNet &lt;span class="caps"&gt;SNMP&lt;/span&gt;-only card (with
telnet management). Seemed good, and the price of $15 was&amp;nbsp;right.&lt;/p&gt;
&lt;p&gt;They showed up, but I couldn&amp;#8217;t find much about them online, let alone
anything&amp;nbsp;useful.&lt;/p&gt;
&lt;p&gt;After a phone call to &lt;span class="caps"&gt;APC&lt;/span&gt;, I managed to get the user&amp;#8217;s manual emailed to
me. The few instructions I found online were totally&amp;nbsp;wrong.&lt;/p&gt;
&lt;p&gt;The general setup goes like&amp;nbsp;this:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Connect network cable to&amp;nbsp;card.&lt;/li&gt;
&lt;li&gt;Connect serial cable between a computer and the &lt;span class="caps"&gt;UPS&lt;/span&gt;&amp;#8217;s serial&amp;nbsp;port.&lt;/li&gt;
&lt;li&gt;Get a terminal emulator, like
    &lt;a href="http://alioth.debian.org/projects/minicom"&gt;minicom&lt;/a&gt;. Speed is&amp;nbsp;2400bps.&lt;/li&gt;
&lt;li&gt;connect and press enter. You&amp;#8217;ll be asked for a username and
    password. Use &amp;#8220;apc&amp;#8221; for&amp;nbsp;both.&lt;/li&gt;
&lt;li&gt;5) Setup the network - &lt;span class="caps"&gt;IP&lt;/span&gt;, mask, gateway,&amp;nbsp;etc.&lt;/li&gt;
&lt;li&gt;Ready-to-go!&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I also have some information about the card on my wiki at:
&lt;a href="http://wiki.jasonantman.com/index.php/AP9605"&gt;&lt;span class="caps"&gt;AP9605&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;</summary><category term="ap9605"></category><category term="apc"></category><category term="powernet"></category><category term="snmp"></category><category term="UPS"></category></entry><entry><title>Managing G1 Proliant Servers with modern Linux</title><link href="http://blog.jasonantman.com/2007/03/managing-g1-proliant-servers-with-modern-linux/" rel="alternate"></link><updated>2007-03-01T16:27:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-03-01:2007/03/managing-g1-proliant-servers-with-modern-linux/</id><summary type="html">&lt;p&gt;Not much of an &amp;#8220;upgrade&amp;#8221; for anyone who&amp;#8217;s in &lt;span class="caps"&gt;IT&lt;/span&gt;, but jasonantman.com is
currently being upgraded from old desktops used as servers to a pile of
generation-1 (G1) &lt;span class="caps"&gt;HP&lt;/span&gt;/Compaq Proliants. I know that there are utilities
for Linux to manage the servers, specifically control fan speed and
monitor hardware-level health for Linux. However, the most recent
download on &lt;span class="caps"&gt;HP&lt;/span&gt;&amp;#8217;s site is for &lt;span class="caps"&gt;SLES9&lt;/span&gt;. All of my boxes will be running
openSuSE 10.2, and the &lt;span class="caps"&gt;SLES9&lt;/span&gt; version wouldn&amp;#8217;t install on&amp;nbsp;them.&lt;/p&gt;
&lt;p&gt;After an hour long phone call to &lt;span class="caps"&gt;HP&lt;/span&gt; support, I ended up speaking with
Paulo, the third support person I was transferred to. #1 read off the
web site, #2 knew what Linux was, but Paulo (#3) actually told me that
he was experimenting with installing &lt;span class="caps"&gt;HPASM&lt;/span&gt; (&lt;span class="caps"&gt;HP&lt;/span&gt;&amp;#8217;s server
administration/management utility) on an older Proliant as well. He
spent about half an hour walking me through it. Here&amp;#8217;s what I&amp;nbsp;found:&lt;/p&gt;
&lt;p&gt;The most compatible version of &lt;span class="caps"&gt;HPASM&lt;/span&gt; (I guess it&amp;#8217;s some hidden feature
for people who know it) is the version for the &lt;span class="caps"&gt;DL380&lt;/span&gt; G4. Paulo
instructed me to download this &lt;span class="caps"&gt;RPM&lt;/span&gt; from their site. I did, choosing the
&lt;span class="caps"&gt;SLES10&lt;/span&gt; (x86) download (hpasm-7.7.0-115.sles10.i586.rpm). This installed
fine. Running &lt;code&gt;hpasm status&lt;/code&gt; from the command line asks us to activate
it first. Do the activation. Now, running &lt;code&gt;hpasm status&lt;/code&gt; still asks us
to activate. Paulo confirmed this as happening on his machine too. Try
&lt;code&gt;/etc/init.d/hpasm status&lt;/code&gt; and you should see that all of the modules
are&amp;nbsp;working.&lt;/p&gt;
&lt;p&gt;Now, the install is complete. I&amp;#8217;m not sure if the &lt;span class="caps"&gt;SNMP&lt;/span&gt; works, but it
should as long as your snmpd is running. The &lt;code&gt;hpasm activate&lt;/code&gt; command
modifies snmpd.conf appropriately. and you will be queried for the
currect configuration&amp;nbsp;information.&lt;/p&gt;
&lt;p&gt;To give it a test, run &lt;code&gt;hplog -f&lt;/code&gt; or &lt;code&gt;hplog -p&lt;/code&gt; and you should see fan
and power status,&amp;nbsp;respectively.&lt;/p&gt;
&lt;p&gt;Paulo also told me that I could download the hpadu package (also &lt;span class="caps"&gt;DL380&lt;/span&gt;
G4 / &lt;span class="caps"&gt;SLES10&lt;/span&gt;) to get array diagnostics, He warned me that some of the
install scripts in &lt;span class="caps"&gt;HPADU&lt;/span&gt; look for the web management homepage, which we
haven&amp;#8217;t installed. To get around this, install the &lt;span class="caps"&gt;HPADU&lt;/span&gt; &lt;span class="caps"&gt;RPM&lt;/span&gt; file
(hpadu-7.70-12.linux.rpm)
&lt;code&gt;rpm -ivh --force --nodeps --noscripts hpadu-7.70-12.linux.rpm&lt;/code&gt;. Be
aware, though, that this package is supposed to be web-based. It
installs to&amp;nbsp;/opt/hp/hpadu.&lt;/p&gt;
&lt;p&gt;The web interface, luckily for me, is written in &lt;span class="caps"&gt;PHP&lt;/span&gt;. It is pretty
complex so it might take me a while to figure out the workings, but when
I do, I&amp;#8217;ll post as much info as I can on how to make a &lt;span class="caps"&gt;CLI&lt;/span&gt; interface, or
where one exists if I can find&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;Also, I&amp;#8217;ll most likely develop a Python check script to use with
&lt;a href="http://www.nagios.org"&gt;Nagios&lt;/a&gt; to monitor most of the hpasm-enabled&amp;nbsp;components.&lt;/p&gt;
&lt;p&gt;For the use of anyone else, here are some of the links that &lt;span class="caps"&gt;HP&lt;/span&gt; Support
sent me after the&amp;nbsp;call:&lt;/p&gt;
&lt;p&gt;Link for users guide for Proliant Support Pack, which includes
documentation on &lt;span class="caps"&gt;HPASM&lt;/span&gt; from the&amp;nbsp;&lt;span class="caps"&gt;CLI&lt;/span&gt;:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://h18000.www1.hp.com/support/files/server/us/WebDoc/720/psp-users-guide.pdf"&gt;http://h18000.www1.hp.com/support/files/server/us/WebDoc/720/psp-users-guide.pdf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Product&amp;nbsp;manuals:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://h20180.www2.hp.com/apps/Nav?h_pagetype=s-003&amp;amp;h_lang=en&amp;amp;h_cc=us&amp;amp;h_product=241435&amp;amp;h_page=hpcom&amp;amp;h_client=z-a-r1002-3&amp;amp;cc=us〈=en"&gt;http://h20180.www2.hp.com/apps/Nav?h_pagetype=s-003&amp;amp;h_lang=en&amp;amp;h_cc=us&amp;amp;h_product=241435&amp;amp;h_page=hpcom&amp;amp;h_client=z-a-r1002-3&amp;amp;cc=us〈=en&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class="caps"&gt;ML370&lt;/span&gt;&amp;nbsp;G1&lt;/p&gt;
&lt;p&gt;&lt;a href="http://h20000.www2.hp.com/bc/docs/support/UCR/SupportManual/TPM_143091-004/TPM_143091-004.pdf"&gt;http://h20000.www2.hp.com/bc/docs/support/&lt;span class="caps"&gt;UCR&lt;/span&gt;/SupportManual/TPM_143091-004/TPM_143091-004.pdf&lt;/a&gt;&lt;/p&gt;</summary><category term="compaq"></category><category term="hp"></category><category term="hpadu"></category><category term="hpasm"></category><category term="linux"></category><category term="management"></category><category term="proliant"></category><category term="psp"></category></entry><entry><title>Relational / Object-Oriented Asset Management</title><link href="http://blog.jasonantman.com/2007/02/relational-object-oriented-asset-management/" rel="alternate"></link><updated>2007-02-21T16:27:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-02-21:2007/02/relational-object-oriented-asset-management/</id><summary type="html">&lt;p&gt;I just purchased four new servers, and set out to find some good asset
management software. Specifically, I&amp;#8217;m looking for a &lt;span class="caps"&gt;PHP&lt;/span&gt; package that
allows me to track the details of all of my hardware. While software and
configuration tracking would surely be good for some applications, I
already have a package to handle&amp;nbsp;that.&lt;/p&gt;
&lt;p&gt;I searched a few popular sites, including SourceForge, and came up with
a dozen or so possibilities that looked good. They varied in level of
detail and features, but all had one common failure - they lack an
object-oriented or relational approach. What do I mean by that? Most of
them are designed so that you enter data in a form, it goes into a
database, and exists just as a table of data. Devices, networks, etc.
exist&amp;nbsp;independently.&lt;/p&gt;
&lt;p&gt;What do I want? An object-oriented approach that can handle
relationships between objects, and hierarchies. Lets design a few
objects as examples: We&amp;#8217;ll have Networks, Servers, Interfaces, Switches,
Hard Drives, and UPSs. They each represent the real-world hardware. An
interface, for our purposes, will be a physical way of connecting two
devices - an &lt;span class="caps"&gt;NIC&lt;/span&gt;, serial line,&amp;nbsp;etc.&lt;/p&gt;
&lt;p&gt;If you&amp;#8217;re experienced in object-oriented programming, you can think of
relationships as inheritance, with an added capability of other&amp;nbsp;references.&lt;/p&gt;
&lt;p&gt;Our Server object will represent a real-world server. It has components
(other objects) such as Interfaces, Hard Drives, and&amp;nbsp;others.&lt;/p&gt;
&lt;p&gt;How does this all pull&amp;nbsp;together?&lt;/p&gt;
&lt;p&gt;We define, in our asset management software, a Server which has one
Interface (Ethernet &lt;span class="caps"&gt;NIC&lt;/span&gt; called &amp;#8220;&lt;span class="caps"&gt;NIC1&lt;/span&gt;&amp;#8221;) and three Hard Drives (called
&lt;span class="caps"&gt;HDD1&lt;/span&gt;-&lt;span class="caps"&gt;HDD3&lt;/span&gt;). The Interface, in turn belongs to a Network (&lt;span class="caps"&gt;LAN&lt;/span&gt;/&lt;span class="caps"&gt;VLAN&lt;/span&gt;), and
has a field called &amp;#8220;connection&amp;#8221; which references a Interface of a Switch
object, specifically Interface &amp;#8220;Port1&amp;#8221; on Switch &amp;#8220;Switch1&amp;#8221;. We&amp;#8217;ll define
one Network called &amp;#8220;&lt;span class="caps"&gt;LAN&lt;/span&gt;&amp;#8221; which is identified by the 192.168.0 &lt;span class="caps"&gt;IP&lt;/span&gt; range
(a field of the Network object). We create a Switch object, which
belongs to &lt;span class="caps"&gt;LAN&lt;/span&gt;, has &lt;span class="caps"&gt;IP&lt;/span&gt; 192.168.0.2, and has 24 Interfaces, called
&amp;#8220;Port1&amp;#8221; through &amp;#8220;Port24&amp;#8221;. This represents a BayStack 450-24T Ethernet
switch. We&amp;#8217;ll also define a &lt;span class="caps"&gt;UPS&lt;/span&gt; called &amp;#8220;SmartUPS&amp;#8221;, which in turn has an
Interface which is part of &amp;#8220;&lt;span class="caps"&gt;LAN&lt;/span&gt;&amp;#8221;, Connected to Switch1 on&amp;nbsp;Port21.&lt;/p&gt;
&lt;p&gt;Now, you see the concept beginning to emerge. We have, in essence, an
inter-related mesh of objects representing physical hardware and its&amp;#8217;
properties. This can all be thought of in a three-dimensional form,
which represents the connections and relationships in our&amp;nbsp;network.&lt;/p&gt;
&lt;p&gt;The main two advantages of this approach&amp;nbsp;are:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The ability to quickly recognize relationships between objects. If,
for example, we looked at a summary page in Switch1, we would see a
number of static fields describing its properties (manufacturer, model,
&lt;span class="caps"&gt;IP&lt;/span&gt;, &lt;span class="caps"&gt;MAC&lt;/span&gt;, etc.) as well as a diagram of its&amp;#8217; relationships. Such a
diagram would look something&amp;nbsp;like:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;Port1  -&amp;gt; NIC1 -&amp;gt; Server1
Port21 -&amp;gt; SmartSlotCard1 -&amp;gt; UPS1
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;It would also have a listing of Networks which this device is a member
of,&amp;nbsp;specifically:&lt;/p&gt;
&lt;p&gt;&lt;span class="caps"&gt;LAN&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;In practice, on a web interface, each one of these entries would be a
link to that object&amp;#8217;s summary. Clicking on &lt;span class="caps"&gt;LAN&lt;/span&gt;, &lt;span class="caps"&gt;UPS1&lt;/span&gt;, Server1, etc.
would show us the summary of that object, so that we can browse through
our physical network. Clicking on &lt;span class="caps"&gt;LAN&lt;/span&gt;, for example, would show &lt;span class="caps"&gt;LAN&lt;/span&gt;&amp;#8217;s
properties, as well as all devices that are members of &lt;span class="caps"&gt;LAN&lt;/span&gt; (related to&amp;nbsp;it).&lt;/p&gt;
&lt;p&gt;The power of such an approach also relies on binding objects to specific
pieces of hardware. For example, the disk drives in Server1 (&lt;span class="caps"&gt;HDD1&lt;/span&gt;, &lt;span class="caps"&gt;HDD2&lt;/span&gt;,
&lt;span class="caps"&gt;HDD3&lt;/span&gt;) would in turn be references to objects representing actual
physical assets. We can then move these assets around. For example,
let&amp;#8217;s say that we assign a unique serial number of 000306 at a physical
hard drive. We now create an object for it, and reference &lt;span class="caps"&gt;HDD3&lt;/span&gt; in
Server1 to this object. If we reconfigure Server1 (physically) by
removing &lt;span class="caps"&gt;HDD1&lt;/span&gt; (000306) and place it on a shelf, we could then edit
Server1&amp;#8217;s &lt;span class="caps"&gt;HDD3&lt;/span&gt; object to be &amp;#8220;empty&amp;#8221;, and have 000306 reassigned to an
object &amp;#8220;Shelf02&amp;#8221; that represents a physical storage location. By viewing
the summary for Server1, we would see that &lt;span class="caps"&gt;HDD3&lt;/span&gt; is &amp;#8220;empty&amp;#8221;, but if we
viewed Shelf02, we would see that 000306 is there, waiting to be used.
When we add a server, Server2, we could assign 000306 to that server,
as, say,&amp;nbsp;&lt;span class="caps"&gt;HDD2&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;To give another example, &lt;span class="caps"&gt;UPS1&lt;/span&gt; is an uninterruptible power supply. We can
&amp;#8220;assign&amp;#8221; devices to it, such as Switch1 and Server1. Viewing a summary
for &lt;span class="caps"&gt;UPS1&lt;/span&gt; would show us that Switch1 and Server1 are connected to it.
Similarly, viewing the summary for either Server1 or Switch1 would show
us that they are connected to &lt;span class="caps"&gt;UPS1&lt;/span&gt;. If we add &lt;span class="caps"&gt;UPS2&lt;/span&gt;, we could simply edit
the Server1 object so that it is connected to &lt;span class="caps"&gt;UPS2&lt;/span&gt;, and the &lt;span class="caps"&gt;UPS1&lt;/span&gt; and
&lt;span class="caps"&gt;UPS2&lt;/span&gt; objects would show this change&amp;nbsp;automatically.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Historical tracking. Every change would be accompanied by a person
responsible, a date and time, a reason, and perhaps other information.
Exactly how this would be implemented is not decided (whether
relationships would be marked as &amp;#8216;deleted&amp;#8217; or whether changes would be
held in a separate table in the database), but the idea is that any
object would also contain a history of relationships. From our previous
examples, if we viewed a summary of Server1, we would see that the
connection to &lt;span class="caps"&gt;UPS1&lt;/span&gt; was severed on a specific date due to a reason such
as &amp;#8220;overload&amp;#8221; and on that same date, the current connection to &lt;span class="caps"&gt;UPS2&lt;/span&gt; was
established. Similarly, if we view the summary for &lt;span class="caps"&gt;HDD2&lt;/span&gt; on Server2, we
would see that the object represents real-world hardware asset #000306.
Viewing the summary for 000306 would show us that it is a 18.2 Gb &lt;span class="caps"&gt;SCSI&lt;/span&gt;
drive in a Compaq hot-swap tray, and that it was originally installed in
Server1, but moved on a certain date for a certain reason to Shelf02,
and then later moved to&amp;nbsp;Server2.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The implementation of this concept would most likely come about as a
web-based &lt;span class="caps"&gt;PHP&lt;/span&gt; front-end with a MySQL database back-end. In order to
achieve good functionality, there would be a simple interface with quick
execution of common tasks. Most likely, the names I have used such as
Server1, &lt;span class="caps"&gt;UPS1&lt;/span&gt;, &lt;span class="caps"&gt;HDD3&lt;/span&gt; on Server1, etc. would just be reference names to a
real-world hardware object, and its&amp;#8217; data object representation,
identified by a unique &lt;span class="caps"&gt;ID&lt;/span&gt;. For example, the name &lt;span class="caps"&gt;HDD3&lt;/span&gt; on Server1 would
really just be a reference to 000306, a Hard Drive&amp;nbsp;object.&lt;/p&gt;
&lt;p&gt;If we physically removed this drive from Server1 and placed it on
Shelf02, we would browse to the Server1 page in our web interface, and
click on &amp;#8220;&lt;span class="caps"&gt;HDD3&lt;/span&gt;&amp;#8221;, which would bring us to a page representing 000306. We
could then click on a &amp;#8220;Move&amp;#8221; link, bringing us to a form. This allows us
to enter our name, date and time, reason, etc. and a new location of
&amp;#8220;Shelf02&amp;#8221;. We click submit and the move information is entered into a
table, which references all associated objects - Server1, &lt;span class="caps"&gt;HDD3&lt;/span&gt; on
Server1, 000306, Shelf02, etc. &lt;span class="caps"&gt;HDD3&lt;/span&gt; on Server1 has the reference to
000306 removed, and a reference to a History object added. Shelf02 has a
reference to the History object, as well as a reference to 000306,&amp;nbsp;added.&lt;/p&gt;
&lt;p&gt;Now, viewing &lt;span class="caps"&gt;HDD3&lt;/span&gt; on Server1 would show that there is no physical device
associated with it (empty), but would give a reference (link) to the
000306 drive, the History entry for the removal, and the current
location of 000306 on&amp;nbsp;Shelf02.&lt;/p&gt;</summary><category term="asset management"></category><category term="asset tracking"></category><category term="IT"></category><category term="object-oriented"></category><category term="relational"></category></entry><entry><title>Why hasn’t Linux caught up to Windows?</title><link href="http://blog.jasonantman.com/2007/02/why-hasnt-linux-caught-up-to-windows/" rel="alternate"></link><updated>2007-02-19T17:20:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-02-19:2007/02/why-hasnt-linux-caught-up-to-windows/</id><summary type="html">&lt;p&gt;Those of us who are involved in the Linux community are often frustrated
by the lack of widespread acceptance of Linux. Granted, I haven&amp;#8217;t used
all of the newest &amp;#8220;desktop&amp;#8221; distributions (&amp;#8216;distros&amp;#8217;), but I know that
my choice - openSuSE - is far from being ready to compete with Windows
for the novice user market. From the first few screens of the
installation, it&amp;#8217;s clear that this isn&amp;#8217;t something for the uninitiated.
However, to get off on a short tangent, openSuSE has also severely
hampered access to the command-line-only, text-mode installation, which
I need in order to install on many of my&amp;nbsp;servers.&lt;/p&gt;
&lt;p&gt;Granted, it will take a lot of work to get Linux to retain its&amp;#8217; strong
points, and still be user-friendly for the non-technical user. However,
there are three main points that I see as being the biggest problems for
new users. All of which, coincidentally, are ones which some people
would bill as strong points of Linux. And they all have to do directly
with some of the founding principles of Linux - interoperability and&amp;nbsp;choice.&lt;/p&gt;
&lt;h2 id="packaging"&gt;Packaging.&lt;/h2&gt;
&lt;p&gt;Searching for a package for a linux system goes something like this:
figure out what package format your distro uses, figure out the distro
version and architecture, and then start checking the online
repositories. If it&amp;#8217;s something simple, you may be able to use a you
distro-specific maintenance program to automatically upgrade it. If not,
you can sift through the myriad online repositories for packages that
fit your package manager (&lt;span class="caps"&gt;RPM&lt;/span&gt;, Apt, etc.) and your distro/architecture.
If you have no luck there, find the package&amp;#8217;s homepage, and hope someone
has contributed packages for your distro and architecture - usually a
hit-or-miss situation. Last but not least, when all else has failed, you
choose either to compile from source yourself, or give up. Compiling
from source not only requires some knowledge of your system, Linux, and
the compilation sequence used by the software - hopefully the generic
&lt;span class="caps"&gt;GNU&lt;/span&gt;-style ./configure, make, make install and not some more esoteric
scheme. Furthermore, compilation requires a whole slew of tools to be
installed on your system - make, gcc, autoconf, and may others,
depending on package. While it&amp;#8217;s not practical for people with limited
resources, homogenous environments, or novice users, I operate in a
largely heterogeneous environment - i586/compatible systems running SuSE
9.3-10.2 - and therefore maintain a dedicated system for compilation, if&amp;nbsp;merited.&lt;/p&gt;
&lt;p&gt;All of this complexity just enforces the novice&amp;#8217;s idea that there is not
much software available for Linux, as many novices are limited (due to
technical knowledge) to the packages that come with their&amp;nbsp;&lt;span class="caps"&gt;OS&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;While there are a few schemes to standardize all of this, the real
solution is quite complex, and would be based on a single package system
to be adopted by all distros (beginning with the main ones). Such a
system should have the following&amp;nbsp;features:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Ability to work easily with all&amp;nbsp;distros&lt;/li&gt;
&lt;li&gt;I main configuration file which can define which directories to use -
i.e. /etc, /bin,&amp;nbsp;etc.&lt;/li&gt;
&lt;li&gt;Support for both simple, novice-oriented interfaces and expert-level&amp;nbsp;configuration&lt;/li&gt;
&lt;li&gt;Multiple interfaces, including command-line, text/ncurses, &lt;span class="caps"&gt;GTK&lt;/span&gt;, and
other graphical&amp;nbsp;subsystems&lt;/li&gt;
&lt;li&gt;A generalized package format that is&amp;nbsp;non-distro-specific&lt;/li&gt;
&lt;li&gt;Integration with an online master-list of&amp;nbsp;repositories&lt;/li&gt;
&lt;li&gt;Ability to search, download, and install packages from these&amp;nbsp;repositories&lt;/li&gt;
&lt;li&gt;Automatic update&amp;nbsp;ability&lt;/li&gt;
&lt;li&gt;Ability to mine the repositories for updates, and display a list on
screen or emailed to a user&amp;nbsp;account&lt;/li&gt;
&lt;li&gt;Very good tools for easy compilation from&amp;nbsp;source.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Some of these ideas would be incorporated in the tool itself, and some
as add-on&amp;nbsp;modules.&lt;/p&gt;
&lt;p&gt;The features that I, as administrator of a largely heterogeneous network
of about 10 machines, would most like to see&amp;nbsp;are:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Truly automatic updates via list - select which packages can be
automatically updated, and run a cron job nightly to check for any
updates for those packages and automatically get and install&amp;nbsp;them.&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;LAN&lt;/span&gt;-based updating - A single server on the &lt;span class="caps"&gt;LAN&lt;/span&gt; maintains a list
(perhaps gathered via an automatic tool) of &lt;span class="caps"&gt;ALL&lt;/span&gt; packages installed on
&lt;span class="caps"&gt;ALL&lt;/span&gt; &lt;span class="caps"&gt;LAN&lt;/span&gt; machines. Each night the configured clients will update this
list over the network, and then the master server will download all
available updates for all packages. Once this is complete, it will send
a message to all &lt;span class="caps"&gt;LAN&lt;/span&gt; machines, which will then update their software
from the central repository on the &lt;span class="caps"&gt;LAN&lt;/span&gt;. This would, in effect,
automatically keep all &lt;span class="caps"&gt;LAN&lt;/span&gt; machines on the same version of each
package and totally&amp;nbsp;up-to-date.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Kernel updates would be done manually, but should have an option for the
administrator to push the update to all&amp;nbsp;machines.&lt;/p&gt;
&lt;h2 id="distro-specific-tools-filesystem-layout-etc"&gt;Distro-specific tools, filesystem layout,&amp;nbsp;etc.&lt;/h2&gt;
&lt;p&gt;This is not only a barrier for novice users, but experienced users as
well. If you do a search online for Linux training, you will surely come
by a nubmer of certifications - &lt;span class="caps"&gt;NCLE&lt;/span&gt;, &lt;span class="caps"&gt;RHCE&lt;/span&gt;, etc. The many distinct
certifications - offered by each Linux vendor and independent training
companies - underscore the inherent differences in Linux distributions.
While I&amp;#8217;m perfectly comfortable working with SuSE Linux (by Novell), if
I was to sit down in front of a Gentoo system, I would probably be
totally&amp;nbsp;lost.&lt;/p&gt;
&lt;p&gt;While the &lt;span class="caps"&gt;LSB&lt;/span&gt; project (http://www.linux-foundation.org/en/&lt;span class="caps"&gt;LSB&lt;/span&gt;) has aimed
to provide compatibility between distros, there are three main points
which must still be&amp;nbsp;addressed:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The organization of filesystems on different distros, specifically
the directory tree and default locations for certain components, still
differs. In the interest of usability, the Linux directory tree should
be standardized, so that locations of programs, files, etc. will be
identical across&amp;nbsp;distributions.&lt;/li&gt;
&lt;li&gt;An effort needs to be made to make administration as similar as
possible across all distros. This means that program names,
functionality, location, etc. should be standardized as much as&amp;nbsp;possible.&lt;/li&gt;
&lt;li&gt;It seems that each distro has its&amp;#8217; own administration tool - YaST for
SuSE, and others for other distros. An effort needs to be made to
develop a tool encompassing all of the features in one, distro-neutral
form. Webmin (www.webmin.com) has done this wonderfully in a web-based
interface, but attention should be focused on a text-mode console
version as&amp;nbsp;well.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="gui"&gt;&lt;span class="caps"&gt;GUI&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;Perhaps the biggest hurdle for novices using Linux, and the biggest
development challenge, is general ease of use. While the above two
points may fall into this category, I am specifically referring to the
general, day-to-day use of the operating&amp;nbsp;system.&lt;/p&gt;
&lt;p&gt;While I will not begin to suggest solutions, the main problems that I
see are as&amp;nbsp;follows:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The stability and security of Linux must be kept intact, unlike
distros such as&amp;nbsp;Lindows.&lt;/li&gt;
&lt;li&gt;There must remain a way for advanced users to perform advanced&amp;nbsp;tasks.&lt;/li&gt;
&lt;li&gt;As much of the inner workings should be hidden from the end-user as
possible, unless specifically&amp;nbsp;requested.&lt;/li&gt;
&lt;li&gt;I good system would have a field added to a users&amp;#8217; &lt;span class="caps"&gt;GECOS&lt;/span&gt; data
specifying their level of &amp;#8220;novice-ness&amp;#8221; - i.e. allowing a dumbed-down
interface for users while retaining a full interface with Expert
features for those who want&amp;nbsp;it.&lt;/li&gt;
&lt;li&gt;&lt;span class="dquo"&gt;&amp;#8220;&lt;/span&gt;Mysterious&amp;#8221; things such as file permissions should be hidden from
novice-level users when not absolutely&amp;nbsp;needed.&lt;/li&gt;
&lt;li&gt;There must be a strong integration with &amp;#8220;anti-mistake&amp;#8221; tools and &lt;span class="caps"&gt;DWIM&lt;/span&gt;
technology. The system itself should manage file permissions in a way
that grants only the minimum needed&amp;nbsp;access.&lt;/li&gt;
&lt;li&gt;There should be good, strong mistake detection, specifically in terms
of catching a user&amp;#8217;s inadvertent changing of file permissions, deleting
required files,&amp;nbsp;etc.&lt;/li&gt;
&lt;li&gt;Tools should be built so that the novice user is never required to
login as root or run a root&amp;nbsp;shell.&lt;/li&gt;
&lt;li&gt;Perhaps, and I&amp;#8217;m sure this is controversial, the root account should
be given either &lt;span class="caps"&gt;CLI&lt;/span&gt;-only access, or should not have X running by
default, so as to discourage novice users from running day-to-day tasks
as&amp;nbsp;root.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I&amp;#8217;m sure I&amp;#8217;ve missed a lot, and have also probably mentioned a number of
things that are already in place. However, the bottom line is that Linux
has to be able to achieve the easy of use and interoperability (between
distros) that Windows currently has, while retaining the extensibility,
advanced features, security, and stability that make Linux what it&amp;nbsp;is.&lt;/p&gt;</summary><category term="compatibility"></category><category term="development"></category><category term="distribution"></category><category term="linux"></category><category term="novice"></category><category term="windows"></category></entry><entry><title>Support Open Source</title><link href="http://blog.jasonantman.com/2007/02/support-open-source/" rel="alternate"></link><updated>2007-02-08T18:09:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-02-08:2007/02/support-open-source/</id><summary type="html">&lt;p&gt;I get paid tomorrow, and it&amp;#8217;s time to spend some money. Sure, there are
some great toys out there. The stuff from
&lt;a href="http://www.thinkgeek.com"&gt;ThinkGeek&lt;/a&gt; is always great. What about that
monitoring server I want? Or upgrading my &lt;span class="caps"&gt;LAN&lt;/span&gt; to gigabit&amp;nbsp;copper?&lt;/p&gt;
&lt;p&gt;Of course, there are also many charitable causes. The homeless. Cancer.
Strippers without&amp;nbsp;implants.&lt;/p&gt;
&lt;p&gt;But this week, I&amp;#8217;m going to do something different. I use Open Source
software. My computers run Linux, this site is hosted by Apache, I use
Firefox as a browser. I didn&amp;#8217;t pay for any of these. But maybe I should,
and the rest of us should too. What&amp;#8217;s your favorite Open Source project?
They probably accept donations. Projects like Mozilla and Apache even
sell merchandise where some of the profit goes to support development.
Organizations like the Free Software Foundation (&lt;span class="caps"&gt;FSF&lt;/span&gt;) and the Open
Source Initiative (&lt;span class="caps"&gt;OSI&lt;/span&gt;) also accept donations, which they allocate to
legal defense funds and grants to open-source&amp;nbsp;projects.&lt;/p&gt;
&lt;p&gt;So, this week, I&amp;#8217;m going to do some&amp;nbsp;good.&lt;/p&gt;
&lt;p&gt;And for the rest of you, next time you notice a bug or miss a feature in
an open-source project, just think&amp;#8230; if everyone who used it donated
$10, would it still be&amp;nbsp;missing?&lt;/p&gt;</summary></entry><entry><title>The Big Name consipracy - and SSL certs</title><link href="http://blog.jasonantman.com/2007/02/the-big-name-consipracy-and-ssl-certs/" rel="alternate"></link><updated>2007-02-06T02:28:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-02-06:2007/02/the-big-name-consipracy-and-ssl-certs/</id><summary type="html">&lt;p&gt;So I decided to setup &lt;span class="caps"&gt;SSL&lt;/span&gt; on my Apache server. After looking around for
ages, it seems that the answer to &lt;span class="caps"&gt;SSL&lt;/span&gt; Certs is that I need to buy one.
There doesn&amp;#8217;t seem to be any &lt;span class="caps"&gt;CA&lt;/span&gt; out there who will provide free certs
that are accepted by most&amp;nbsp;browsers.&lt;/p&gt;
&lt;p&gt;So, this brings me into one of my favorite diatribes. The &amp;#8220;Big Name&amp;#8221;
Conspiracy, as I like to call&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;Many many years ago, leading computer researchers began to connect their
systems into a worldwide (or at least nationwide) network. The admin of
each machine was trusted. There was a hosts.txt file distributed. Then
computers came to the home, and with them, serial modems and
connectivity. In the brief time before the &amp;#8216;net turned into a wasteland,
it was free. Free as in if you had a phone line, the hardware, and the
knowledge, you could setup your own &lt;span class="caps"&gt;BBS&lt;/span&gt; or other&amp;nbsp;server.&lt;/p&gt;
&lt;p&gt;Skip forward to 2007. I pay exorbitant rates (well, about $40/month) for
a residential fiber-optic connection. A few people I know can&amp;#8217;t view my
web site. Why? Because Verizon, my &lt;span class="caps"&gt;ISP&lt;/span&gt;, blocks incoming traffic on port
80 so that I can&amp;#8217;t run a server. And they won&amp;#8217;t give me a static &lt;span class="caps"&gt;IP&lt;/span&gt;, so
I can&amp;#8217;t run a server. Thankfully, the folks at DynDNS.org are fighting
for us, and they give me free &lt;span class="caps"&gt;DNS&lt;/span&gt;, which I can even forward my domain
name to. To get around Verizon, I forward &lt;span class="caps"&gt;HTTP&lt;/span&gt; traffic to a high-number
unused port. Well, what do you know, a number of corporate Internet
filters block all web traffic going to ports other than the&amp;nbsp;defaults.&lt;/p&gt;
&lt;p&gt;I wanted to send mail from a Linux machine. So, I configured Postfix and
sent mail. Worked perfectly to a few addresses, but &lt;span class="caps"&gt;AOL&lt;/span&gt;, Verizon,
Hotmail, Gmail, big companies - forget it. Rejected. Why? Because I have
a dynamic &lt;span class="caps"&gt;IP&lt;/span&gt;, and my domain name doesn&amp;#8217;t reverse-validate, so I must not
be a legitimate user. There&amp;#8217;s no way around it. Try sending mail from
you@yourdomain.dyndns.org - I have yet to find a mailserver that will
accept&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;What happened to the community environment of the &amp;#8216;net? Yes, I know,
it&amp;#8217;s all in the name of &amp;#8220;bettering&amp;#8221; the &amp;#8216;net, reducing spam, etc. But I
have yet to find anyone who will whitelist my dynamic&amp;nbsp;&lt;span class="caps"&gt;IP&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Maybe I&amp;#8217;m just obtuse. Or angry. But it seems to me that there is a
&amp;#8220;conspiracy&amp;#8221;, perhaps unspoken, among the Big Names out there to
centralize the Internet, to prevent [I]people[/I] from&amp;nbsp;participating.&lt;/p&gt;
&lt;p&gt;I know I&amp;#8217;m not the only person who has noticed this. While there are
many people and companies out there valiantly fighting for freedom on
the Internet, it seems that the majority of big companies, ISPs, hosting
providers, etc. want the &amp;#8216;net to be a one-way medium: content is
provided by those who can pay for leased lines and &lt;span class="caps"&gt;IP&lt;/span&gt; blocks, and
everyone else looks at&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;Running a group of servers - web, &lt;span class="caps"&gt;SMTP&lt;/span&gt;, &lt;span class="caps"&gt;IMAP&lt;/span&gt;, etc. - on a dynamic &lt;span class="caps"&gt;IP&lt;/span&gt;, I
am acutely aware of exactly how much modern Internet technology relies
on the fact that anyone who&amp;#8217;s [I]providing[/I] the content has a static
&lt;span class="caps"&gt;IP&lt;/span&gt; - and can pay the cost associated with&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;Getting back to the &lt;span class="caps"&gt;SSL&lt;/span&gt; cert, why isn&amp;#8217;t there a reputable authority who
provides free certificates? I have unlimited free long distance calls, I
would be more than willing to call the &lt;span class="caps"&gt;DNS&lt;/span&gt; contact number for every
applicant to&amp;nbsp;validate.&lt;/p&gt;
&lt;p&gt;And why hasn&amp;#8217;t anyone developed a method of making a dynamic &lt;span class="caps"&gt;IP&lt;/span&gt; &amp;#8220;look&amp;#8221;
static to the rest of the world - surely &lt;span class="caps"&gt;IANA&lt;/span&gt; should set aside a massive
block of IPv6 for this, if not&amp;nbsp;IPv4.&lt;/p&gt;</summary></entry><entry><title>The ultimate Geek alarm clock!</title><link href="http://blog.jasonantman.com/2007/01/the-ultimate-geek-alarm-clock/" rel="alternate"></link><updated>2007-01-16T22:55:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2007-01-16:2007/01/the-ultimate-geek-alarm-clock/</id><summary type="html">&lt;p&gt;So, here&amp;#8217;s an idea that I&amp;#8217;ve been toying around with for a&amp;nbsp;while.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ve been dong some development on a pair of
&lt;a href="http://www.soekris.com"&gt;Soekris&lt;/a&gt; embedded Linix boards I bought to use
as a firewall/router and &lt;span class="caps"&gt;WAP&lt;/span&gt;. So, naturally, my interest in embedded
systems is piqued. I know that there are some smaller embedded Linux
devices out there. So, the idea is as&amp;nbsp;follows:&lt;/p&gt;
&lt;p&gt;Get an embedded Linux box that is either PoE or uses a hardwired
connection with a wall-wart, or better yet, uses both, so it can be
designed to have PoE as the primary power, with a 9v battery backup (ok,
it won&amp;#8217;t run too long, but can handle minor power losses if the PoE
switch isn&amp;#8217;t on a&amp;nbsp;&lt;span class="caps"&gt;UPS&lt;/span&gt;).&lt;/p&gt;
&lt;p&gt;Attach to it a clock-style &lt;span class="caps"&gt;LED&lt;/span&gt; display, or a matrix &lt;span class="caps"&gt;LED&lt;/span&gt; display, and an
additional really bright red &lt;span class="caps"&gt;LED&lt;/span&gt;, both controlled by software (serial or&amp;nbsp;&lt;span class="caps"&gt;GPIO&lt;/span&gt;).&lt;/p&gt;
&lt;p&gt;The system has one &lt;span class="caps"&gt;RJ&lt;/span&gt;-45 connector for Ethernet (10-BaseT) and a serial
console. The console is a captive login to a setup program to define &lt;span class="caps"&gt;IP&lt;/span&gt;,
etc. but by default uses&amp;nbsp;&lt;span class="caps"&gt;DHCP&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Plug it in, and it queries your &lt;span class="caps"&gt;DHCP&lt;/span&gt; server for an &lt;span class="caps"&gt;NTP&lt;/span&gt; server (or in the
absence of one, uses a default Stratum 2). We re-update the time every
day or so. Now, you have an accurate-to-the-second&amp;nbsp;clock.&lt;/p&gt;
&lt;p&gt;We add a speaker to the box, and have a few default built-in MP3s or
WAVs for alarm tones, and add a &lt;span class="caps"&gt;GPIO&lt;/span&gt; &amp;#8220;snooze&amp;#8221; and &amp;#8220;off&amp;#8221;&amp;nbsp;button.&lt;/p&gt;
&lt;p&gt;The serial console allows setting a daily alarm or two, as well as
selecting one of the default&amp;nbsp;tones.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;The Geekier Part:&lt;/strong&gt;
The alarm clock is controlled by a script called by a Cron job. Now, we
add the miniserv web server and a &lt;span class="caps"&gt;PHP&lt;/span&gt; admin gateway. Login via a
password (user-selectable) and we can upload new audio files for alarms,
as well as adding alarms via the web as cron jobs - now I can program in
my class schedule, and automatically have an alarm at the right time
each day of the&amp;nbsp;week!&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;The Geekiest Part:&lt;/strong&gt;
Remember the matrix display and that additional really bright &lt;span class="caps"&gt;LED&lt;/span&gt;? We
setup simple communication between machines via &lt;span class="caps"&gt;SNMP&lt;/span&gt; or a script on the
clock (called with an Expect script on a remote machine) and we can
activate the super-bright &lt;span class="caps"&gt;LED&lt;/span&gt;, a custom sound, and even a scrolling
message on the &lt;span class="caps"&gt;LED&lt;/span&gt; display (alternates between message and time, of
course) for critical events. Now, when the servers go down, I have
another device (in addition to the &lt;span class="caps"&gt;SMS&lt;/span&gt; alerts on my cell) to tell me to
wake up and deal with it. If we want to get even more fancy, we can
enable a feature through the serial console or web interface that emits
a loud tone for a few seconds and blinks the &lt;span class="caps"&gt;LED&lt;/span&gt; if PoE is lost, or we
can&amp;#8217;t ping a user-selectable address for more than, say, one&amp;nbsp;minute.&lt;/p&gt;
&lt;p&gt;I guess I have too much free time on my&amp;nbsp;hands..&lt;/p&gt;</summary><category term="alarm clock"></category><category term="embedded"></category><category term="geek"></category><category term="PoE"></category></entry><entry><title>Well, I did it…</title><link href="http://blog.jasonantman.com/2006/12/well-i-did-it/" rel="alternate"></link><updated>2006-12-15T18:48:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2006-12-15:2006/12/well-i-did-it/</id><summary type="html">&lt;p&gt;I&amp;#8217;ve been resisting it for quite a while, but in an effort to cut down
on extraneous content on my web sites
(&lt;a href="http://www.jasonantman.com/"&gt;JasonAntman.com&lt;/a&gt;,
&lt;a href="http://www.php-ems-tools.com/"&gt;php-ems-tools.com&lt;/a&gt;, and
&lt;a href="http://www.kc2ozu.com/"&gt;&lt;span class="caps"&gt;KC2OZU&lt;/span&gt;.com&lt;/a&gt;) I decided to give in and setup a&amp;nbsp;blog.&lt;/p&gt;
&lt;p&gt;The content will probably be a smattering of &lt;span class="caps"&gt;IT&lt;/span&gt;, Linux, &lt;span class="caps"&gt;GNU&lt;/span&gt;/Free
Software, &lt;span class="caps"&gt;EMS&lt;/span&gt; (Emergency Medical Services), Ham/Amateur Radio, and other
content. It might not be updated very often, but I plan on putting on
somewhat interesting, informative&amp;nbsp;content.&lt;/p&gt;
&lt;p&gt;-Jason&lt;/p&gt;</summary><category term="introduction"></category></entry></feed>