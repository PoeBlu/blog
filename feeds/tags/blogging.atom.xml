<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Jason Antman's Blog</title><link href="http://blog.jasonantman.com/" rel="alternate"></link><link href="http://blog.jasonantman.com/feeds/tags/blogging.atom.xml" rel="self"></link><id>http://blog.jasonantman.com/</id><updated>2008-12-17T15:58:00-05:00</updated><entry><title>WordPress… Finally!</title><link href="http://blog.jasonantman.com/2008/12/wordpress-finally/" rel="alternate"></link><updated>2008-12-17T15:58:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-12-17:2008/12/wordpress-finally/</id><summary type="html">&lt;p&gt;Well, I finally bit the bullet. I woke up this morning, got in to work
(slow day) and said to myself, &amp;#8220;My blog&amp;#8217;s finally moving to WordPress.
Today.&amp;#8221; So, I read through the docs (really psyched about the Blogger
import feature), downloaded 2.7 (latest), setup the &lt;span class="caps"&gt;DB&lt;/span&gt; and installed
away. Once I did the preliminary things like changing the admin password
and setting up some categories, I set about importing from&amp;nbsp;Blogger.&lt;/p&gt;
&lt;p&gt;Here was the first of the major issues. Though WordPress has really
hyped their Blogger importer, they failed to mention that it is totally
useless if you are self-hosting Blogger and publishing via &lt;span class="caps"&gt;FTP&lt;/span&gt; or &lt;span class="caps"&gt;SFTP&lt;/span&gt;,
as I was. So, after a lengthy consultation with the great oracle of
Google, I dedided I had two options - switch Blogger to publish to
BlogSpot.com and use the &lt;span class="caps"&gt;WP&lt;/span&gt; import tool, or custom hack a script. I must
admit, it felt a bit pointless&amp;#8230; all of my old posts were in a directry
at the same level as &lt;span class="caps"&gt;WP&lt;/span&gt;, it seemed quite stupid to have to jump through
hoops to get that data. Though I&amp;#8217;m not quite sure whether the GData &lt;span class="caps"&gt;API&lt;/span&gt;
really doesn&amp;#8217;t give access to posts if&amp;nbsp;self-hosted.&lt;/p&gt;
&lt;p&gt;I migrated publishing of Blogger to BlogSpot.com
(&lt;a href="http://www.jasonantman.com/jargon/entry.php?id=metasyntactic-variable"&gt;foobarthudgrunt&lt;/a&gt;.blogspot.com),
despite worries about confusing Google or messing up the little bit of
ranking I&amp;#8217;ve been able to gain. It successfully imported all 128 of my
entries, and the few comments. But, as I navigated to the &amp;#8220;Edit&amp;#8221; page to
have a look, an even bigger problem was apparent. All of the tags from
Blogger had ended up as categories in &lt;span class="caps"&gt;WP&lt;/span&gt;. So I had no tags for any of my
posts, and a gazillion categories with only one post in them. Luckily,
the &lt;span class="caps"&gt;DB&lt;/span&gt; schema is pretty sane, and I qickly figured out that both
categories and tags are stored in the &lt;code&gt;wp_term_taxonomy&lt;/code&gt; table, and the
difference between a category and a tag is simply that the &lt;code&gt;taxonomy&lt;/code&gt;
field is either &amp;#8220;category&amp;#8221; or &amp;#8220;post_tag&amp;#8221;, respectively. So, since I
hadn&amp;#8217;t added any posts in &lt;span class="caps"&gt;WP&lt;/span&gt; yet, I just changed &lt;code&gt;taxonomy&lt;/code&gt; to
&amp;#8220;post_tag&amp;#8221; for anything with an &lt;span class="caps"&gt;ID&lt;/span&gt; past the categories I&amp;#8217;d added. And
it seems to have worked&amp;nbsp;beautifully.&lt;/p&gt;
&lt;p&gt;Up next, however, was the hard part: sitting down with my list of
categories and sifting through 128 posts to categorize them. The biggest
pain is the default edit posts table in the admin interface lists 15
posts per page, and with a cursory glance at the source I couldn&amp;#8217;t for
the life of me figure out where that limit is&amp;nbsp;set.&lt;/p&gt;
&lt;p&gt;Next up, I spent some time looking over the configuration options in &lt;span class="caps"&gt;WP&lt;/span&gt;,
updating my About page, and listing things to do in the future (more
static pages, blogroll and links,&amp;nbsp;etc.).&lt;/p&gt;
&lt;p&gt;I was finally ready to setup pretty URLs. And&amp;#8230; sure enough&amp;#8230; I
clicked &amp;#8220;submit&amp;#8221; to apply some changes to the default blog &lt;span class="caps"&gt;URL&lt;/span&gt; (my real
domain, as opposed to the DynDNS domain) and subtitle, and I got kicked
out of the admin interface. Try as I might, I had no luck logging in. I
then found that WordPress doesn&amp;#8217;t log anything anywhere - no MySQL log
and no error messages in the Apache error log. Wondeful. I spent about
an hour looking through the source, figuring out how the auth method
works, and trying to set an &lt;span class="caps"&gt;MD5&lt;/span&gt; password. It was obviously apparent that
the password in the &lt;span class="caps"&gt;DB&lt;/span&gt; for my one user (administrative user) was
generated by PHPass, not &lt;span class="caps"&gt;MD5&lt;/span&gt;, but the auth function was evaluating
anything &gt;= 32 characters as PHPass, and the &lt;span class="caps"&gt;MD5&lt;/span&gt; of my password was 32
characters, so that wouldn&amp;#8217;t work. I tried the &amp;#8220;forgot password&amp;#8221; link
with both username and email, but no mail was being sent. When I reached
the 2-1/2 hour mark, I started instrumenting the login code with some
&lt;code&gt;error_log()&lt;/code&gt; lines to see what was up. I narrowed the problem down to
the block of code starting at lin 48 in &lt;code&gt;wp-include/user.php&lt;/code&gt; -
specifically, according to the comments, no credentials were being
passed but the cookie wasn&amp;#8217;t set. And it&amp;#8217;s silent in that case. So, at
this point, I&amp;#8217;m totally lost. I decided to clear all of my browser&amp;#8217;s
cookies and auth info, and try again. No dice. After nearly 3 hours, I
decided to do a packet capture, and found the horribly simple reason.
Somewhere in the code, &lt;span class="caps"&gt;WP&lt;/span&gt; is evaluating the &amp;#8220;siteurl&amp;#8221; or &amp;#8220;home&amp;#8221; values
from wp_options, and using them instead of just doing relative links.
As a result, when the form submits, Apache keeps returning a 302, and
the form submission never makes it there. Hopefully this won&amp;#8217;t create a
problem when I transition from DynDNS to a real static &lt;span class="caps"&gt;IP&lt;/span&gt; and domain&amp;nbsp;name.&lt;/p&gt;
&lt;p&gt;Next I enabled pretty permalinks, enabled mod_rewrite in the vhost, and
selected a new template for my blog (though I&amp;#8217;m planning on doing some
heavy customization). I didn&amp;#8217;t want to leave the default template up for
too long, in case Google&amp;#8217;s heavy crawling of my site picked up all of
the new content somehow&amp;#8230; I ended up narrowing it down to three themes,
coincidentally all designed by
&lt;a href="http://wordpress.org/extend/themes/profile/mg12"&gt;mg12&lt;/a&gt;:
&lt;a href="http://wordpress.org/extend/themes/blocks2"&gt;Blocks2&lt;/a&gt;,
&lt;a href="http://wordpress.org/extend/themes/inove#post-668"&gt;iNove&lt;/a&gt; or
&lt;a href="http://wordpress.org/extend/themes/elegant-box"&gt;ElegantBox&lt;/a&gt;. I
installed them all on my box and looked at iNove first, and it was love
at first&amp;nbsp;sight.&lt;/p&gt;
&lt;p&gt;So, that&amp;#8217;s where it stands right now. I finally have my blog on
WordPress and running, and have a theme. The action plan for tonight&amp;nbsp;includes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Using RewriteRule and a &lt;span class="caps"&gt;PHP&lt;/span&gt; script to point all of the old Blogger
    URLs to the new WordPress&amp;nbsp;installation.&lt;/li&gt;
&lt;li&gt;Adding some new static content, and top-bar links to my other&amp;nbsp;sites.&lt;/li&gt;
&lt;li&gt;Refining the theme a bit,&amp;nbsp;possibly?&lt;/li&gt;
&lt;li&gt;Adding links to my sites, and to the&amp;nbsp;blogroll.&lt;/li&gt;
&lt;li&gt;Adding the buttons/plugins for del.icio.us, Digg, Slashdot, reddit,&amp;nbsp;etc.&lt;/li&gt;
&lt;li&gt;Redirecting my main blog page to&amp;nbsp;WordPress.&lt;/li&gt;
&lt;li&gt;Redirecting or linking my old feed locations to&amp;nbsp;WordPress.&lt;/li&gt;
&lt;/ul&gt;</summary><category term="blogger"></category><category term="blogging"></category><category term="PHP"></category><category term="wordpress"></category></entry></feed>