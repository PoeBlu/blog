<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Jason Antman's Blog</title><link href="http://blog.jasonantman.com/" rel="alternate"></link><link href="http://blog.jasonantman.com/feeds/tags/grep.atom.xml" rel="self"></link><id>http://blog.jasonantman.com/</id><updated>2010-12-09T09:08:00-05:00</updated><entry><title>Highlighting matches with grep and less</title><link href="http://blog.jasonantman.com/2010/12/highlighting-matches-with-grep-and-less/" rel="alternate"></link><updated>2010-12-09T09:08:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-12-09:2010/12/highlighting-matches-with-grep-and-less/</id><summary type="html">&lt;p&gt;Yes, I haven&amp;#8217;t posted much lately. Just a quick little tip, since it
came in handy&amp;nbsp;today.&lt;/p&gt;
&lt;p&gt;Grep accepts a &lt;code&gt;--color&lt;/code&gt; argument which highlights matches in color
(assuming your terminal supports it). Passing grep &lt;code&gt;--color=always&lt;/code&gt; and
piping the output into &lt;code&gt;less -R&lt;/code&gt; will allow you to scroll through the
colorized output with less. Very handy if you&amp;#8217;re grepping through source
code with long lines or &lt;span class="caps"&gt;SQL&lt;/span&gt;&amp;nbsp;statements.&lt;/p&gt;</summary><category term="color"></category><category term="grep"></category><category term="less"></category><category term="terminal"></category></entry><entry><title>Ignoring SVN directories and save files with grep</title><link href="http://blog.jasonantman.com/2010/10/ignoring-svn-directories-and-save-files-with-grep/" rel="alternate"></link><updated>2010-10-15T07:27:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-10-15:2010/10/ignoring-svn-directories-and-save-files-with-grep/</id><summary type="html">&lt;p&gt;Yes, I know I haven&amp;#8217;t posted anything useful in a while. I&amp;#8217;ve been quite
busy at work, and hopefully I&amp;#8217;ll post some of my &lt;span class="caps"&gt;DHCP&lt;/span&gt; stuff. In the&amp;nbsp;meantime&amp;#8230;&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m starting a project for the &lt;a href="http://www.midlandparkambulance.com/"&gt;ambulance
corps&lt;/a&gt; migrating two Linux boxes
to a single new server. One of them has been in production for about
five years, and (partially due to the &amp;#8220;we need it yesterday&amp;#8221; nature of
emergency services) has quite a bit of cruft laying around. Since almost
everything is web-based (well, browser-based, restricted to the &lt;span class="caps"&gt;LAN&lt;/span&gt;
only), there are a lot of web apps and &lt;span class="caps"&gt;PHP&lt;/span&gt; scripts that need to be
migrated. This is made even more complicated by the switch from SuSE
10.1 (yes, ancient) to CentOS 5.4, and therefore from &lt;code&gt;/srv/www/htdocs&lt;/code&gt;
to &lt;code&gt;/var/www/html&lt;/code&gt;. I could be lazy and symlink it, but I think it&amp;#8217;s
time to search down and destroy any absolute&amp;nbsp;includes.&lt;/p&gt;
&lt;p&gt;The problem with doing this is that, with any scripts in &lt;span class="caps"&gt;SVN&lt;/span&gt;, grepping
for a string could potentially return three hits for a file - the actual
file, the emacs save file (&lt;code&gt;filename~&lt;/code&gt;) and the text file in the &lt;code&gt;.svn&lt;/code&gt;
directory.&lt;/p&gt;
&lt;p&gt;The solution is actually pretty easy. To get rid of the .svn
directories, we add &lt;code&gt;--exclude=\*.svn\*&lt;/code&gt; to our grep command line (yes,
I know, it excludes everything with &amp;#8220;.svn&amp;#8221; in the path, but that&amp;#8217;s
acceptably imprecise for my purposes). To get rid of the tilde (save)
files, all we need is &lt;code&gt;--exclude=\*~&lt;/code&gt;. It&amp;#8217;s no problem to string them
together as &lt;code&gt;grep --exclude=\*~ --exclude=\*.svn\* -rin "foo bar" *&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;To make this even easier, just add to your &lt;code&gt;.bashrc&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="nb"&gt;export &lt;/span&gt;&lt;span class="nv"&gt;GREP_OPTIONS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;--exclude=\*~ --exclude=\*.svn\*&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="grep"></category><category term="linux"></category></entry></feed>