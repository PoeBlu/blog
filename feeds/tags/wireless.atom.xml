<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Jason Antman's Blog - wireless</title><link href="http://blog.jasonantman.com/" rel="alternate"></link><link href="http://blog.jasonantman.com/feeds/tags/wireless.atom.xml" rel="self"></link><id>http://blog.jasonantman.com/</id><updated>2011-01-06T16:06:00-05:00</updated><entry><title>Managing Ubiquiti Networks MAC ACLs from a script</title><link href="http://blog.jasonantman.com/2011/01/managing-ubiquiti-networks-mac-acls-from-a-script/" rel="alternate"></link><published>2011-01-06T16:06:00-05:00</published><updated>2011-01-06T16:06:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2011-01-06:/2011/01/managing-ubiquiti-networks-mac-acls-from-a-script/</id><summary type="html">&lt;p&gt;I have a small web-based tool for allowing members of an organization to
register their wireless &lt;span class="caps"&gt;MAC&lt;/span&gt; addresses, and then automatically adding
them to the &lt;span class="caps"&gt;MAC&lt;/span&gt; &lt;span class="caps"&gt;ACL&lt;/span&gt; on &lt;a href="http://www.ubnt.com"&gt;Ubiquiti&lt;/a&gt; AirOSv2 APs. It&amp;#8217;s
a pretty quick hack, along with a simple and ugly web-based tool, but it
gets the job …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I have a small web-based tool for allowing members of an organization to
register their wireless &lt;span class="caps"&gt;MAC&lt;/span&gt; addresses, and then automatically adding
them to the &lt;span class="caps"&gt;MAC&lt;/span&gt; &lt;span class="caps"&gt;ACL&lt;/span&gt; on &lt;a href="http://www.ubnt.com"&gt;Ubiquiti&lt;/a&gt; AirOSv2 APs. It&amp;#8217;s
a pretty quick hack, along with a simple and ugly web-based tool, but it
gets the job done for a non-profit with only 25 people. After &lt;a href="http://www.ubnt.com/forum/showthread.php?t=21133"&gt;posting
about it on the Ubiquiti
forum&lt;/a&gt; and getting a
request from someone for the code, I decided to put it out there for
anyone who wants it. The script is mostly based on SCPing configs to and
from the &lt;span class="caps"&gt;AP&lt;/span&gt; and SSHing in to run commands, and will need passwordless
public key auth to the&amp;nbsp;&lt;span class="caps"&gt;AP&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;The code itself is in subversion at
&lt;a href="https://github.com/jantman/misc-scripts/tree/master/ubiquiti-mac-acl"&gt;https://github.com/jantman/misc-scripts/tree/master/ubiquiti-mac-acl&lt;/a&gt;.
It&amp;#8217;s composed of four&amp;nbsp;files:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/jantman/misc-scripts/blob/master/ubiquiti-mac-acl/updateAPconfigs.php.inc"&gt;updateAPconfigs.php.inc&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;the main &lt;span class="caps"&gt;PHP&lt;/span&gt; file with three functions for working with the&amp;nbsp;APs&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jantman/misc-scripts/blob/master/ubiquiti-mac-acl/wirelessTools.php"&gt;wirelessTools.php&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;My &lt;span class="caps"&gt;PHP&lt;/span&gt; page for users to add MACs. It&amp;#8217;s pretty rough and is mostly
based on handling our &lt;span class="caps"&gt;LDAP&lt;/span&gt; authentication/group framework, but it
gives a fair example of how I store MACs in a MySQL table and then
rebuild a given &lt;span class="caps"&gt;AP&lt;/span&gt; config file with the current list of MACs. I
doubt it will be useful to anyone else as more than an&amp;nbsp;example.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jantman/misc-scripts/blob/master/ubiquiti-mac-acl/wireless.sql"&gt;wireless.sql&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;The schema for the &lt;span class="caps"&gt;SQL&lt;/span&gt; database I use to store&amp;nbsp;MACs.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jantman/misc-scripts/blob/master/ubiquiti-mac-acl/README.txt"&gt;&lt;span class="caps"&gt;README&lt;/span&gt;.txt&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;Readme file including some warnings on the lack of error checking
in the&amp;nbsp;functions.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Hopefully this will be of some use to someone. I should probably mention
two important things here. First, the &lt;span class="caps"&gt;AP&lt;/span&gt; only accepts up to 32 &lt;span class="caps"&gt;MAC&lt;/span&gt;
addresses, so if you feed the &lt;code&gt;makeNewConfigFile()&lt;/code&gt; function an array
with more than 32, it will just stop at the 32&lt;sup&gt;nd&lt;/sup&gt;. Also, be aware, this
SCPs a config file to the &lt;span class="caps"&gt;AP&lt;/span&gt;, runs &lt;code&gt;cfgmtd&lt;/code&gt; and the reboots the &lt;span class="caps"&gt;AP&lt;/span&gt;. If
you send it a bad config file, who knows what will happen. If you allow
your users to add &lt;span class="caps"&gt;MAC&lt;/span&gt; addresses, your APs will reboot every time someone
adds&amp;nbsp;one.&lt;/p&gt;
&lt;p&gt;All I ask is that if you use this, leave a comment to thank me, and if
you make any changes/additions/bugfixes, please send them back to&amp;nbsp;me.&lt;/p&gt;
&lt;p&gt;Also, I have some &lt;a href="/2010/03/nagios-check-scripts/"&gt;Nagios check scripts&lt;/a&gt;
that are useful for Ubiquiti&amp;nbsp;APs.&lt;/p&gt;</content><category term="airos"></category><category term="mac"></category><category term="PHP"></category><category term="security"></category><category term="ubiquiti"></category><category term="wap"></category><category term="wireless"></category></entry><entry><title>Massive Updates</title><link href="http://blog.jasonantman.com/2008/07/massive-updates/" rel="alternate"></link><published>2008-07-17T12:28:00-04:00</published><updated>2008-07-17T12:28:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-07-17:/2008/07/massive-updates/</id><summary type="html">&lt;p&gt;I know I&amp;#8217;ve been quite for a while. I&amp;#8217;ve been quite busy. Unfortunately,
due to changing priorities, there are a lot of projects I&amp;#8217;ve been
working on, but few of them have gotten finished. A sampling, in no
specific&amp;nbsp;order:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Migrating my network/service monitoring to Nagios …&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;I know I&amp;#8217;ve been quite for a while. I&amp;#8217;ve been quite busy. Unfortunately,
due to changing priorities, there are a lot of projects I&amp;#8217;ve been
working on, but few of them have gotten finished. A sampling, in no
specific&amp;nbsp;order:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Migrating my network/service monitoring to Nagios 3, &lt;em&gt;totally&lt;/em&gt;
    re-writing my config files to make use of the new features, and
    making one coherent list of all the services that should be in it
    and&amp;nbsp;aren&amp;#8217;t.&lt;/li&gt;
&lt;li&gt;Planning to totally re-wire all networking at the &lt;a href="http://www.midlandparkambulance.com"&gt;ambulance corps
    building&lt;/a&gt; to eliminate some
    problems. This includes &lt;em&gt;building&lt;/em&gt; an 8U wall-mount rack, and also
    trying a &lt;a href="http://www.pcengines.ch/alix2c1.htm"&gt;&lt;span class="caps"&gt;PC&lt;/span&gt; Engines &lt;span class="caps"&gt;ALIX&lt;/span&gt;.2c1&lt;/a&gt;
    board as a router (still undecided on &lt;span class="caps"&gt;WAN&lt;/span&gt;/&lt;span class="caps"&gt;LAN&lt;/span&gt;/&lt;span class="caps"&gt;DMZ&lt;/span&gt; or &lt;span class="caps"&gt;WAN&lt;/span&gt;/&lt;span class="caps"&gt;LAN&lt;/span&gt;/&lt;span class="caps"&gt;WLAN&lt;/span&gt;).
    It also means a long day of work at some point in the future, and
    lots of cable&amp;nbsp;drops.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://tuxostat.jasonantman.com"&gt;tuxOstat&lt;/a&gt;, the linux-controlled
    thermostat, is pretty much on the back burner. It&amp;#8217;s a stable beta
    with severely reduced functionality, but has been handling my
    cooling needs without any major bugs in the past month or so. It
    still only has a basic &lt;span class="caps"&gt;CLI&lt;/span&gt; interface and a very simple kludge of a
    web &lt;span class="caps"&gt;GUI&lt;/span&gt;, but it works. Other modes (heating, fan only), predictive
    temperature calculation, other temperature/zone calculation modes,
    and physical controls (buttons, menu on &lt;span class="caps"&gt;LCD&lt;/span&gt;) are still to come, as
    well as the move from &lt;span class="caps"&gt;PC&lt;/span&gt; to Soekris (if I can ever figure it out,
    and get one with &lt;span class="caps"&gt;USB&lt;/span&gt;). I now feel that an &lt;span class="caps"&gt;ALIX&lt;/span&gt; board might be a
    better shot, as they take &lt;span class="caps"&gt;CF&lt;/span&gt; (more space than the Soekris), have a
    slightly faster processor, and also support &lt;span class="caps"&gt;USB&lt;/span&gt; at about half the
    price&amp;nbsp;point.&lt;/li&gt;
&lt;li&gt;I&amp;#8217;m considering moving my main web site to a &lt;span class="caps"&gt;CMS&lt;/span&gt;, and letting the
    &lt;a href="http://www.jasonantman.com/wiki/"&gt;wiki&lt;/a&gt; serve more as a knowledge&amp;nbsp;base.&lt;/li&gt;
&lt;li&gt;I&amp;#8217;m working on patching together a new access point for the
    ambulance corps, based on &lt;a href="http://pyramid.metrix.net/"&gt;Pyramid
    Linux&lt;/a&gt;. I needed something which would
    run on the Soekris net4526, had at least &lt;span class="caps"&gt;WEP&lt;/span&gt;, and supported some
    sort of captive portal. Pyramid has
    &lt;a href="http://dev.wifidog.org/"&gt;WifiDog&lt;/a&gt;, but that only wants to do local
    authentication or &lt;span class="caps"&gt;RADIUS&lt;/span&gt;, and I wanted direct auth to &lt;span class="caps"&gt;LDAP&lt;/span&gt; and MySQL
    logging. On the positive side, it just uses some &lt;span class="caps"&gt;PHP&lt;/span&gt; pages hosted
    under Apache to handle authentication - the &lt;span class="caps"&gt;WAP&lt;/span&gt; redirects the user
    to a login page on a (separate) web server, the user does their
    stuff, and then the &lt;span class="caps"&gt;WAP&lt;/span&gt; makes a request to the server to determine
    whether it should open up the firewall, keep the user locked down,
    or totally kick them. So, once I figure out some routing issues,
    I&amp;#8217;ll get back to working on the new project -
    &lt;a href="http://blacklabauth.jasonantman.com/"&gt;BlackLabAuth&lt;/a&gt;, a re-write of
    the WifiDog auth server software that&amp;#8217;s geared towards a
    closed-access network (i.e. only people and/or MACs already listed
    in &lt;span class="caps"&gt;LDAP&lt;/span&gt; can login) with full logging to MySQL. I already have some
    code &lt;a href="http://cvs.jasonantman.com/BlackLabAuth"&gt;in &lt;span class="caps"&gt;CVS&lt;/span&gt;&lt;/a&gt;, but some
    issues with my development Soekris board have slowed the project for
    the time being. When finished, I&amp;#8217;ll have not only the new auth
    server available for download (with documentation) but also a
    ready-to-run (well, some configuration time needed, but minor and
    scripted) image for the&amp;nbsp;net4526.&lt;/li&gt;
&lt;li&gt;My desktop that I use for &lt;a href="http://www.mythtv.org/"&gt;MythTV&lt;/a&gt; filled up
    its&amp;#8217; disk. Totally. I ordered a cheap Syba &lt;span class="caps"&gt;SATA&lt;/span&gt; card (&lt;span class="caps"&gt;PCI&lt;/span&gt;) from
    NewEgg, along with a &lt;span class="caps"&gt;500GB&lt;/span&gt; &lt;span class="caps"&gt;WD&lt;/span&gt; &lt;span class="caps"&gt;SATA&lt;/span&gt;-150 disk, but no luck. Though the
    card (Syba / Initio 1622 chipset, shows up as Class 0106: 1101:1622
    (rev 02)) said it was supported under Linux, the driver &lt;span class="caps"&gt;CD&lt;/span&gt; mentioned
    nothing about it. Some investigation on the Syba website turned up a
    zipped archive. After extraction, I found a readme that gave (poor)
    instructions on how to re-compile a kernel, and warned that you &lt;span class="caps"&gt;MUST&lt;/span&gt;
    have 2.6.15. Oh well, I wasn&amp;#8217;t going to give up 2.6.16.27 (the
    newest &lt;span class="caps"&gt;RPM&lt;/span&gt;&amp;#8217;d kernel for OpenSuSE 10.1). The standard drivers for it
    didn&amp;#8217;t appear until 2.6.25 or so. So&amp;#8230; after many debates with
    myself as to whether I should blow away my whole MythTV installation
    and upgrade from the now-ancient 10.1, I decided that I&amp;#8217;ll only be
    in my apartment for another year, I should make it last. Some
    investigation turned up a $24 Silicon Image-based card that should
    work fine, and it&amp;#8217;s now in the&amp;nbsp;mail&amp;#8230;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I&amp;#8217;m sure I missed something big, but I&amp;#8217;ll update as needed, and attempt
to make it a daily habit to post something interesting or, at the very
least, hard-to-find. After all, I&amp;#8217;m sure that I use this blog and my
wiki as an informational resource (my bad memory) more than anyone else&amp;nbsp;would&amp;#8230;&lt;/p&gt;</content><category term="access point"></category><category term="alix"></category><category term="BlackLabAuth"></category><category term="mythtv"></category><category term="Nagios"></category><category term="pc engines"></category><category term="soekris"></category><category term="tuxostat"></category><category term="WifiDog"></category><category term="wireless"></category></entry><entry><title>Madwifi on the eeePC</title><link href="http://blog.jasonantman.com/2008/05/madwifi-on-the-eeepc/" rel="alternate"></link><published>2008-05-04T22:32:00-04:00</published><updated>2008-05-04T22:32:00-04:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2008-05-04:/2008/05/madwifi-on-the-eeepc/</id><summary type="html">&lt;p&gt;So, I&amp;#8217;ve started a new &lt;a href="http://www.opensuse.org"&gt;OpenSuSE&lt;/a&gt; install on my
eeePC. The &lt;span class="caps"&gt;4GB&lt;/span&gt; &lt;span class="caps"&gt;SDHC&lt;/span&gt; card that I originally used was getting a bit
cramped - I couldn&amp;#8217;t even fit the kernel source! So, I bought a new &lt;span class="caps"&gt;8GB&lt;/span&gt;
&lt;span class="caps"&gt;SDHC&lt;/span&gt; card and started from scratch. I know that OpenSuSE 11 is …&lt;/p&gt;</summary><content type="html">&lt;p&gt;So, I&amp;#8217;ve started a new &lt;a href="http://www.opensuse.org"&gt;OpenSuSE&lt;/a&gt; install on my
eeePC. The &lt;span class="caps"&gt;4GB&lt;/span&gt; &lt;span class="caps"&gt;SDHC&lt;/span&gt; card that I originally used was getting a bit
cramped - I couldn&amp;#8217;t even fit the kernel source! So, I bought a new &lt;span class="caps"&gt;8GB&lt;/span&gt;
&lt;span class="caps"&gt;SDHC&lt;/span&gt; card and started from scratch. I know that OpenSuSE 11 is coming up
soon, but I just couldn&amp;#8217;t wait, so I just used OpenSuSE 10.3&amp;nbsp;again.&lt;/p&gt;
&lt;p&gt;I followed my &lt;a href="http://www.jasonantman.com/wiki/index.php/OpenSuSE_10.3_on_eeePC_External_SDHC"&gt;previous
how-to&lt;/a&gt;,
and also am updating it with some new information - such as my
xorg.conf. Most interestingly, though, I actually got MadWiFi to work
with the &lt;a href="http://madwifi.org/wiki/Compatibility/Atheros#AtherosAR5BXB63"&gt;Atheros
&lt;span class="caps"&gt;AR5BXB63&lt;/span&gt;&lt;/a&gt;
on the eeePC! I haven&amp;#8217;t tested everything yet (specifically &lt;span class="caps"&gt;WPA&lt;/span&gt;/&lt;span class="caps"&gt;WPA2&lt;/span&gt;)
but it seems to work fine. I&amp;#8217;ve updated &lt;a href="http://www.jasonantman.com/wiki/index.php/OpenSuSE_10.3_on_eeePC_External_SDHC#Update_2008-05-02"&gt;my
HowTo&lt;/a&gt;
with the instructions, but mainly it hinges on using
madwifi-ng-r2756+ar5007 (&lt;a href="http://snapshots.madwifi.org/special/madwifi-ng-r2756+ar5007.tar.gz"&gt;gzipped
tarball&lt;/a&gt;)
and compiling from&amp;nbsp;source.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; This HowTo is based on the original eeePC 701 4G and OpenSuSE
10.3. It may not be needed for newer versions of OpenSuSE or newer
versions of the&amp;nbsp;eeePC.&lt;/p&gt;</content><category term="atheros"></category><category term="eeepc"></category><category term="madwifi"></category><category term="wifi"></category><category term="wireless"></category></entry></feed>