<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Jason Antman's Blog - performance</title><link href="https://blog.jasonantman.com/" rel="alternate"></link><link href="https://blog.jasonantman.com/feeds/tags/performance.atom.xml" rel="self"></link><id>https://blog.jasonantman.com/</id><updated>2010-02-28T23:19:00-05:00</updated><entry><title>New web server, WP optimization</title><link href="https://blog.jasonantman.com/2010/02/new-web-server-wp-optimization/" rel="alternate"></link><published>2010-02-28T23:19:00-05:00</published><updated>2010-02-28T23:19:00-05:00</updated><author><name>admin</name></author><id>tag:blog.jasonantman.com,2010-02-28:/2010/02/new-web-server-wp-optimization/</id><summary type="html">&lt;p&gt;Tonight, more or less on a whim, I moved my blog from my older (dual
1GHz Pentium &lt;span class="caps"&gt;III&lt;/span&gt; Coppermine, &lt;span class="caps"&gt;1GB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt;, 10k &lt;span class="caps"&gt;RPM&lt;/span&gt; &lt;span class="caps"&gt;SCSI&lt;/span&gt; disks, Compaq
Proliant &lt;span class="caps"&gt;DL360&lt;/span&gt; G1, OpenSuSE 10.2 32-bit) web server to my newer one
(dual 1.4GHz Pentium &lt;span class="caps"&gt;III&lt;/span&gt;, &lt;span class="caps"&gt;2GB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt;, 10k &lt;span class="caps"&gt;RPM&lt;/span&gt; &lt;span class="caps"&gt;SCSI&lt;/span&gt; disks …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Tonight, more or less on a whim, I moved my blog from my older (dual
1GHz Pentium &lt;span class="caps"&gt;III&lt;/span&gt; Coppermine, &lt;span class="caps"&gt;1GB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt;, 10k &lt;span class="caps"&gt;RPM&lt;/span&gt; &lt;span class="caps"&gt;SCSI&lt;/span&gt; disks, Compaq
Proliant &lt;span class="caps"&gt;DL360&lt;/span&gt; G1, OpenSuSE 10.2 32-bit) web server to my newer one
(dual 1.4GHz Pentium &lt;span class="caps"&gt;III&lt;/span&gt;, &lt;span class="caps"&gt;2GB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt;, 10k &lt;span class="caps"&gt;RPM&lt;/span&gt; &lt;span class="caps"&gt;SCSI&lt;/span&gt; disks, &lt;span class="caps"&gt;HP&lt;/span&gt; Proliant &lt;span class="caps"&gt;DL360&lt;/span&gt;
G2, CentOS 5.3 32-bit). I did some profiling with
&lt;a href="http://httpd.apache.org/docs/2.0/programs/ab.html"&gt;ab&lt;/a&gt; (ApacheBench),
and just moving from one server to the other got some serious
performance gains (I was profiling with runs of 1000 requests total, 10
concurrent requests). I also added the &lt;a href="http://wordpress.org/extend/plugins/w3-total-cache/"&gt;W3 Total
Cache&lt;/a&gt; Wordpress
plugin, which got the numbers to look even&amp;nbsp;better!&lt;/p&gt;
&lt;p&gt;As a side note, this was all done pretty quickly (moving the database
and tarball for the vhost, installing the plugin, changing &lt;span class="caps"&gt;DNS&lt;/span&gt;), so
please give me a heads-up if you experience any&amp;nbsp;problems.&lt;/p&gt;
&lt;p&gt;The numbers are rather&amp;nbsp;impressive:&lt;/p&gt;
&lt;table border="1"&gt;
&lt;tr&gt;
&lt;td&gt;
&lt;/td&gt;
&lt;th&gt;
Total Time(s)

&lt;/th&gt;
&lt;th&gt;
&lt;span class="caps"&gt;RPS&lt;/span&gt;

&lt;/th&gt;
&lt;th&gt;
Avg. Connection Time (ms)

&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;
Old Server

&lt;/th&gt;
&lt;td&gt;
1192.252

&lt;/td&gt;
&lt;td&gt;
838.75

&lt;/td&gt;
&lt;td&gt;
11,893

&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;
New Server

&lt;/th&gt;
&lt;td&gt;
569.121

&lt;/td&gt;
&lt;td&gt;
1757.09

&lt;/td&gt;
&lt;td&gt;
5,667

&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;
Default W3tc Config

&lt;/th&gt;
&lt;td&gt;
23.754

&lt;/td&gt;
&lt;td&gt;
42,098.44

&lt;/td&gt;
&lt;td&gt;
237

&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;
Tuned W3tc

&lt;/th&gt;
&lt;td&gt;
12.281

&lt;/td&gt;
&lt;td&gt;
81,428.76

&lt;/td&gt;
&lt;td&gt;
122

&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;

&lt;p&gt;All tests were performed on my workstation, a Dell Precision 470, two
dual-core Xeons at 2.8 GHz, &lt;span class="caps"&gt;2GB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt;, &lt;span class="caps"&gt;16GB&lt;/span&gt; swap, OpenSuSE 11.1 64-bit.
This was on the same &lt;span class="caps"&gt;LAN&lt;/span&gt; and subnet as the servers, with the workstation
connected via a 1Gbps copper Ethernet link and the web-serving
interfaces of the servers connected via 100Mbps (There&amp;#8217;s a trunk in
between, from the gigabit aggregation switch to the 100Mbps distribution&amp;nbsp;switch).&lt;/p&gt;</content><category term="apache"></category><category term="optimization"></category><category term="performance"></category><category term="wordpress"></category></entry></feed>