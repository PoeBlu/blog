<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml">
<head>
    <title>Website, Blog, Bacula</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Open Graph tags -->

            <meta property="og:type" content="article"/>
            <meta property="og:title" content="Website, Blog, Bacula"/>
            <meta property="og:url" content="/2007/10/website-blog-bacula/"/>
            <meta property="og:description" content="Website - In personal news, I’ve finished migrating all of the information content of JasonAntman.com to a wiki, based on MediaWiki. I’m still getting some kinks ironed out, and working on customization, but it seems to be coming along very well. It’s wonderfully easy to update information ..."/>

    <!-- Bootstrap -->
        <link rel="stylesheet" href="/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="/theme/css/font-awesome.min.css" rel="stylesheet">
    <link href="/theme/css/pygments.css" rel="stylesheet">
        <link href="/theme/css/typogrify.css" rel="stylesheet">
    <link rel="stylesheet" href="/theme/css/style.css" type="text/css"/>
    <!-- JavaScript plugins (requires jQuery) -->
    <script src="http://code.jquery.com/jquery.js"></script>

        <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Jason Antman's Blog ATOM Feed"/>

</head>
<body>
<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="" class="navbar-brand">Jason Antman's Blog</a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="/pages/about.html">
                             About
                          </a></li>
                        <li >
                            <a href="/category/ideas-and-rants.html">Ideas and rants</a>
                        </li>
                        <li >
                            <a href="/category/miscellaneous.html">Miscellaneous</a>
                        </li>
                        <li >
                            <a href="/category/monitoring.html">Monitoring</a>
                        </li>
                        <li class="active">
                            <a href="/category/projects.html">Projects</a>
                        </li>
                        <li >
                            <a href="/category/puppet.html">Puppet</a>
                        </li>
                        <li >
                            <a href="/category/sysadmin.html">Sysadmin</a>
                        </li>
                        <li >
                            <a href="/category/tech-howtos.html">Tech howtos</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="/archives.html"><i class="icon-th-list"></i>Archives</a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</nav>
<!-- /.navbar -->
<div class="container">
    <div class="row">
        <div class="col-lg-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="/2007/10/website-blog-bacula/"
                       rel="bookmark"
                       title="Permalink to Website, Blog, Bacula">
                        Website, Blog,&nbsp;Bacula
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="icon-calendar"></i>Wed 10 October 2007
    </span>



<span class="label label-default">Tags</span>
	<a href="/tag/bacula.html">bacula</a>
        /
	<a href="/tag/blog.html">blog</a>
        /
	<a href="/tag/jasonantman.html">jasonantman</a>
        /
	<a href="/tag/mediawiki.html">mediawiki</a>
        /
	<a href="/tag/wiki.html">wiki</a>
</footer><!-- /.post-info -->                    </div>
                </div>
                <p><strong>Website</strong> - In personal news, I&#8217;ve finished migrating all of the
information content of <a href="http://www.jasonantman.com">JasonAntman.com</a> to a wiki, based on
<a href="http://www.mediawiki.org">MediaWiki</a>. I&#8217;m still getting some kinks ironed out, and working on
customization, but it seems to be coming along very well. It&#8217;s
wonderfully easy to update information and to link between articles.
Most of the content is more like notes than articles, but I&#8217;m trying to
put most of my SysAdmin and programming notes up there, both for my own
future reference and that of anyone who happens by the site. As always,
though, some content will just live its&#8217; life as a blog entry, so I
encourage searching of my blog as well. This is my fourth instance of
MeidaWiki, and while I haven&#8217;t set them up to play together, they all
run wonderfully - and share a lot of common configuration (though I have
separate instances of the code). Hopefully I&#8217;ll do a bunch of
reorganization of the wiki sometime, and keep adding new content. Some
of the newer pages include pages on <a href="http://www.jasonantman.com/wiki/index.php/DenyHosts">DenyHosts</a> and <a href="http://www.jasonantman.com/wiki/index.php/Hpasm"><span class="caps">HPASM</span></a> (from my
blog&nbsp;post).</p>
<p><strong>Blog</strong> - I know the template is awful. It&#8217;s on my list of things to
do, and should be at the top of the queue in approximately&nbsp;2056.</p>
<p><strong>Bacula</strong> - Up to now, my backups have been a total kludge. The mere
explanation of this elicits a feeling of nausea. A shell script on my
backup storage server executes via cron. Each of the four important
servers on my network (mail, web, monitoring, and development) have
shell scripts that handle local backups - tar&#8217;ing up a list of
directories, MySQL dumps, etc. - then tar gzip the whole thing and plop
it in a local directory. The backup server executes these scripts and
then copies the temporary files to its own disk via <span class="caps">SCP</span>. All of this is
handled through an <a href="http://expect.nist.gov/">expect</a> script, that runs each server
consecutively. By morning, I end up with a 6+ hour job that&#8217;s finished,
and dumped gigs of files on the backup server. Before finishing each
machine, it deletes any backups on the backup server that are older than
10 days. After copying everything, it deletes the client&#8217;s local copy.
The bottom line is that if a machine goes down, I can re-install the <span class="caps">OS</span>
and all packages, and then have the backups of just /etc and user data.
Not beautiful. Even worse, my backup storage server doesn&#8217;t have a tape
drive. When I get around to it, I run a script on my development/storage
box that copies the latest backups from each machine, located on the
backup server, to a tempdir and then writes them to tape. To top it all
off, I have only one network, so all of these gigs of data are crawling
across my ancient 10/100 switch, along with all other connectivity to
the outside&nbsp;world.</p>
<p>Unfortunately, it doesn&#8217;t look like I&#8217;ll have the money to upgrade to
Gig-E any time soon, even just for the 5 machines involved. More to the
point, there&#8217;s no way that I&#8217;ll have the money to buy a manageable Gig-E
switch that can come anywhere close to my <a href="http://www.jasonantman.com/wiki/index.php/BayStack_450-24T">BayStack 450-24T</a>. So, it&#8217;s
time to invest&#8230; well&#8230; time&#8230; in a good backup infrastructure. After
doing a lot of research, I came to two&nbsp;findings:</p>
<ol>
<li>The two main options seem to be <a href="http://www.amanda.org/"><span class="caps">AMANDA</span></a> and <a href="http://www.bacula.org/">Bacula</a>.</li>
<li>I don&#8217;t like how <span class="caps">AMANDA</span>&nbsp;works.</li>
</ol>
<p>So, I&#8217;m going to give Bacula a shot. I did consult the <a href="http://www.sage.org/"><span class="caps">SAGE</span></a> mailing
list for advice, and got some recommendations for <a href="http://backuppc.sourceforge.net/">BackupPC</a>, but
Bacula seems to be more my type of thing. Well, I did an install, and
spent about 8 hours hacking around with the config files. No luck.
Bacula is designed to be highly modular and scalable, but to be honest,
I find the config files to be *very* complicated. Furthermore, I
wasn&#8217;t able to find any good example configurations with documentation.
After brainstorming for a while (laying in bed watching Law <span class="amp">&amp;</span> Order and
reading the Bacula docs on dead trees) I decided to give in - despite my
continued efforts to stop using it, I checked <a href="http://www.webmin.com">Webmin</a> and, surely
enough, they have a Bacula module. After starting with fresh config
files, I was able to get Bacula up and running on my development/storage
server (a fresh install of openSuSE 10.1) as the director. I got a file
daemon installed on the web server. Everything looked&nbsp;wonderful.</p>
<p>The current status: My backup storage server does only that - storage of
backups. Nothing else. It&#8217;s still running SuSE 9.3. The Bacula RPMs for
9.3 are from the 1.x tree, and all of my other machines are running
openSuSE 10.x, with Bacula 2.x. I gave it a shot but, sure enough, a
Bacula 2.x director won&#8217;t jive with a 1.x storage daemon. And I&#8217;m in
dependency hell - Bacula 2.x requires upgrades of everything from the C
libs all the way up. So, I&#8217;m going to give a shot at an upgrade of the
storage machine via YaST, and see where I&nbsp;get.</p>
            </div>
            <!-- /.entry-content -->
        </article>
    </section>

        </div>
        <div class="col-lg-3 well well-sm" id="sidebar">

<aside>
    <section>
        <ul class="list-group list-group-flush">
                <li class="list-group-item"><h4><i class="icon-home icon-large"></i>Social</h4></li>
                    <li class="list-group-item"><a href="#"><i
                            class="icon-You can add links in your config file-sign icon-large"></i>You can add links in your config file
                    </a></li>
                    <li class="list-group-item"><a href="#"><i
                            class="icon-Another social link-sign icon-large"></i>Another social link
                    </a></li>



                <li class="list-group-item"><a href="/tags.html"><h4><i class="icon-tags icon-large"></i>Tags</h4></a></li>
                        <li class="list-group-item tag-1">
                            <a href="/tag/android.html">
                                android
                            </a>
                        </li>
                        <li class="list-group-item tag-1">
                            <a href="/tag/google.html">
                                google
                            </a>
                        </li>
                        <li class="list-group-item tag-1">
                            <a href="/tag/nagios.html">
                                Nagios
                            </a>
                        </li>
                        <li class="list-group-item tag-1">
                            <a href="/tag/php.html">
                                PHP
                            </a>
                        </li>
                        <li class="list-group-item tag-1">
                            <a href="/tag/sysadmin.html">
                                sysadmin
                            </a>
                        </li>
                        <li class="list-group-item tag-1">
                            <a href="/tag/linux.html">
                                linux
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/perl.html">
                                perl
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/logging.html">
                                logging
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/puppet.html">
                                puppet
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/bind.html">
                                bind
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/monitoring.html">
                                monitoring
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/dns.html">
                                dns
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/droid.html">
                                droid
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/firefox.html">
                                firefox
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/mediawiki.html">
                                mediawiki
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/mac.html">
                                mac
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/microsoft.html">
                                microsoft
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/syslog.html">
                                syslog
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/wordpress.html">
                                wordpress
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/rpm.html">
                                rpm
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/security.html">
                                security
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/blog.html">
                                blog
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/sun.html">
                                sun
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/ems.html">
                                EMS
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/apache.html">
                                apache
                            </a>
                        </li>
        </ul>
    </section>
</aside>        </div>
    </div>
</div>
<footer>
    <div class="container">
        <hr>
        <p class="pull-right"><i class="icon-arrow-up"></i> <a href="#">Back to top</a></p>


        <p>&copy; 2014 Jason Antman &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a></p>
    </div>
</footer>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="/theme/js/respond.min.js"></script>


</body>
</html>