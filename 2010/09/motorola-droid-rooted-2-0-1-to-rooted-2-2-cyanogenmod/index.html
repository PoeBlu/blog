<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml">
<head>
    <title>Motorola Droid: Rooted 2.0.1 to Rooted 2.2 (CyanogenMod)</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Open Graph tags -->

            <meta property="og:type" content="article"/>
            <meta property="og:title" content="Motorola Droid: Rooted 2.0.1 to Rooted 2.2 (CyanogenMod)"/>
            <meta property="og:url" content="/2010/09/motorola-droid-rooted-2-0-1-to-rooted-2-2-cyanogenmod/"/>
            <meta property="og:description" content="As of this morning, my Motorola Droid was still running rooted 2.0.1 (build ESD56, baseband C_01.3E.01P) with SPRecovery 0.99.2b. Well yesterday I for the random deletion of all SMS bug again, and I decided it’s time to upgrade. I never upgraded to 2 ..."/>

    <!-- Bootstrap -->
        <link rel="stylesheet" href="/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="/theme/css/font-awesome.min.css" rel="stylesheet">
    <link href="/theme/css/pygments.css" rel="stylesheet">
        <link href="/theme/css/typogrify.css" rel="stylesheet">
    <link rel="stylesheet" href="/theme/css/style.css" type="text/css"/>
    <!-- JavaScript plugins (requires jQuery) -->
    <script src="http://code.jquery.com/jquery.js"></script>

        <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Jason Antman's Blog ATOM Feed"/>

</head>
<body>
<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="" class="navbar-brand">Jason Antman's Blog</a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="/pages/about.html">
                             About
                          </a></li>
                        <li >
                            <a href="/category/ideas-and-rants.html">Ideas and rants</a>
                        </li>
                        <li class="active">
                            <a href="/category/miscellaneous.html">Miscellaneous</a>
                        </li>
                        <li >
                            <a href="/category/monitoring.html">Monitoring</a>
                        </li>
                        <li >
                            <a href="/category/projects.html">Projects</a>
                        </li>
                        <li >
                            <a href="/category/puppet.html">Puppet</a>
                        </li>
                        <li >
                            <a href="/category/sysadmin.html">Sysadmin</a>
                        </li>
                        <li >
                            <a href="/category/tech-howtos.html">Tech howtos</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="/archives.html"><i class="icon-th-list"></i>Archives</a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</nav>
<!-- /.navbar -->
<div class="container">
    <div class="row">
        <div class="col-lg-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="/2010/09/motorola-droid-rooted-2-0-1-to-rooted-2-2-cyanogenmod/"
                       rel="bookmark"
                       title="Permalink to Motorola Droid: Rooted 2.0.1 to Rooted 2.2 (CyanogenMod)">
                        Motorola Droid: Rooted 2.0.1 to Rooted 2.2&nbsp;(CyanogenMod)
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="icon-calendar"></i>Sat 04 September 2010
    </span>



<span class="label label-default">Tags</span>
	<a href="/tag/android.html">android</a>
        /
	<a href="/tag/cyanogen.html">cyanogen</a>
        /
	<a href="/tag/cyanogenmod.html">cyanogenmod</a>
        /
	<a href="/tag/droid.html">droid</a>
        /
	<a href="/tag/root.html">root</a>
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>As of this morning, my Motorola Droid was still running rooted 2.0.1
(build <span class="caps">ESD56</span>, baseband C_01.3E.01P) with SPRecovery 0.99.2b. Well
yesterday I for the random deletion of all <span class="caps">SMS</span> bug again, and I decided
it&#8217;s time to upgrade. I never upgraded to 2.1 - mainly out of laziness.
When it first came out, nobody had a patched update.zip yet to preserve
root. When I looked back into the situation a few weeks ago (when
Froyo/2.2 came out), I found that pretty much the whole community had
moved from patched update.zip&#8217;s to full <span class="caps">ROM</span> images. I didn&#8217;t want to
lose my apps, data, settings, etc. and couldn&#8217;t find any instructions
that didn&#8217;t include a wipe/reset, so I decided to keep putting it&nbsp;off.</p>
<p>Well, after yesterday&#8217;s bug (and after I played with the Camera app on
an Incredible and saw how much nicer it is), I decided it was time to
bite the bullet and move to <a href="http://www.cyanogenmod.com/">CyanogenMod</a> <span class="caps">ROMS</span>. I performed the
upgrade this morning, and it seems to have worked <span class="caps">OK</span>, though I haven&#8217;t
been using the phone very much since it&nbsp;finished.</p>
<p><strong>Rooted 2.0.1 to CyanogenMod 2.2&nbsp;procedure:</strong></p>
<p>I&#8217;m starting with a Motorola Droid, 2.0.1 (build <span class="caps">ESD56</span>), rooted,
baseband C_01.3E.01P, with SPRecovery&nbsp;0.99.2b</p>
<ol>
<li>Perform full Nandroid backup through&nbsp;SPRecovery.</li>
<li>Run <a href="market://search?q=com.riteshsahu.CallLogBackupRestore">Call Logs Backup <span class="amp">&amp;</span> Restore</a> (v1.8) to backup call&nbsp;log.</li>
<li>Run <a href="market://search?q=com.riteshsahu.SMSBackupRestore"><span class="caps">SMS</span> Backup <span class="amp">&amp;</span> Restore</a> (v3.4) to backup <span class="caps">SMS</span>&nbsp;data.</li>
<li>Run <a href="market://search?q=com.boots.MyAppsList">MyAppsList</a> to make a list of all installed apps as <span class="caps">HTML</span>,
    including market links. Save to <span class="caps">SD</span>&nbsp;card.</li>
<li>Run <a href="market://search?q=com.happydroid.bookmarks">Bookmark Sort <span class="amp">&amp;</span> Backup Free</a> to backup bookmarks to <span class="caps">SD</span>&nbsp;card.</li>
<li>Run <a href="market://search?q=com.metago.astro"><span class="caps">ASTRO</span></a> file manager and backup <span class="caps">ALL</span> apps to <span class="caps">SD</span>&nbsp;card.</li>
<li>Mount the <span class="caps">SD</span> card on another computer and copy all the backups you
    just made to somewhere&nbsp;safe.</li>
</ol>
<p>For the rest of the procedure, I more or less followed the <a href="http://wiki.cyanogenmod.com/index.php?title=Full_Update_Guide_-_Motorola_Droid">CyanogenMod
Droid Full Update</a>&nbsp;guide.</p>
<ol>
<li>Buy <span class="amp">&amp;</span> install <a href="market://search?q=com.koushikdutta.rommanager"><span class="caps">ROM</span> Manager</a>&nbsp;Premium.</li>
<li>Flash ClockworkMod&nbsp;Recovery.</li>
<li>Use <span class="caps">ROM</span> Manager to backup current <span class="caps">ROM</span> to <span class="caps">SD</span> card, copy the backup
    somewhere safe on another&nbsp;computer.</li>
<li><span class="caps">ROM</span> Manager - download CyanogenMod 6.0.0 for Droid with AWDLauncher
    and Google&nbsp;Apps.</li>
<li>Check off &#8220;wipe data and cache&#8221;, click&nbsp;<span class="caps">OK</span>.</li>
<li>Phone reboots into recovery, flashes new image, and boots to
    CyanogenMod Froyo (2.2, build <span class="caps">FRG22D</span>), still has baseband&nbsp;C_01.3E.01P.</li>
<li>Enter your Google account information to begin sync. Your Google
    data (calendar, contacts, etc.) should be synced as well as all of
    your Market apps. You will, however, lose all of your app&nbsp;settings.</li>
</ol>
<p><strong>Post-Upgrade:</strong></p>
<p>After the upgrade, there were a few things I had to do, and a few issues
that I wasn&#8217;t prepared for. Here&#8217;s a list of them, and the solutions I
found (if any) in no particular&nbsp;order&#8230;</p>
<ul>
<li>Restore bookmarks, call log, <span class="caps">SMS</span>&nbsp;backup.</li>
<li>All of my per-contact ringtones were gone. As far as I could find,
    there&#8217;s no known good way of backing up and restoring&nbsp;these.</li>
<li>I obviously lost the <span class="caps">HD</span>-quality video hack I&#8217;d applied to the Droid,
    as well as anything else I&#8217;d done in the boot settings&nbsp;file.</li>
<li>
<p>I apparently lost the following apps (not restored when the phone
    synced with&nbsp;Google):</p>
<ul>
<li><a href="market://search?q=com.ztech.packagetracking">Package&nbsp;Tracking</a></li>
<li><a href="market://search?q=com.googlecode.pythonforandroid">Python for&nbsp;Android</a></li>
<li><a href="market://search?q=com.googlecode.android_scripting"><span class="caps">SL4A</span></a></li>
<li><a href="market://search?q=com.mahoney.tetronimo">Tetronimo</a></li>
</ul>
</li>
<li>
<p>The following apps were added by CyanogenMod (or are new since&nbsp;2.0.1):</p>
<ul>
<li><a href="">Chrome to Phone</a> - <a href="http://code.google.com/p/chrometophone/">chrometophone</a> - send links from Chrome
    browser to your phone using some Google messaging&nbsp;service</li>
<li><a href="">Dev Tools</a>&nbsp;-</li>
<li><a href="">DPSManager</a>&nbsp;-</li>
<li><a href="">News and&nbsp;Weather</a></li>
<li><a href="">Places</a> - <a href="http://googleblog.blogspot.com/2010/04/introducing-google-places.html">Google&nbsp;Places</a></li>
<li><a href="">Spare Parts</a> - apparently allows access to
    some settings not available through the Settings&nbsp;menu</li>
<li><a href="">Speech&nbsp;Recorder</a></li>
<li><a href="">Superuser</a> - App to graphically manage root&nbsp;access</li>
<li><a href="">Talk</a> - <a href="http://www.google.com/talk/">Google&nbsp;Talk</a></li>
<li><a href="">Terminal Emulator</a> (somehow I have two&nbsp;installed&#8230;?)</li>
<li><a href="">Twitter</a></li>
<li><a href="">Videos</a></li>
<li><a href="">Voice</a> - <a href="http://www.google.com/mobile/voice/">Google Voice&nbsp;mobile</a></li>
</ul>
</li>
<li>
<p>These apps had data associated with them which was somewhat
    important (I wrote the script below to handle the&nbsp;move):</p>
<ul>
<li><a href="">Alarm Clock&nbsp;Plus</a></li>
<li><a href="">Barnacle WiFi&nbsp;Tether</a></li>
<li><a href="">ConnectBot</a></li>
<li><a href="">gReader</a></li>
<li><a href="">Jewles</a></li>
<li><a href="">Nagroid</a></li>
</ul>
</li>
<li>
<p>Had to re-set my notification sounds - Flutey Phone for incoming
    calls, Look at Me for messaging and Highwire for other&nbsp;notifications.</p>
</li>
<li>Much to my pleasure, my WiFi settings, saved networks, etc.
    magically came back. Haven&#8217;t checked bluetooth&nbsp;yet.</li>
<li>I had to change my voicemail number (Settings -> Call Settings ->
    Voicemail Settings) to automatically wait and enter my&nbsp;password.</li>
</ul>
<p></ol>
At the moment, this script is obviously setup to do one app at a time,
hard-coded in the <span class="caps">APP</span> variable. It also assumes that the app data
directory is stored at&nbsp;/sdcard/restore/$<span class="caps">APP</span>.</p>
<div class="codehilite"><pre><span class="c">#!/bin/bash</span>

<span class="nv"><span class="caps">APP</span></span><span class="o">=</span><span class="s2">&quot;com.vp.alarmClockPlusDock&quot;</span>

<span class="nv">BIN_PATH</span><span class="o">=</span><span class="s2">&quot;/system/xbin/&quot;</span>
<span class="nv">DATA_PATH</span><span class="o">=</span><span class="s2">&quot;/data/data/&quot;</span>
<span class="nv">BACKUP_PATH</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="nv">PERMS_PATH</span><span class="o">=</span><span class="s2">&quot;/data/system/packages.list&quot;</span>

<span class="nv"><span class="caps">OWNER</span></span><span class="o">=</span><span class="sb">`</span>grep -i <span class="s2">&quot;$<span class="caps">APP</span>&quot;</span> /data/system/packages.list | awk <span class="s1">&#39;{ print $2}&#39;</span><span class="sb">`</span>

<span class="nb">echo</span> <span class="s2">&quot;<span class="caps">OWNER</span>=$<span class="caps">OWNER</span>=&quot;</span>

/system/xbin/mv /data/data/<span class="s2">&quot;$<span class="caps">APP</span>&quot;</span> /data/data/z
/system/xbin/mv /sdcard/restore/<span class="s2">&quot;$<span class="caps">APP</span>&quot;</span> /data/data/<span class="s2">&quot;$<span class="caps">APP</span>&quot;</span>
/system/xbin/rm -Rf /data/data/z

/system/xbin/chown -R 10069:10069 /data/data/<span class="s2">&quot;$<span class="caps">APP</span>&quot;</span>

/system/xbin/chmod 751 /data/data/<span class="s2">&quot;$<span class="caps">APP</span>&quot;</span>

<span class="k">if</span> <span class="o">[</span> -e  /data/data/<span class="s2">&quot;$<span class="caps">APP</span>&quot;</span>/cache <span class="o">]</span>
<span class="k">then</span>
    /system/xbin/chmod -R 771 /data/data/<span class="s2">&quot;$<span class="caps">APP</span>&quot;</span>/cache
<span class="k">fi</span>

<span class="k">if</span> <span class="o">[</span> -e /data/data/<span class="s2">&quot;$<span class="caps">APP</span>&quot;</span>/databases <span class="o">]</span>
<span class="k">then</span>
    /system/xbin/chmod 771 /data/data/<span class="s2">&quot;$<span class="caps">APP</span>&quot;</span>/databases
    /system/xbin/chmod 660 /data/data/<span class="s2">&quot;$<span class="caps">APP</span>&quot;</span>/databases/*.db
<span class="k">fi</span>

<span class="k">if</span> <span class="o">[</span> -e /data/data/<span class="s2">&quot;$<span class="caps">APP</span>&quot;</span>/files <span class="o">]</span>
<span class="k">then</span>
    /system/xbin/chmod -R 771 /data/data/<span class="s2">&quot;$<span class="caps">APP</span>&quot;</span>/files
    /system/xbin/chmod 660 /data/data/<span class="s2">&quot;$<span class="caps">APP</span>&quot;</span>/files/*
<span class="k">fi</span>

<span class="k">if</span> <span class="o">[</span> -e /data/data/<span class="s2">&quot;$<span class="caps">APP</span>&quot;</span>/lib <span class="o">]</span>
<span class="k">then</span>
    /system/xbin/chown -R system:system /data/data/<span class="s2">&quot;$<span class="caps">APP</span>&quot;</span>/lib
    /system/xbin/chmod -R 755 /data/data/<span class="s2">&quot;$<span class="caps">APP</span>&quot;</span>/lib
<span class="k">fi</span>

<span class="k">if</span> <span class="o">[</span> -e  /data/data/<span class="s2">&quot;$<span class="caps">APP</span>&quot;</span>/shared_prefs <span class="o">]</span>
<span class="k">then</span>
    /system/xbin/chmod 771 /data/data/<span class="s2">&quot;$<span class="caps">APP</span>&quot;</span>/shared_prefs
    /system/xbin/chmod 660 /data/data/<span class="s2">&quot;$<span class="caps">APP</span>&quot;</span>/shared_prefs/*
<span class="k">fi</span>

<span class="nb">echo</span> <span class="s2">&quot;<span class="caps">DONE</span>.&quot;</span>
</pre></div>


<p>I&#8217;ll update this now and then as I have more to add to&nbsp;it&#8230;</p>
            </div>
            <!-- /.entry-content -->
        </article>
    </section>

        </div>
        <div class="col-lg-3 well well-sm" id="sidebar">

<aside>
    <section>
        <ul class="list-group list-group-flush">
                <li class="list-group-item"><h4><i class="icon-home icon-large"></i>Social</h4></li>
                    <li class="list-group-item"><a href="#"><i
                            class="icon-You can add links in your config file-sign icon-large"></i>You can add links in your config file
                    </a></li>
                    <li class="list-group-item"><a href="#"><i
                            class="icon-Another social link-sign icon-large"></i>Another social link
                    </a></li>



                <li class="list-group-item"><a href="/tags.html"><h4><i class="icon-tags icon-large"></i>Tags</h4></a></li>
                        <li class="list-group-item tag-1">
                            <a href="/tag/android.html">
                                android
                            </a>
                        </li>
                        <li class="list-group-item tag-1">
                            <a href="/tag/google.html">
                                google
                            </a>
                        </li>
                        <li class="list-group-item tag-1">
                            <a href="/tag/nagios.html">
                                Nagios
                            </a>
                        </li>
                        <li class="list-group-item tag-1">
                            <a href="/tag/php.html">
                                PHP
                            </a>
                        </li>
                        <li class="list-group-item tag-1">
                            <a href="/tag/sysadmin.html">
                                sysadmin
                            </a>
                        </li>
                        <li class="list-group-item tag-1">
                            <a href="/tag/linux.html">
                                linux
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/perl.html">
                                perl
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/logging.html">
                                logging
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/puppet.html">
                                puppet
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/bind.html">
                                bind
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/monitoring.html">
                                monitoring
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/dns.html">
                                dns
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/droid.html">
                                droid
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/firefox.html">
                                firefox
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/mediawiki.html">
                                mediawiki
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/mac.html">
                                mac
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/microsoft.html">
                                microsoft
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/syslog.html">
                                syslog
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/wordpress.html">
                                wordpress
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/rpm.html">
                                rpm
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/security.html">
                                security
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/blog.html">
                                blog
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/sun.html">
                                sun
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/ems.html">
                                EMS
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="/tag/apache.html">
                                apache
                            </a>
                        </li>
        </ul>
    </section>
</aside>        </div>
    </div>
</div>
<footer>
    <div class="container">
        <hr>
        <p class="pull-right"><i class="icon-arrow-up"></i> <a href="#">Back to top</a></p>


        <p>&copy; 2014 Jason Antman &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a></p>
    </div>
</footer>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="/theme/js/respond.min.js"></script>


</body>
</html>